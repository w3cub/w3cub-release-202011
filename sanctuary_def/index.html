
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Sanctuary Def Documentation - W3cubDocs</title>
  
  <meta name="description" content=" Sanctuary Def documentation ">
  <meta name="keywords" content="sanctuary-def, sanctuary, def, documentation, sanctuary_def">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/sanctuary_def/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/sanctuary_def.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/sanctuary_def/" class="_nav-link" title="" style="margin-left:0;">Sanctuary Def</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sanctuary_def">
				
				
<h1 tabindex="-1" id="user-content-sanctuary-def" dir="auto"><a class="heading-link" href="#sanctuary-def">sanctuary-def</a></h1> <p dir="auto">sanctuary-def is a run-time type system for JavaScript. It facilitates the definition of curried JavaScript functions that are explicit about the number of arguments to which they may be applied and the types of those arguments.</p> <p dir="auto">It is conventional to import the package as <code>$</code>:</p> <pre data-language="js">const $ = require ('sanctuary-def');</pre> <p dir="auto">The next step is to define an environment. An environment is an array of <a href="#types">types</a>. <a href="#env"><code>env</code></a> is an environment containing all the built-in JavaScript types. It may be used as the basis for environments that include custom types in addition to the built-in types:</p> <pre data-language="js">//    Integer :: Type
const Integer = '...';

//    NonZeroInteger :: Type
const NonZeroInteger = '...';

//    env :: Array Type
const env = $.env.concat ([Integer, NonZeroInteger]);</pre> <p dir="auto">Type constructors such as <code>List :: Type -&gt; Type</code> cannot be included in an environment as they're not of the correct type. One could, though, use a type constructor to define a fixed number of concrete types:</p> <pre data-language="js">//    env :: Array Type
const env = $.env.concat ([
  List ($.Number),                // :: Type
  List ($.String),                // :: Type
  List (List ($.Number)),         // :: Type
  List (List ($.String)),         // :: Type
  List (List (List ($.Number))),  // :: Type
  List (List (List ($.String))),  // :: Type
]);</pre> <p dir="auto">Not only would this be tedious, but one could never enumerate all possible types as there are infinitely many. Instead, one should use <a href="#Unknown"><code>Unknown</code></a>:</p> <pre data-language="js">//    env :: Array Type
const env = $.env.concat ([List ($.Unknown)]);</pre> <p dir="auto">The next step is to define a <code>def</code> function for the environment using <code>$.create</code>:</p> <pre data-language="js">//    def :: String -&gt; StrMap (Array TypeClass) -&gt; Array Type -&gt; Function -&gt; Function
const def = $.create ({checkTypes: true, env});</pre> <p dir="auto">The <code>checkTypes</code> option determines whether type checking is enabled. This allows one to only pay the performance cost of run-time type checking during development. For example:</p> <pre data-language="js">//    def :: String -&gt; StrMap (Array TypeClass) -&gt; Array Type -&gt; Function -&gt; Function
const def = $.create ({
  checkTypes: process.env.NODE_ENV === 'development',
  env,
});</pre> <p dir="auto"><code>def</code> is a function for defining functions. For example:</p> <pre data-language="js">//    add :: Number -&gt; Number -&gt; Number
const add =
def ('add')                           // name
    ({})                              // type-class constraints
    ([$.Number, $.Number, $.Number])  // input and output types
    (x =&gt; y =&gt; x + y);                // implementation</pre> <p dir="auto"><code>[$.Number, $.Number, $.Number]</code> specifies that <code>add</code> takes two arguments of type <code>Number</code>, one at a time, and returns a value of type <code>Number</code>.</p> <p dir="auto">Applying <code>add</code> to two arguments, one at a time, gives the expected result:</p> <pre data-language="js">add (2) (2);
// =&gt; 4</pre> <p dir="auto">Applying <code>add</code> to multiple arguments at once results in an exception being thrown:</p> <pre data-language="js">add (2, 2, 2);
// ! TypeError: ‘add’ applied to the wrong number of arguments
//
//   add :: Number -&gt; Number -&gt; Number
//          ^^^^^^
//            1
//
//   Expected one argument but received three arguments:
//
//     - 2
//     - 2
//     - 2</pre> <p dir="auto">Applying <code>add</code> to one argument produces a function awaiting the remaining argument. This is known as partial application. Partial application allows more specific functions to be defined in terms of more general ones:</p> <pre data-language="js">//    inc :: Number -&gt; Number
const inc = add (1);

inc (7);
// =&gt; 8</pre> <p dir="auto">JavaScript's implicit type coercion often obfuscates the source of type errors. Consider the following function:</p> <pre data-language="js">//    _add :: Number -&gt; Number -&gt; Number
const _add = x =&gt; y =&gt; x + y;</pre> <p dir="auto">The type signature indicates that <code>_add</code> takes arguments of type <code>Number</code>, but this is not enforced. This allows type errors to be silently ignored:</p> <pre data-language="js">_add ('2') ('2');
// =&gt; '22'</pre> <p dir="auto"><code>add</code>, on the other hand, throws if applied to arguments of the wrong types:</p> <pre data-language="js">add ('2') ('2');
// ! TypeError: Invalid value
//
//   add :: Number -&gt; Number -&gt; Number
//          ^^^^^^
//            1
//
//   1)  "2" :: String
//
//   The value at position 1 is not a member of ‘Number’.</pre> <p dir="auto">Type checking is performed as arguments are provided (rather than once all arguments have been provided), so type errors are reported early:</p> <pre data-language="js">add ('X');
// ! TypeError: Invalid value
//
//   add :: Number -&gt; Number -&gt; Number
//          ^^^^^^
//            1
//
//   1)  "X" :: String
//
//   The value at position 1 is not a member of ‘Number’.</pre> <h2 tabindex="-1" id="user-content-types" dir="auto"><a class="heading-link" href="#types">Types</a></h2> <p dir="auto">Conceptually, a type is a set of values. One can think of a value of type <code>Type</code> as a function of type <code>Any -&gt; Boolean</code> that tests values for membership in the set (though this is an oversimplification).</p> <h3 tabindex="-1" id="user-content-unknown--type" dir="auto">
<a name="user-content-Unknown" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L518"><code>Unknown :: Type</code></a>
</h3> <p dir="auto">Type used to represent missing type information. The type of <code>[]</code>, for example, is <code>Array ???</code>.</p> <p dir="auto">May be used with type constructors when defining environments. Given a type constructor <code>List :: Type -&gt; Type</code>, one could use <code>List ($.Unknown)</code> to include an infinite number of types in an environment:</p> <ul dir="auto"> <li><code>List Number</code></li> <li><code>List String</code></li> <li><code>List (List Number)</code></li> <li><code>List (List String)</code></li> <li><code>List (List (List Number))</code></li> <li><code>List (List (List String))</code></li> <li><code>...</code></li> </ul> <h3 tabindex="-1" id="user-content-void--type" dir="auto">
<a name="user-content-Void" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L537"><code>Void :: Type</code></a>
</h3> <p dir="auto">Uninhabited type.</p> <p dir="auto">May be used to convey that a type parameter of an algebraic data type will not be used. For example, a future of type <code>Future Void String</code> will never be rejected.</p> <h3 tabindex="-1" id="user-content-any--type" dir="auto">
<a name="user-content-Any" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L549"><code>Any :: Type</code></a>
</h3> <p dir="auto">Type comprising every JavaScript value.</p> <h3 tabindex="-1" id="user-content-anyfunction--type" dir="auto">
<a name="user-content-AnyFunction" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L557"><code>AnyFunction :: Type</code></a>
</h3> <p dir="auto">Type comprising every Function value.</p> <h3 tabindex="-1" id="user-content-arguments--type" dir="auto">
<a name="user-content-Arguments" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L565"><code>Arguments :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments" rel="nofollow"><code>arguments</code></a> object.</p> <h3 tabindex="-1" id="user-content-array--type---type" dir="auto">
<a name="user-content-Array" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L573"><code>Array :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for homogeneous Array types.</p> <h3 tabindex="-1" id="user-content-array0--type" dir="auto">
<a name="user-content-Array0" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L582"><code>Array0 :: Type</code></a>
</h3> <p dir="auto">Type whose sole member is <code>[]</code>.</p> <h3 tabindex="-1" id="user-content-array1--type---type" dir="auto">
<a name="user-content-Array1" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L590"><code>Array1 :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for singleton Array types.</p> <h3 tabindex="-1" id="user-content-array2--type---type---type" dir="auto">
<a name="user-content-Array2" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L599"><code>Array2 :: Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for heterogeneous Array types of length 2. <code>['foo', true]</code> is a member of <code>Array2 String Boolean</code>.</p> <h3 tabindex="-1" id="user-content-boolean--type" dir="auto">
<a name="user-content-Boolean" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L610"><code>Boolean :: Type</code></a>
</h3> <p dir="auto">Type comprising <code>true</code> and <code>false</code>.</p> <h3 tabindex="-1" id="user-content-buffer--type" dir="auto">
<a name="user-content-Buffer" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L618"><code>Buffer :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="https://nodejs.org/api/buffer.html#buffer_buffer" rel="nofollow">Buffer</a> object.</p> <h3 tabindex="-1" id="user-content-date--type" dir="auto">
<a name="user-content-Date" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L630"><code>Date :: Type</code></a>
</h3> <p dir="auto">Type comprising every Date value.</p> <h3 tabindex="-1" id="user-content-validdate--type" dir="auto">
<a name="user-content-ValidDate" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L638"><code>ValidDate :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Date"><code>Date</code></a> value except <code>new Date (NaN)</code>.</p> <h3 tabindex="-1" id="user-content-descending--type---type" dir="auto">
<a name="user-content-Descending" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L646"><code>Descending :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><a href="https://github.com/sanctuary-js/sanctuary-descending/tree/v2.1.0">Descending</a> type constructor.</p> <h3 tabindex="-1" id="user-content-either--type---type---type" dir="auto">
<a name="user-content-Either" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L655"><code>Either :: Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><a href="https://github.com/sanctuary-js/sanctuary-either/tree/v2.1.0">Either</a> type constructor.</p> <h3 tabindex="-1" id="user-content-error--type" dir="auto">
<a name="user-content-Error" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L665"><code>Error :: Type</code></a>
</h3> <p dir="auto">Type comprising every Error value, including values of more specific constructors such as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError" rel="nofollow"><code>SyntaxError</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError" rel="nofollow"><code>TypeError</code></a>.</p> <h3 tabindex="-1" id="user-content-fn--type---type---type" dir="auto">
<a name="user-content-Fn" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L674"><code>Fn :: Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Binary type constructor for unary function types. <code>$.Fn (I) (O)</code> represents <code>I -&gt; O</code>, the type of functions that take a value of type <code>I</code> and return a value of type <code>O</code>.</p> <h3 tabindex="-1" id="user-content-function--nonemptyarraytype---type" dir="auto">
<a name="user-content-Function" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L681"><code>Function :: NonEmpty (Array Type) -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for Function types.</p> <p dir="auto">Examples:</p> <ul dir="auto"> <li>
<code>$.Function ([$.Date, $.String])</code> represents the <code>Date -&gt; String</code> type; and</li> <li>
<code>$.Function ([a, b, a])</code> represents the <code>(a, b) -&gt; a</code> type.</li> </ul> <h3 tabindex="-1" id="user-content-htmlelement--type" dir="auto">
<a name="user-content-HtmlElement" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L721"><code>HtmlElement :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element" rel="nofollow">HTML element</a>.</p> <h3 tabindex="-1" id="user-content-identity--type---type" dir="auto">
<a name="user-content-Identity" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L731"><code>Identity :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><a href="https://github.com/sanctuary-js/sanctuary-identity/tree/v2.1.0">Identity</a> type constructor.</p> <h3 tabindex="-1" id="user-content-jsmap--type---type---type" dir="auto">
<a name="user-content-JsMap" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L740"><code>JsMap :: Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for native Map types. <code>$.JsMap ($.Number) ($.String)</code>, for example, is the type comprising every native Map whose keys are numbers and whose values are strings.</p> <h3 tabindex="-1" id="user-content-jsset--type---type" dir="auto">
<a name="user-content-JsSet" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L752"><code>JsSet :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for native Set types. <code>$.JsSet ($.Number)</code>, for example, is the type comprising every native Set whose values are numbers.</p> <h3 tabindex="-1" id="user-content-maybe--type---type" dir="auto">
<a name="user-content-Maybe" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L762"><code>Maybe :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><a href="https://github.com/sanctuary-js/sanctuary-maybe/tree/v2.1.0">Maybe</a> type constructor.</p> <h3 tabindex="-1" id="user-content-module--type" dir="auto">
<a name="user-content-Module" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L771"><code>Module :: Type</code></a>
</h3> <p dir="auto">Type comprising every ES module.</p> <h3 tabindex="-1" id="user-content-nonempty--type---type" dir="auto">
<a name="user-content-NonEmpty" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L779"><code>NonEmpty :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for non-empty types. <code>$.NonEmpty ($.String)</code>, for example, is the type comprising every <a href="#String"><code>String</code></a> value except <code>''</code>.</p> <p dir="auto">The given type must satisfy the <a href="https://github.com/fantasyland/fantasy-land#monoid">Monoid</a> and <a href="https://github.com/fantasyland/fantasy-land#setoid">Setoid</a> specifications.</p> <h3 tabindex="-1" id="user-content-null--type" dir="auto">
<a name="user-content-Null" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L795"><code>Null :: Type</code></a>
</h3> <p dir="auto">Type whose sole member is <code>null</code>.</p> <h3 tabindex="-1" id="user-content-nullable--type---type" dir="auto">
<a name="user-content-Nullable" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L803"><code>Nullable :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for types that include <code>null</code> as a member.</p> <h3 tabindex="-1" id="user-content-number--type" dir="auto">
<a name="user-content-Number" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L815"><code>Number :: Type</code></a>
</h3> <p dir="auto">Type comprising every primitive Number value (including <code>NaN</code>).</p> <h3 tabindex="-1" id="user-content-positivenumber--type" dir="auto">
<a name="user-content-PositiveNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L828"><code>PositiveNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Number"><code>Number</code></a> value greater than zero.</p> <h3 tabindex="-1" id="user-content-negativenumber--type" dir="auto">
<a name="user-content-NegativeNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L836"><code>NegativeNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Number"><code>Number</code></a> value less than zero.</p> <h3 tabindex="-1" id="user-content-validnumber--type" dir="auto">
<a name="user-content-ValidNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L844"><code>ValidNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Number"><code>Number</code></a> value except <code>NaN</code>.</p> <h3 tabindex="-1" id="user-content-nonzerovalidnumber--type" dir="auto">
<a name="user-content-NonZeroValidNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L852"><code>NonZeroValidNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#ValidNumber"><code>ValidNumber</code></a> value except <code>0</code> and <code>-0</code>.</p> <h3 tabindex="-1" id="user-content-finitenumber--type" dir="auto">
<a name="user-content-FiniteNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L860"><code>FiniteNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#ValidNumber"><code>ValidNumber</code></a> value except <code>Infinity</code> and <code>-Infinity</code>.</p> <h3 tabindex="-1" id="user-content-nonzerofinitenumber--type" dir="auto">
<a name="user-content-NonZeroFiniteNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L869"><code>NonZeroFiniteNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#FiniteNumber"><code>FiniteNumber</code></a> value except <code>0</code> and <code>-0</code>.</p> <h3 tabindex="-1" id="user-content-positivefinitenumber--type" dir="auto">
<a name="user-content-PositiveFiniteNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L877"><code>PositiveFiniteNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#FiniteNumber"><code>FiniteNumber</code></a> value greater than zero.</p> <h3 tabindex="-1" id="user-content-negativefinitenumber--type" dir="auto">
<a name="user-content-NegativeFiniteNumber" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L885"><code>NegativeFiniteNumber :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#FiniteNumber"><code>FiniteNumber</code></a> value less than zero.</p> <h3 tabindex="-1" id="user-content-integer--type" dir="auto">
<a name="user-content-Integer" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L893"><code>Integer :: Type</code></a>
</h3> <p dir="auto">Type comprising every integer in the range [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MIN_SAFE_INTEGER" rel="nofollow"><code>Number.MIN_SAFE_INTEGER</code></a> .. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" rel="nofollow"><code>Number.MAX_SAFE_INTEGER</code></a>].</p> <h3 tabindex="-1" id="user-content-nonzerointeger--type" dir="auto">
<a name="user-content-NonZeroInteger" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L906"><code>NonZeroInteger :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Integer"><code>Integer</code></a> value except <code>0</code> and <code>-0</code>.</p> <h3 tabindex="-1" id="user-content-nonnegativeinteger--type" dir="auto">
<a name="user-content-NonNegativeInteger" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L914"><code>NonNegativeInteger :: Type</code></a>
</h3> <p dir="auto">Type comprising every non-negative <a href="#Integer"><code>Integer</code></a> value (including <code>-0</code>). Also known as the set of natural numbers under ISO 80000-2:2009.</p> <h3 tabindex="-1" id="user-content-positiveinteger--type" dir="auto">
<a name="user-content-PositiveInteger" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L923"><code>PositiveInteger :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Integer"><code>Integer</code></a> value greater than zero.</p> <h3 tabindex="-1" id="user-content-negativeinteger--type" dir="auto">
<a name="user-content-NegativeInteger" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L931"><code>NegativeInteger :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#Integer"><code>Integer</code></a> value less than zero.</p> <h3 tabindex="-1" id="user-content-object--type" dir="auto">
<a name="user-content-Object" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L939"><code>Object :: Type</code></a>
</h3> <p dir="auto">Type comprising every "plain" Object value. Specifically, values created via:</p> <ul dir="auto"> <li>object literal syntax;</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create" rel="nofollow"><code>Object.create</code></a>; or</li> <li>the <code>new</code> operator in conjunction with <code>Object</code> or a custom constructor function.</li> </ul> <h3 tabindex="-1" id="user-content-pair--type---type---type" dir="auto">
<a name="user-content-Pair" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L953"><code>Pair :: Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><a href="https://github.com/sanctuary-js/sanctuary-pair/tree/v2.1.0">Pair</a> type constructor.</p> <h3 tabindex="-1" id="user-content-regexp--type" dir="auto">
<a name="user-content-RegExp" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L963"><code>RegExp :: Type</code></a>
</h3> <p dir="auto">Type comprising every RegExp value.</p> <h3 tabindex="-1" id="user-content-globalregexp--type" dir="auto">
<a name="user-content-GlobalRegExp" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L971"><code>GlobalRegExp :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#RegExp"><code>RegExp</code></a> value whose <code>global</code> flag is <code>true</code>.</p> <p dir="auto">See also <a href="#NonGlobalRegExp"><code>NonGlobalRegExp</code></a>.</p> <h3 tabindex="-1" id="user-content-nonglobalregexp--type" dir="auto">
<a name="user-content-NonGlobalRegExp" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L981"><code>NonGlobalRegExp :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="#RegExp"><code>RegExp</code></a> value whose <code>global</code> flag is <code>false</code>.</p> <p dir="auto">See also <a href="#GlobalRegExp"><code>GlobalRegExp</code></a>.</p> <h3 tabindex="-1" id="user-content-strmap--type---type" dir="auto">
<a name="user-content-StrMap" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L991"><code>StrMap :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Constructor for homogeneous Object types.</p> <p dir="auto"><code>{foo: 1, bar: 2, baz: 3}</code>, for example, is a member of <code>StrMap Number</code>; <code>{foo: 1, bar: 2, baz: 'XXX'}</code> is not.</p> <h3 tabindex="-1" id="user-content-string--type" dir="auto">
<a name="user-content-String" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1003"><code>String :: Type</code></a>
</h3> <p dir="auto">Type comprising every primitive String value.</p> <h3 tabindex="-1" id="user-content-regexflags--type" dir="auto">
<a name="user-content-RegexFlags" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1011"><code>RegexFlags :: Type</code></a>
</h3> <p dir="auto">Type comprising the canonical RegExp flags:</p> <ul dir="auto"> <li><code>''</code></li> <li><code>'g'</code></li> <li><code>'i'</code></li> <li><code>'m'</code></li> <li><code>'gi'</code></li> <li><code>'gm'</code></li> <li><code>'im'</code></li> <li><code>'gim'</code></li> </ul> <h3 tabindex="-1" id="user-content-symbol--type" dir="auto">
<a name="user-content-Symbol" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1028"><code>Symbol :: Type</code></a>
</h3> <p dir="auto">Type comprising every Symbol value.</p> <h3 tabindex="-1" id="user-content-type--type" dir="auto">
<a name="user-content-Type" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1036"><code>Type :: Type</code></a>
</h3> <p dir="auto">Type comprising every <code>Type</code> value.</p> <h3 tabindex="-1" id="user-content-typeclass--type" dir="auto">
<a name="user-content-TypeClass" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1044"><code>TypeClass :: Type</code></a>
</h3> <p dir="auto">Type comprising every <a href="https://github.com/sanctuary-js/sanctuary-type-classes#TypeClass"><code>TypeClass</code></a> value.</p> <h3 tabindex="-1" id="user-content-undefined--type" dir="auto">
<a name="user-content-Undefined" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1052"><code>Undefined :: Type</code></a>
</h3> <p dir="auto">Type whose sole member is <code>undefined</code>.</p> <h3 tabindex="-1" id="user-content-env--arraytype" dir="auto">
<a name="user-content-env" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1060"><code>env :: Array Type</code></a>
</h3> <p dir="auto">An array of <a href="#types">types</a>:</p> <ul dir="auto"> <li><code><a href="#AnyFunction">AnyFunction</a></code></li> <li><code><a href="#Arguments">Arguments</a></code></li> <li><code><a href="#Array">Array</a> (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#Array2">Array2</a> (<a href="#Unknown">Unknown</a>) (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#Boolean">Boolean</a></code></li> <li><code><a href="#Buffer">Buffer</a></code></li> <li><code><a href="#Date">Date</a></code></li> <li><code><a href="#Descending">Descending</a> (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#Either">Either</a> (<a href="#Unknown">Unknown</a>) (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#Error">Error</a></code></li> <li><code><a href="#Fn">Fn</a> (<a href="#Unknown">Unknown</a>) (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#HtmlElement">HtmlElement</a></code></li> <li><code><a href="#Identity">Identity</a> (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#JsMap">JsMap</a> (<a href="#Unknown">Unknown</a>) (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#JsSet">JsSet</a> (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#Maybe">Maybe</a> (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#Module">Module</a></code></li> <li><code><a href="#Null">Null</a></code></li> <li><code><a href="#Number">Number</a></code></li> <li><code><a href="#Object">Object</a></code></li> <li><code><a href="#Pair">Pair</a> (<a href="#Unknown">Unknown</a>) (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#RegExp">RegExp</a></code></li> <li><code><a href="#StrMap">StrMap</a> (<a href="#Unknown">Unknown</a>)</code></li> <li><code><a href="#String">String</a></code></li> <li><code><a href="#Symbol">Symbol</a></code></li> <li><code><a href="#Type">Type</a></code></li> <li><code><a href="#TypeClass">TypeClass</a></code></li> <li><code><a href="#Undefined">Undefined</a></code></li> </ul> <h3 tabindex="-1" id="user-content-test--arraytype---type---a---boolean" dir="auto">
<a name="user-content-test" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1495"><code>test :: Array Type -⁠&gt; Type -⁠&gt; a -⁠&gt; Boolean</code></a>
</h3> <p dir="auto">Takes an environment, a type, and any value. Returns <code>true</code> if the value is a member of the type; <code>false</code> otherwise.</p> <p dir="auto">The environment is only significant if the type contains <a href="#TypeVariable">type variables</a>.</p> <h2 tabindex="-1" id="user-content-type-constructors" dir="auto"><a class="heading-link" href="#type-constructors">Type constructors</a></h2> <p dir="auto">sanctuary-def provides several functions for defining types.</p> <h3 tabindex="-1" id="user-content-nullarytype--string---string---arraytype---any-boolean---type" dir="auto">
<a name="user-content-NullaryType" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1515"><code>NullaryType :: String -⁠&gt; String -⁠&gt; Array Type -⁠&gt; (Any -⁠&gt; Boolean) -⁠&gt; Type</code></a>
</h3> <p dir="auto">Type constructor for types with no type variables (such as <a href="#Number"><code>Number</code></a>).</p> <p dir="auto">To define a nullary type <code>t</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">the name of <code>t</code> (exposed as <code>t.name</code>);</p> </li> <li> <p dir="auto">the documentation URL of <code>t</code> (exposed as <code>t.url</code>);</p> </li> <li> <p dir="auto">an array of supertypes (exposed as <code>t.supertypes</code>); and</p> </li> <li> <p dir="auto">a predicate that accepts any value that is a member of every one of the given supertypes, and returns <code>true</code> if (and only if) the value is a member of <code>t</code>.</p> </li> </ul> <p dir="auto">For example:</p> <pre data-language="js">//    Integer :: Type
const Integer = $.NullaryType
  ('Integer')
  ('http://example.com/my-package#Integer')
  ([])
  (x =&gt; typeof x === 'number' &amp;&amp;
        Math.floor (x) === x &amp;&amp;
        x &gt;= Number.MIN_SAFE_INTEGER &amp;&amp;
        x &lt;= Number.MAX_SAFE_INTEGER);

//    NonZeroInteger :: Type
const NonZeroInteger = $.NullaryType
  ('NonZeroInteger')
  ('http://example.com/my-package#NonZeroInteger')
  ([Integer])
  (x =&gt; x !== 0);

//    rem :: Integer -&gt; NonZeroInteger -&gt; Integer
const rem =
def ('rem')
    ({})
    ([Integer, NonZeroInteger, Integer])
    (x =&gt; y =&gt; x % y);

rem (42) (5);
// =&gt; 2

rem (0.5);
// ! TypeError: Invalid value
//
//   rem :: Integer -&gt; NonZeroInteger -&gt; Integer
//          ^^^^^^^
//             1
//
//   1)  0.5 :: Number
//
//   The value at position 1 is not a member of ‘Integer’.
//
//   See http://example.com/my-package#Integer for information about the Integer type.

rem (42) (0);
// ! TypeError: Invalid value
//
//   rem :: Integer -&gt; NonZeroInteger -&gt; Integer
//                     ^^^^^^^^^^^^^^
//                           1
//
//   1)  0 :: Number
//
//   The value at position 1 is not a member of ‘NonZeroInteger’.
//
//   See http://example.com/my-package#NonZeroInteger for information about the NonZeroInteger type.</pre> <h3 tabindex="-1" id="user-content-unarytype--foldablef--string---string---arraytype---any-boolean---ta-fa---type---type" dir="auto">
<a name="user-content-UnaryType" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1597"><code>UnaryType :: Foldable f =&gt; String -⁠&gt; String -⁠&gt; Array Type -⁠&gt; (Any -⁠&gt; Boolean) -⁠&gt; (t a -⁠&gt; f a) -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Type constructor for types with one type variable (such as <a href="#Array"><code>Array</code></a>).</p> <p dir="auto">To define a unary type <code>t a</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">the name of <code>t</code> (exposed as <code>t.name</code>);</p> </li> <li> <p dir="auto">the documentation URL of <code>t</code> (exposed as <code>t.url</code>);</p> </li> <li> <p dir="auto">an array of supertypes (exposed as <code>t.supertypes</code>);</p> </li> <li> <p dir="auto">a predicate that accepts any value that is a member of every one of the given supertypes, and returns <code>true</code> if (and only if) the value is a member of <code>t x</code> for some type <code>x</code>;</p> </li> <li> <p dir="auto">a function that takes any value of type <code>t a</code> and returns the values of type <code>a</code> contained in the <code>t</code>; and</p> </li> <li> <p dir="auto">the type of <code>a</code>.</p> </li> </ul> <p dir="auto">For example:</p> <pre data-language="js">const show = require ('sanctuary-show');
const type = require ('sanctuary-type-identifiers');

//    maybeTypeIdent :: String
const maybeTypeIdent = 'my-package/Maybe';

//    Maybe :: Type -&gt; Type
const Maybe = $.UnaryType
  ('Maybe')
  ('http://example.com/my-package#Maybe')
  ([])
  (x =&gt; type (x) === maybeTypeIdent)
  (maybe =&gt; maybe.isJust ? [maybe.value] : []);

//    Nothing :: Maybe a
const Nothing = {
  'isJust': false,
  'isNothing': true,
  '@@type': maybeTypeIdent,
  '@@show': () =&gt; 'Nothing',
};

//    Just :: a -&gt; Maybe a
const Just = x =&gt; ({
  'isJust': true,
  'isNothing': false,
  '@@type': maybeTypeIdent,
  '@@show': () =&gt; `Just (${show (x)})`,
  'value': x,
});

//    fromMaybe :: a -&gt; Maybe a -&gt; a
const fromMaybe =
def ('fromMaybe')
    ({})
    ([a, Maybe (a), a])
    (x =&gt; m =&gt; m.isJust ? m.value : x);

fromMaybe (0) (Just (42));
// =&gt; 42

fromMaybe (0) (Nothing);
// =&gt; 0

fromMaybe (0) (Just ('XXX'));
// ! TypeError: Type-variable constraint violation
//
//   fromMaybe :: a -&gt; Maybe a -&gt; a
//                ^          ^
//                1          2
//
//   1)  0 :: Number
//
//   2)  "XXX" :: String
//
//   Since there is no type of which all the above values are members, the type-variable constraint has been violated.</pre> <h3 tabindex="-1" id="user-content-binarytype--foldablef--string---string---arraytype---any-boolean---tab-fa---tab-fb---type---type---type" dir="auto">
<a name="user-content-BinaryType" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1708"><code>BinaryType :: Foldable f =&gt; String -⁠&gt; String -⁠&gt; Array Type -⁠&gt; (Any -⁠&gt; Boolean) -⁠&gt; (t a b -⁠&gt; f a) -⁠&gt; (t a b -⁠&gt; f b) -⁠&gt; Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Type constructor for types with two type variables (such as <a href="#Array2"><code>Array2</code></a>).</p> <p dir="auto">To define a binary type <code>t a b</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">the name of <code>t</code> (exposed as <code>t.name</code>);</p> </li> <li> <p dir="auto">the documentation URL of <code>t</code> (exposed as <code>t.url</code>);</p> </li> <li> <p dir="auto">an array of supertypes (exposed as <code>t.supertypes</code>);</p> </li> <li> <p dir="auto">a predicate that accepts any value that is a member of every one of the given supertypes, and returns <code>true</code> if (and only if) the value is a member of <code>t x y</code> for some types <code>x</code> and <code>y</code>;</p> </li> <li> <p dir="auto">a function that takes any value of type <code>t a b</code> and returns the values of type <code>a</code> contained in the <code>t</code>;</p> </li> <li> <p dir="auto">a function that takes any value of type <code>t a b</code> and returns the values of type <code>b</code> contained in the <code>t</code>;</p> </li> <li> <p dir="auto">the type of <code>a</code>; and</p> </li> <li> <p dir="auto">the type of <code>b</code>.</p> </li> </ul> <p dir="auto">For example:</p> <pre data-language="js">const type = require ('sanctuary-type-identifiers');

//    pairTypeIdent :: String
const pairTypeIdent = 'my-package/Pair';

//    $Pair :: Type -&gt; Type -&gt; Type
const $Pair = $.BinaryType
  ('Pair')
  ('http://example.com/my-package#Pair')
  ([])
  (x =&gt; type (x) === pairTypeIdent)
  (({fst}) =&gt; [fst])
  (({snd}) =&gt; [snd]);

//    Pair :: a -&gt; b -&gt; Pair a b
const Pair =
def ('Pair')
    ({})
    ([a, b, $Pair (a) (b)])
    (fst =&gt; snd =&gt; ({
       'fst': fst,
       'snd': snd,
       '@@type': pairTypeIdent,
       '@@show': () =&gt; `Pair (${show (fst)}) (${show (snd)})`,
     }));

//    Rank :: Type
const Rank = $.NullaryType
  ('Rank')
  ('http://example.com/my-package#Rank')
  ([$.String])
  (x =&gt; /^(A|2|3|4|5|6|7|8|9|10|J|Q|K)$/.test (x));

//    Suit :: Type
const Suit = $.NullaryType
  ('Suit')
  ('http://example.com/my-package#Suit')
  ([$.String])
  (x =&gt; /^[\u2660\u2663\u2665\u2666]$/.test (x));

//    Card :: Type
const Card = $Pair (Rank) (Suit);

//    showCard :: Card -&gt; String
const showCard =
def ('showCard')
    ({})
    ([Card, $.String])
    (card =&gt; card.fst + card.snd);

showCard (Pair ('A') ('♠'));
// =&gt; 'A♠'

showCard (Pair ('X') ('♠'));
// ! TypeError: Invalid value
//
//   showCard :: Pair Rank Suit -&gt; String
//                    ^^^^
//                     1
//
//   1)  "X" :: String
//
//   The value at position 1 is not a member of ‘Rank’.
//
//   See http://example.com/my-package#Rank for information about the Rank type.</pre> <h3 tabindex="-1" id="user-content-enumtype--string---string---arrayany---type" dir="auto">
<a name="user-content-EnumType" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1840"><code>EnumType :: String -⁠&gt; String -⁠&gt; Array Any -⁠&gt; Type</code></a>
</h3> <p dir="auto">Type constructor for <a href="https://en.wikipedia.org/wiki/Enumerated_type" rel="nofollow">enumerated types</a> (such as <a href="#RegexFlags"><code>RegexFlags</code></a>).</p> <p dir="auto">To define an enumerated type <code>t</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">the name of <code>t</code> (exposed as <code>t.name</code>);</p> </li> <li> <p dir="auto">the documentation URL of <code>t</code> (exposed as <code>t.url</code>); and</p> </li> <li> <p dir="auto">an array of distinct values.</p> </li> </ul> <p dir="auto">For example:</p> <pre data-language="js">//    Denomination :: Type
const Denomination = $.EnumType
  ('Denomination')
  ('http://example.com/my-package#Denomination')
  ([10, 20, 50, 100, 200]);</pre> <h3 tabindex="-1" id="user-content-recordtype--strmaptype---type" dir="auto">
<a name="user-content-RecordType" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1867"><code>RecordType :: StrMap Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><code>RecordType</code> is used to construct anonymous record types. The type definition specifies the name and type of each required field. A field is an enumerable property (either an own property or an inherited property).</p> <p dir="auto">To define an anonymous record type one must provide:</p> <ul dir="auto"> <li>an object mapping field name to type.</li> </ul> <p dir="auto">For example:</p> <pre data-language="js">//    Point :: Type
const Point = $.RecordType ({x: $.FiniteNumber, y: $.FiniteNumber});

//    dist :: Point -&gt; Point -&gt; FiniteNumber
const dist =
def ('dist')
    ({})
    ([Point, Point, $.FiniteNumber])
    (p =&gt; q =&gt; Math.sqrt (Math.pow (p.x - q.x, 2) +
                          Math.pow (p.y - q.y, 2)));

dist ({x: 0, y: 0}) ({x: 3, y: 4});
// =&gt; 5

dist ({x: 0, y: 0}) ({x: 3, y: 4, color: 'red'});
// =&gt; 5

dist ({x: 0, y: 0}) ({x: NaN, y: NaN});
// ! TypeError: Invalid value
//
//   dist :: { x :: FiniteNumber, y :: FiniteNumber } -&gt; { x :: FiniteNumber, y :: FiniteNumber } -&gt; FiniteNumber
//                                                              ^^^^^^^^^^^^
//                                                                   1
//
//   1)  NaN :: Number
//
//   The value at position 1 is not a member of ‘FiniteNumber’.

dist (0);
// ! TypeError: Invalid value
//
//   dist :: { x :: FiniteNumber, y :: FiniteNumber } -&gt; { x :: FiniteNumber, y :: FiniteNumber } -&gt; FiniteNumber
//           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//                              1
//
//   1)  0 :: Number
//
//   The value at position 1 is not a member of ‘{ x :: FiniteNumber, y :: FiniteNumber }’.</pre> <h3 tabindex="-1" id="user-content-namedrecordtype--nonemptystring---string---arraytype---strmaptype---type" dir="auto">
<a name="user-content-NamedRecordType" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L1951"><code>NamedRecordType :: NonEmpty String -⁠&gt; String -⁠&gt; Array Type -⁠&gt; StrMap Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><code>NamedRecordType</code> is used to construct named record types. The type definition specifies the name and type of each required field. A field is an enumerable property (either an own property or an inherited property).</p> <p dir="auto">To define a named record type <code>t</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">the name of <code>t</code> (exposed as <code>t.name</code>);</p> </li> <li> <p dir="auto">the documentation URL of <code>t</code> (exposed as <code>t.url</code>);</p> </li> <li> <p dir="auto">an array of supertypes (exposed as <code>t.supertypes</code>); and</p> </li> <li> <p dir="auto">an object mapping field name to type.</p> </li> </ul> <p dir="auto">For example:</p> <pre data-language="js">//    Circle :: Type
const Circle = $.NamedRecordType
  ('my-package/Circle')
  ('http://example.com/my-package#Circle')
  ([])
  ({radius: $.PositiveFiniteNumber});

//    Cylinder :: Type
const Cylinder = $.NamedRecordType
  ('Cylinder')
  ('http://example.com/my-package#Cylinder')
  ([Circle])
  ({height: $.PositiveFiniteNumber});

//    volume :: Cylinder -&gt; PositiveFiniteNumber
const volume =
def ('volume')
    ({})
    ([Cylinder, $.FiniteNumber])
    (cyl =&gt; Math.PI * cyl.radius * cyl.radius * cyl.height);

volume ({radius: 2, height: 10});
// =&gt; 125.66370614359172

volume ({radius: 2});
// ! TypeError: Invalid value
//
//   volume :: Cylinder -&gt; FiniteNumber
//             ^^^^^^^^
//                1
//
//   1)  {"radius": 2} :: Object, StrMap Number
//
//   The value at position 1 is not a member of ‘Cylinder’.
//
//   See http://example.com/my-package#Cylinder for information about the Cylinder type.</pre> <h3 tabindex="-1" id="user-content-typevariable--string---type" dir="auto">
<a name="user-content-TypeVariable" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L2060"><code>TypeVariable :: String -⁠&gt; Type</code></a>
</h3> <p dir="auto">Polymorphism is powerful. Not being able to define a function for all types would be very limiting indeed: one couldn't even define the identity function!</p> <p dir="auto">Before defining a polymorphic function one must define one or more type variables:</p> <pre data-language="js">const a = $.TypeVariable ('a');
const b = $.TypeVariable ('b');

//    id :: a -&gt; a
const id = def ('id') ({}) ([a, a]) (x =&gt; x);

id (42);
// =&gt; 42

id (null);
// =&gt; null</pre> <p dir="auto">The same type variable may be used in multiple positions, creating a constraint:</p> <pre data-language="js">//    cmp :: a -&gt; a -&gt; Number
const cmp =
def ('cmp')
    ({})
    ([a, a, $.Number])
    (x =&gt; y =&gt; x &lt; y ? -1 : x &gt; y ? 1 : 0);

cmp (42) (42);
// =&gt; 0

cmp ('a') ('z');
// =&gt; -1

cmp ('z') ('a');
// =&gt; 1

cmp (0) ('1');
// ! TypeError: Type-variable constraint violation
//
//   cmp :: a -&gt; a -&gt; Number
//          ^    ^
//          1    2
//
//   1)  0 :: Number
//
//   2)  "1" :: String
//
//   Since there is no type of which all the above values are members, the type-variable constraint has been violated.</pre> <h3 tabindex="-1" id="user-content-unarytypevariable--string---type---type" dir="auto">
<a name="user-content-UnaryTypeVariable" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L2122"><code>UnaryTypeVariable :: String -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Combines <a href="#UnaryType"><code>UnaryType</code></a> and <a href="#TypeVariable"><code>TypeVariable</code></a>.</p> <p dir="auto">To define a unary type variable <code>t a</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">a name (conventionally matching <code>^[a-z]$</code>); and</p> </li> <li> <p dir="auto">the type of <code>a</code>.</p> </li> </ul> <p dir="auto">Consider the type of a generalized <code>map</code>:</p> <pre data-language="haskell">map :: Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b</pre> <p dir="auto"><code>f</code> is a unary type variable. With two (nullary) type variables, one unary type variable, and one <a href="#type-classes">type class</a> it's possible to define a fully polymorphic <code>map</code> function:</p> <pre data-language="js">const $ = require ('sanctuary-def');
const Z = require ('sanctuary-type-classes');

const a = $.TypeVariable ('a');
const b = $.TypeVariable ('b');
const f = $.UnaryTypeVariable ('f');

//    map :: Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
const map =
def ('map')
    ({f: [Z.Functor]})
    ([$.Function ([a, b]), f (a), f (b)])
    (f =&gt; functor =&gt; Z.map (f, functor));</pre> <p dir="auto">Whereas a regular type variable is fully resolved (<code>a</code> might become <code>Array (Array String)</code>, for example), a unary type variable defers to its type argument, which may itself be a type variable. The type argument corresponds to the type argument of a unary type or the <em>second</em> type argument of a binary type. The second type argument of <code>Map k v</code>, for example, is <code>v</code>. One could replace <code>Functor =&gt; f</code> with <code>Map k</code> or with <code>Map Integer</code>, but not with <code>Map</code>.</p> <p dir="auto">This shallow inspection makes it possible to constrain a value's "outer" and "inner" types independently.</p> <h3 tabindex="-1" id="user-content-binarytypevariable--string---type---type---type" dir="auto">
<a name="user-content-BinaryTypeVariable" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L2176"><code>BinaryTypeVariable :: String -⁠&gt; Type -⁠&gt; Type -⁠&gt; Type</code></a>
</h3> <p dir="auto">Combines <a href="#BinaryType"><code>BinaryType</code></a> and <a href="#TypeVariable"><code>TypeVariable</code></a>.</p> <p dir="auto">To define a binary type variable <code>t a b</code> one must provide:</p> <ul dir="auto"> <li> <p dir="auto">a name (conventionally matching <code>^[a-z]$</code>);</p> </li> <li> <p dir="auto">the type of <code>a</code>; and</p> </li> <li> <p dir="auto">the type of <code>b</code>.</p> </li> </ul> <p dir="auto">The more detailed explanation of <a href="#UnaryTypeVariable"><code>UnaryTypeVariable</code></a> also applies to <code>BinaryTypeVariable</code>.</p> <h3 tabindex="-1" id="user-content-thunk--type---type" dir="auto">
<a name="user-content-Thunk" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L2201"><code>Thunk :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><code>$.Thunk (T)</code> is shorthand for <code>$.Function ([T])</code>, the type comprising every nullary function (thunk) that returns a value of type <code>T</code>.</p> <h3 tabindex="-1" id="user-content-predicate--type---type" dir="auto">
<a name="user-content-Predicate" href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/index.js#L2207"><code>Predicate :: Type -⁠&gt; Type</code></a>
</h3> <p dir="auto"><code>$.Predicate (T)</code> is shorthand for <code>$.Fn (T) ($.Boolean)</code>, the type comprising every predicate function that takes a value of type <code>T</code>.</p> <h2 tabindex="-1" id="user-content-type-classes" dir="auto"><a class="heading-link" href="#type-classes">Type classes</a></h2> <p dir="auto">One can trivially define a function of type <code>String -&gt; String -&gt; String</code> that concatenates two strings. This is overly restrictive, though, since other types support concatenation (<code>Array a</code>, for example).</p> <p dir="auto">One could use a type variable to define a polymorphic "concat" function:</p> <pre data-language="js">//    _concat :: a -&gt; a -&gt; a
const _concat =
def ('_concat')
    ({})
    ([a, a, a])
    (x =&gt; y =&gt; x.concat (y));

_concat ('fizz') ('buzz');
// =&gt; 'fizzbuzz'

_concat ([1, 2]) ([3, 4]);
// =&gt; [1, 2, 3, 4]

_concat ([1, 2]) ('buzz');
// ! TypeError: Type-variable constraint violation
//
//   _concat :: a -&gt; a -&gt; a
//              ^    ^
//              1    2
//
//   1)  [1, 2] :: Array Number
//
//   2)  "buzz" :: String
//
//   Since there is no type of which all the above values are members, the type-variable constraint has been violated.</pre> <p dir="auto">The type of <code>_concat</code> is misleading: it suggests that it can operate on any two values of <em>any</em> one type. In fact there's an implicit constraint, since the type must support concatenation (in <a href="https://en.wikipedia.org/wiki/Semigroup" rel="nofollow">mathematical</a> terms, the type must have a <a href="https://github.com/fantasyland/fantasy-land#semigroup">semigroup</a>). Violating this implicit constraint results in a run-time error in the implementation:</p> <pre data-language="js">_concat (null) (null);
// ! TypeError: Cannot read property 'concat' of null</pre> <p dir="auto">The solution is to constrain <code>a</code> by first defining a <a href="https://github.com/sanctuary-js/sanctuary-type-classes#TypeClass"><code>TypeClass</code></a> value, then specifying the constraint in the definition of the "concat" function:</p> <pre data-language="js">const Z = require ('sanctuary-type-classes');

//    Semigroup :: TypeClass
const Semigroup = Z.TypeClass (
  'my-package/Semigroup',
  'http://example.com/my-package#Semigroup',
  [],
  x =&gt; x != null &amp;&amp; typeof x.concat === 'function'
);

//    concat :: Semigroup a =&gt; a -&gt; a -&gt; a
const concat =
def ('concat')
    ({a: [Semigroup]})
    ([a, a, a])
    (x =&gt; y =&gt; x.concat (y));

concat ([1, 2]) ([3, 4]);
// =&gt; [1, 2, 3, 4]

concat (null) (null);
// ! TypeError: Type-class constraint violation
//
//   concat :: Semigroup a =&gt; a -&gt; a -&gt; a
//             ^^^^^^^^^^^    ^
//                            1
//
//   1)  null :: Null
//
//   ‘concat’ requires ‘a’ to satisfy the Semigroup type-class constraint; the value at position 1 does not.
//
//   See http://example.com/my-package#Semigroup for information about the my-package/Semigroup type class.</pre> <p dir="auto">Multiple constraints may be placed on a type variable by including multiple <code>TypeClass</code> values in the array (e.g. <code>{a: [Foo, Bar, Baz]}</code>).</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2020 Sanctuary<br>© 2016 Plaid Technologies, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/README.md" class="_attribution-link">https://github.com/sanctuary-js/sanctuary-def/blob/v0.22.0/README.md</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
