
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Event Handler Setup - InfluxData - W3cubDocs</title>
  
  <meta name="description" content="Integrate Kapacitor into your monitoring system by sending alert messages to supported event handlers. Currently, Kapacitor can send alert messages &hellip;">
  <meta name="keywords" content="event, handler, setup, influxdata">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/influxdata/kapacitor/v1.3/guides/event-handler-setup/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/influxdata.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/influxdata/" class="_nav-link" title="" style="margin-left:0;">InfluxData</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>Event Handler Setup</h1>     <p>Integrate Kapacitor into your monitoring system by sending <a href="../../nodes/alert_node/index#message">alert messages</a> to supported event handlers. Currently, Kapacitor can send alert messages to specific log files and specific URLs, as well as to applications like <a href="https://slack.com/">Slack</a> and <a href="https://www.hipchat.com/">HipChat</a>.</p> <p>This document offers step-by-step instructions for setting up event handlers with Kapacitor, including the relevant configuration options and <a href="../../tick/index">TICKscript</a> syntax. Currently, this document doesn’t cover every supported event handler, but we will continue to add content to this page over time. For a complete list of the supported event handlers and for additional information, please see the <a href="../../nodes/alert_node/index">event handler reference documentation</a>.</p> <table style="width:100%"> <tr> <td><a href="#hipchat-setup">HipChat Setup</a></td> <td><a href="#telegram-setup">Telegram Setup</a></td> </tr> </table> <h2 id="hipchat-setup">HipChat Setup</h2> <p><a href="https://www.hipchat.com/">HipChat</a> is Atlassian’s web service for group chat, video chat, and screen sharing. Configure Kapacitor to send alert messages to a HipChat room.</p> <h3 id="requirements">Requirements</h3> <p>To configure Kapacitor with HipChat, you need:</p> <ul> <li>your HipChat subdomain name</li> <li>your HipChat room name</li> <li>a HipChat API access token for sending notifications</li> </ul> <blockquote> <h5 id="hipchat-api-access-token">HipChat API Access Token</h5> <p> The following steps describe how to create the API access token.</p> <p><strong>1.</strong> From the HipChat home page, access <code>Account settings</code> by clicking on the person icon in the top right corner.</p> <p><strong>2.</strong> Select <code>API access</code> from the items in the left menu sidebar.</p> <p><strong>3.</strong> Under <code>Create new token</code>, enter a label for your token (it can be anything).</p> <p><strong>4.</strong> Under <code>Create new token</code>, select <code>Send Notification</code> as the Scope.</p> <p><strong>5.</strong> Click <code>Create</code>.</p> <p>Your token appears in the table just above the <code>Create new token</code> section:</p> <p><img src="data:image/png;base64,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" alt="HipChat token"></p> </blockquote> <h3 id="configuration">Configuration</h3> <p>In the <code>[hipchat]</code> section of Kapacitor’s configuration file, set:</p> <ul> <li>
<code>enabled</code> to <code>true</code>
</li> <li>
<code>subdomain</code> in the <code>url</code> setting to your HipChat subdomain</li> </ul> <p>The optional configuration settings are:</p> <p><code>room</code> Set to your HipChat room. This serves as the default chat id if the TICKscript doesn’t specify a chat id. <code>token</code> Set to your HipChat <a href="#hipchat-api-access-token">API access token</a>. This serves as the default token if the TICKscript doesn’t specify an API access token. <code>global</code> Set to <code>true</code> to send all alerts to HipChat without needing to specify HipChat in TICKscripts. <code>state-changes-only</code> Set to <code>true</code> to only send an alert to HipChat if the alert state changes. This setting only applies if the <code>global</code> setting is also set to <code>true</code>.</p> <h4 id="sample-configuration">Sample Configuration</h4> <pre data-language="javascript">    [hipchat]
      enabled = true
      url = "https://my-subdomain.hipchat.com/v2/room"
      room = "my-room"
      token = "mytokentokentokentoken"
      global = false
      state-changes-only = false
</pre> <h3 id="tickscript-syntax">TICKscript Syntax</h3> <pre>|alert()
    .hipChat()
        .room('&lt;HipChat-room&gt;')
        .token('&lt;HipChat-API-token&gt;')
</pre> <p>The <code>.room()</code> and <code>.token()</code> specifications are optional. If they aren’t set in the TICKscript, they default to the <code>room</code> and <code>token</code> settings in the <code>[hipchat]</code> section of the configuration file. Note that if <code>global</code> is set to <code>true</code> in the configuration file, there’s no need to specify <code>.hipChat()</code> in the TICKscript; Kapacitor sends all alerts to HipChat by default.</p> <p><code>.room('&lt;HipChat-room&gt;')</code> Sets the HipChat room. <code>.token('&lt;HipChat-API-token&gt;')</code> Sets the HipChat <a href="#hipchat-api-access-token">API access token</a>.</p> <h3 id="examples">Examples</h3> <h4 id="example-1-send-alerts-to-the-hipchat-room-set-in-the-configuration-file">Example 1: Send alerts to the HipChat room set in the configuration file</h4> <p>Configuration file:</p> <pre>[hipchat]
  enabled = true
  url = "https://testtest.hipchat.com/v2/room"
  room = "my-alerts"
  token = "tokentokentokentokentoken"
  global = false
  state-changes-only = true
</pre> <p>TICKscript:</p> <pre>stream
    |from()
        .measurement('cpu')
    |alert()
        .crit(lambda: "usage_idle" &lt;  97)
        .message('Hey, check your CPU')
        .hipChat()
</pre> <p>The setup sends <code>Hey, check your CPU</code> to the <code>my-alerts</code> room associated with the <code>testest</code> subdomain.</p> <h4 id="example-2-send-alerts-to-the-hipchat-room-set-in-the-tickscript">Example 2: Send alerts to the HipChat room set in the TICKscript</h4> <p>Configuration file:</p> <pre>[hipchat]
  enabled = true
  url = "https://testtest.hipchat.com/v2/room"
  room = "my-alerts"
  token = "tokentokentokentokentoken"
  global = false
  state-changes-only = true
</pre> <p>TICKscript:</p> <pre>stream
    |from()
        .measurement('cpu')
    |alert()
        .crit(lambda: "usage_idle" &lt;  97)
        .message('Hey, check your CPU')
        .hipChat()
        .room('random')
</pre> <p>The setup sends <code>Hey, check your CPU</code> to the <code>random</code> room associated with the <code>testest</code> subdomain. Notice that <code>.room()</code> in the TICKscript overrides the <code>room</code> setting in the configuration file.</p> <h2 id="telegram-setup">Telegram Setup</h2> <p><a href="https://telegram.org/">Telegram</a> is a messaging app. Configure Kapacitor to send alert messages to a Telegram bot.</p> <h3 id="requirements-1">Requirements</h3> <p>To configure Kapacitor with Telegraf, you need:</p> <ul> <li>a Telegram bot</li> <li>a Telegram API access token</li> <li>your Telegram chat id</li> </ul> <blockquote> <h5 id="telegram-bot">Telegram Bot</h5> <p> The following steps describe how to create a new Telegram bot.</p> <p><strong>1.</strong> Search for the <code>@BotFather</code> username in your Telegram application</p> <p><strong>2.</strong> Click <code>Start</code> to begin a conversation with <code>@BotFather</code></p> <p><strong>3.</strong> Send <code>/newbot</code> to <code>@BotFather</code></p> <p><code>@BotFather</code> responds:</p> <pre>Alright, a new bot. How are we going to call it? Please choose a name for your bot.
</pre> <p><code>@BotFather</code> will prompt you through the rest of the bot-creation process; feel free to follow his directions or continue with our version of the steps below. Both setups result in success!</p> <p><strong>4.</strong> Send your bot’s name to <code>@BotFather</code></p> <p>Your bot’s name can be anything. Note that this is not your bot’s Telegram <code>@username</code>; you’ll create the username in step 5.</p> <p><code>@BotFather</code> responds:</p> <pre>Good. Now let's choose a username for your bot. It must end in `bot`. Like this, for example: TetrisBot or tetris_bot.
</pre> <p><strong>5.</strong> Send your bot’s username to <code>@BotFather</code></p> <p>Your bot’s username must end in <code>bot</code>. For example: <code>mushroomKap_bot</code>.</p> <p><code>BotFather</code> responds:</p> <pre>Done! Congratulations on your new bot. You will find it at t.me/&lt;bot-username&gt;. You can now add a description, about section and profile picture for your bot, see /help for a list of commands. By the way, when you've finished creating your cool bot, ping our Bot Support if you want a better username for it. Just make sure the bot is fully operational before you do this.

Use this token to access the HTTP API:
&lt;API-access-token&gt;

For a description of the Bot API, see this page: https://core.telegram.org/bots/api
</pre> <p><strong>6.</strong> Begin a conversation with your bot</p> <p>Click on the <code>t.me/&lt;bot-username&gt;</code> link in <code>@BotFather</code>’s response and click <code>Start</code> at the bottom of your Telegram application.</p> <p>Your newly-created bot will appear in the chat list on the left side of the application.</p> <h5 id="telegram-api-access-token">Telegram API Access Token</h5> <p> The following section describes how to identify or create the API access token.</p> <p>Telegram’s <code>@BotFather</code> bot sent you an API access token when you created your bot. See the <code>@BotFather</code> response in step 5 of the previous section for where to find your token.</p> <p>If you can’t find the API access token, create a new token with the steps below.</p> <p><strong>1.</strong> Send <code>/token</code> to <code>@BotFather</code></p> <p><strong>2.</strong> Select the relevant bot at the bottom of your Telegram application</p> <p><code>@BotFather</code> responds with a new API access token:</p> <pre>You can use this token to access HTTP API:
&lt;API-access-token&gt;

For a description of the Bot API, see this page: https://core.telegram.org/bots/api
</pre> <h5 id="telegram-chat-id">Telegram Chat Id</h5> <p> The following steps describe how to identify your chat id.</p> <p><strong>1.</strong> Paste the following link in your browser</p> <p>Replace <code>&lt;API-access-token&gt;</code> with the API access token that you identified or created in the previous section:</p> <pre>https://api.telegram.org/bot&lt;API-access-token&gt;/getUpdates?offset=0
</pre> <p><strong>2.</strong> Send a message to your bot</p> <p>Send a message to your bot in the Telegram application. The message text can be anything; your chat history must include at least one message to get your chat id.</p> <p><strong>3.</strong> Refresh your browser</p> <p><strong>4.</strong> Identify the chat id</p> <p>Identify the numerical chat id in the browser. In the example below, the chat id is <code>123456789</code>.</p> <pre>{"ok":true,"result":[{"update_id":XXXXXXXXX,
"message":{"message_id":2,"from":{"id":123456789,"first_name":"Mushroom","last_name":"Kap"},"chat":{"id":123456789,"first_name":"Mushroom","last_name":"Kap","type":"private"},"date":1487183963,"text":"hi"}}]}
</pre> </blockquote> <h3 id="configuration-1">Configuration</h3> <p>In the <code>[telegram]</code> section of Kapacitor’s configuration file set:</p> <ul> <li>
<code>enabled</code> to <code>true</code>
</li> <li>
<code>token</code> to your <a href="#telegram-api-access-token">API access token</a>
</li> </ul> <p>The default <code>url</code> setting (<code>https://api.telegram.org/bot</code>) requires no additional configuration.</p> <p>The optional configuration settings are:</p> <p><code>chat_id</code> Set to your Telegram <a href="#telegram-chat-id">chat id</a>. This serves as the default chat id if the TICKscript doesn’t specify a chat id. <code>parse-mode</code> Set to <code>Markdown</code> or <code>HTML</code> for markdown-formatted or HTML-formatted alert messages. The default <code>parse-mode</code> is <code>Markdown</code>. <code>disable-web-page-preview</code> Set to <code>true</code> to disable <a href="https://telegram.org/blog/link-preview">link previews</a> in alert messages. <code>disable-notification</code>. Set to <code>true</code> to disable notifications on iOS devices and disable sounds on Android devices. When set to <code>true</code>, Android users continue to receive notifications. <code>global</code> Set to <code>true</code> to send all alerts to Telegram without needing to specify Telegram in TICKscripts. <code>state-changes-only</code> Set to <code>true</code> to only send an alert to Telegram if the alert state changes. This setting only applies if the <code>global</code> setting is also set to <code>true</code>.</p> <h4 id="sample-configuration-1">Sample Configuration</h4> <pre>[telegram]
  enabled = true
  url = "https://api.telegram.org/bot"
  token = "abcdefghi:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
  chat-id = "123456789"
  parse-mode = Markdown
  disable-web-page-preview = true
  disable-notification = false
  global = true
  state-changes-only = true
</pre> <h3 id="tickscript-syntax-1">TICKscript Syntax</h3> <pre>|alert()
    .telegram()
        .chatId('&lt;chat_id&gt;')
        .disableNotification()
        .disableWebPagePreview()
        .parseMode(['Markdown' | 'HTML'])
</pre> <p>The <code>.chatId()</code>, <code>.disableNotification()</code>, <code>.disableWebPagePreview()</code>, and <code>.parseMode()</code> specifications are optional. If they aren’t set in the TICKscript, they default to the <code>chat-id</code>, <code>disable-notification</code>, <code>disable-web-page-preview</code>, and <code>parse-mode</code> settings in the <code>[telegram]</code> section of the configuration file. Note that if <code>global</code> is set to <code>true</code> in the configuration file, there’s no need to specify <code>.telegram()</code> in the TICKscript; Kapacitor sends all alerts to Telegram by default.</p> <p><code>.chatId('&lt;chat_id&gt;')</code> Sets the Telegram <a href="#telegram-chat-id">chat id</a>. <code>.disableNotification()</code> Disables notifications on iOS devices and disables sounds on Android devices. Android users continue to receive notifications. <code>.disableWebPagePreview()</code> Disables <a href="https://telegram.org/blog/link-preview">link previews</a> in alert messages. <code>.parseMode(['Markdown' | 'HTML'])</code> Sets <code>Markdown</code> or <code>HTML</code> as the format for alert messages.</p> <h3 id="examples-1">Examples</h3> <h4 id="example-1-send-alerts-to-the-telegram-chat-id-set-in-the-configuration-file">Example 1: Send alerts to the Telegram chat id set in the configuration file</h4> <p>Configuration file:</p> <pre>[telegram]
  enabled = true
  url = "https://api.telegram.org/bot"
  token = "abcdefghi:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
  chat-id = "123456789"
  parse-mode  = "Markdown"
  disable-web-page-preview = false
  disable-notification = false
  global = false
  state-changes-only = false
</pre> <p>TICKscript:</p> <pre>stream
  |from()
    .measurement('cpu')
  |alert()
    .crit(lambda: "usage_idle" &lt; 97)
    .message('Might want to check your CPU')
    .telegram()
</pre> <p>The setup sends <code>Might want to check your CPU</code> to the Telegram bot associated with the chat id <code>123456789</code> and API access token <code>abcdefghi:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code>.</p> <h4 id="example-2-send-alerts-to-the-telegram-chat-id-set-in-the-tickscript">Example 2: Send alerts to the Telegram chat id set in the TICKscript</h4> <p>Configuration file:</p> <pre>[telegram]
  enabled = true
  url = "https://api.telegram.org/bot"
  token = "abcdefghi:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
  chat-id = ""
  parse-mode  = "Markdown"
  disable-web-page-preview = false
  disable-notification = false
  global = false
  state-changes-only = false
</pre> <p>TICKscript:</p> <pre>stream
  |from()
    .measurement('cpu')
  |alert()
    .crit(lambda: "usage_idle" &lt; 97)
    .message('Might want to check your CPU')
    .telegram()
      .chatId('123456789')
</pre> <p>The setup sends <code>Might want to check your CPU</code> to the Telegram bot associated with the chat id <code>123456789</code> and API access token <code>abcdefghi:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2015 InfluxData, Inc.<br>Licensed under the MIT license.<br>
    <a href="https://docs.influxdata.com/kapacitor/v1.3/guides/event-handler-setup/" class="_attribution-link">https://docs.influxdata.com/kapacitor/v1.3/guides/event-handler-setup/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
