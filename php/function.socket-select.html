
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Socket_select - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 4 &#62;&#61; 4.1.0, PHP 5, PHP 7) ">
  <meta name="keywords" content="socket, select, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.socket-select.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">socket_select</h1> <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7)</p>
<p class="refpurpose"><span class="refname">socket_select</span> — <span class="dc-title">Runs the select() system call on the given arrays of sockets with a specified timeout</span></p> </div> <div class="refsect1 description" id="refsect1-function.socket-select-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">int socket_select ( array &amp;$read , array &amp;$write , array &amp;$except , int $tv_sec [, int $tv_usec = 0 ] )</pre> <p class="para rdfs-comment"> <span class="function"><strong>socket_select()</strong></span> accepts arrays of sockets and waits for them to change status. Those coming with BSD sockets background will recognize that those socket resource arrays are in fact the so-called file descriptor sets. Three independent arrays of socket resources are watched. </p> </div> <div class="refsect1 parameters" id="refsect1-function.socket-select-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">read</code>
</dt> <dd> <p class="para"> The sockets listed in the <code class="parameter">read</code> array will be watched to see if characters become available for reading (more precisely, to see if a read will not block - in particular, a socket resource is also ready on end-of-file, in which case a <span class="function"><a href="function.socket-read" class="function">socket_read()</a></span> will return a zero length string). </p> </dd> <dt> <code class="parameter">write</code>
</dt> <dd> <p class="para"> The sockets listed in the <code class="parameter">write</code> array will be watched to see if a write will not block. </p> </dd> <dt> <code class="parameter">except</code>
</dt> <dd> <p class="para"> The sockets listed in the <code class="parameter">except</code> array will be watched for exceptions. </p> </dd> <dt> <code class="parameter">tv_sec</code>
</dt> <dd> <p class="para"> The <code class="parameter">tv_sec</code> and <code class="parameter">tv_usec</code> together form the <em>timeout</em> parameter. The <em>timeout</em> is an upper bound on the amount of time elapsed before <span class="function"><strong>socket_select()</strong></span> return. <code class="parameter">tv_sec</code> may be zero , causing <span class="function"><strong>socket_select()</strong></span> to return immediately. This is useful for polling. If <code class="parameter">tv_sec</code> is <strong><code>NULL</code></strong> (no timeout), <span class="function"><strong>socket_select()</strong></span> can block indefinitely. </p> </dd> <dt> <code class="parameter">tv_usec</code>
</dt>  </dl> <div class="warning">
<strong class="warning">Warning</strong> <p class="para"> On exit, the arrays are modified to indicate which socket resource actually changed status. </p> </div> <p class="para"> You do not need to pass every array to <span class="function"><strong>socket_select()</strong></span>. You can leave it out and use an empty array or <strong><code>NULL</code></strong> instead. Also do not forget that those arrays are passed <em class="emphasis">by reference</em> and will be modified after <span class="function"><strong>socket_select()</strong></span> returns. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Due a limitation in the current Zend Engine it is not possible to pass a constant modifier like <strong><code>NULL</code></strong> directly as a parameter to a function which expects this parameter to be passed by reference. Instead use a temporary variable or an expression with the leftmost member being a temporary variable: </p>
<div class="example" id="snmp.set.example.multiple"> <p><strong>Example #1 Using <strong><code>NULL</code></strong> with <span class="function"><strong>socket_select()</strong></span></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$e = NULL;
socket_select($r, $w, $e, 0);
?&gt;</pre> </div> </div> </blockquote> </div> <div class="refsect1 returnvalues" id="refsect1-function.socket-select-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> On success <span class="function"><strong>socket_select()</strong></span> returns the number of socket resources contained in the modified arrays, which may be zero if the timeout expires before anything interesting happens. On error <strong><code>FALSE</code></strong> is returned. The error code can be retrieved with <span class="function"><a href="function.socket-last-error" class="function">socket_last_error()</a></span>. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Be sure to use the <em>===</em> operator when checking for an error. Since the <span class="function"><strong>socket_select()</strong></span> may return 0 the comparison with <em>==</em> would evaluate to <strong><code>TRUE</code></strong>: </p>
<div class="example" id="snmp.set.example.bits"> <p><strong>Example #2 Understanding <span class="function"><strong>socket_select()</strong></span>'s result</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$e = NULL;
if (false === socket_select($r, $w, $e, 0)) {
    echo "socket_select() failed, reason: " .
        socket_strerror(socket_last_error()) . "\n";
}
?&gt;</pre> </div> </div> </blockquote> </div> <div class="refsect1 examples" id="refsect1-function.socket-select-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="snmp.setsecurity.example.basic"> <p><strong>Example #3 <span class="function"><strong>socket_select()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/* Prepare the read array */
$read   = array($socket1, $socket2);
$write  = NULL;
$except = NULL;
$num_changed_sockets = socket_select($read, $write, $except, 0);

if ($num_changed_sockets === false) {
    /* Error handling */
} else if ($num_changed_sockets &gt; 0) {
    /* At least at one of the sockets something interesting happened */
}
?&gt;</pre> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.socket-select-notes"> <h3 class="title">Notes</h3> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Be aware that some socket implementations need to be handled very carefully. A few basic rules: </p>
<ul class="itemizedlist"> <li class="listitem"> <span class="simpara"> You should always try to use <span class="function"><strong>socket_select()</strong></span> without timeout. Your program should have nothing to do if there is no data available. Code that depends on timeouts is not usually portable and difficult to debug. </span> </li> <li class="listitem"> <span class="simpara"> No socket resource must be added to any set if you do not intend to check its result after the <span class="function"><strong>socket_select()</strong></span> call, and respond appropriately. After <span class="function"><strong>socket_select()</strong></span> returns, all socket resources in all arrays must be checked. Any socket resource that is available for writing must be written to, and any socket resource available for reading must be read from. </span> </li> <li class="listitem"> <span class="simpara"> If you read/write to a socket returns in the arrays be aware that they do not necessarily read/write the full amount of data you have requested. Be prepared to even only be able to read/write a single byte. </span> </li> <li class="listitem"> <span class="simpara"> It's common to most socket implementations that the only exception caught with the <code class="parameter">except</code> array is out-of-bound data received on a socket. </span> </li> </ul> </blockquote> </div> <div class="refsect1 seealso" id="refsect1-function.socket-select-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.socket-read" class="function" rel="rdfs-seeAlso">socket_read()</a> - Reads a maximum of length bytes from a socket</span></li> <li class="member"><span class="function"><a href="function.socket-write" class="function" rel="rdfs-seeAlso">socket_write()</a> - Write to a socket</span></li> <li class="member"><span class="function"><a href="function.socket-last-error" class="function" rel="rdfs-seeAlso">socket_last_error()</a> - Returns the last error on the socket</span></li> <li class="member"><span class="function"><a href="function.socket-strerror" class="function" rel="rdfs-seeAlso">socket_strerror()</a> - Return a string describing a socket error</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="function.socket-recvmsg">← socket_recvmsg</a></div> <div class="next" style="text-align: right; float: right;"><a href="function.socket-send">socket_send →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.socket-select.php" class="_attribution-link">https://secure.php.net/manual/en/function.socket-select.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
