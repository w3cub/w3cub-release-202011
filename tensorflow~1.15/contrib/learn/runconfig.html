
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.contrib.learn.RunConfig - TensorFlow 1.15 - W3cubDocs</title>
  
  <meta name="description" content=" This class specifies the configurations for an Estimator run. ">
  <meta name="keywords" content="tf, contrib, learn, runconfig, tensorflow, tensorflow~1.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~1.15/contrib/learn/runconfig.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/tensorflow~1.15.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~1.15/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 1.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.contrib.learn.RunConfig</h1>       <p>This class specifies the configurations for an <code translate="no" dir="ltr">Estimator</code> run.</p> <p>Inherits From: <a href="../../estimator/runconfig"><code translate="no" dir="ltr">RunConfig</code></a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.contrib.learn.RunConfig(
    master=None, num_cores=0, log_device_placement=False, gpu_memory_fraction=1,
    tf_random_seed=None, save_summary_steps=100, save_checkpoints_secs=_USE_DEFAULT,
    save_checkpoints_steps=None, keep_checkpoint_max=5,
    keep_checkpoint_every_n_hours=10000, log_step_count_steps=100, protocol=None,
    evaluation_master='', model_dir=None, session_config=None,
    session_creation_timeout_secs=7200
)
</pre>  <p>This class is a deprecated implementation of <a href="../../estimator/runconfig"><code translate="no" dir="ltr">tf.estimator.RunConfig</code></a> interface.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">master</code> </td> <td> TensorFlow master. Defaults to empty string for local. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">num_cores</code> </td> <td> Number of cores to be used. If 0, the system picks an appropriate number (default: 0). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">log_device_placement</code> </td> <td> Log the op placement to devices (default: False). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">gpu_memory_fraction</code> </td> <td> Fraction of GPU memory used by the process on each GPU uniformly on the same machine. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">tf_random_seed</code> </td> <td> Random seed for TensorFlow initializers. Setting this value allows consistency between reruns. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_summary_steps</code> </td> <td> Save summaries every this many steps. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_checkpoints_secs</code> </td> <td> Save checkpoints every this many seconds. Can not be specified with <code translate="no" dir="ltr">save_checkpoints_steps</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_checkpoints_steps</code> </td> <td> Save checkpoints every this many steps. Can not be specified with <code translate="no" dir="ltr">save_checkpoints_secs</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">keep_checkpoint_max</code> </td> <td> The maximum number of recent checkpoint files to keep. As new files are created, older files are deleted. If None or 0, all checkpoint files are kept. Defaults to 5 (that is, the 5 most recent checkpoint files are kept.) </td> </tr>
<tr> <td> <code translate="no" dir="ltr">keep_checkpoint_every_n_hours</code> </td> <td> Number of hours between each checkpoint to be saved. The default value of 10,000 hours effectively disables the feature. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">log_step_count_steps</code> </td> <td> The frequency, in number of global steps, that the global step/sec will be logged during training. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">protocol</code> </td> <td> An optional argument which specifies the protocol used when starting server. None means default to grpc. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">evaluation_master</code> </td> <td> the master on which to perform evaluation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">model_dir</code> </td> <td> directory where model parameters, graph etc are saved. If <code translate="no" dir="ltr">None</code>, will use <code translate="no" dir="ltr">model_dir</code> property in <code translate="no" dir="ltr">TF_CONFIG</code> environment variable. If both are set, must have same value. If both are <code translate="no" dir="ltr">None</code>, see <code translate="no" dir="ltr">Estimator</code> about where the model will be saved. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">session_config</code> </td> <td> a ConfigProto used to set session parameters, or None. Note - using this argument, it is easy to provide settings which break otherwise perfectly good models. Use with care. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">session_creation_timeout_secs</code> </td> <td> Max time workers should wait for a session to become available (on initialization or when recovering a session) with MonitoredTrainingSession. Defaults to 7200 seconds, but users may want to set a lower value to detect problems with variable / session (re)-initialization more quickly. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">cluster_spec</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">device_fn</code> </td> <td> Returns the device_fn. <p>If device_fn is not <code translate="no" dir="ltr">None</code>, it overrides the default device function used in <code translate="no" dir="ltr">Estimator</code>. Otherwise the default one is used. </p>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">environment</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_distribute</code> </td> <td> Optional <a href="../../distribute/strategy"><code translate="no" dir="ltr">tf.distribute.Strategy</code></a> for evaluation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">evaluation_master</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">experimental_max_worker_delay_secs</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">global_id_in_cluster</code> </td> <td> The global id in the training cluster. <p>All global ids in the training cluster are assigned from an increasing sequence of consecutive integers. The first id is 0.</p> <blockquote class="note">
<strong>Note:</strong><span> Task id (the property field <code translate="no" dir="ltr">task_id</code>) is tracking the index of the node among all nodes with the SAME task type. For example, given the cluster definition as follows:</span>
</blockquote>
<pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">cluster = {'chief': ['host0:2222'],
'ps': ['host1:2222', 'host2:2222'],
'worker': ['host3:2222', 'host4:2222', 'host5:2222']}
</pre> <p>Nodes with task type <code translate="no" dir="ltr">worker</code> can have id 0, 1, 2. Nodes with task type <code translate="no" dir="ltr">ps</code> can have id, 0, 1. So, <code translate="no" dir="ltr">task_id</code> is not unique, but the pair (<code translate="no" dir="ltr">task_type</code>, <code translate="no" dir="ltr">task_id</code>) can uniquely determine a node in the cluster.</p> <p>Global id, i.e., this field, is tracking the index of the node among ALL nodes in the cluster. It is uniquely assigned. For example, for the cluster spec given above, the global ids are assigned as:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">task_type  | task_id  |  global_id
--------------------------------
chief      | 0        |  0
worker     | 0        |  1
worker     | 1        |  2
worker     | 2        |  3
ps         | 0        |  4
ps         | 1        |  5
</pre> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">is_chief</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">keep_checkpoint_every_n_hours</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">keep_checkpoint_max</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">log_step_count_steps</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">master</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">model_dir</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">num_ps_replicas</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">num_worker_replicas</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">protocol</code> </td> <td> Returns the optional protocol value. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_checkpoints_secs</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_checkpoints_steps</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_summary_steps</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">service</code> </td> <td> Returns the platform defined (in TF_CONFIG) service dict. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">session_config</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">session_creation_timeout_secs</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">task_id</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">task_type</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">tf_config</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">tf_random_seed</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">train_distribute</code> </td> <td> Optional <a href="../../distribute/strategy"><code translate="no" dir="ltr">tf.distribute.Strategy</code></a> for training. </td> </tr> </table> <h2 id="methods" data-text="Methods" tabindex="0">Methods</h2> <h3 id="get_task_id" data-text="get_task_id" tabindex="0"><code translate="no" dir="ltr">get_task_id</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/estimators/run_config.py#L204-L218">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
@staticmethod
get_task_id()
</pre> <p>Returns task index from <code translate="no" dir="ltr">TF_CONFIG</code> environmental variable.</p> <p>If you have a ClusterConfig instance, you can just access its task_id property instead of calling this function and re-parsing the environmental variable.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> <code translate="no" dir="ltr">TF_CONFIG['task']['index']</code>. Defaults to 0. </td> </tr> 
</table> <h3 id="replace" data-text="replace" tabindex="0"><code translate="no" dir="ltr">replace</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/run_config.py">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
replace(
    **kwargs
)
</pre> <p>Returns a new instance of <code translate="no" dir="ltr">RunConfig</code> replacing specified properties.</p> <p>Only the properties in the following list are allowed to be replaced:</p> <ul> <li>
<code translate="no" dir="ltr">model_dir</code>,</li> <li>
<code translate="no" dir="ltr">tf_random_seed</code>,</li> <li>
<code translate="no" dir="ltr">save_summary_steps</code>,</li> <li>
<code translate="no" dir="ltr">save_checkpoints_steps</code>,</li> <li>
<code translate="no" dir="ltr">save_checkpoints_secs</code>,</li> <li>
<code translate="no" dir="ltr">session_config</code>,</li> <li>
<code translate="no" dir="ltr">keep_checkpoint_max</code>,</li> <li>
<code translate="no" dir="ltr">keep_checkpoint_every_n_hours</code>,</li> <li>
<code translate="no" dir="ltr">log_step_count_steps</code>,</li> <li>
<code translate="no" dir="ltr">train_distribute</code>,</li> <li>
<code translate="no" dir="ltr">device_fn</code>,</li> <li>
<code translate="no" dir="ltr">protocol</code>.</li> <li>
<code translate="no" dir="ltr">eval_distribute</code>,</li> <li>
<code translate="no" dir="ltr">experimental_distribute</code>,</li> <li>
<code translate="no" dir="ltr">experimental_max_worker_delay_secs</code>,</li> </ul> <p>In addition, either <code translate="no" dir="ltr">save_checkpoints_steps</code> or <code translate="no" dir="ltr">save_checkpoints_secs</code> can be set (should not be both).</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">**kwargs</code> </td> <td> keyword named properties with new values. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If any property name in <code translate="no" dir="ltr">kwargs</code> does not exist or is not allowed to be replaced, or both <code translate="no" dir="ltr">save_checkpoints_steps</code> and <code translate="no" dir="ltr">save_checkpoints_secs</code> are set. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> a new instance of <code translate="no" dir="ltr">RunConfig</code>. </td> </tr> 
</table> <h3 id="uid" data-text="uid" tabindex="0"><code translate="no" dir="ltr">uid</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/estimators/run_config.py#L343-L376">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
uid(
    whitelist=None
)
</pre> <p>Generates a 'Unique Identifier' based on all internal fields. (experimental)</p> <aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS EXPERIMENTAL. It may change or be removed at any time, and without warning.</span></aside> <p>Caller should use the uid string to check <code translate="no" dir="ltr">RunConfig</code> instance integrity in one session use, but should not rely on the implementation details, which is subject to change.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">whitelist</code> </td> <td> A list of the string names of the properties uid should not include. If <code translate="no" dir="ltr">None</code>, defaults to <code translate="no" dir="ltr">_DEFAULT_UID_WHITE_LIST</code>, which includes most properties user allowes to change. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A uid string. </td> </tr> 
</table>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    Â© 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/contrib/learn/RunConfig" class="_attribution-link">https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/contrib/learn/RunConfig</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
