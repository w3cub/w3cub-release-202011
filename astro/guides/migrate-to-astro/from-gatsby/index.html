
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Migrating From Gatsby - Astro - W3cubDocs</title>
  
  <meta name="description" content=" Here are some key concepts and migration strategies to help you get started. Use the rest of our docs and our Discord community to keep going! ">
  <meta name="keywords" content="migrating, from, gatsby, astro">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/astro/guides/migrate-to-astro/from-gatsby/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/astro.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/astro/" class="_nav-link" title="" style="margin-left:0;">Astro</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="content-title astro-J75B3YUS" id="overview">Migrating from Gatsby</h1> <p>Here are some key concepts and migration strategies to help you get started. Use the rest of our docs and our <a href="https://astro.build/chat">Discord community</a> to keep going!</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="key-similarities-between-gatsby-and-astro">Key Similarities between Gatsby and Astro</h2></div> <p>Gatsby and Astro share some similarities that will help you migrate your project:</p> <ul> <li> <p>The <a href="../../../core-concepts/astro-syntax/index#jsx-like-expressions">syntax of <code>.astro</code> files is similar to JSX</a>. Writing Astro should feel familiar.</p> </li> <li> <p>Astro has built-in support for <a href="../../markdown-content/index">Markdown</a> and an integration for using MDX files. Also, you can configure and continue to use many of your existing Markdown plugins.</p> </li> <li> <p>Astro also has an <a href="../../integrations-guide/react/index">official integration for using React components</a>. Note that in Astro, React files <strong>must</strong> have a <code>.jsx</code> or <code>.tsx</code> extension.</p> </li> <li> <p>Astro has support for <a href="../../imports/index#npm-packages">installing NPM packages</a>, including React libraries. Many of your existing dependencies will work in Astro.</p> </li> <li> <p>Like Gatsby, Astro projects can be SSG or <a href="../../server-side-rendering/index#configuring-individual-routes">SSR with page-level prerendering</a>.</p> </li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="key-differences-between-gatsby-and-astro">Key Differences between Gatsby and Astro</h2></div> <p>When you rebuild your Gatsby site in Astro, you will notice some important differences:</p> <ul> <li> <p><a href="../../../concepts/mpa-vs-spa/index">MPA vs SPA</a>: Gatsby projects are React single-page apps and use <code>index.js</code> as your project’s root. Astro projects are multi-page sites, and <code>index.astro</code> is your home page.</p> </li> <li> <p><a href="../../../core-concepts/astro-components/index">Astro components</a> are not written as exported functions that return page templating. Instead, you’ll split your code into a “code fence” for your JavaScript and a body exclusively for the HTML you generate.</p> </li> <li> <p><a href="../../imports/index">Local file data</a>: Gatsby uses GraphQL to retrieve data from your project files. Astro uses ESM imports and top-level await functions (e.g. <a href="../../imports/index#astroglob"><code>Astro.glob()</code></a>, <a href="../../content-collections/index#querying-collections"><code>getCollection()</code></a>) to import data from your project files. You can manually add GraphQL to your Astro project but it is not included by default.</p> </li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="convert-your-gatsby-project">Convert your Gatsby Project</h2></div> <p>Each project migration will look different, but there are some common actions you will perform when converting from Gatsby to Astro.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="create-a-new-astro-project">Create a new Astro project</h3></div> <p>Use the <code>create astro</code> command for your package manager to launch Astro’s CLI wizard or choose a community theme from the <a href="https://astro.build/themes">Astro Theme Showcase</a>.</p> <p>You can pass a <code>--template</code> argument to the <code>create astro</code> command to start a new Astro project with one of our official starters (e.g. <code>docs</code>, <code>blog</code>, <code>portfolio</code>). Or, you can <a href="../../../install/auto/index#starter-templates">start a new project from any existing Astro repository on GitHub</a>.</p> <astro-island uid="Z1GBnG3" component-url="/_astro/Tabs.33c23373.js" component-export="default" renderer-url="/_astro/client.5c11df2d.js" props='{"sharedStore":[0,"package-managers"]}' ssr="" client="visible" opts='{"name":"Tabs","value":true}' await-children=""><div class="_container_1kkny_1">
<div class="_tab-scroll-overflow_1kkny_6"><div class="_tablist_1kkny_30 TabGroup no-flex" role="tablist">
<button aria-selected="true" tabindex="0" role="tab" type="button" class="_tab_1kkny_6" id="44-tab.npm"><astro-slot name="tab.npm">npm</astro-slot></button><button aria-selected="false" tabindex="-1" role="tab" type="button" class="_tab_1kkny_6" id="44-tab.pnpm"><astro-slot name="tab.pnpm">pnpm</astro-slot></button><button aria-selected="false" tabindex="-1" role="tab" type="button" class="_tab_1kkny_6" id="44-tab.yarn"><astro-slot name="tab.yarn">Yarn</astro-slot></button>
</div></div>
<div role="tabpanel" aria-labelledby="44-tab.npm" class="_tabpanel_1kkny_26"><astro-slot name="panel.npm"> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>


</div> </astro-slot></div>
<div hidden role="tabpanel" aria-labelledby="44-tab.pnpm" class="_tabpanel_1kkny_26"><astro-slot name="panel.pnpm"> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>


</div> </astro-slot></div>
<div hidden role="tabpanel" aria-labelledby="44-tab.yarn" class="_tabpanel_1kkny_26"><astro-slot name="panel.yarn"> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>


</div> </astro-slot></div>
</div></astro-island> <p>Then, copy your existing Gatsby project files over to your new Astro project into a separate folder outside of <code>src</code>.</p> <aside class="content tip astro-DUQFCLOB" aria-label="Tip"> <p class="title astro-DUQFCLOB" aria-hidden="true">  Tip </p> <section class="astro-DUQFCLOB"> <p>Visit <a href="https://astro.new">https://astro.new</a> for the full list of official starter templates, and links for opening a new project in StackBlitz, CodeSandbox, or Gitpod.</p> </section> </aside> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="install-integrations-optional">Install integrations (optional)</h3></div> <p>You may find it useful to install some of <a href="../../integrations-guide/index">Astro’s optional integrations</a> to use while converting your Gatsby project to Astro:</p> <ul> <li> <p><strong>@astrojs/react</strong>: to reuse some existing React UI components in your new Astro site or keep writing with React components.</p> </li> <li> <p><strong>@astrojs/image</strong>: to replace Gatsby’s Image plugin with Astro’s own image-optimizing components. (Experimental: works in <code>.astro</code> and <code>.mdx</code> files only.)</p> </li> <li> <p><strong>@astrojs/mdx</strong>: to bring existing MDX files from your Gatsby project, or to use MDX in your new Astro site.</p> </li> </ul> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="put-your-code-in-src">Put your code in <code>src</code>
</h3></div> <p>Following <a href="../../../core-concepts/project-structure/index">Astro’s project structure</a>:</p> <ol> <li> <p><strong>Delete</strong> Gatsby’s <code>public/</code> folder.</p> <p>Gatsby uses the <code>public/</code> directory for its build output, so you can safely discard this folder. You will no longer need a built version of your Gatsby site. (Astro uses <code>dist/</code> by default for the build output.)</p> </li> <li> <p><strong>Rename</strong> Gatsby’s <code>static/</code> folder to <code>public/</code>, and use it as Astro’s <code>public/</code> folder.</p> <p>Astro uses a folder called <code>public/</code> for static assets. You can alternatively copy the contents of <code>static/</code> into your existing Astro <code>public/</code> folder.</p> </li> <li> <p><strong>Copy or Move</strong> Gatsby’s other files and folders (e.g. <code>components</code>, <code>pages</code>, etc.) as needed into your Astro <code>src/</code> folder as you rebuild your site, following <a href="../../../core-concepts/project-structure/index">Astro’s project structure</a>.</p> </li> </ol> <p>Astro’s <code>src/pages/</code> folder is a special folder used for file-based routing to create your site’s pages and posts from <code>.astro</code>, <code>.md</code> and <code>.mdx</code> files. You will not have to configure any routing behavior for your Astro, Markdown, and MDX files.</p> <p>All other folders are optional, and you can organize the contents of your <code>src/</code> folder any way you like. Other common folders in Astro projects include <code>src/layouts/</code>, <code>src/components</code>, <code>src/styles</code>, and <code>src/scripts</code>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="tips-convert-jsx-files-to-astro-files">Tips: Convert JSX files to <code>.astro</code> files</h3></div> <p>Here are some tips for converting a Gatsby <code>.js</code> component into a <code>.astro</code> component:</p> <ol> <li> <p>Use only the <code>return()</code> of the existing Gatsby component function as your HTML template.</p> </li> <li> <p>Change any <a href="#reference-convert-to-astro-syntax">Gatsby or JSX syntax to Astro syntax</a> or to HTML web standards. This includes <code>&lt;Link to=""&gt;</code>, <code>{children}</code>, and <code>className</code>, for example.</p> </li> <li> <p>Move any necessary JavaScript, including import statements, into a <a href="../../../core-concepts/astro-components/index#the-component-script">“code fence” (<code>---</code>)</a>. Note: JavaScript to <a href="../../../core-concepts/astro-syntax/index#dynamic-html">conditionally render content</a> is often written inside the HTML template directly in Astro.</p> </li> <li> <p>Use <a href="../../../reference/api-reference/index#astroprops"><code>Astro.props</code></a> to access any additional props that were previously passed to your Gatsby function.</p> </li> <li> <p>Decide whether any imported components also need to be converted to Astro. With the official React integration installed, you can <a href="../../../core-concepts/framework-components/index">use existing React components in your Astro files</a>. But, you may want to convert them to <code>.astro</code> components, especially if they do not need to be interactive!</p> </li> <li> <p>Remove any GraphQL queries. Instead, use import and <a href="../../../reference/api-reference/index#astroglob"><code>Astro.glob()</code></a> statements to query your local files.</p> </li> </ol> <p>See <a href="#guided-example-gatsby-layout-to-astro">an example from Gatsby’s Blog starter template converted step-by-step</a></p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="compare-jsx-vs-astro">Compare: <code>.jsx</code> vs <code>.astro</code>
</h4></div> <p>Compare the following Gatsby component and a corresponding Astro component:</p> <astro-island uid="C4qna" component-url="/_astro/Tabs.33c23373.js" component-export="default" renderer-url="/_astro/client.5c11df2d.js" props='{"sharedStore":[0,"astro-jsx"]}' ssr="" client="visible" opts='{"name":"Tabs","value":true}' await-children=""><div class="_container_1kkny_1">
<div class="_tab-scroll-overflow_1kkny_6"><div class="_tablist_1kkny_30 TabGroup no-flex" role="tablist">
<button aria-selected="true" tabindex="0" role="tab" type="button" class="_tab_1kkny_6" id="45-tab.1.jsx"><astro-slot name="tab.1.jsx">JSX</astro-slot></button><button aria-selected="false" tabindex="-1" role="tab" type="button" class="_tab_1kkny_6" id="45-tab.2.astro"><astro-slot name="tab.2.astro">Astro</astro-slot></button>
</div></div>
<div role="tabpanel" aria-labelledby="45-tab.1.jsx" class="_tabpanel_1kkny_26"><astro-slot name="panel.1.jsx"> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">component.jsx</span></div>


</div> </astro-slot></div>
<div hidden role="tabpanel" aria-labelledby="45-tab.2.astro" class="_tabpanel_1kkny_26"><astro-slot name="panel.2.astro"> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">component.astro</span></div>


</div> </astro-slot></div>
</div></astro-island> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="migrating-layout-files">Migrating Layout Files</h3></div> <p>You may find it helpful to start by converting your Gatsby layouts and templates into <a href="../../../core-concepts/layouts/index">Astro layout components</a>.</p> <p>Each Astro page explicitly requires <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, and <code>&lt;body&gt;</code> tags to be present, so it is common to reuse a layout file across pages. Astro uses a <a href="../../../core-concepts/astro-components/index#slots"><code>&lt;slot /&gt;</code></a> instead of React’s <code>{children}</code> prop for page content, with no import statement required. Your Gatsby <code>layout.js</code> and templates will not include these.</p> <p>Note the standard HTML templating, and direct access to <code>&lt;head&gt;</code>:</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/layouts/Layout.astro</span></div>


</div> <p>You may also wish to reuse code from Gatsby’s <code>src/components/seo.js</code> to include additional site metadata. Notice that Astro uses neither <code>&lt;Helmet&gt;</code> nor <code>&lt;Header&gt;</code> but instead creates <code>&lt;head&gt;</code> directly. You may import and use components, even within <code>&lt;head&gt;</code>, to separate and organize your page content.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="migrating-pages-and-posts">Migrating Pages and Posts</h3></div> <p>In Gatsby, your <a href="../../../core-concepts/astro-pages/index">pages and posts</a> may exist in <code>src/pages/</code> or outside of <code>src</code> in another folder, like <code>content</code>. In Astro, <strong>all your page content must live within <code>src/</code></strong>.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="react-pages">React Pages</h4></div> <p>Your existing Gatsby JSX (<code>.js</code>) pages will need to be <a href="#tips-convert-jsx-files-to-astro-files">converted from JSX files to <code>.astro</code> pages</a>. You cannot use an existing JSX page file in Astro.</p> <p>These <a href="../../../core-concepts/astro-pages/index"><code>.astro</code> pages</a> must be located within <code>src/pages/</code> and will have page routes generated automatically based on their file path.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="markdown-and-mdx-pages">Markdown and MDX pages</h4></div> <p>Astro has built-in support for Markdown and an optional integration for MDX files. Your existing <a href="../../markdown-content/index">Markdown and MDX files</a> can be reused but may require some adjustments to their frontmatter, such as adding <a href="../../../core-concepts/layouts/index#markdownmdx-layouts">Astro’s special <code>layout</code> frontmatter property</a>. They can also be placed within <code>src/pages/</code> to take advantage of automatic file-based routing.</p> <p>Alternatively, you can use <a href="../../content-collections/index">content collections</a> in Astro to store and manage your content. When part of a collection, Markdown and MDX files will live in folders within <code>src/content/</code>. You will retrieve the content yourself and <a href="../../content-collections/index#generating-routes-from-content">generate those pages dynamically</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="migrating-tests">Migrating Tests</h3></div> <p>As Astro outputs raw HTML, it is possible to write end-to-end tests using the output of the build step. Any end-to-end tests written previously might work out-of-the-box if you have been able to match the markup of the older Gatsby site. Testing libraries such as Jest and React Testing Library can be imported and used in Astro to test your React components.</p> <p>See Astro’s <a href="../../testing/index">testing guide</a> for more.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="repurpose-config-files">Repurpose config files</h3></div> <p>Gatsby has several top-level configuration files that also include site and page metadata and are used for routing. You will not use any of these <code>gatsby-*.js</code> files in your Astro project, but there may be some content that you can reuse as you build your Astro project:</p> <ul> <li> <p><code>gatsby-config.js</code>: Move your <code>siteMetadata: {}</code> into <code>src/data/siteMetadata.js</code> (or <code>siteMetadata.json</code>) to import data about your site (title, description, social accounts, etc.) into page layouts.</p> </li> <li> <p><code>gatsby-browser.js</code>: Consider adding anything used here directly into your <a href="#migrating-layout-files">main layout</a>’s <code>&lt;head&gt;</code> tag.</p> </li> <li> <p><code>gatsby-node.js</code>: You will not need to create your own nodes in Astro, but viewing the schema in this file may help you with defining types in your Astro project.</p> </li> <li> <p><code>gatsby-ssr.js</code>: If you choose to use SSR in Astro, you will <a href="../../server-side-rendering/index#adding-an-adapter">add and configure the SSR adapter</a> of your choice directly in <code>astro.config.mjs</code>.</p> </li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="reference-convert-to-astro-syntax">Reference: Convert to Astro Syntax</h2></div> <p>The following are some examples of Gatsby-specific syntax that you will need to convert to Astro. See more <a href="../../../core-concepts/astro-syntax/index#differences-between-astro-and-jsx">differences between Astro and JSX</a> in the guide to writing Astro components.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="gatsby-links-to-astro">Gatsby Links to Astro</h3></div> <p>Convert any Gatsby <code>&lt;Link to=""&gt;</code>, <code>&lt;NavLink&gt;</code> etc. components to HTML <code>&lt;a href=""&gt;</code> tags.</p>  <p>Astro does not use any special component for links, although you are welcome to build your own <code>&lt;Link&gt;</code> component. You can then import and use this <code>&lt;Link&gt;</code> just as you would any other component.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/components/Link.astro</span></div>


</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="gatsby-imports-to-astro">Gatsby Imports to Astro</h3></div> <p>If necessary, update any <a href="../../imports/index">file imports</a> to reference relative file paths exactly. This can be done using <a href="../../typescript/index#import-aliases">import aliases</a>, or by writing out a relative path in full.</p> <p>Note that <code>.astro</code> and several other file types must be imported with their full file extension.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/pages/authors/Fred.astro</span></div>


</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="gatsby-children-props-to-astro">Gatsby Children Props to Astro</h3></div> <p>Convert any instances of <code>{children}</code> to an Astro <code>&lt;slot /&gt;</code>. Astro does not need to receive <code>{children}</code> as a function prop and will automatically render child content in a <code>&lt;slot /&gt;</code>.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/components/MyComponent</span></div>


</div> <p>React components that pass multiple sets of children can be migrated to an Astro component using <a href="../../../core-concepts/astro-components/index#named-slots">named slots</a>.</p> <p>See more about <a href="../../../core-concepts/astro-components/index#slots">specific <code>&lt;slot /&gt;</code> usage in Astro</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="gatsby-styling-to-astro">Gatsby Styling to Astro</h3></div> <p>You may need to replace any <a href="https://github.com/withastro/astro/issues/4432">CSS-in-JS libraries</a> (e.g. styled-components) with other available CSS options in Astro.</p> <p>If necessary, convert any inline style objects (<code>style={{ fontWeight: "bold" }}</code>) to inline HTML style attributes (<code>style="font-weight:bold;"</code>). Or, use an <a href="../../styling/index#styling-in-astro">Astro <code>&lt;style&gt;</code> tag</a> for scoped CSS styles.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/components/Card.astro</span></div>


</div> <p>Tailwind is supported after installing the <a href="../../integrations-guide/tailwind/index">Tailwind integration</a>. No changes to your existing Tailwind code are required!</p> <p>Global styling is achieved in Gatsby using CSS imports in <code>gatsby-browser.js</code>. In Astro, you will import <code>.css</code> files directly into a main layout component to achieve global styles.</p> <p>See more about <a href="../../styling/index">Styling in Astro</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="gatsby-image-plugin-to-astro">Gatsby Image Plugin to Astro</h3></div> <aside class="content note astro-DUQFCLOB" aria-label="Note"> <p class="title astro-DUQFCLOB" aria-hidden="true">  Note </p> <section class="astro-DUQFCLOB"> <p>Astro v3.0 will include a new <code>astro:assets</code> module and will deprecate the existing <code>@astrojs/image</code> integration.</p>
<p>Access to <code>astro:assets</code> is currently available under an experimental flag, and is the recommended way to begin a new Astro project. If you are migrating to Astro pre-v3.0, we recommend <a href="../../assets/index">enabling the experimental flag to use assets</a> as an image solution.</p> </section> </aside> <p>Convert Gatsby’s <code>&lt;StaticImage /&gt;</code> and <code>&lt;GatsbyImage /&gt;</code> components with <a href="../../images/index#astros-image-integration">Astro’s own image integration components</a>, or with a standard HTML <code>&lt;img&gt;</code> / JSX <code>&lt;img /&gt;</code> tag as appropriate.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>


</div> <p>Astro’s <code>&lt;Image /&gt;</code> and <code>&lt;Picture /&gt;</code> components are experimental and currently work in <code>.astro</code> and <code>.mdx</code> files only. See a <a href="../../integrations-guide/image/index#usage">full list of component attributes</a> available for these components, and note that several will differ from Gatsby’s attributes.</p> <p>To continue using local images in Markdown (<code>.md</code>) files using standard Markdown syntax (<code>![]()</code>), move your images into your <code>public/</code> folder. You may need to update the link to the relative URL. You can also use the standard <code>&lt;img&gt;</code> tag in these files. Note that these <a href="../../images/index#public">images in <code>public/</code> will not be optimized by Astro</a>.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/pages/post-1.md</span></div>


</div> <p>In React (<code>.jsx</code>) components, use standard JSX image syntax (<code>&lt;img /&gt;</code>). Astro will not optimize these images, but you can install and use NPM packages for more flexibility.</p> <p>You can learn more about <a href="../../images/index">using images in Astro</a> in the Images Guide.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="gatsby-graphql-to-astro">Gatsby GraphQL to Astro</h3></div> <p>Remove all references to GraphQL queries, and instead use <a href="../../imports/index#astroglob"><code>Astro.glob()</code></a> to access data from your local files.</p> <p>Or, if using content collections, query your Markdown and MDX files in <code>src/content/</code> using <a href="../../content-collections/index#querying-collections"><code>getEntry()</code> and <code>getCollection()</code></a>.</p> <p>These data requests are made in the frontmatter of the Astro component using the data.</p> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>


</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="guided-example-gatsby-layout-to-astro">Guided example: Gatsby layout to Astro</h2></div> <p>This example converts the main project layout (<code>layout.js</code>) from Gatsby’s blog starter to <code>src/layouts/Layout.astro</code>.</p> <p>This page layout shows one header when visiting the home page, and a different header with a link back to Home for all other pages.</p> <ol> <li>Identify the return() JSX.</li> </ol> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">layout.js</span></div>


</div> <ol start="2"> <li>Create <code>Layout.astro</code> and add this <code>return</code> value, <a href="#reference-convert-to-astro-syntax">converted to Astro syntax</a>.</li> </ol> <p>Note that:</p> <ul> <li>
<code>{new Date().getFullYear()}</code> just works 🎉</li> <li>
<code>{children}</code> becomes <code>&lt;slot /&gt;</code> 🦥</li> <li>
<code>className</code> becomes <code>class</code> 📛</li> <li>
<code>Gatsby</code> becomes <code>Astro</code> 🚀</li> </ul> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/layouts/Layout.astro</span></div>


</div> <ol start="3"> <li>Add a page shell so that your layout provides each page with the necessary parts of an HTML document:</li> </ol> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/layouts/Layout.astro</span></div>


</div> <ol start="4"> <li>Add any needed imports, props, and JavaScript</li> </ol> <p>To conditionally render a header based on the page route and title in Astro:</p> <ul> <li>Provide the props via <code>Astro.props</code>. (Remember: your Astro templating accesses props from its frontmatter, not passed into a function.)</li> <li>Use a ternary operator to show one heading if this is the home page, and a different heading otherwise.</li> <li>Remove variables for <code>{header}</code> and <code>{isRootPath}</code> as they are no longer needed.</li> <li>Replace Gatsby’s <code>&lt;Link/&gt;</code> tags with <code>&lt;a&gt;</code> anchor tags.</li> <li>Use <code>class</code> instead of <code>className</code>.</li> <li>Import a local stylesheet from your project for the class names to take effect.</li> </ul> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/layouts/Layout.astro</span></div>


</div> <ol start="5"> <li>Update <code>index.astro</code> to use this new layout and pass it the necessary <code>title</code> and <code>pathname</code> props:</li> </ol> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>


</div> <aside class="content tip astro-DUQFCLOB" aria-label="Tip"> <p class="title astro-DUQFCLOB" aria-hidden="true">  Tip </p> <section class="astro-DUQFCLOB"> <p>You can <a href="../../../reference/api-reference/index#astrourl">get the current page’s path using <code>Astro.url</code></a>.</p> </section> </aside> <ol start="6"> <li>To test the conditional header, create a second page, <code>about.astro</code> using the same pattern:</li> </ol> <div class="expressive-code ec ec-miaxv">
<div class="_pre-heading"><span class="title">src/pages/about.astro</span></div>


</div> <p>You should see a link to “Home” only when visiting the About page.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="community-resources">Community Resources</h2></div> <ul> <li> <p>Blog Post: <a href="https://joelhooks.com/migrating-to-astro-was-ez">Migrating to Astro was EZ</a>.</p> </li> <li> <p>Blog Post: <a href="https://www.joshfinnie.com/blog/my-switch-from-gatsby-to-astro/">My Switch from Gatsby to Astro</a>.</p> </li> <li> <p>Blog Post: <a href="https://dev.to/askrodney/why-i-moved-to-astro-from-gatsby-3fck">Why I moved to Astro from Gatsby</a>.</p> </li> <li> <p>Blog Post: <a href="https://dev.to/flashblaze/migrating-my-website-from-gatsby-to-astro-2ej5">Migrating my website from Gatsby to Astro</a>.</p> </li> </ul> <aside class="content note astro-DUQFCLOB" aria-label="have a resource to share?"> <p class="title astro-DUQFCLOB" aria-hidden="true">  have a resource to share? </p> <section class="astro-DUQFCLOB"> <p>If you found (or made!) a helpful video or blog post about converting a Gatsby site to Astro, <a href="https://github.com/withastro/docs/blob/main/src/pages/en/guides/migrate-to-astro/from-gatsby.md">edit this page</a> and add it here!</p> </section> </aside> <h2 class="astro-2PJT4QWK">More migration guides</h2>
<div class="_attribution">
  <p class="_attribution-p">
    © 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/guides/migrate-to-astro/from-gatsby/" class="_attribution-link">https://docs.astro.build/en/guides/migrate-to-astro/from-gatsby/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
