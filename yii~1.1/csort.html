
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CSort - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content="list of attributes that are allowed to be sorted. For example, array(&#39;user_id&#39;,&#39;create_time&#39;) would specify that only &#39;user_id&# &hellip;">
  <meta name="keywords" content="csort, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/csort.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CSort</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.web">system.web</a></td> </tr> <tr> <th>Inheritance</th> <td>class CSort » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php">framework/web/CSort.php</a></td> </tr> </table> <div id="classDescription"> CSort represents information relevant to sorting. <br><br> When data needs to be sorted according to one or several attributes, we can use CSort to represent the sorting information and generate appropriate hyperlinks that can lead to sort actions. <br><br> CSort is designed to be used together with <a href="cactiverecord">CActiveRecord</a>. When creating a CSort instance, you need to specify <a href="csort#modelClass">modelClass</a>. You can use CSort to generate hyperlinks by calling <a href="csort#link">link</a>. You can also use CSort to modify a <a href="cdbcriteria">CDbCriteria</a> instance by calling <a href="csort#applyOrder">applyOrder</a> so that it can cause the query results to be sorted according to the specified attributes. <br><br> In order to prevent SQL injection attacks, CSort ensures that only valid model attributes can be sorted. This is determined based on <a href="csort#modelClass">modelClass</a> and <a href="csort#attributes">attributes</a>. When <a href="csort#attributes">attributes</a> is not set, all attributes belonging to <a href="csort#modelClass">modelClass</a> can be sorted. When <a href="csort#attributes">attributes</a> is set, only those attributes declared in the property can be sorted. <br><br> By configuring <a href="csort#attributes">attributes</a>, one can perform more complex sorts that may consist of things like compound attributes (e.g. sort based on the combination of first name and last name of users). <br><br> The property <a href="csort#attributes">attributes</a> should be an array of key-value pairs, where the keys represent the attribute names, while the values represent the virtual attribute definitions. For more details, please check the documentation about <a href="csort#attributes">attributes</a>.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="attributes"> <td><a href="csort#attributes-detail">attributes</a></td> <td>array</td> <td>list of attributes that are allowed to be sorted.</td> <td>CSort</td> </tr> <tr id="defaultOrder"> <td><a href="csort#defaultOrder-detail">defaultOrder</a></td> <td>mixed</td> <td>the default order that should be applied to the query criteria when the current request does not specify any sort.</td> <td>CSort</td> </tr> <tr id="descTag"> <td><a href="csort#descTag-detail">descTag</a></td> <td>string</td> <td>the tag appeared in the GET parameter that indicates the attribute should be sorted in descending order.</td> <td>CSort</td> </tr> <tr id="directions"> <td><a href="csort#directions-detail">directions</a></td> <td>array</td> <td>Returns the currently requested sort information.</td> <td>CSort</td> </tr> <tr id="modelClass"> <td><a href="csort#modelClass-detail">modelClass</a></td> <td>string</td> <td>the name of the model class whose attributes can be sorted.</td> <td>CSort</td> </tr> <tr id="multiSort"> <td><a href="csort#multiSort-detail">multiSort</a></td> <td>boolean</td> <td>whether the sorting can be applied to multiple attributes simultaneously.</td> <td>CSort</td> </tr> <tr id="orderBy"> <td><a href="csort#orderBy-detail">orderBy</a></td> <td>string</td> <td>the order-by columns represented by this sort object.</td> <td>CSort</td> </tr> <tr id="params"> <td><a href="csort#params-detail">params</a></td> <td>array</td> <td>the additional GET parameters (name=&gt;value) that should be used when generating sort URLs.</td> <td>CSort</td> </tr> <tr id="route"> <td><a href="csort#route-detail">route</a></td> <td>string</td> <td>the route (controller ID and action ID) for generating the sorted contents.</td> <td>CSort</td> </tr> <tr id="separators"> <td><a href="csort#separators-detail">separators</a></td> <td>array</td> <td>separators used in the generated URL.</td> <td>CSort</td> </tr> <tr id="sortVar"> <td><a href="csort#sortVar-detail">sortVar</a></td> <td>string</td> <td>the name of the GET parameter that specifies which attributes to be sorted in which direction.</td> <td>CSort</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="__construct"> <td><a href="csort#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td>CSort</td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="applyOrder"> <td><a href="csort#applyOrder-detail">applyOrder()</a></td> <td>Modifies the query criteria by changing its <a href="cdbcriteria#order">CDbCriteria::order</a> property.</td> <td>CSort</td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="createUrl"> <td><a href="csort#createUrl-detail">createUrl()</a></td> <td>Creates a URL that can lead to generating sorted data.</td> <td>CSort</td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getDirection"> <td><a href="csort#getDirection-detail">getDirection()</a></td> <td>Returns the sort direction of the specified attribute in the current request.</td> <td>CSort</td> </tr> <tr id="getDirections"> <td><a href="csort#getDirections-detail">getDirections()</a></td> <td>Returns the currently requested sort information.</td> <td>CSort</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getOrderBy"> <td><a href="csort#getOrderBy-detail">getOrderBy()</a></td> <td>Returns the order-by columns represented by this sort object. This can be put in the ORDER BY clause of a SQL statement.</td> <td>CSort</td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="link"> <td><a href="csort#link-detail">link()</a></td> <td>Generates a hyperlink that can be clicked to cause sorting.</td> <td>CSort</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="resolveAttribute"> <td><a href="csort#resolveAttribute-detail">resolveAttribute()</a></td> <td>Returns the real definition of an attribute given its name.</td> <td>CSort</td> </tr> <tr id="resolveLabel"> <td><a href="csort#resolveLabel-detail">resolveLabel()</a></td> <td>Resolves the attribute label for the specified attribute.</td> <td>CSort</td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="createLink"> <td><a href="csort#createLink-detail">createLink()</a></td> <td>Creates a hyperlink based on the given label and URL.</td> <td>CSort</td> </tr> <tr id="getModel"> <td><a href="csort#getModel-detail">getModel()</a></td> <td>Given active record class name returns new model instance.</td> <td>CSort</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="attributes-detail"> attributes<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$attributes</b>;</pre> <p>list of attributes that are allowed to be sorted. For example, array('user_id','create_time') would specify that only 'user_id' and 'create_time' of the model <a href="csort#modelClass">modelClass</a> can be sorted. By default, this property is an empty array, which means all attributes in <a href="csort#modelClass">modelClass</a> are allowed to be sorted. <br><br> This property can also be used to specify complex sorting. To do so, a virtual attribute can be declared in terms of a key-value pair in the array. The key refers to the name of the virtual attribute that may appear in the sort request, while the value specifies the definition of the virtual attribute. <br><br> In the simple case, a key-value pair can be like <code>'user'=&gt;'user_id'</code> where 'user' is the name of the virtual attribute while 'user_id' means the virtual attribute is the 'user_id' attribute in the <a href="csort#modelClass">modelClass</a>. <br><br> A more flexible way is to specify the key-value pair as </p>
<pre>
'user'=&gt;array(
    'asc'=&gt;'first_name, last_name',
    'desc'=&gt;'first_name DESC, last_name DESC',
    'label'=&gt;'Name'
)
</pre> where 'user' is the name of the virtual attribute that specifies the full name of user (a compound attribute consisting of first name and last name of user). In this case, we have to use an array to define the virtual attribute with three elements: 'asc', 'desc' and 'label'. <br><br> The above approach can also be used to declare virtual attributes that consist of relational attributes. For example, <pre>
'price'=&gt;array(
    'asc'=&gt;'item.price',
    'desc'=&gt;'item.price DESC',
    'label'=&gt;'Item Price'
)
</pre> <br><br> Note, the attribute name should not contain '-' or '.' characters because they are used as <a href="csort#separators">separators</a>. <br><br> Starting from version 1.1.3, an additional option named 'default' can be used in the virtual attribute declaration. This option specifies whether an attribute should be sorted in ascending or descending order upon user clicking the corresponding sort hyperlink if it is not currently sorted. The valid option values include 'asc' (default) and 'desc'. For example, <pre>
'price'=&gt;array(
    'asc'=&gt;'item.price',
    'desc'=&gt;'item.price DESC',
    'label'=&gt;'Item Price',
    'default'=&gt;'desc',
)
</pre> <br><br> Also starting from version 1.1.3, you can include a star ('*') element in this property so that all model attributes are available for sorting, in addition to those virtual attributes. For example, <pre>
'attributes'=&gt;array(
    'price'=&gt;array(
        'asc'=&gt;'item.price',
        'desc'=&gt;'item.price DESC',
        'label'=&gt;'Item Price',
        'default'=&gt;'desc',
    ),
    '*',
)
</pre> Note that when a name appears as both a model attribute and a virtual attribute, the position of the star element in the array determines which one takes precedence. In particular, if the star element is the first element in the array, the model attribute takes precedence; and if the star element is the last one, the virtual attribute takes precedence. <h3 class="detailHeader" id="defaultOrder-detail"> defaultOrder<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public mixed <b>$defaultOrder</b>;</pre> <p>the default order that should be applied to the query criteria when the current request does not specify any sort. For example, 'name, create_time DESC' or 'UPPER(name)'. <br><br> Starting from version 1.1.3, you can also specify the default order using an array. The array keys could be attribute names or virtual attribute names as declared in <a href="csort#attributes">attributes</a>, and the array values indicate whether the sorting of the corresponding attributes should be in descending order. For example, </p>
<pre>
'defaultOrder'=&gt;array(
    'price'=&gt;CSort::SORT_DESC,
)
</pre> `SORT_DESC` and `SORT_ASC` are available since 1.1.10. In earlier Yii versions you should use `true` and `false` respectively. <br><br> Please note when using array to specify the default order, the corresponding attributes will be put into <a href="csort#directions">directions</a> and thus affect how the sort links are rendered (e.g. an arrow may be displayed next to the currently active sort link). <h3 class="detailHeader" id="descTag-detail"> descTag<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$descTag</b>;</pre> <p>the tag appeared in the GET parameter that indicates the attribute should be sorted in descending order. Defaults to 'desc'.</p> <h3 class="detailHeader" id="directions-detail"> directions<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public array <a href="csort#getDirections"><b>getDirections</b></a>()</pre> <p>Returns the currently requested sort information.</p> <h3 class="detailHeader" id="modelClass-detail"> modelClass<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$modelClass</b>;</pre> <p>the name of the model class whose attributes can be sorted. The model class must be a child class of <a href="cactiverecord">CActiveRecord</a>.</p> <h3 class="detailHeader" id="multiSort-detail"> multiSort<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$multiSort</b>;</pre> <p>whether the sorting can be applied to multiple attributes simultaneously. Defaults to false, which means each time the data can only be sorted by one attribute.</p> <h3 class="detailHeader" id="orderBy-detail"> orderBy<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.0) </span> </h3> <pre class="signature">public string <a href="csort#getOrderBy"><b>getOrderBy</b></a>(<a href="cdbcriteria">CDbCriteria</a> $criteria=NULL)</pre> <p>the order-by columns represented by this sort object. This can be put in the ORDER BY clause of a SQL statement.</p> <h3 class="detailHeader" id="params-detail"> params<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$params</b>;</pre> <p>the additional GET parameters (name=&gt;value) that should be used when generating sort URLs. Defaults to null, meaning using the currently available GET parameters.</p> <h3 class="detailHeader" id="route-detail"> route<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$route</b>;</pre> <p>the route (controller ID and action ID) for generating the sorted contents. Defaults to empty string, meaning using the currently requested route.</p> <h3 class="detailHeader" id="separators-detail"> separators<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$separators</b>;</pre> <p>separators used in the generated URL. This must be an array consisting of two elements. The first element specifies the character separating different attributes, while the second element specifies the character separating attribute name and the corresponding sort direction. Defaults to array('-','.').</p> <h3 class="detailHeader" id="sortVar-detail"> sortVar<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$sortVar</b>;</pre> <p>the name of the GET parameter that specifies which attributes to be sorted in which direction. Defaults to 'sort'.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="__construct-detail"> __construct() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>__construct</b>(string $modelClass=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$modelClass</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the class name of data models that need to be sorted. This should be a child class of <a href="cactiverecord">CActiveRecord</a>.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L203">framework/web/CSort.php#203</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$modelClass</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">=</span><span style="color: #0000BB">$modelClass</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Constructor.</p> <h3 class="detailHeader" id="applyOrder-detail"> applyOrder() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>applyOrder</b>(<a href="cdbcriteria">CDbCriteria</a> $criteria)</pre> </td></tr> <tr> <td class="paramNameCol">$criteria</td> <td class="paramTypeCol"><a href="cdbcriteria">CDbCriteria</a></td> <td class="paramDescCol">the query criteria</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L215">framework/web/CSort.php#215</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">applyOrder</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$order</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOrderBy</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">);<br>    if(!empty(</span><span style="color: #0000BB">$order</span><span style="color: #007700">))<br>    {<br>        if(!empty(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">.=</span><span style="color: #DD0000">', '</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">.=</span><span style="color: #0000BB">$order</span><span style="color: #007700">;<br>    }<br>}</span></pre> </div> <p>Modifies the query criteria by changing its <a href="cdbcriteria#order">CDbCriteria::order</a> property. This method will use <a href="csort#directions">directions</a> to determine which columns need to be sorted. They will be put in the ORDER BY clause. If the criteria already has non-empty <a href="cdbcriteria#order">CDbCriteria::order</a> value, the new value will be appended to it.</p> <h3 class="detailHeader" id="createLink-detail"> createLink() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>createLink</b>(string $attribute, string $label, string $url, array $htmlOptions)</pre> </td></tr> <tr> <td class="paramNameCol">$attribute</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the name of the attribute that this link is for</td> </tr> <tr> <td class="paramNameCol">$label</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the label of the hyperlink</td> </tr> <tr> <td class="paramNameCol">$url</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the URL</td> </tr> <tr> <td class="paramNameCol">$htmlOptions</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">additional HTML options</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the generated hyperlink</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L468">framework/web/CSort.php#468</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">createLink</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">$label</span><span style="color: #007700">,</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">CHtml</span><span style="color: #007700">::</span><span style="color: #0000BB">link</span><span style="color: #007700">(</span><span style="color: #0000BB">$label</span><span style="color: #007700">,</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Creates a hyperlink based on the given label and URL. You may override this method to customize the link generation.</p> <h3 class="detailHeader" id="createUrl-detail"> createUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>createUrl</b>(<a href="ccontroller">CController</a> $controller, array $directions)</pre> </td></tr> <tr> <td class="paramNameCol">$controller</td> <td class="paramTypeCol"><a href="ccontroller">CController</a></td> <td class="paramDescCol">the controller that will be used to create the URL.</td> </tr> <tr> <td class="paramNameCol">$directions</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the sort directions indexed by attribute names. The sort direction can be either CSort::SORT_ASC for ascending order or CSort::SORT_DESC for descending order.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the URL for sorting</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L395">framework/web/CSort.php#395</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">createUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$controller</span><span style="color: #007700">,</span><span style="color: #0000BB">$directions</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$sorts</span><span style="color: #007700">=array();<br>    foreach(</span><span style="color: #0000BB">$directions </span><span style="color: #007700">as </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$descending</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$sorts</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$descending </span><span style="color: #007700">? </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">separators</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">].</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">descTag </span><span style="color: #007700">: </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$params</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #0000BB">$_GET </span><span style="color: #007700">: </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sortVar</span><span style="color: #007700">]=</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">separators</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB">$sorts</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$controller</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">route</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Creates a URL that can lead to generating sorted data.</p> <h3 class="detailHeader" id="getDirection-detail"> getDirection() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getDirection</b>(string $attribute)</pre> </td></tr> <tr> <td class="paramNameCol">$attribute</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the attribute name</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">Sort direction of the attribute. Can be either CSort::SORT_ASC for ascending order or CSort::SORT_DESC for descending order. Value is null if the attribute doesn't need to be sorted.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L381">framework/web/CSort.php#381</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getDirection</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDirections</span><span style="color: #007700">();<br>    return isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">] : </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the sort direction of the specified attribute in the current request.</p> <h3 class="detailHeader" id="getDirections-detail"> getDirections() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getDirections</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">sort directions indexed by attribute names. Sort direction can be either CSort::SORT_ASC for ascending order or CSort::SORT_DESC for descending order.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L341">framework/web/CSort.php#341</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getDirections</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">=array();<br>        if(isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sortVar</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sortVar</span><span style="color: #007700">]))<br>        {<br>            </span><span style="color: #0000BB">$attributes</span><span style="color: #007700">=</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">separators</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sortVar</span><span style="color: #007700">]);<br>            foreach(</span><span style="color: #0000BB">$attributes </span><span style="color: #007700">as </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)<br>            {<br>                if((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">separators</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>                {<br>                    </span><span style="color: #0000BB">$descending</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">)===</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">descTag</span><span style="color: #007700">;<br>                    if(</span><span style="color: #0000BB">$descending</span><span style="color: #007700">)<br>                        </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">);<br>                }<br>                else<br>                    </span><span style="color: #0000BB">$descending</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br><br>                if((</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>                {<br>                    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">]=</span><span style="color: #0000BB">$descending</span><span style="color: #007700">;<br>                    if(!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">multiSort</span><span style="color: #007700">)<br>                        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">;<br>                }<br>            }<br>        }<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">===array() &amp;&amp; </span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultOrder</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultOrder</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_directions</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the currently requested sort information.</p> <h3 class="detailHeader" id="getModel-detail"> getModel() <span class="detailHeaderTag"> method (available since v1.1.14) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected <a href="cactiverecord">CActiveRecord</a> <b>getModel</b>(string $className)</pre> </td></tr> <tr> <td class="paramNameCol">$className</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">active record class name.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="cactiverecord">CActiveRecord</a></td> <td class="paramDescCol">active record model instance.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L454">framework/web/CSort.php#454</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getModel</span><span style="color: #007700">(</span><span style="color: #0000BB">$className</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">CActiveRecord</span><span style="color: #007700">::</span><span style="color: #0000BB">model</span><span style="color: #007700">(</span><span style="color: #0000BB">$className</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Given active record class name returns new model instance.</p> <h3 class="detailHeader" id="getOrderBy-detail"> getOrderBy() <span class="detailHeaderTag"> method (available since v1.1.0) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getOrderBy</b>(<a href="cdbcriteria">CDbCriteria</a> $criteria=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$criteria</td> <td class="paramTypeCol"><a href="cdbcriteria">CDbCriteria</a></td> <td class="paramDescCol">the query criteria</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the order-by columns represented by this sort object. This can be put in the ORDER BY clause of a SQL statement.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L232">framework/web/CSort.php#232</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getOrderBy</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$directions</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDirections</span><span style="color: #007700">();<br>    if(empty(</span><span style="color: #0000BB">$directions</span><span style="color: #007700">))<br>        return </span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultOrder</span><span style="color: #007700">) ? </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultOrder </span><span style="color: #007700">: </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    else<br>    {<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$schema</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModel</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSchema</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$orders</span><span style="color: #007700">=array();<br>        foreach(</span><span style="color: #0000BB">$directions </span><span style="color: #007700">as </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$descending</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$definition</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">);<br>            if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">))<br>            {<br>                if(</span><span style="color: #0000BB">$descending</span><span style="color: #007700">)<br>                    </span><span style="color: #0000BB">$orders</span><span style="color: #007700">[]=isset(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'desc'</span><span style="color: #007700">]) ? (</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'desc'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">', '</span><span style="color: #007700">,</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'desc'</span><span style="color: #007700">]) : </span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'desc'</span><span style="color: #007700">]) : </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">.</span><span style="color: #DD0000">' DESC'</span><span style="color: #007700">;<br>                else<br>                    </span><span style="color: #0000BB">$orders</span><span style="color: #007700">[]=isset(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'asc'</span><span style="color: #007700">]) ? (</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'asc'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">', '</span><span style="color: #007700">,</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'asc'</span><span style="color: #007700">]) : </span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'asc'</span><span style="color: #007700">]) : </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">;<br>            }<br>            elseif(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>            {<br>                </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=</span><span style="color: #0000BB">$definition</span><span style="color: #007700">;<br>                if(isset(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">))<br>                {<br>                    if((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #DD0000">'.'</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>                        </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=</span><span style="color: #0000BB">$schema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">)).</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$schema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteColumnName</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br>                    else<br>                        </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">|| </span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">alias</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModel</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">getTableAlias</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">) : </span><span style="color: #0000BB">$schema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">alias</span><span style="color: #007700">)).</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$schema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteColumnName</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">);<br>                }<br>                </span><span style="color: #0000BB">$orders</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$descending</span><span style="color: #007700">?</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">.</span><span style="color: #DD0000">' DESC'</span><span style="color: #007700">:</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">;<br>            }<br>        }<br>        return </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">', '</span><span style="color: #007700">,</span><span style="color: #0000BB">$orders</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div>  <h3 class="detailHeader" id="link-detail"> link() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>link</b>(string $attribute, string $label=NULL, array $htmlOptions=array ( ))</pre> </td></tr> <tr> <td class="paramNameCol">$attribute</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the attribute name. This must be the actual attribute name, not alias. If it is an attribute of a related AR object, the name should be prefixed with the relation name (e.g. 'author.name', where 'author' is the relation name).</td> </tr> <tr> <td class="paramNameCol">$label</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the link label. If null, the label will be determined according to the attribute (see <a href="csort#resolveLabel">resolveLabel</a>).</td> </tr> <tr> <td class="paramNameCol">$htmlOptions</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">additional HTML attributes for the hyperlink tag</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the generated hyperlink</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L279">framework/web/CSort.php#279</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">link</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">$label</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">,</span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">=array())<br>{<br>    if(</span><span style="color: #0000BB">$label</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$label</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">);<br>    if((</span><span style="color: #0000BB">$definition</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">))===</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$label</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$directions</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDirections</span><span style="color: #007700">();<br>    if(isset(</span><span style="color: #0000BB">$directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">]))<br>    {<br>        </span><span style="color: #0000BB">$class</span><span style="color: #007700">=</span><span style="color: #0000BB">$directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">] ? </span><span style="color: #DD0000">'desc' </span><span style="color: #007700">: </span><span style="color: #DD0000">'asc'</span><span style="color: #007700">;<br>        if(isset(</span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'class'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'class'</span><span style="color: #007700">].=</span><span style="color: #DD0000">' '</span><span style="color: #007700">.</span><span style="color: #0000BB">$class</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'class'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$class</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$descending</span><span style="color: #007700">=!</span><span style="color: #0000BB">$directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">];<br>        unset(</span><span style="color: #0000BB">$directions</span><span style="color: #007700">[</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">]);<br>    }<br>    elseif(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">) &amp;&amp; isset(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'default'</span><span style="color: #007700">]))<br>        </span><span style="color: #0000BB">$descending</span><span style="color: #007700">=</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'default'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'desc'</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$descending</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">multiSort</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$directions</span><span style="color: #007700">=</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$descending</span><span style="color: #007700">),</span><span style="color: #0000BB">$directions</span><span style="color: #007700">);<br>    else<br>        </span><span style="color: #0000BB">$directions</span><span style="color: #007700">=array(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$descending</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$url</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">(),</span><span style="color: #0000BB">$directions</span><span style="color: #007700">);<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createLink</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">,</span><span style="color: #0000BB">$label</span><span style="color: #007700">,</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">$htmlOptions</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Generates a hyperlink that can be clicked to cause sorting.</p> <h3 class="detailHeader" id="resolveAttribute-detail"> resolveAttribute() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>resolveAttribute</b>(string $attribute)</pre> </td></tr> <tr> <td class="paramNameCol">$attribute</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the attribute name that the user requests to sort on</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the attribute name or the virtual attribute definition. False if the attribute cannot be sorted.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L420">framework/web/CSort.php#420</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">resolveAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">!==array())<br>        </span><span style="color: #0000BB">$attributes</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">;<br>    elseif(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$attributes</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModel</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">attributeNames</span><span style="color: #007700">();<br>    else<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    foreach(</span><span style="color: #0000BB">$attributes </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$definition</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">))<br>        {<br>            if(</span><span style="color: #0000BB">$name</span><span style="color: #007700">===</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)<br>                return </span><span style="color: #0000BB">$definition</span><span style="color: #007700">;<br>        }<br>        elseif(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">===</span><span style="color: #DD0000">'*'</span><span style="color: #007700">)<br>        {<br>            if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">!==</span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModel</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">hasAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">))<br>                return </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">;<br>        }<br>        elseif(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">===</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)<br>            return </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the real definition of an attribute given its name. <br><br> The resolution is based on <a href="csort#attributes">attributes</a> and <a href="cactiverecord#attributeNames">CActiveRecord::attributeNames</a>. </p>
<ul> <li>When <a href="csort#attributes">attributes</a> is an empty array, if the name refers to an attribute of <a href="csort#modelClass">modelClass</a>, then the name is returned back.</li> <li>When <a href="csort#attributes">attributes</a> is not empty, if the name refers to an attribute declared in <a href="csort#attributes">attributes</a>, then the corresponding virtual attribute definition is returned. Starting from version 1.1.3, if <a href="csort#attributes">attributes</a> contains a star ('*') element, the name will also be used to match against all model attributes.</li> <li>In all other cases, false is returned, meaning the name does not refer to a valid attribute.</li> </ul> <h3 class="detailHeader" id="resolveLabel-detail"> resolveLabel() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>resolveLabel</b>(string $attribute)</pre> </td></tr> <tr> <td class="paramNameCol">$attribute</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the attribute name.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the attribute label</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CSort.php#L319">framework/web/CSort.php#319</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">resolveLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$definition</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">))<br>    {<br>        if(isset(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'label'</span><span style="color: #007700">]))<br>            return </span><span style="color: #0000BB">$definition</span><span style="color: #007700">[</span><span style="color: #DD0000">'label'</span><span style="color: #007700">];<br>    }<br>    elseif(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$definition</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">=</span><span style="color: #0000BB">$definition</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModel</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">modelClass</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">getAttributeLabel</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">);<br>    else<br>        return </span><span style="color: #0000BB">$attribute</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Resolves the attribute label for the specified attribute. This will invoke <a href="cactiverecord#getAttributeLabel">CActiveRecord::getAttributeLabel</a> to determine what label to use. If the attribute refers to a virtual attribute declared in <a href="csort#attributes">attributes</a>, then the label given in the <a href="csort#attributes">attributes</a> will be returned instead.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CSort" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CSort</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
