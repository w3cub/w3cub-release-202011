
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CConsoleCommand - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" the command runner instance ">
  <meta name="keywords" content="cconsolecommand, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cconsolecommand.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CConsoleCommand</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.console">system.console</a></td> </tr> <tr> <th>Inheritance</th> <td>abstract class CConsoleCommand » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Subclasses</th> <td><a href="chelpcommand">CHelpCommand</a></td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php">framework/console/CConsoleCommand.php</a></td> </tr> </table> <div id="classDescription"> CConsoleCommand represents an executable console command. <br><br> It works like <a href="ccontroller">CController</a> by parsing command line options and dispatching the request to a specific action with appropriate option values. <br><br> Users call a console command via the following command format: <pre>
yiic CommandName ActionName --Option1=Value1 --Option2=Value2 ...
</pre> <br><br> Child classes mainly needs to implement various action methods whose name must be prefixed with "action". The parameters to an action method are considered as options for that specific action. The action specified as <a href="cconsolecommand#defaultAction">defaultAction</a> will be invoked when a user does not specify the action name in his command. <br><br> Options are bound to action parameters via parameter names. For example, the following action method will allow us to run a command with <code>yiic sitemap --type=News</code>: <pre>
class SitemapCommand extends CConsoleCommand {
    public function actionIndex($type) {
        ....
    }
}
</pre> <br><br> Since version 1.1.11 the return value of action methods will be used as application exit code if it is an integer value.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="commandRunner"> <td><a href="cconsolecommand#commandRunner-detail">commandRunner</a></td> <td><a href="cconsolecommandrunner">CConsoleCommandRunner</a></td> <td>the command runner instance</td> <td>CConsoleCommand</td> </tr> <tr id="defaultAction"> <td><a href="cconsolecommand#defaultAction-detail">defaultAction</a></td> <td>string</td> <td>the name of the default action.</td> <td>CConsoleCommand</td> </tr> <tr id="help"> <td><a href="cconsolecommand#help-detail">help</a></td> <td>string</td> <td>Provides the command description.</td> <td>CConsoleCommand</td> </tr> <tr id="name"> <td><a href="cconsolecommand#name-detail">name</a></td> <td>string</td> <td>the command name.</td> <td>CConsoleCommand</td> </tr> <tr id="optionHelp"> <td><a href="cconsolecommand#optionHelp-detail">optionHelp</a></td> <td>array</td> <td>Provides the command option help information.</td> <td>CConsoleCommand</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="__construct"> <td><a href="cconsolecommand#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="behaviors"> <td><a href="cconsolecommand#behaviors-detail">behaviors()</a></td> <td>Returns a list of behaviors that this command should behave as.</td> <td>CConsoleCommand</td> </tr> <tr id="buildFileList"> <td><a href="cconsolecommand#buildFileList-detail">buildFileList()</a></td> <td>Builds the file list of a directory.</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="confirm"> <td><a href="cconsolecommand#confirm-detail">confirm()</a></td> <td>Asks user to confirm by typing y or n.</td> <td>CConsoleCommand</td> </tr> <tr id="copyFiles"> <td><a href="cconsolecommand#copyFiles-detail">copyFiles()</a></td> <td>Copies a list of files from one place to another.</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="ensureDirectory"> <td><a href="cconsolecommand#ensureDirectory-detail">ensureDirectory()</a></td> <td>Creates all parent directories if they do not exist.</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getCommandRunner"> <td><a href="cconsolecommand#getCommandRunner-detail">getCommandRunner()</a></td> <td>Returns the command runner instance</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getHelp"> <td><a href="cconsolecommand#getHelp-detail">getHelp()</a></td> <td>Provides the command description.</td> <td>CConsoleCommand</td> </tr> <tr id="getName"> <td><a href="cconsolecommand#getName-detail">getName()</a></td> <td>Returns the command name.</td> <td>CConsoleCommand</td> </tr> <tr id="getOptionHelp"> <td><a href="cconsolecommand#getOptionHelp-detail">getOptionHelp()</a></td> <td>Provides the command option help information.</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="init"> <td><a href="cconsolecommand#init-detail">init()</a></td> <td>Initializes the command object.</td> <td>CConsoleCommand</td> </tr> <tr id="onAfterAction"> <td><a href="cconsolecommand#onAfterAction-detail">onAfterAction()</a></td> <td>This event is raised after an action finishes execution.</td> <td>CConsoleCommand</td> </tr> <tr id="onBeforeAction"> <td><a href="cconsolecommand#onBeforeAction-detail">onBeforeAction()</a></td> <td>This event is raised before an action is to be executed.</td> <td>CConsoleCommand</td> </tr> <tr id="pluralize"> <td><a href="cconsolecommand#pluralize-detail">pluralize()</a></td> <td>Converts a word to its plural form.</td> <td>CConsoleCommand</td> </tr> <tr id="prompt"> <td><a href="cconsolecommand#prompt-detail">prompt()</a></td> <td>Reads input via the readline PHP extension if that's available, or fgets() if readline is not installed.</td> <td>CConsoleCommand</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="renderFile"> <td><a href="cconsolecommand#renderFile-detail">renderFile()</a></td> <td>Renders a view file.</td> <td>CConsoleCommand</td> </tr> <tr id="run"> <td><a href="cconsolecommand#run-detail">run()</a></td> <td>Executes the command.</td> <td>CConsoleCommand</td> </tr> <tr id="usageError"> <td><a href="cconsolecommand#usageError-detail">usageError()</a></td> <td>Displays a usage error.</td> <td>CConsoleCommand</td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="afterAction"> <td><a href="cconsolecommand#afterAction-detail">afterAction()</a></td> <td>This method is invoked right after an action finishes execution.</td> <td>CConsoleCommand</td> </tr> <tr id="beforeAction"> <td><a href="cconsolecommand#beforeAction-detail">beforeAction()</a></td> <td>This method is invoked right before an action is to be executed.</td> <td>CConsoleCommand</td> </tr> <tr id="resolveRequest"> <td><a href="cconsolecommand#resolveRequest-detail">resolveRequest()</a></td> <td>Parses the command line arguments and determines which action to perform.</td> <td>CConsoleCommand</td> </tr> </table> </div>  <div class="summary docEvent"> <h2>Events</h2>  <table class="summaryTable"> <colgroup> <col class="col-event"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Event</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="onBeforeAction"> <td><a href="cconsolecommand#onBeforeAction-detail">onBeforeAction</a></td> <td>This event is raised before an action is to be executed.</td> <td>CConsoleCommand</td> </tr> <tr id="onAfterAction"> <td><a href="cconsolecommand#onAfterAction-detail">onAfterAction</a></td> <td>This event is raised after an action finishes execution.</td> <td>CConsoleCommand</td> </tr> </table> </div> <h2>Property Details</h2> <h3 class="detailHeader" id="commandRunner-detail"> commandRunner<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public <a href="cconsolecommandrunner">CConsoleCommandRunner</a> <a href="cconsolecommand#getCommandRunner"><b>getCommandRunner</b></a>()</pre> <p>the command runner instance</p> <h3 class="detailHeader" id="defaultAction-detail"> defaultAction<span class="detailHeaderTag"> property (available since v1.1.5) </span> </h3> <pre class="signature">public string <b>$defaultAction</b>;</pre> <p>the name of the default action. Defaults to 'index'.</p> <h3 class="detailHeader" id="help-detail"> help<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="cconsolecommand#getHelp"><b>getHelp</b></a>()</pre> <p>Provides the command description. This method may be overridden to return the actual command description.</p> <h3 class="detailHeader" id="name-detail"> name<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="cconsolecommand#getName"><b>getName</b></a>()</pre> <p>the command name.</p> <h3 class="detailHeader" id="optionHelp-detail"> optionHelp<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.5) </span> </h3> <pre class="signature">public array <a href="cconsolecommand#getOptionHelp"><b>getOptionHelp</b></a>()</pre> <p>Provides the command option help information. The default implementation will return all available actions together with their corresponding option information.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="__construct-detail"> __construct() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>__construct</b>(string $name, <a href="cconsolecommandrunner">CConsoleCommandRunner</a> $runner)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">name of the command</td> </tr> <tr> <td class="paramNameCol">$runner</td> <td class="paramTypeCol"><a href="cconsolecommandrunner">CConsoleCommandRunner</a></td> <td class="paramDescCol">the command runner</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L65">framework/console/CConsoleCommand.php#65</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$runner</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_name</span><span style="color: #007700">=</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_runner</span><span style="color: #007700">=</span><span style="color: #0000BB">$runner</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">attachBehaviors</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">behaviors</span><span style="color: #007700">());<br>}</span></pre> </div> <p>Constructor.</p> <h3 class="detailHeader" id="afterAction-detail"> afterAction() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected integer <b>afterAction</b>(string $action, array $params, integer $exitCode=0)</pre> </td></tr> <tr> <td class="paramNameCol">$action</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the action name</td> </tr> <tr> <td class="paramNameCol">$params</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the parameters to be passed to the action method.</td> </tr> <tr> <td class="paramNameCol">$exitCode</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the application exit code returned by the action method.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">application exit code (return value is available since version 1.1.11)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L207">framework/console/CConsoleCommand.php#207</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">afterAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$event</span><span style="color: #007700">=new </span><span style="color: #0000BB">CConsoleCommandEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #0000BB">$action</span><span style="color: #007700">,</span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasEventHandler</span><span style="color: #007700">(</span><span style="color: #DD0000">'onAfterAction'</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">onAfterAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exitCode</span><span style="color: #007700">;<br>}</span></pre> </div> <p>This method is invoked right after an action finishes execution. You may override this method to do some postprocessing for the action.</p> <h3 class="detailHeader" id="beforeAction-detail"> beforeAction() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>beforeAction</b>(string $action, array $params)</pre> </td></tr> <tr> <td class="paramNameCol">$action</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the action name</td> </tr> <tr> <td class="paramNameCol">$params</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the parameters to be passed to the action method.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the action should be executed.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L185">framework/console/CConsoleCommand.php#185</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">beforeAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasEventHandler</span><span style="color: #007700">(</span><span style="color: #DD0000">'onBeforeAction'</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$event </span><span style="color: #007700">= new </span><span style="color: #0000BB">CConsoleCommandEvent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #0000BB">$action</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">onBeforeAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">);<br>        return !</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stopCommand</span><span style="color: #007700">;<br>    }<br>    else<br>    {<br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br>}</span></pre> </div> <p>This method is invoked right before an action is to be executed. You may override this method to do last-minute preparation for the action.</p> <h3 class="detailHeader" id="behaviors-detail"> behaviors() <span class="detailHeaderTag"> method (available since v1.1.11) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>behaviors</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the behavior configurations (behavior name=&gt;behavior configuration)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L103">framework/console/CConsoleCommand.php#103</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">behaviors</span><span style="color: #007700">()<br>{<br>    return array();<br>}</span></pre> </div> <p>Returns a list of behaviors that this command should behave as. The return value should be an array of behavior configurations indexed by behavior names. Each behavior configuration can be either a string specifying the behavior class or an array of the following structure: </p>
<pre>
'behaviorName'=&gt;array(
    'class'=&gt;'path.to.BehaviorClass',
    'property1'=&gt;'value1',
    'property2'=&gt;'value2',
)
</pre> <br><br> Note, the behavior classes must implement <a href="ibehavior">IBehavior</a> or extend from <a href="cbehavior">CBehavior</a>. Behaviors declared in this method will be attached to the controller when it is instantiated. <br><br> For more details about behaviors, see <a href="ccomponent">CComponent</a>. <h3 class="detailHeader" id="buildFileList-detail"> buildFileList() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>buildFileList</b>(string $sourceDir, string $targetDir, string $baseDir='', array $ignoreFiles=array ( ), array $renameMap=array ( ))</pre> </td></tr> <tr> <td class="paramNameCol">$sourceDir</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the source directory</td> </tr> <tr> <td class="paramNameCol">$targetDir</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the target directory</td> </tr> <tr> <td class="paramNameCol">$baseDir</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">base directory</td> </tr> <tr> <td class="paramNameCol">$ignoreFiles</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">list of the names of files that should be ignored in list building process. Argument available since 1.1.11.</td> </tr> <tr> <td class="paramNameCol">$renameMap</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">hash array of file names that should be renamed. Example value: array('1.old.txt'=&gt;'2.new.txt'). Argument available since 1.1.11.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the file list (see <a href="cconsolecommand#copyFiles">copyFiles</a>)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L434">framework/console/CConsoleCommand.php#434</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">buildFileList</span><span style="color: #007700">(</span><span style="color: #0000BB">$sourceDir</span><span style="color: #007700">, </span><span style="color: #0000BB">$targetDir</span><span style="color: #007700">, </span><span style="color: #0000BB">$baseDir</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">$ignoreFiles</span><span style="color: #007700">=array(), </span><span style="color: #0000BB">$renameMap</span><span style="color: #007700">=array())<br>{<br>    </span><span style="color: #0000BB">$list</span><span style="color: #007700">=array();<br>    </span><span style="color: #0000BB">$handle</span><span style="color: #007700">=</span><span style="color: #0000BB">opendir</span><span style="color: #007700">(</span><span style="color: #0000BB">$sourceDir</span><span style="color: #007700">);<br>    while((</span><span style="color: #0000BB">$file</span><span style="color: #007700">=</span><span style="color: #0000BB">readdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">,</span><span style="color: #DD0000">'..'</span><span style="color: #007700">,</span><span style="color: #DD0000">'.svn'</span><span style="color: #007700">,</span><span style="color: #DD0000">'.gitignore'</span><span style="color: #007700">)) || </span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #0000BB">$ignoreFiles</span><span style="color: #007700">))<br>            continue;<br>        </span><span style="color: #0000BB">$sourcePath</span><span style="color: #007700">=</span><span style="color: #0000BB">$sourceDir</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$file</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$targetPath</span><span style="color: #007700">=</span><span style="color: #0000BB">$targetDir</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #0000BB">$renameMap</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$baseDir</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">?</span><span style="color: #0000BB">$file </span><span style="color: #007700">: </span><span style="color: #0000BB">$baseDir</span><span style="color: #007700">.</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$file</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$list</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=array(</span><span style="color: #DD0000">'source'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$sourcePath</span><span style="color: #007700">, </span><span style="color: #DD0000">'target'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$targetPath</span><span style="color: #007700">);<br>        if(</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$sourcePath</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$list</span><span style="color: #007700">=</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$list</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">buildFileList</span><span style="color: #007700">(</span><span style="color: #0000BB">$sourcePath</span><span style="color: #007700">,</span><span style="color: #0000BB">$targetPath</span><span style="color: #007700">,</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$ignoreFiles</span><span style="color: #007700">,</span><span style="color: #0000BB">$renameMap</span><span style="color: #007700">));<br>    }<br>    </span><span style="color: #0000BB">closedir</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$list</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Builds the file list of a directory. This method traverses through the specified directory and builds a list of files and subdirectories that the directory contains. The result of this function can be passed to <a href="cconsolecommand#copyFiles">copyFiles</a>.</p> <h3 class="detailHeader" id="confirm-detail"> confirm() <span class="detailHeaderTag"> method (available since v1.1.9) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>confirm</b>(string $message, boolean $default=false)</pre> </td></tr> <tr> <td class="paramNameCol">$message</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">to echo out before waiting for user input</td> </tr> <tr> <td class="paramNameCol">$default</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">this value is returned if no selection is made. This parameter has been available since version 1.1.11.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether user confirmed</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L572">framework/console/CConsoleCommand.php#572</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">confirm</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,</span><span style="color: #0000BB">$default</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    echo </span><span style="color: #0000BB">$message</span><span style="color: #007700">.</span><span style="color: #DD0000">' (yes|no) [' </span><span style="color: #007700">. (</span><span style="color: #0000BB">$default </span><span style="color: #007700">? </span><span style="color: #DD0000">'yes' </span><span style="color: #007700">: </span><span style="color: #DD0000">'no'</span><span style="color: #007700">) . </span><span style="color: #DD0000">']:'</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$input </span><span style="color: #007700">= </span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">));<br>    return empty(</span><span style="color: #0000BB">$input</span><span style="color: #007700">) ? </span><span style="color: #0000BB">$default </span><span style="color: #007700">: !</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,</span><span style="color: #DD0000">'y'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Asks user to confirm by typing y or n.</p> <h3 class="detailHeader" id="copyFiles-detail"> copyFiles() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>copyFiles</b>(array $fileList, boolean $overwriteAll=false)</pre> </td></tr> <tr> <td class="paramNameCol">$fileList</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the list of files to be copied (name=&gt;spec). The array keys are names displayed during the copy process, and array values are specifications for files to be copied. Each array value must be an array of the following structure: <ul> <li>source: required, the full path of the file/directory to be copied from</li> <li>target: required, the full path of the file/directory to be copied to</li> <li>callback: optional, the callback to be invoked when copying a file. The callback function should be declared as follows: <pre>
  function foo($source,$params)
  </pre> where $source parameter is the source file path, and the content returned by the function will be saved into the target file.</li> <li>params: optional, the parameters to be passed to the callback</li> </ul>
</td> </tr> <tr> <td class="paramNameCol">$overwriteAll</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether to overwrite all files.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L361">framework/console/CConsoleCommand.php#361</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">copyFiles</span><span style="color: #007700">(</span><span style="color: #0000BB">$fileList</span><span style="color: #007700">,</span><span style="color: #0000BB">$overwriteAll</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    foreach(</span><span style="color: #0000BB">$fileList </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$source</span><span style="color: #007700">=</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">[</span><span style="color: #DD0000">'source'</span><span style="color: #007700">],</span><span style="color: #DD0000">'/\\'</span><span style="color: #007700">,</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$target</span><span style="color: #007700">=</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">[</span><span style="color: #DD0000">'target'</span><span style="color: #007700">],</span><span style="color: #DD0000">'/\\'</span><span style="color: #007700">,</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$callback</span><span style="color: #007700">=isset(</span><span style="color: #0000BB">$file</span><span style="color: #007700">[</span><span style="color: #DD0000">'callback'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$file</span><span style="color: #007700">[</span><span style="color: #DD0000">'callback'</span><span style="color: #007700">] : </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$params</span><span style="color: #007700">=isset(</span><span style="color: #0000BB">$file</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$file</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">] : </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br><br>        if(</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">))<br>        {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ensureDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">$target</span><span style="color: #007700">);<br>            continue;<br>        }<br><br>        if(</span><span style="color: #0000BB">$callback</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$content</span><span style="color: #007700">=</span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$callback</span><span style="color: #007700">,</span><span style="color: #0000BB">$source</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br>        else<br>            </span><span style="color: #0000BB">$content</span><span style="color: #007700">=</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$source</span><span style="color: #007700">);<br>        if(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$target</span><span style="color: #007700">))<br>        {<br>            if(</span><span style="color: #0000BB">$content</span><span style="color: #007700">===</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$target</span><span style="color: #007700">))<br>            {<br>                echo </span><span style="color: #DD0000">"  unchanged </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>                continue;<br>            }<br>            if(</span><span style="color: #0000BB">$overwriteAll</span><span style="color: #007700">)<br>                echo </span><span style="color: #DD0000">"  overwrite </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>            else<br>            {<br>                echo </span><span style="color: #DD0000">"      exist </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>                echo </span><span style="color: #DD0000">"            ...overwrite? [Yes|No|All|Quit] "</span><span style="color: #007700">;<br>                </span><span style="color: #0000BB">$answer</span><span style="color: #007700">=</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">));<br>                if(!</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$answer</span><span style="color: #007700">,</span><span style="color: #DD0000">'q'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">))<br>                    return;<br>                elseif(!</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$answer</span><span style="color: #007700">,</span><span style="color: #DD0000">'y'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">))<br>                    echo </span><span style="color: #DD0000">"  overwrite </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>                elseif(!</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$answer</span><span style="color: #007700">,</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">))<br>                {<br>                    echo </span><span style="color: #DD0000">"  overwrite </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>                    </span><span style="color: #0000BB">$overwriteAll</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>                }<br>                else<br>                {<br>                    echo </span><span style="color: #DD0000">"       skip </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>                    continue;<br>                }<br>            }<br>        }<br>        else<br>        {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ensureDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$target</span><span style="color: #007700">));<br>            echo </span><span style="color: #DD0000">"   generate </span><span style="color: #0000BB">$name</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>        }<br>        </span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$target</span><span style="color: #007700">,</span><span style="color: #0000BB">$content</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Copies a list of files from one place to another.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="cconsolecommand#buildFileList">buildFileList</a></li> </ul> </div> <h3 class="detailHeader" id="ensureDirectory-detail"> ensureDirectory() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>ensureDirectory</b>(string $directory)</pre> </td></tr> <tr> <td class="paramNameCol">$directory</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the directory to be checked</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L457">framework/console/CConsoleCommand.php#457</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">ensureDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">)<br>{<br>    if(!</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ensureDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">));<br>        echo </span><span style="color: #DD0000">"      mkdir "</span><span style="color: #007700">.</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">,</span><span style="color: #DD0000">'\\'</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Creates all parent directories if they do not exist.</p> <h3 class="detailHeader" id="getCommandRunner-detail"> getCommandRunner() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public <a href="cconsolecommandrunner">CConsoleCommandRunner</a> <b>getCommandRunner</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="cconsolecommandrunner">CConsoleCommandRunner</a></td> <td class="paramDescCol">the command runner instance</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L262">framework/console/CConsoleCommand.php#262</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getCommandRunner</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_runner</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getHelp-detail"> getHelp() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getHelp</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the command description. Defaults to 'Usage: php entry-script.php command-name'.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L272">framework/console/CConsoleCommand.php#272</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getHelp</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$help</span><span style="color: #007700">=</span><span style="color: #DD0000">'Usage: '</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCommandRunner</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getScriptName</span><span style="color: #007700">().</span><span style="color: #DD0000">' '</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$options</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOptionHelp</span><span style="color: #007700">();<br>    if(empty(</span><span style="color: #0000BB">$options</span><span style="color: #007700">))<br>        return </span><span style="color: #0000BB">$help</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">)===</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$help</span><span style="color: #007700">.</span><span style="color: #DD0000">' '</span><span style="color: #007700">.</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">].</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$help</span><span style="color: #007700">.=</span><span style="color: #DD0000">" &lt;action&gt;\nActions:\n"</span><span style="color: #007700">;<br>    foreach(</span><span style="color: #0000BB">$options </span><span style="color: #007700">as </span><span style="color: #0000BB">$option</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$help</span><span style="color: #007700">.=</span><span style="color: #DD0000">'    '</span><span style="color: #007700">.</span><span style="color: #0000BB">$option</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">$help</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Provides the command description. This method may be overridden to return the actual command description.</p> <h3 class="detailHeader" id="getName-detail"> getName() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getName</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the command name.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L254">framework/console/CConsoleCommand.php#254</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getName</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_name</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getOptionHelp-detail"> getOptionHelp() <span class="detailHeaderTag"> method (available since v1.1.5) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getOptionHelp</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the command option help information. Each array element describes the help information for a single action.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L294">framework/console/CConsoleCommand.php#294</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getOptionHelp</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$options</span><span style="color: #007700">=array();<br>    </span><span style="color: #0000BB">$class</span><span style="color: #007700">=new </span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br>    foreach(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMethods</span><span style="color: #007700">(</span><span style="color: #0000BB">ReflectionMethod</span><span style="color: #007700">::</span><span style="color: #0000BB">IS_PUBLIC</span><span style="color: #007700">) as </span><span style="color: #0000BB">$method</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">();<br>        if(!</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #DD0000">'action'</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">6</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$name</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]=</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);<br>            </span><span style="color: #0000BB">$help</span><span style="color: #007700">=</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br><br>            foreach(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">() as </span><span style="color: #0000BB">$param</span><span style="color: #007700">)<br>            {<br>                </span><span style="color: #0000BB">$optional</span><span style="color: #007700">=</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isDefaultValueAvailable</span><span style="color: #007700">();<br>                </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">$optional </span><span style="color: #007700">? </span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultValue</span><span style="color: #007700">() : </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>                if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">)) {<br>                    </span><span style="color: #0000BB">$defaultValue </span><span style="color: #007700">= </span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">, </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">, </span><span style="color: #DD0000">"\r"</span><span style="color: #007700">), </span><span style="color: #DD0000">""</span><span style="color: #007700">, </span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">));<br>                }<br>                </span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">();<br><br>                if(</span><span style="color: #0000BB">$name</span><span style="color: #007700">===</span><span style="color: #DD0000">'args'</span><span style="color: #007700">)<br>                    continue;<br><br>                if(</span><span style="color: #0000BB">$optional</span><span style="color: #007700">)<br>                    </span><span style="color: #0000BB">$help</span><span style="color: #007700">.=</span><span style="color: #DD0000">" [--</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">=</span><span style="color: #0000BB">$defaultValue</span><span style="color: #DD0000">]"</span><span style="color: #007700">;<br>                else<br>                    </span><span style="color: #0000BB">$help</span><span style="color: #007700">.=</span><span style="color: #DD0000">" --</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">=value"</span><span style="color: #007700">;<br>            }<br>            </span><span style="color: #0000BB">$options</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$help</span><span style="color: #007700">;<br>        }<br>    }<br>    return </span><span style="color: #0000BB">$options</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Provides the command option help information. The default implementation will return all available actions together with their corresponding option information.</p> <h3 class="detailHeader" id="init-detail"> init() <span class="detailHeaderTag"> method (available since v1.1.6) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>init</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L78">framework/console/CConsoleCommand.php#78</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">init</span><span style="color: #007700">()<br>{<br>}</span></pre> </div> <p>Initializes the command object. This method is invoked after a command object is created and initialized with configurations. You may override this method to further customize the command before it executes.</p> <h3 class="detailHeader" id="onAfterAction-detail"> onAfterAction() <span class="detailHeaderTag"> method (available since v1.1.11) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>onAfterAction</b>(<a href="cconsolecommandevent">CConsoleCommandEvent</a> $event)</pre> </td></tr> <tr> <td class="paramNameCol">$event</td> <td class="paramTypeCol"><a href="cconsolecommandevent">CConsoleCommandEvent</a></td> <td class="paramDescCol">the event parameter</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L595">framework/console/CConsoleCommand.php#595</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">onAfterAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">raiseEvent</span><span style="color: #007700">(</span><span style="color: #DD0000">'onAfterAction'</span><span style="color: #007700">,</span><span style="color: #0000BB">$event</span><span style="color: #007700">);<br>}</span></pre> </div> <p>This event is raised after an action finishes execution.</p> <h3 class="detailHeader" id="onBeforeAction-detail"> onBeforeAction() <span class="detailHeaderTag"> method (available since v1.1.11) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>onBeforeAction</b>(<a href="cconsolecommandevent">CConsoleCommandEvent</a> $event)</pre> </td></tr> <tr> <td class="paramNameCol">$event</td> <td class="paramTypeCol"><a href="cconsolecommandevent">CConsoleCommandEvent</a></td> <td class="paramDescCol">the event parameter</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L585">framework/console/CConsoleCommand.php#585</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">onBeforeAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">raiseEvent</span><span style="color: #007700">(</span><span style="color: #DD0000">'onBeforeAction'</span><span style="color: #007700">,</span><span style="color: #0000BB">$event</span><span style="color: #007700">);<br>}</span></pre> </div> <p>This event is raised before an action is to be executed.</p> <h3 class="detailHeader" id="pluralize-detail"> pluralize() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>pluralize</b>(string $name)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the word to be pluralized</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the pluralized word</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L496">framework/console/CConsoleCommand.php#496</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">pluralize</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$rules</span><span style="color: #007700">=array(<br>        </span><span style="color: #DD0000">'/(m)ove$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1oves'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(f)oot$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1eet'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(c)hild$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1hildren'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(h)uman$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1umans'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(m)an$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1en'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(s)taff$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1taff'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(t)ooth$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1eeth'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(p)erson$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1eople'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/([m|l])ouse$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1ice'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(x|ch|ss|sh|us|as|is|os)$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1es'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/([^aeiouy]|qu)y$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1ies'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(?:([^f])fe|([lr])f)$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1\2ves'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(shea|lea|loa|thie)f$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1ves'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/([ti])um$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1a'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(tomat|potat|ech|her|vet)o$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1oes'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(bu)s$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1ses'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/(ax|test)is$/i' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'\1es'</span><span style="color: #007700">,<br>        </span><span style="color: #DD0000">'/s$/' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'s'</span><span style="color: #007700">,<br>    );<br>    foreach(</span><span style="color: #0000BB">$rules </span><span style="color: #007700">as </span><span style="color: #0000BB">$rule</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$replacement</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$rule</span><span style="color: #007700">,</span><span style="color: #0000BB">$name</span><span style="color: #007700">))<br>            return </span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$rule</span><span style="color: #007700">,</span><span style="color: #0000BB">$replacement</span><span style="color: #007700">,</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br>    }<br>    return </span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'s'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Converts a word to its plural form.</p> <h3 class="detailHeader" id="prompt-detail"> prompt() <span class="detailHeaderTag"> method (available since v1.1.9) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>prompt</b>(string $message, string $default=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$message</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">to echo out before waiting for user input</td> </tr> <tr> <td class="paramNameCol">$default</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the default string to be returned when user does not write anything. Defaults to null, means that default string is disabled. This parameter is available since version 1.1.11.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">line read as a string, or false if input has been closed</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L536">framework/console/CConsoleCommand.php#536</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">prompt</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,</span><span style="color: #0000BB">$default</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$default</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$message</span><span style="color: #007700">.=</span><span style="color: #DD0000">" [</span><span style="color: #0000BB">$default</span><span style="color: #DD0000">] "</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$message</span><span style="color: #007700">.=</span><span style="color: #DD0000">' '</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">extension_loaded</span><span style="color: #007700">(</span><span style="color: #DD0000">'readline'</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$input</span><span style="color: #007700">=</span><span style="color: #0000BB">readline</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br>        if(</span><span style="color: #0000BB">$input</span><span style="color: #007700">!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">readline_add_history</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br>    }<br>    else<br>    {<br>        echo </span><span style="color: #0000BB">$message</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$input</span><span style="color: #007700">=</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">);<br>    }<br><br>    if(</span><span style="color: #0000BB">$input</span><span style="color: #007700">===</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    else{<br>        </span><span style="color: #0000BB">$input</span><span style="color: #007700">=</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br>        return (</span><span style="color: #0000BB">$input</span><span style="color: #007700">===</span><span style="color: #DD0000">'' </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$default</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">) ? </span><span style="color: #0000BB">$default </span><span style="color: #007700">: </span><span style="color: #0000BB">$input</span><span style="color: #007700">;<br>    }<br>}</span></pre> </div> <p>Reads input via the readline PHP extension if that's available, or fgets() if readline is not installed.</p> <h3 class="detailHeader" id="renderFile-detail"> renderFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>renderFile</b>(string $_viewFile_, array $_data_=NULL, boolean $_return_=false)</pre> </td></tr> <tr> <td class="paramNameCol">$_viewFile_</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">view file path</td> </tr> <tr> <td class="paramNameCol">$_data_</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">optional data to be extracted as local view variables</td> </tr> <tr> <td class="paramNameCol">$_return_</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether to return the rendering result instead of displaying it</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the rendering result if required. Null otherwise.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L474">framework/console/CConsoleCommand.php#474</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">renderFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$_viewFile_</span><span style="color: #007700">,</span><span style="color: #0000BB">$_data_</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">,</span><span style="color: #0000BB">$_return_</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$_data_</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">extract</span><span style="color: #007700">(</span><span style="color: #0000BB">$_data_</span><span style="color: #007700">,</span><span style="color: #0000BB">EXTR_PREFIX_SAME</span><span style="color: #007700">,</span><span style="color: #DD0000">'data'</span><span style="color: #007700">);<br>    else<br>        </span><span style="color: #0000BB">$data</span><span style="color: #007700">=</span><span style="color: #0000BB">$_data_</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$_return_</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">ob_start</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">ob_implicit_flush</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br>        require(</span><span style="color: #0000BB">$_viewFile_</span><span style="color: #007700">);<br>        return </span><span style="color: #0000BB">ob_get_clean</span><span style="color: #007700">();<br>    }<br>    else<br>        require(</span><span style="color: #0000BB">$_viewFile_</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Renders a view file.</p> <h3 class="detailHeader" id="resolveRequest-detail"> resolveRequest() <span class="detailHeaderTag"> method (available since v1.1.5) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>resolveRequest</b>(array $args)</pre> </td></tr> <tr> <td class="paramNameCol">$args</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">command line arguments</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the action name, named options (name=&gt;value), and unnamed options</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L221">framework/console/CConsoleCommand.php#221</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">resolveRequest</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$options</span><span style="color: #007700">=array();    </span><span style="color: #FF8000">// named parameters<br>    </span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();    </span><span style="color: #FF8000">// unnamed parameters<br>    </span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$args </span><span style="color: #007700">as </span><span style="color: #0000BB">$arg</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^--(\w+)(=(.*))?$/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$arg</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))  </span><span style="color: #FF8000">// an option<br>        </span><span style="color: #007700">{<br>            </span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>            </span><span style="color: #0000BB">$value</span><span style="color: #007700">=isset(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">] : </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>            if(isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>            {<br>                if(!</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                    </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=array(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br>                </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">][]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>            }<br>            else<br>                </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>        }<br>        elseif(isset(</span><span style="color: #0000BB">$action</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$arg</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$action</span><span style="color: #007700">=</span><span style="color: #0000BB">$arg</span><span style="color: #007700">;<br>    }<br>    if(!isset(</span><span style="color: #0000BB">$action</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$action</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultAction</span><span style="color: #007700">;<br><br>    return array(</span><span style="color: #0000BB">$action</span><span style="color: #007700">,</span><span style="color: #0000BB">$options</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Parses the command line arguments and determines which action to perform.</p> <h3 class="detailHeader" id="run-detail"> run() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public integer <b>run</b>(array $args)</pre> </td></tr> <tr> <td class="paramNameCol">$args</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">command line parameters for this command.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">application exit code, which is returned by the invoked action. 0 if the action did not return anything. (return value is available since version 1.1.11)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L117">framework/console/CConsoleCommand.php#117</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">run</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">)<br>{<br>    list(</span><span style="color: #0000BB">$action</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">, </span><span style="color: #0000BB">$args</span><span style="color: #007700">)=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveRequest</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$methodName</span><span style="color: #007700">=</span><span style="color: #DD0000">'action'</span><span style="color: #007700">.</span><span style="color: #0000BB">$action</span><span style="color: #007700">;<br>    if(!</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^\w+$/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$action</span><span style="color: #007700">) || !</span><span style="color: #0000BB">method_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #0000BB">$methodName</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usageError</span><span style="color: #007700">(</span><span style="color: #DD0000">"Unknown action: "</span><span style="color: #007700">.</span><span style="color: #0000BB">$action</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$method</span><span style="color: #007700">=new </span><span style="color: #0000BB">ReflectionMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #0000BB">$methodName</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();<br>    </span><span style="color: #FF8000">// named and unnamed options<br>    </span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">() as </span><span style="color: #0000BB">$i</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$param</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">();<br>        if(isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>        {<br>            if(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isArray</span><span style="color: #007700">())<br>                </span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : array(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br>            elseif(!</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br>            else<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usageError</span><span style="color: #007700">(</span><span style="color: #DD0000">"Option --</span><span style="color: #0000BB">$name</span><span style="color: #DD0000"> requires a scalar. Array is given."</span><span style="color: #007700">);<br>        }<br>        elseif(</span><span style="color: #0000BB">$name</span><span style="color: #007700">===</span><span style="color: #DD0000">'args'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$args</span><span style="color: #007700">;<br>        elseif(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isDefaultValueAvailable</span><span style="color: #007700">())<br>            </span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultValue</span><span style="color: #007700">();<br>        else<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usageError</span><span style="color: #007700">(</span><span style="color: #DD0000">"Missing required option --</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">."</span><span style="color: #007700">);<br>        unset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br>    }<br><br>    </span><span style="color: #FF8000">// try global options<br>    </span><span style="color: #007700">if(!empty(</span><span style="color: #0000BB">$options</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$class</span><span style="color: #007700">=new </span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br>        foreach(</span><span style="color: #0000BB">$options </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>        {<br>            if(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">))<br>            {<br>                </span><span style="color: #0000BB">$property</span><span style="color: #007700">=</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br>                if(</span><span style="color: #0000BB">$property</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPublic</span><span style="color: #007700">() &amp;&amp; !</span><span style="color: #0000BB">$property</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isStatic</span><span style="color: #007700">())<br>                {<br>                    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>                    unset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br>                }<br>            }<br>        }<br>    }<br><br>    if(!empty(</span><span style="color: #0000BB">$options</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">usageError</span><span style="color: #007700">(</span><span style="color: #DD0000">"Unknown options: "</span><span style="color: #007700">.</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">', '</span><span style="color: #007700">,</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">)));<br><br>    </span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">beforeAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">=</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">invokeArgs</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">afterAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #0000BB">is_int</span><span style="color: #007700">(</span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">)?</span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">:</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>    }<br>    return </span><span style="color: #0000BB">$exitCode</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Executes the command. The default implementation will parse the input parameters and dispatch the command request to an appropriate action with the corresponding option values</p> <h3 class="detailHeader" id="usageError-detail"> usageError() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>usageError</b>(string $message)</pre> </td></tr> <tr> <td class="paramNameCol">$message</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the error message</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/console/CConsoleCommand.php#L335">framework/console/CConsoleCommand.php#335</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">usageError</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">)<br>{<br>    echo </span><span style="color: #DD0000">"Error: </span><span style="color: #0000BB">$message</span><span style="color: #DD0000">\n\n"</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHelp</span><span style="color: #007700">().</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>    exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Displays a usage error. This method will then terminate the execution of the current application.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CConsoleCommand" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CConsoleCommand</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
