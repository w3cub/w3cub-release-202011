
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>No-shadow - ESLint - W3cubDocs</title>
  
  <meta name="description" content=" Disallow variable declarations from shadowing variables declared in the outer scope ">
  <meta name="keywords" content="no-shadow, eslint">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/eslint/rules/no-shadow.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/eslint.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/eslint/" class="_nav-link" title="" style="margin-left:0;">ESLint</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>no-shadow</h1> 
<p>Disallow variable declarations from shadowing variables declared in the outer scope</p>  <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#rule-details">Rule Details</a> </li> <li>
<a href="#options">Options</a> <ol> <li>
<a href="#builtinglobals">builtinGlobals</a> </li> <li>
<a href="#hoist">hoist</a> <ol> <li>
<a href="#hoist-functions">hoist: functions</a> </li> <li>
<a href="#hoist-all">hoist: all</a> </li> <li>
<a href="#hoist-never">hoist: never</a> </li> </ol> </li> <li>
<a href="#allow">allow</a> </li> <li>
<a href="#ignoreoninitialization">ignoreOnInitialization</a> </li> </ol> </li> <li>
<a href="#related-rules">Related Rules</a> </li> <li>
<a href="#version">Version</a> </li> <li>
<a href="#further-reading">Further Reading</a> </li> <li>
<a href="#resources">Resources</a> </li> </ol> </nav> </div></nav> <p>Shadowing is the process by which a local variable shares the same name as a variable in its containing scope. For example:</p> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </div>
<p>In this case, the variable <code>a</code> inside of <code>b()</code> is shadowing the variable <code>a</code> in the global scope. This can cause confusion while reading the code and itâ€™s impossible to access the global variable.</p> <h2 id="rule-details" tabindex="-1">Rule Details</h2> <p>This rule aims to eliminate shadowed variable declarations.</p> <p>Examples of <strong>incorrect</strong> code for this rule:</p> <div class="incorrect"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: "error"*/</span>
<span class="token comment">/*eslint-env es6*/</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">b</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </div>
</div> <h2 id="options" tabindex="-1">Options</h2> <p>This rule takes one option, an object, with properties <code>"builtinGlobals"</code>, <code>"hoist"</code>, <code>"allow"</code> and <code>"ignoreOnInitialization"</code>.</p> <div class="language-json line-numbers-mode">
<pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">"no-shadow"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">"builtinGlobals"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token property">"hoist"</span><span class="token operator">:</span> <span class="token string">"functions"</span><span class="token punctuation">,</span> <span class="token property">"allow"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property">"ignoreOnInitialization"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> </div>
<h3 id="builtinglobals" tabindex="-1">builtinGlobals</h3> <p>The <code>builtinGlobals</code> option is <code>false</code> by default. If it is <code>true</code>, the rule prevents shadowing of built-in global variables: <code>Object</code>, <code>Array</code>, <code>Number</code>, and so on.</p> <p>Examples of <strong>incorrect</strong> code for the <code>{ "builtinGlobals": true }</code> option:</p> <div class="incorrect"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "builtinGlobals": true }]*/</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> Object <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </div>
</div> <h3 id="hoist" tabindex="-1">hoist</h3> <p>The <code>hoist</code> option has three settings:</p> <ul> <li>
<code>functions</code> (by default) - reports shadowing before the outer functions are defined.</li> <li>
<code>all</code> - reports all shadowing before the outer variables/functions are defined.</li> <li>
<code>never</code> - never report shadowing before the outer variables/functions are defined.</li> </ul> <h4 id="hoist-functions" tabindex="-1">hoist: functions</h4> <p>Examples of <strong>incorrect</strong> code for the default <code>{ "hoist": "functions" }</code> option:</p> <div class="incorrect"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "hoist": "functions" }]*/</span>
<span class="token comment">/*eslint-env es6*/</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> </div>
</div> <p>Although <code>let b</code> in the <code>if</code> statement is before the <em>function</em> declaration in the outer scope, it is incorrect.</p> <p>Examples of <strong>correct</strong> code for the default <code>{ "hoist": "functions" }</code> option:</p> <div class="correct"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "hoist": "functions" }]*/</span>
<span class="token comment">/*eslint-env es6*/</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> </div>
</div> <p>Because <code>let a</code> in the <code>if</code> statement is before the <em>variable</em> declaration in the outer scope, it is correct.</p> <h4 id="hoist-all" tabindex="-1">hoist: all</h4> <p>Examples of <strong>incorrect</strong> code for the <code>{ "hoist": "all" }</code> option:</p> <div class="incorrect"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "hoist": "all" }]*/</span>
<span class="token comment">/*eslint-env es6*/</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> </div>
</div> <h4 id="hoist-never" tabindex="-1">hoist: never</h4> <p>Examples of <strong>correct</strong> code for the <code>{ "hoist": "never" }</code> option:</p> <div class="correct"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "hoist": "never" }]*/</span>
<span class="token comment">/*eslint-env es6*/</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> </div>
</div> <p>Because <code>let a</code> and <code>let b</code> in the <code>if</code> statement are before the declarations in the outer scope, they are correct.</p> <h3 id="allow" tabindex="-1">allow</h3> <p>The <code>allow</code> option is an array of identifier names for which shadowing is allowed. For example, <code>"resolve"</code>, <code>"reject"</code>, <code>"done"</code>, <code>"cb"</code>.</p> <p>Examples of <strong>correct</strong> code for the <code>{ "allow": ["done"] }</code> option:</p> <div class="correct"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "allow": ["done"] }]*/</span>
<span class="token comment">/*eslint-env es6*/</span>

<span class="token keyword">import</span> <span class="token keyword">async</span> <span class="token keyword">from</span> <span class="token string">'async'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  async<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> e <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> done<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> err<span class="token punctuation">,</span> result <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </div>
</div> <h3 id="ignoreoninitialization" tabindex="-1">ignoreOnInitialization</h3> <p>The <code>ignoreOnInitialization</code> option is <code>false</code> by default. If it is <code>true</code>, it prevents reporting shadowing of variables in their initializers when the shadowed variable is presumably still uninitialized.</p> <p>The shadowed variable must be on the left side. The shadowing variable must be on the right side and declared in a callback function or in an IIFE.</p> <p>Examples of <strong>incorrect</strong> code for the <code>{ "ignoreOnInitialization": "true" }</code> option:</p> <div class="incorrect"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "ignoreOnInitialization": true }]*/</span>

<span class="token keyword">var</span> <span class="token function-variable function">x</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">;</span>
</code></pre> </div>
</div> <p>Because the shadowing variable <code>x</code> will shadow the already initialized shadowed variable <code>x</code>.</p> <p>Examples of <strong>correct</strong> code for the <code>{ "ignoreOnInitialization": true }</code> option:</p> <div class="correct"> <div class="language-js line-numbers-mode">
<pre class="language-js"><code><span class="token comment">/*eslint no-shadow: ["error", { "ignoreOnInitialization": true }]*/</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">y</span> <span class="token operator">=&gt;</span> y<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </div>
</div> <p>The rationale for callback functions is the assumption that they will be called during the initialization, so that at the time when the shadowing variable will be used, the shadowed variable has not yet been initialized.</p> <h2 id="related-rules">Related Rules</h2> <ul class="related-rules__list" role="list"> <li class="related-rules__list__item"> <a href="no-shadow-restricted-names"> <span>no-shadow-restricted-names</span>  </a> </li> </ul> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v0.0.9.</p> <h2 id="further-reading">Further Reading</h2> <article class="resource">  <div class="resource__content"> <a href="https://en.wikipedia.org/wiki/Variable_shadowing" class="resource__title"> Variable shadowing - Wikipedia </a><br>  </div>  </article> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/no-shadow.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/no-shadow.js">Tests source</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    Â© OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/no-shadow" class="_attribution-link">https://eslint.org/docs/latest/rules/no-shadow</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
