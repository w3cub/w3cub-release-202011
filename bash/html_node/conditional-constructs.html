
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Conditional Constructs - Bash - W3cubDocs</title>
  
  <meta name="description" content=" The syntax of the if command is&#58; ">
  <meta name="keywords" content="conditional, constructs, bash">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/bash/html_node/conditional-constructs.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/bash.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/bash/" class="_nav-link" title="" style="margin-left:0;">Bash</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _bash">
				
				
<h1 class="subsubsection">Conditional Constructs</h1>  <dl compact> <dt><code id="if">if</code></dt> <dd>
     <p>The syntax of the <code>if</code> command is: </p> <div class="example"> <pre class="example">if test-commands; then
  consequent-commands;
[elif more-test-commands; then
  more-consequents;]
[else alternate-consequents;]
fi
</pre>
</div> <p>The <var>test-commands</var> list is executed, and if its return status is zero, the <var>consequent-commands</var> list is executed. If <var>test-commands</var> returns a non-zero status, each <code>elif</code> list is executed in turn, and if its exit status is zero, the corresponding <var>more-consequents</var> is executed and the command completes. If ‘<samp>else <var>alternate-consequents</var></samp>’ is present, and the final command in the final <code>if</code> or <code>elif</code> clause has a non-zero exit status, then <var>alternate-consequents</var> is executed. The return status is the exit status of the last command executed, or zero if no condition tested true. </p> </dd> <dt><code id="case">case</code></dt> <dd>
   <p>The syntax of the <code>case</code> command is: </p> <div class="example"> <pre class="example">case word in
    [ [(] pattern [| pattern]…) command-list ;;]…
esac
</pre>
</div> <p><code>case</code> will selectively execute the <var>command-list</var> corresponding to the first <var>pattern</var> that matches <var>word</var>. The match is performed according to the rules described below in <a href="pattern-matching#Pattern-Matching">Pattern Matching</a>. If the <code>nocasematch</code> shell option (see the description of <code>shopt</code> in <a href="the-shopt-builtin#The-Shopt-Builtin">The Shopt Builtin</a>) is enabled, the match is performed without regard to the case of alphabetic characters. The ‘<samp>|</samp>’ is used to separate multiple patterns, and the ‘<samp>)</samp>’ operator terminates a pattern list. A list of patterns and an associated command-list is known as a <var>clause</var>. </p> <p>Each clause must be terminated with ‘<samp>;;</samp>’, ‘<samp>;&amp;</samp>’, or ‘<samp>;;&amp;</samp>’. The <var>word</var> undergoes tilde expansion, parameter expansion, command substitution, arithmetic expansion, and quote removal (see <a href="shell-parameter-expansion#Shell-Parameter-Expansion">Shell Parameter Expansion</a>) before matching is attempted. Each <var>pattern</var> undergoes tilde expansion, parameter expansion, command substitution, and arithmetic expansion. </p> <p>There may be an arbitrary number of <code>case</code> clauses, each terminated by a ‘<samp>;;</samp>’, ‘<samp>;&amp;</samp>’, or ‘<samp>;;&amp;</samp>’. The first pattern that matches determines the command-list that is executed. It’s a common idiom to use ‘<samp>*</samp>’ as the final pattern to define the default case, since that pattern will always match. </p> <p>Here is an example using <code>case</code> in a script that could be used to describe one interesting feature of an animal: </p> <div class="example"> <pre class="example">echo -n "Enter the name of an animal: "
read ANIMAL
echo -n "The $ANIMAL has "
case $ANIMAL in
  horse | dog | cat) echo -n "four";;
  man | kangaroo ) echo -n "two";;
  *) echo -n "an unknown number of";;
esac
echo " legs."
</pre>
</div> <p>If the ‘<samp>;;</samp>’ operator is used, no subsequent matches are attempted after the first pattern match. Using ‘<samp>;&amp;</samp>’ in place of ‘<samp>;;</samp>’ causes execution to continue with the <var>command-list</var> associated with the next clause, if any. Using ‘<samp>;;&amp;</samp>’ in place of ‘<samp>;;</samp>’ causes the shell to test the patterns in the next clause, if any, and execute any associated <var>command-list</var> on a successful match, continuing the case statement execution as if the pattern list had not matched. </p> <p>The return status is zero if no <var>pattern</var> is matched. Otherwise, the return status is the exit status of the <var>command-list</var> executed. </p> </dd> <dt><code id="select">select</code></dt> <dd>
 <p>The <code>select</code> construct allows the easy generation of menus. It has almost the same syntax as the <code>for</code> command: </p> <div class="example"> <pre class="example">select name [in words …]; do commands; done
</pre>
</div> <p>The list of words following <code>in</code> is expanded, generating a list of items. The set of expanded words is printed on the standard error output stream, each preceded by a number. If the ‘<samp>in <var>words</var></samp>’ is omitted, the positional parameters are printed, as if ‘<samp>in "$@"</samp>’ had been specified. The <code>PS3</code> prompt is then displayed and a line is read from the standard input. If the line consists of a number corresponding to one of the displayed words, then the value of <var>name</var> is set to that word. If the line is empty, the words and prompt are displayed again. If <code>EOF</code> is read, the <code>select</code> command completes. Any other value read causes <var>name</var> to be set to null. The line read is saved in the variable <code>REPLY</code>. </p> <p>The <var>commands</var> are executed after each selection until a <code>break</code> command is executed, at which point the <code>select</code> command completes. </p> <p>Here is an example that allows the user to pick a filename from the current directory, and displays the name and index of the file selected. </p> <div class="example"> <pre class="example">select fname in *;
do
	echo you picked $fname \($REPLY\)
	break;
done
</pre>
</div> </dd> <dt><code id="((…))">((…))</code></dt> <dd>
<div class="example"> <pre class="example">(( expression ))
</pre>
</div> <p>The arithmetic <var>expression</var> is evaluated according to the rules described below (see <a href="shell-arithmetic#Shell-Arithmetic">Shell Arithmetic</a>). If the value of the expression is non-zero, the return status is 0; otherwise the return status is 1. This is exactly equivalent to </p>
<div class="example"> <pre class="example">let "expression"
</pre>
</div> <p>See <a href="bash-builtins#Bash-Builtins">Bash Builtins</a>, for a full description of the <code>let</code> builtin. </p> </dd> <dt><code id="[[…]]">[[…]]</code></dt> <dd>
  <div class="example"> <pre class="example">[[ expression ]]
</pre>
</div> <p>Return a status of 0 or 1 depending on the evaluation of the conditional expression <var>expression</var>. Expressions are composed of the primaries described below in <a href="bash-conditional-expressions#Bash-Conditional-Expressions">Bash Conditional Expressions</a>. Word splitting and filename expansion are not performed on the words between the <code>[[</code> and <code>]]</code>; tilde expansion, parameter and variable expansion, arithmetic expansion, command substitution, process substitution, and quote removal are performed. Conditional operators such as ‘<samp>-f</samp>’ must be unquoted to be recognized as primaries. </p> <p>When used with <code>[[</code>, the ‘<samp>&lt;</samp>’ and ‘<samp>&gt;</samp>’ operators sort lexicographically using the current locale. </p> <p>When the ‘<samp>==</samp>’ and ‘<samp>!=</samp>’ operators are used, the string to the right of the operator is considered a pattern and matched according to the rules described below in <a href="pattern-matching#Pattern-Matching">Pattern Matching</a>, as if the <code>extglob</code> shell option were enabled. The ‘<samp>=</samp>’ operator is identical to ‘<samp>==</samp>’. If the <code>nocasematch</code> shell option (see the description of <code>shopt</code> in <a href="the-shopt-builtin#The-Shopt-Builtin">The Shopt Builtin</a>) is enabled, the match is performed without regard to the case of alphabetic characters. The return value is 0 if the string matches (‘<samp>==</samp>’) or does not match (‘<samp>!=</samp>’) the pattern, and 1 otherwise. Any part of the pattern may be quoted to force the quoted portion to be matched as a string. </p> <p>An additional binary operator, ‘<samp>=~</samp>’, is available, with the same precedence as ‘<samp>==</samp>’ and ‘<samp>!=</samp>’. When it is used, the string to the right of the operator is considered a <small>POSIX</small> extended regular expression and matched accordingly (as in <i>regex</i>3)). The return value is 0 if the string matches the pattern, and 1 otherwise. If the regular expression is syntactically incorrect, the conditional expression’s return value is 2. If the <code>nocasematch</code> shell option (see the description of <code>shopt</code> in <a href="the-shopt-builtin#The-Shopt-Builtin">The Shopt Builtin</a>) is enabled, the match is performed without regard to the case of alphabetic characters. Any part of the pattern may be quoted to force the quoted portion to be matched as a string. Bracket expressions in regular expressions must be treated carefully, since normal quoting characters lose their meanings between brackets. If the pattern is stored in a shell variable, quoting the variable expansion forces the entire pattern to be matched as a string. Substrings matched by parenthesized subexpressions within the regular expression are saved in the array variable <code>BASH_REMATCH</code>. The element of <code>BASH_REMATCH</code> with index 0 is the portion of the string matching the entire regular expression. The element of <code>BASH_REMATCH</code> with index <var>n</var> is the portion of the string matching the <var>n</var>th parenthesized subexpression. </p> <p>For example, the following will match a line (stored in the shell variable <var>line</var>) if there is a sequence of characters in the value consisting of any number, including zero, of space characters, zero or one instances of ‘<samp>a</samp>’, then a ‘<samp>b</samp>’: </p>
<div class="example"> <pre class="example">[[ $line =~ [[:space:]]*?(a)b ]]
</pre>
</div> <p>That means values like ‘<samp>aab</samp>’ and ‘<samp> aaaaaab</samp>’ will match, as will a line containing a ‘<samp>b</samp>’ anywhere in its value. </p> <p>Storing the regular expression in a shell variable is often a useful way to avoid problems with quoting characters that are special to the shell. It is sometimes difficult to specify a regular expression literally without using quotes, or to keep track of the quoting used by regular expressions while paying attention to the shell’s quote removal. Using a shell variable to store the pattern decreases these problems. For example, the following is equivalent to the above: </p>
<div class="example"> <pre class="example">pattern='[[:space:]]*?(a)b'
[[ $line =~ $pattern ]]
</pre>
</div> <p>If you want to match a character that’s special to the regular expression grammar, it has to be quoted to remove its special meaning. This means that in the pattern ‘<samp>xxx.txt</samp>’, the ‘<samp>.</samp>’ matches any character in the string (its usual regular expression meaning), but in the pattern ‘<samp>"xxx.txt"</samp>’ it can only match a literal ‘<samp>.</samp>’. Shell programmers should take special care with backslashes, since backslashes are used both by the shell and regular expressions to remove the special meaning from the following character. The following two sets of commands are <em>not</em> equivalent: </p>
<div class="example"> <pre class="example">pattern='\.'

[[ . =~ $pattern ]]
[[ . =~ \. ]]

[[ . =~ "$pattern" ]]
[[ . =~ '\.' ]]
</pre>
</div> <p>The first two matches will succeed, but the second two will not, because in the second two the backslash will be part of the pattern to be matched. In the first two examples, the backslash removes the special meaning from ‘<samp>.</samp>’, so the literal ‘<samp>.</samp>’ matches. If the string in the first examples were anything other than ‘<samp>.</samp>’, say ‘<samp>a</samp>’, the pattern would not match, because the quoted ‘<samp>.</samp>’ in the pattern loses its special meaning of matching any single character. </p> <p>Expressions may be combined using the following operators, listed in decreasing order of precedence: </p> <dl compact> <dt><code id="(  )">( <var>expression</var> )</code></dt> <dd>
<p>Returns the value of <var>expression</var>. This may be used to override the normal precedence of operators. </p> </dd> <dt><code id="!">! <var>expression</var></code></dt> <dd>
<p>True if <var>expression</var> is false. </p> </dd> <dt><code id="&amp;amp;&amp;amp;"><var>expression1</var> &amp;&amp; <var>expression2</var></code></dt> <dd>
<p>True if both <var>expression1</var> and <var>expression2</var> are true. </p> </dd> <dt><code id="||"><var>expression1</var> || <var>expression2</var></code></dt> <dd><p>True if either <var>expression1</var> or <var>expression2</var> is true. </p></dd> </dl> <p>The <code>&amp;&amp;</code> and <code>||</code> operators do not evaluate <var>expression2</var> if the value of <var>expression1</var> is sufficient to determine the return value of the entire conditional expression. </p>
</dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright © 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.<br>Licensed under the GNU Free Documentation License.<br>
    <a href="https://www.gnu.org/software/bash/manual/html_node/Conditional-Constructs.html" class="_attribution-link">https://www.gnu.org/software/bash/manual/html_node/Conditional-Constructs.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
