
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ansible.netcommon.napalm – Provides Persistent Connection Using NAPALM - Ansible 2.11 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="ansible, netcommon, napalm, –, provides, persistent, connection, using, ansible~2.11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.11/collections/ansible/netcommon/napalm_connection.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/ansible~2.11.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.11/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="ansible-netcommon-napalm-provides-persistent-connection-using-napalm">ansible.netcommon.napalm – Provides persistent connection using NAPALM</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/ansible/netcommon">ansible.netcommon collection</a> (version 1.5.0).</p> <p>To install it use: <code>ansible-galaxy collection install ansible.netcommon</code>.</p> <p>To use it in a playbook, specify: <code>ansible.netcommon.napalm</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of ansible.netcommon</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#deprecated" id="id1">DEPRECATED</a></li> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id3">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id4">Parameters</a></li> <li><a class="reference internal" href="#status" id="id5">Status</a></li> </ul>   <h2 id="deprecated">DEPRECATED</h2> <dl class="field-list simple"> <dt class="field-odd">Removed in</dt> <dd class="field-odd">
<p>major release after 2022-06-01</p> </dd> <dt class="field-even">Why</dt> <dd class="field-even">
<p>I am pretty sure no one has ever tried to use these modules</p> </dd> <dt class="field-odd">Alternative</dt> <dd class="field-odd">
<p>None. If anyone actually wants to use this plugin, open an issue and we’ll rescind the deprecation</p> </dd> </dl>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This connection plugin provides connectivity to network devices using the NAPALM network device abstraction library. This library requires certain features to be enabled on network devices depending on the destination device operating system. The connection plugin requires <code>napalm</code> to be installed locally on the Ansible controller.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this connection.</p> <ul class="simple"> <li>napalm</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th>Configuration</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>host</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"inventory_hostname"</div> </td> <td> <div> var: ansible_host </div> </td> <td> <div>Specifies the remote device FQDN or IP address to establish the SSH connection to.</div> </td> </tr> <tr> <td colspan="1">  <b>host_key_auto_add</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div> ini entries: <p> [paramiko_connection]<br>host_key_auto_add = no </p> </div> <div> env:ANSIBLE_HOST_KEY_AUTO_ADD </div> </td> <td> <div>By default, Ansible will prompt the user before adding SSH keys to the known hosts file. By enabling this option, unknown host keys will automatically be added to the known hosts file.</div> <div>Be sure to fully understand the security implications of enabling this option on production systems as it could create a security vulnerability.</div> </td> </tr> <tr> <td colspan="1">  <b>network_os</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div> var: ansible_network_os </div> </td> <td> <div>Configures the device platform network operating system. This value is used to load a napalm device abstraction.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div> var: ansible_password </div> <div> var: ansible_ssh_pass </div> <div> var: ansible_ssh_password </div> </td> <td> <div>Configures the user password used to authenticate to the remote device when first establishing the SSH connection.</div> </td> </tr> <tr> <td colspan="1">  <b>persistent_command_timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>30</div> </td> <td> <div> ini entries: <p> [persistent_connection]<br>command_timeout = 30 </p> </div> <div> env:ANSIBLE_PERSISTENT_COMMAND_TIMEOUT </div> <div> var: ansible_command_timeout </div> </td> <td> <div>Configures, in seconds, the amount of time to wait for a command to return from the remote device. If this timer is exceeded before the command returns, the connection plugin will raise an exception and close.</div> </td> </tr> <tr> <td colspan="1">  <b>persistent_connect_timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>30</div> </td> <td> <div> ini entries: <p> [persistent_connection]<br>connect_timeout = 30 </p> </div> <div> env:ANSIBLE_PERSISTENT_CONNECT_TIMEOUT </div> <div> var: ansible_connect_timeout </div> </td> <td> <div>Configures, in seconds, the amount of time to wait when trying to initially establish a persistent connection. If this value expires before the connection to the remote device is completed, the connection will fail.</div> </td> </tr> <tr> <td colspan="1">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>22</div> </td> <td> <div> ini entries: <p> [defaults]<br>remote_port = 22 </p> </div> <div> env:ANSIBLE_REMOTE_PORT </div> <div> var: ansible_port </div> </td> <td> <div>Specifies the port on the remote device that listens for connections when establishing the SSH connection.</div> </td> </tr> <tr> <td colspan="1">  <b>private_key_file</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div> ini entries: <p> [defaults]<br>private_key_file = None </p> </div> <div> env:ANSIBLE_PRIVATE_KEY_FILE </div> <div> var: ansible_private_key_file </div> </td> <td> <div>The private SSH key or certificate file used to authenticate to the remote device when first establishing the SSH connection.</div> </td> </tr> <tr> <td colspan="1">  <b>remote_user</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div> ini entries: <p> [defaults]<br>remote_user = None </p> </div> <div> env:ANSIBLE_REMOTE_USER </div> <div> var: ansible_user </div> </td> <td> <div>The username used to authenticate to the remote device when the SSH connection is first established. If the remote_user is not specified, the connection will use the username of the logged in user.</div> <div>Can be configured from the CLI via the <code>--user</code> or <code>-u</code> options.</div> </td> </tr> <tr> <td colspan="1">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>120</div> </td> <td> </td> <td> <div>Sets the connection time, in seconds, for communicating with the remote device. This timeout is used as the default timeout value for commands when issuing a command to the network CLI. If the command does not return in timeout seconds, an error is generated.</div> </td> </tr> </table> <br>  <h2 id="status">Status</h2> <ul class="simple"> <li>This connection will be removed in a major release after 2022-06-01. <em>[deprecated]</em>
</li> <li>For more information see <a class="reference internal" href="#deprecated">DEPRECATED</a>.</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Ansible Networking Team</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.11/collections/ansible/netcommon/napalm_connection.html" class="_attribution-link">https://docs.ansible.com/ansible/2.11/collections/ansible/netcommon/napalm_connection.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
