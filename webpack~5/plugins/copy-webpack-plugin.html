
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CopyWebpackPlugin - Webpack 5 - W3cubDocs</title>
  
  <meta name="description" content=" Copies individual files or entire directories, which already exist, to the build directory. ">
  <meta name="keywords" content="copywebpackplugin, webpack, webpack~5">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/webpack~5/plugins/copy-webpack-plugin.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/webpack~5.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/webpack~5/" class="_nav-link" title="" style="margin-left:0;">webpack 5</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _webpack">
				
				
<h1>CopyWebpackPlugin</h1>
<div class="italic my-[20px]">
<strong class="font-bold">Disclaimer:</strong> CopyWebpackPlugin is a third-party package maintained by community members, it potentially does not have the same support, security policy or license as webpack, and it is not maintained by webpack.</div>
<div id="md-content">

<p>Copies individual files or entire directories, which already exist, to the build directory.</p>
<h2>
Getting Started
</h2>
<p>To begin, you'll need to install <code>copy-webpack-plugin</code>:</p>
<pre data-language="console">npm install copy-webpack-plugin --save-dev
</pre>
<p>or</p>
<pre data-language="console">yarn add -D copy-webpack-plugin
</pre>
<p>or</p>
<pre data-language="console">pnpm add -D copy-webpack-plugin
</pre>
<p>Then add the plugin to your <code>webpack</code> config. For example:</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">const CopyPlugin = require("copy-webpack-plugin");

module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        { from: "source", to: "dest" },
        { from: "other", to: "public" },
      ],
    }),
  ],
};</pre>
<blockquote>
<p><strong>Note</strong></p>
<p><code>copy-webpack-plugin</code> is not designed to copy files generated from the build process; rather, it is to copy files that already exist in the source tree, as part of the build process.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong></p>
<p>If you want <code>webpack-dev-server</code> to write files to the output directory during development, you can force it with the <a href="https://github.com/webpack/webpack-dev-middleware#writetodisk"><code>writeToDisk</code></a> option or the <a href="https://github.com/gajus/write-file-webpack-plugin"><code>write-file-webpack-plugin</code></a>.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong></p>
<p>You can get the original source filename from <a href="../api/stats#asset-objects">Asset Objects</a>.</p>
</blockquote>
<h2>
Options
</h2>
<ul>
<li><strong><a href="#patterns"><code>patterns</code></a></strong></li>
<li><strong><a href="#options-1"><code>options</code></a></strong></li>
</ul>
<p>The plugin's signature:</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">const CopyPlugin = require("copy-webpack-plugin");

module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        { from: "source", to: "dest" },
        "path/to/source", // absolute or relative, files/directories/globs - see below for examples
      ],
      options: {
        concurrency: 100,
      },
    }),
  ],
};</pre>
<h3>
<code>Patterns</code>
</h3>
<ul>
<li><a href="#from"><code>from</code></a></li>
<li><a href="#to"><code>to</code></a></li>
<li><a href="#context"><code>context</code></a></li>
<li><a href="#globoptions"><code>globOptions</code></a></li>
<li><a href="#filter"><code>filter</code></a></li>
<li><a href="#totype"><code>toType</code></a></li>
<li><a href="#force"><code>force</code></a></li>
<li><a href="#priority"><code>priority</code></a></li>
<li><a href="#transform"><code>transform</code></a></li>
<li><a href="#transformall"><code>transformAll</code></a></li>
<li><a href="#noerroronmissing"><code>noErrorOnMissing</code></a></li>
<li><a href="#info"><code>info</code></a></li>
</ul>
<h4>
<code>from</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type from = string;</pre>
<p>Default: <code>undefined</code></p>
<p>Glob or path from where we copy files. Globs accept <a href="https://github.com/mrmlnc/fast-glob#pattern-syntax">fast-glob pattern-syntax</a>. Glob can only be a <code>string</code>.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>Don't use directly <code>\\</code> in <code>from</code> option if it is a <code>glob</code> (i.e <code>path\to\file.ext</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code>.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        "relative/path/to/file.ext",
        "relative/path/to/dir",
        path.resolve(__dirname, "src", "file.ext"),
        path.resolve(__dirname, "src", "dir"),
        "**/*",
        {
          from: "**/*",
        },
        // If absolute path is a `glob` we replace backslashes with forward slashes, because only forward slashes can be used in the `glob`
        path.posix.join(
          path.resolve(__dirname, "src").replace(/\\/g, "/"),
          "*.txt"
        ),
      ],
    }),
  ],
};</pre>
<h5>
<code>For windows</code>
</h5>
<p>If you define <code>from</code> as absolute file path or absolute folder path on <code>Windows</code>, you can use windows path segment (<code>\\</code>)</p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: path.resolve(__dirname, "file.txt"),
        },
      ],
    }),
  ],
};</pre>
<p>But you should always use forward-slashes in <code>glob</code> expressions See <a href="https://github.com/mrmlnc/fast-glob#how-to-write-patterns-on-windows">fast-glob manual</a>.</p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          // If absolute path is a `glob` we replace backslashes with forward slashes, because only forward slashes can be used in the `glob`
          from: path.posix.join(
            path.resolve(__dirname, "fixtures").replace(/\\/g, "/"),
            "*.txt"
          ),
        },
      ],
    }),
  ],
};</pre>
<p>The <code>context</code> behaves differently depending on what the <code>from</code> is (<code>glob</code>, <code>file</code> or <code>dir</code>). More <a href="#examples"><code>examples</code></a></p>
<h4>
<code>to</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type to =
  | string
  | ((pathData: { context: string; absoluteFilename?: string }) =&gt; string);</pre>
<p>Default: <code>compiler.options.output</code></p>
<h5>
<code>string</code>
</h5>
<p>Output path.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>Don't use directly <code>\\</code> in <code>to</code> (i.e <code>path\to\dest</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "**/*",
          to: "relative/path/to/dest/",
        },
        {
          from: "**/*",
          to: "/absolute/path/to/dest/",
        },
        {
          from: "**/*",
          to: "[path][name].[contenthash][ext]",
        },
      ],
    }),
  ],
};</pre>
<h5>
<code>function</code>
</h5>
<p>Allows to modify the writing path.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>Don't return directly <code>\\</code> in <code>to</code> (i.e <code>path\to\newFile</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to({ context, absoluteFilename }) {
            return "dest/newPath/[name][ext]";
          },
        },
      ],
    }),
  ],
};</pre>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to({ context, absoluteFilename }) {
            return Promise.resolve("dest/newPath/[name][ext]");
          },
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>context</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type context = string;</pre>
<p>Default: <code>options.context|compiler.options.context</code></p>
<p>A path that determines how to interpret the <code>from</code> path.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>Don't use directly <code>\\</code> in <code>context</code> (i.e <code>path\to\context</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.txt",
          to: "dest/",
          context: "app/",
        },
      ],
    }),
  ],
};</pre>
<p>The <code>context</code> option can be an absolute or relative path. If <code>context</code> is a relative, then it is converted to absolute based to <code>compiler.options.context</code></p>
<p>To determine the structure from which the found resources will be copied to the destination folder, the <code>context</code> option is used.</p>
<p>If <code>from</code> is a file, then <code>context</code> is equal to the directory in which this file is located. Accordingly, the result will be only the file name.</p>
<p>If <code>from</code> is a directory, then <code>context</code> is the same as <code>from</code> and is equal to the directory itself. In this case, the result will be a hierarchical structure of the found folders and files relative to the specified directory.</p>
<p>If <code>from</code> is a glob, then regardless of the <code>context</code> option, the result will be the structure specified in the <code>from</code> option</p>
<p>More <a href="#examples"><code>examples</code></a></p>
<h4>
<code>globOptions</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type globOptions = import("globby").Options;</pre>
<p>Default: <code>undefined</code></p>
<p>Allows to configure the glob pattern matching library used by the plugin. <a href="https://github.com/sindresorhus/globby#options">See the list of supported options</a> To exclude files from the selection, you should use <a href="https://github.com/mrmlnc/fast-glob#ignore">globOptions.ignore option</a></p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "public/**/*",
          globOptions: {
            dot: true,
            gitignore: true,
            ignore: ["**/file.*", "**/ignored-directory/**"],
          },
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>filter</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type filter = (filepath: string) =&gt; boolean;</pre>
<p>Default: <code>undefined</code></p>
<blockquote>
<p><strong>Note</strong></p>
<p>To ignore files by path please use the <a href="#globoptions"><code>globOptions.ignore</code></a> option.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">const fs = require("fs").promise;

module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "public/**/*",
          filter: async (resourcePath) =&gt; {
            const data = await fs.promises.readFile(resourcePath);
            const content = data.toString();

            if (content === "my-custom-content") {
              return false;
            }

            return true;
          },
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>toType</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type toType = "dir" | "file" | "template";</pre>
<p>Default: <code>undefined</code></p>
<p>Determinate what is <code>to</code> option - directory, file or template. Sometimes it is hard to say what is <code>to</code>, example <code>path/to/dir-with.ext</code>. If you want to copy files in directory you need use <code>dir</code> option. We try to automatically determine the <code>type</code> so you most likely do not need this option.</p>
<table>
<thead><tr>
<th align="center">Name</th>
<th align="center">Type</th>
<th align="center">Default</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="center" data-th="Name"><span><strong><a href="#dir"><code>'dir'</code></a></strong></span></td>
<td align="center" data-th="Type"><span><code>string</code></span></td>
<td align="center" data-th="Default"><span><code>undefined</code></span></td>
<td align="left" data-th="Description"><span>If <code>to</code> has no extension or ends on <code>'/'</code></span></td>
</tr>
<tr>
<td align="center" data-th="Name"><span><strong><a href="#file"><code>'file'</code></a></strong></span></td>
<td align="center" data-th="Type"><span><code>string</code></span></td>
<td align="center" data-th="Default"><span><code>undefined</code></span></td>
<td align="left" data-th="Description"><span>If <code>to</code> is not a directory and is not a template</span></td>
</tr>
<tr>
<td align="center" data-th="Name"><span><strong><a href="#template"><code>'template'</code></a></strong></span></td>
<td align="center" data-th="Type"><span><code>string</code></span></td>
<td align="center" data-th="Default"><span><code>undefined</code></span></td>
<td align="left" data-th="Description"><span>If <code>to</code> contains <a href="../configuration/output#template-strings">a template pattern</a></span></td>
</tr>
</tbody>
</table>
<h5>
<code>'dir'</code>
</h5>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "path/to/file.txt",
          to: "directory/with/extension.ext",
          toType: "dir",
        },
      ],
    }),
  ],
};</pre>
<h5>
<code>'file'</code>
</h5>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "path/to/file.txt",
          to: "file/without/extension",
          toType: "file",
        },
      ],
    }),
  ],
};</pre>
<h5>
<code>'template'</code>
</h5>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/",
          to: "dest/[name].[contenthash][ext]",
          toType: "template",
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>force</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type force = boolean;</pre>
<p>Default: <code>false</code></p>
<p>Overwrites files already in <code>compilation.assets</code> (usually added by other plugins/loaders).</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/**/*",
          to: "dest/",
          force: true,
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>priority</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type priority = number;</pre>
<p>Default: <code>0</code></p>
<p>Allows to specify the priority of copying files with the same destination name. Files for patterns with higher priority will be copied later. To overwrite files, the <a href="#force"><code>force</code></a> option must be enabled.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        // Copied second and will overwrite "dir_2/file.txt"
        {
          from: "dir_1/file.txt",
          to: "newfile.txt",
          force: true,
          priority: 10,
        },
        // Copied first
        {
          from: "dir_2/file.txt",
          to: "newfile.txt",
          priority: 5,
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>transform</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type transform =
  | {
      transformer: (input: string, absoluteFilename: string) =&gt; string | Buffer;
      cache?: boolean | TransformerCacheObject | undefined;
    }
  | ((input: string, absoluteFilename: string) =&gt; string | Buffer);</pre>
<p>Default: <code>undefined</code></p>
<p>Allows to modify the file contents.</p>
<h5>
<code>function</code>
</h5>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          // The `content` argument is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`
          // The `absoluteFrom` argument is a `String`, it is absolute path from where the file is being copied
          transform(content, absoluteFrom) {
            return optimize(content);
          },
        },
      ],
    }),
  ],
};</pre>
<h5>
<code>object</code>
</h5>
<table>
<thead><tr>
<th align="center">Name</th>
<th align="center">Default</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="center" data-th="Name"><span><strong><a href="#transformer"><code>transformer</code></a></strong></span></td>
<td align="center" data-th="Default"><span><code>undefined</code></span></td>
<td align="left" data-th="Description"><span>Allows to modify the file contents.</span></td>
</tr>
<tr>
<td align="center" data-th="Name"><span><strong><a href="#cache"><code>cache</code></a></strong></span></td>
<td align="center" data-th="Default"><span><code>false</code></span></td>
<td align="left" data-th="Description"><span>Enable <code>transform</code> caching. You can use <code>transform: { cache: { key: 'my-cache-key' } }</code> to invalidate the cache.</span></td>
</tr>
</tbody>
</table>
<h6>
<code>transformer</code>
</h6>
<p>Type:</p>
<pre data-language="ts">type transformer = (input: string, absoluteFilename: string) =&gt; string;</pre>
<p>Default: <code>undefined</code></p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          // The `content` argument is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`
          // The `absoluteFrom` argument is a `String`, it is absolute path from where the file is being copied
          transform: {
            transformer(content, absoluteFrom) {
              return optimize(content);
            },
          },
        },
      ],
    }),
  ],
};</pre>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          transform: {
            transformer(content, path) {
              return Promise.resolve(optimize(content));
            },
          },
        },
      ],
    }),
  ],
};</pre>
<h6>
<code>cache</code>
</h6>
<p>Type:</p>
<pre data-language="ts">type cache =
  | boolean
  | {
      keys: {
        [key: string]: any;
      };
    }
  | {
      keys: (
        defaultCacheKeys: {
          [key: string]: any;
        },
        absoluteFilename: string
      ) =&gt; Promise&lt;{
        [key: string]: any;
      }&gt;;
    }
  | undefined;</pre>
<p>Default: <code>false</code></p>
<p><strong>webpack.config.js</strong></p>
<p>Enable/disable and configure caching. Default path to cache directory: <code>node_modules/.cache/copy-webpack-plugin</code>.</p>
<h6>
<code>boolean</code>
</h6>
<p>Enables/Disable <code>transform</code> caching.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          transform: {
            transformer(content, path) {
              return optimize(content);
            },
            cache: true,
          },
        },
      ],
    }),
  ],
};</pre>
<h5>
<code>object</code>
</h5>
<p>Enables <code>transform</code> caching and setup cache directory and invalidation keys.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          transform: {
            transformer(content, path) {
              return optimize(content);
            },
            cache: {
              directory: path.resolve(__dirname, "cache-directory"),
              keys: {
                // May be useful for invalidating cache based on external values
                // For example, you can invalid cache based on `process.version` - { node: process.version }
                key: "value",
              },
            },
          },
        },
      ],
    }),
  ],
};</pre>
<p>You can setup invalidation keys using a function.</p>
<p>Simple function:</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          transform: {
            transformer(content, path) {
              return optimize(content);
            },
            cache: {
              directory: path.resolve(__dirname, "cache-directory"),
              keys: (defaultCacheKeys, absoluteFrom) =&gt; {
                const keys = getCustomCacheInvalidationKeysSync();

                return {
                  ...defaultCacheKeys,
                  keys,
                };
              },
            },
          },
        },
      ],
    }),
  ],
};</pre>
<p>Async function:</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/*.png",
          to: "dest/",
          transform: {
            transformer(content, path) {
              return optimize(content);
            },
            cache: {
              directory: path.resolve(__dirname, "cache-directory"),
              keys: async (defaultCacheKeys, absoluteFrom) =&gt; {
                const keys = await getCustomCacheInvalidationKeysAsync();

                return {
                  ...defaultCacheKeys,
                  keys,
                };
              },
            },
          },
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>transformAll</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type transformAll = (
  data: {
    data: Buffer;
    sourceFilename: string;
    absoluteFilename: string;
  }[]
) =&gt; any;</pre>
<p>Default: <code>undefined</code></p>
<p>Allows you to modify the contents of multiple files and save the result to one file.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The <code>to</code> option must be specified and point to a file. It is allowed to use only <code>[contenthash]</code> and <code>[fullhash]</code> template strings.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/**/*.txt",
          to: "dest/file.txt",
          // The `assets` argument is an assets array for the pattern.from ("src/**/*.txt")
          transformAll(assets) {
            const result = assets.reduce((accumulator, asset) =&gt; {
              // The asset content can be obtained from `asset.source` using `source` method.
              // The asset content is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`
              const content = asset.data;

              accumulator = `${accumulator}${content}\n`;
              return accumulator;
            }, "");

            return result;
          },
        },
      ],
    }),
  ],
};</pre>
<h3>
<code>noErrorOnMissing</code>
</h3>
<p>Type:</p>
<pre data-language="ts">type noErrorOnMissing = boolean;</pre>
<p>Default: <code>false</code></p>
<p>Doesn't generate an error on missing file(s).</p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: path.resolve(__dirname, "missing-file.txt"),
          noErrorOnMissing: true,
        },
      ],
    }),
  ],
};</pre>
<h4>
<code>info</code>
</h4>
<p>Type:</p>
<pre data-language="ts">type info =
  | Record&lt;string, any&gt;
  | ((item: {
      absoluteFilename: string;
      sourceFilename: string;
      filename: string;
      toType: ToType;
    }) =&gt; Record&lt;string, any&gt;);</pre>
<p>Default: <code>undefined</code></p>
<p>Allows to add assets info.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        "relative/path/to/file.ext",
        {
          from: "**/*",
          // Terser skip this file for minimization
          info: { minimized: true },
        },
      ],
    }),
  ],
};</pre>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        "relative/path/to/file.ext",
        {
          from: "**/*",
          // Terser skip this file for minimization
          info: (file) =&gt; ({ minimized: true }),
        },
      ],
    }),
  ],
};</pre>
<h3>
Options
</h3>
<ul><li><a href="#concurrency"><code>concurrency</code></a></li></ul>
<h4>
<code>concurrency</code>
</h4>
<p>type:</p>
<pre data-language="ts">type concurrency = number;</pre>
<p>default: <code>100</code></p>
<p>limits the number of simultaneous requests to fs</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [...patterns],
      options: { concurrency: 50 },
    }),
  ],
};</pre>
<h3>
Examples
</h3>
<h4>
Different variants <code>from</code> (<code>glob</code>, <code>file</code> or <code>dir</code>).
</h4>
<p>Take for example the following file structure:</p>
<pre data-language="js">src/directory-nested/deep-nested/deepnested-file.txt
src/directory-nested/nested-file.txt
</pre>
<h5>
From is a Glob
</h5>
<p>Everything that you specify in <code>from</code> will be included in the result:</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/directory-nested/**/*",
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">src/directory-nested/deep-nested/deepnested-file.txt,
src/directory-nested/nested-file.txt
</pre>
<p>If you want only content <code>src/directory-nested/</code>, you should only indicate <code>glob</code> in <code>from</code>. The path to the folder in which the search should take place, should be moved to <code>context</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "**/*",
          context: path.resolve(__dirname, "src", "directory-nested"),
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">deep-nested/deepnested-file.txt,
nested-file.txt
</pre>
<h5>
From is a Dir
</h5>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: path.resolve(__dirname, "src", "directory-nested"),
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">deep-nested/deepnested-file.txt,
nested-file.txt
</pre>
<p>Technically, this is <code>**/*</code> with a predefined context equal to the specified directory.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "**/*",
          context: path.resolve(__dirname, "src", "directory-nested"),
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">deep-nested/deepnested-file.txt,
nested-file.txt
</pre>
<h5>
From is a File
</h5>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: path.resolve(
            __dirname,
            "src",
            "directory-nested",
            "nested-file.txt"
          ),
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">nested-file.txt
</pre>
<p>Technically, this is a filename with a predefined context equal to <code>path.dirname(pathToFile)</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "nested-file.txt",
          context: path.resolve(__dirname, "src", "directory-nested"),
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">nested-file.txt
</pre>
<h4>
Ignoring files
</h4>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: path.posix.join(
            path.resolve(__dirname, "src").replace(/\\/g, "/"),
            "**/*"
          ),
          globOptions: {
            ignore: [
              // Ignore all `txt` files
              "**/*.txt",
              // Ignore all files in all subdirectories
              "**/subdir/**",
            ],
          },
        },
      ],
    }),
  ],
};</pre>
<h4>
Flatten copy
</h4>
<p>Removes all directory references and only copies file names.</p>
<blockquote>
<p><strong>Warning</strong></p>
<p>If files have the same name, the result is non-deterministic.</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: "src/**/*",
          to: "[name][ext]",
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">file-1.txt
file-2.txt
nested-file.txt
</pre>
<h4>
Copy in new directory
</h4>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          // When copying files starting with a dot, must specify the toType option
          // toType: "file",
          to({ context, absoluteFilename }) {
            return `newdirectory/${path.relative(context, absoluteFilename)}`;
          },
          from: "directory",
        },
      ],
    }),
  ],
};</pre>
<p>Result:</p>
<pre data-language="txt">"newdirectory/file-1.txt",
"newdirectory/nestedfile.txt",
"newdirectory/nested/deep-nested/deepnested.txt",
"newdirectory/nested/nestedfile.txt",
</pre>
<h4>
Skip running JavaScript files through a minimizer
</h4>
<p>Useful if you need to simply copy <code>*.js</code> files to destination "as is" without evaluating and minimizing them using Terser.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        "relative/path/to/file.ext",
        {
          from: "**/*",
          // Terser skip this file for minimization
          info: { minimized: true },
        },
      ],
    }),
  ],
};</pre>
<h5>
<code>yarn workspaces</code> and <code>monorepos</code>
</h5>
<p>When using <code>yarn workspaces</code> or<code> monorepos</code>, relative copy paths from node_modules can be broken due to the way packages are hoisting. To avoid this, should explicitly specify where to copy the files from using <code>require.resolve</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre data-language="js">module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        {
          from: `${path.dirname(
            require.resolve(`${moduleName}/package.json`)
          )}/target`,
          to: "target",
        },
      ],
    }),
  ],
};</pre>
<h2>
Contributing
</h2>
<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p>
<p><a href="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p>
<h2>
License
</h2>
<p><a href="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/LICENSE">MIT</a></p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © JS Foundation and other contributors<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://webpack.js.org/plugins/copy-webpack-plugin" class="_attribution-link">https://webpack.js.org/plugins/copy-webpack-plugin</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
