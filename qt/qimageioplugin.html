
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>QImageIOPlugin (Class) - Qt - W3cubDocs</title>
  
  <meta name="description" content=" The QImageIOPlugin class defines an interface for writing an image format plugin. More... ">
  <meta name="keywords" content="qimageioplugin, class, qt">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt/qimageioplugin.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-60a6449bb52e9968d95c133a29f066ffcb8dbe4f077d4022e51c991ce30bf256c8e19c508207a4193c414ffd0414826564317669b0f27f9f85c1cb21b84e097e.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/qt.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt/" class="_nav-link" title="" style="margin-left:0;">Qt</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">QImageIOPlugin Class</h1>  <p>The QImageIOPlugin class defines an interface for writing an image format plugin. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QImageIOPlugin&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> CMake:</td>
<td class="memItemRight bottomAlign"> find_package(Qt6 COMPONENTS Gui REQUIRED)  target_link_libraries(mytarget PRIVATE Qt6::Gui)</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += gui</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <a href="qobject">QObject</a>
</td>
</tr>
</table> <ul> <li><a href="https://doc.qt.io/qt-6.2/qimageioplugin-members.html">List of all members, including inherited members</a></li> </ul> <p><b>Note:</b> All functions in this class are <a href="threads-reentrancy">reentrant</a>.</p> <h2 id="public-types">Public Types
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> flags </td>
<td class="memItemRight bottomAlign"><b><a href="qimageioplugin#Capability-enum">Capabilities</a></b></td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> enum </td>
<td class="memItemRight bottomAlign">
<b><a href="qimageioplugin#Capability-enum">Capability</a></b> { CanRead, CanWrite, CanReadIncremental }</td>
</tr> </table> <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qimageioplugin#QImageIOPlugin">QImageIOPlugin</a></b>(QObject *<i>parent</i> = nullptr)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual </td>
<td class="memItemRight bottomAlign">
<b><a href="qimageioplugin#dtor.QImageIOPlugin">~QImageIOPlugin</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QImageIOPlugin::Capabilities </td>
<td class="memItemRight bottomAlign">
<b><a href="qimageioplugin#capabilities">capabilities</a></b>(QIODevice *<i>device</i>, const QByteArray &amp;<i>format</i>) const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QImageIOHandler *</td>
<td class="memItemRight bottomAlign">
<b><a href="qimageioplugin#create">create</a></b>(QIODevice *<i>device</i>, const QByteArray &amp;<i>format</i> = QByteArray()) const = 0</td>
</tr> </table>   <h2 id="details">Detailed Description
</h2> <p>QImageIOPlugin is a factory for creating <a href="qimageiohandler">QImageIOHandler</a> objects, which are used internally by <a href="qimagereader">QImageReader</a> and <a href="qimagewriter">QImageWriter</a> to add support for different image formats to Qt.</p> <p>Writing an image I/O plugin is achieved by subclassing this base class, reimplementing the pure virtual functions <a href="qimageioplugin#capabilities">capabilities</a>() and <a href="qimageioplugin#create">create</a>(), and exporting the class with the <a href="qtplugin#Q_PLUGIN_METADATA">Q_PLUGIN_METADATA</a>() macro. See <a href="plugins-howto">How to Create Qt Plugins</a> for details.</p> <p>An image format plugin can support three capabilities: reading (<a href="qimageioplugin#Capability-enum">CanRead</a>), writing (<a href="qimageioplugin#Capability-enum">CanWrite</a>) and <i>incremental</i> reading (<a href="qimageioplugin#Capability-enum">CanReadIncremental</a>). Reimplement <a href="qimageioplugin#capabilities">capabilities</a>() in your subclass to expose the capabilities of your image format.</p> <p><a href="qimageioplugin#create">create</a>() should create an instance of your <a href="qimageiohandler">QImageIOHandler</a> subclass, with the provided device and format properly set, and return this handler.</p> <p>The json metadata file for the plugin needs to contain information about the image formats the plugins supports, together with the corresponding MIME types (one for each format). For a jpeg plugin, this could, for example, look as follows:</p> <pre data-language="cpp">{
  "Keys": [ "jpg", "jpeg" ],
  "MimeTypes": [ "image/jpeg", "image/jpeg" ]
}</pre> <p>Different plugins can support different capabilities. For example, you may have one plugin that supports reading the GIF format, and another that supports writing. Qt will select the correct plugin for the job, depending on the return value of <a href="qimageioplugin#capabilities">capabilities</a>(). If several plugins support the same capability, Qt will select one arbitrarily.</p>  <p><b>See also </b><a href="qimageiohandler">QImageIOHandler</a> and <a href="plugins-howto">How to Create Qt Plugins</a>.</p>   <h2>Member Type Documentation</h2>  <h3 class="flags" id="Capability-enum">enum QImageIOPlugin::<span class="name">Capability</span>flags QImageIOPlugin::<span class="name">Capabilities</span>
</h3> <p>This enum describes the capabilities of a <a href="qimageioplugin">QImageIOPlugin</a>.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>QImageIOPlugin::CanRead</code></td>
<td class="topAlign tblval"><code>0x1</code></td>
<td class="topAlign">The plugin can read images.</td>
</tr> <tr>
<td class="topAlign"><code>QImageIOPlugin::CanWrite</code></td>
<td class="topAlign tblval"><code>0x2</code></td>
<td class="topAlign">The plugin can write images.</td>
</tr> <tr>
<td class="topAlign"><code>QImageIOPlugin::CanReadIncremental</code></td>
<td class="topAlign tblval"><code>0x4</code></td>
<td class="topAlign">The plugin can read images incrementally.</td>
</tr> </table> <p>The Capabilities type is a typedef for <a href="qflags">QFlags</a>&lt;Capability&gt;. It stores an OR combination of Capability values.</p>    <h2>Member Function Documentation</h2>  <h3 class="fn" id="QImageIOPlugin">QImageIOPlugin::<span class="name">QImageIOPlugin</span>(<span class="type"><a href="qobject#QObject">QObject</a></span> *<i>parent</i> = nullptr)
</h3> <p>Constructs an image plugin with the given <i>parent</i>. This is invoked automatically by the moc generated code that exports the plugin.</p>   <h3 class="fn" id="dtor.QImageIOPlugin">
<code>[virtual] </code>QImageIOPlugin::<span class="name">~QImageIOPlugin</span>()
</h3> <p>Destroys the picture format plugin.</p> <p>You never have to call this explicitly. Qt destroys a plugin automatically when it is no longer used.</p>   <h3 class="fn" id="capabilities">
<code>[pure virtual] </code><span class="type"><a href="qimageioplugin#Capability-enum">QImageIOPlugin::Capabilities</a></span> QImageIOPlugin::<span class="name">capabilities</span>(<span class="type"><a href="qiodevice">QIODevice</a></span> *<i>device</i>, const <span class="type"><a href="qbytearray">QByteArray</a></span> &amp;<i>format</i>) const
</h3> <p>Returns the capabilities of the plugin, based on the data in <i>device</i> and the format <i>format</i>. If <i>device</i> is <code>0</code>, it should simply report whether the format can be read or written. Otherwise, it should attempt to determine whether the given format (or any format supported by the plugin if <i>format</i> is empty) can be read from or written to <i>device</i>. It should do this without changing the state of <i>device</i> (typically by using <a href="qiodevice#peek">QIODevice::peek</a>()).</p> <p>For example, if the <a href="qimageioplugin">QImageIOPlugin</a> supports the BMP format, <i>format</i> is either empty or <code>"bmp"</code>, and the data in the device starts with the characters <code>"BM"</code>, this function should return <a href="qimageioplugin#Capability-enum">CanRead</a>. If <i>format</i> is <code>"bmp"</code>, <i>device</i> is <code>0</code> and the handler supports both reading and writing, this function should return <a href="qimageioplugin#Capability-enum">CanRead</a> | <a href="qimageioplugin#Capability-enum">CanWrite</a>.</p> <p>Format names are always given in lower case.</p>   <h3 class="fn" id="create">
<code>[pure virtual] </code><span class="type"><a href="qimageiohandler">QImageIOHandler</a></span> *QImageIOPlugin::<span class="name">create</span>(<span class="type"><a href="qiodevice">QIODevice</a></span> *<i>device</i>, const <span class="type"><a href="qbytearray">QByteArray</a></span> &amp;<i>format</i> = QByteArray()) const
</h3> <p>Creates and returns a <a href="qimageiohandler">QImageIOHandler</a> subclass, with <i>device</i> and <i>format</i> set. The <i>format</i> must come from the values listed in the <code>"Keys"</code> entry in the plugin metadata, or be empty. If it is empty, the data in <i>device</i> must have been recognized by the <a href="qimageioplugin#capabilities">capabilities</a>() method (with a likewise empty format).</p> <p>Format names are always given in lower case.</p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qimageioplugin.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qimageioplugin.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
