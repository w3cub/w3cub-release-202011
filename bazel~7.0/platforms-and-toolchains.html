
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Platforms and Toolchains Rules - Bazel 7.0 - W3cubDocs</title>
  
  <meta name="description" content="This set of rules exists to allow you to model specific hardware platforms you are building for and specify the specific tools you may need to &hellip;">
  <meta name="keywords" content="platforms, and, toolchains, rules, bazel, bazel~7.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/bazel~7.0/platforms-and-toolchains.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/bazel~7.0.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/bazel~7.0/" class="_nav-link" title="" style="margin-left:0;">Bazel 7.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _bazel">
				
				
<article class="devsite-article">  <h1 class="devsite-page-title" tabindex="-1">Platforms and Toolchains Rules</h1> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>  <div class="devsite-article-body clearfix
  ">     <p> This set of rules exists to allow you to model specific hardware platforms you are building for and specify the specific tools you may need to compile code for those platforms. The user should be familiar with the concepts explained <a href="https://bazel.build/versions/7.0.0/extending/platforms">here</a>. </p> <h2 id="rules" data-text="Rules" tabindex="-1">Rules</h2> <ul> <li> <a href="#constraint_setting"> constraint_setting </a> </li> <li> <a href="#constraint_value"> constraint_value </a> </li> <li> <a href="#platform"> platform </a> </li> <li> <a href="#toolchain"> toolchain </a> </li> <li> <a href="#toolchain_type"> toolchain_type </a> </li> </ul> <h2 id="constraint_setting" data-text="     constraint_setting   " tabindex="-1"> constraint_setting </h2>  <pre class="rule-signature" translate="no" dir="ltr">constraint_setting(<a href="#constraint_setting.name">name</a>, <a href="#constraint_setting.default_constraint_value">default_constraint_value</a>, <a href="common-definitions#common.deprecation">deprecation</a>, <a href="common-definitions#common.distribs">distribs</a>, <a href="common-definitions#common.features">features</a>, <a href="common-definitions#typical.licenses">licenses</a>, <a href="common-definitions#common.tags">tags</a>, <a href="common-definitions#common.testonly">testonly</a>, <a href="common-definitions#common.visibility">visibility</a>)</pre> <p>This rule is used to introduce a new constraint type for which a platform may specify a value. For instance, you might define a <code translate="no" dir="ltr">constraint_setting</code> named "glibc_version" to represent the capability for platforms to have different versions of the glibc library installed. For more details, see the <a href="https://bazel.build/versions/7.0.0/docs/platforms">Platforms</a> page. </p>
<p>Each <code translate="no" dir="ltr">constraint_setting</code> has an extensible set of associated <code translate="no" dir="ltr">constraint_value</code>s. Usually these are defined in the same package, but sometimes a different package will introduce new values for an existing setting. For instance, the predefined setting <code translate="no" dir="ltr">@platforms//cpu:cpu</code> can be extended with a custom value in order to define a platform targeting an obscure cpu architecture. </p>
<h3 id="constraint_setting_args" data-text="Arguments" tabindex="-1">Arguments</h3> <table class="table table-condensed table-bordered table-params"> <colgroup> <col class="col-param"> <col class="param-description"> </colgroup> <thead> <tr> <th colspan="2">Attributes</th> </tr> </thead> <tbody> <tr> <td id="constraint_setting.name"><code translate="no" dir="ltr">name</code></td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; required</p> <p>A unique name for this target.</p> </td> </tr> <tr> <td id="constraint_setting.default_constraint_value"> <code translate="no" dir="ltr">default_constraint_value</code> </td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">None</code></p> The label of the default value for this setting, to be used if no value is given. If this attribute is present, the <code translate="no" dir="ltr">constraint_value</code> it points to must be defined in the same package as this <code translate="no" dir="ltr">constraint_setting</code>. <p>If a constraint setting has a default value, then whenever a platform does not include any constraint value for that setting, it is the same as if the platform had specified the default value. Otherwise, if there is no default value, the constraint setting is considered to be unspecified by that platform. In that case, the platform would not match against any constraint list (such as for a <code translate="no" dir="ltr">config_setting</code>) that requires a particular value for that setting. </p>
</td> </tr> </tbody> </table> <h2 id="constraint_value" data-text="     constraint_value   " tabindex="-1"> constraint_value </h2>  <pre class="rule-signature" translate="no" dir="ltr">constraint_value(<a href="#constraint_value.name">name</a>, <a href="#constraint_value.constraint_setting">constraint_setting</a>, <a href="common-definitions#common.deprecation">deprecation</a>, <a href="common-definitions#common.distribs">distribs</a>, <a href="common-definitions#common.features">features</a>, <a href="common-definitions#typical.licenses">licenses</a>, <a href="common-definitions#common.tags">tags</a>, <a href="common-definitions#common.testonly">testonly</a>, <a href="common-definitions#common.visibility">visibility</a>)</pre> This rule introduces a new value for a given constraint type. For more details, see the <a href="https://bazel.build/versions/7.0.0/docs/platforms">Platforms</a> page. <h4 id="constraint_value_examples" data-text="Example" tabindex="-1">Example</h4> <p>The following creates a new possible value for the predefined <code translate="no" dir="ltr">constraint_value</code> representing cpu architecture. </p>
<pre class="code" translate="no" dir="ltr">
constraint_value(
    name = "mips",
    constraint_setting = "@platforms//cpu:cpu",
)
</pre> Platforms can then declare that they have the <code translate="no" dir="ltr">mips</code> architecture as an alternative to <code translate="no" dir="ltr">x86_64</code>, <code translate="no" dir="ltr">arm</code>, and so on. <h3 id="constraint_value_args" data-text="Arguments" tabindex="-1">Arguments</h3> <table class="table table-condensed table-bordered table-params"> <colgroup> <col class="col-param"> <col class="param-description"> </colgroup> <thead> <tr> <th colspan="2">Attributes</th> </tr> </thead> <tbody> <tr> <td id="constraint_value.name"><code translate="no" dir="ltr">name</code></td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; required</p> <p>A unique name for this target.</p> </td> </tr> <tr> <td id="constraint_value.constraint_setting"> <code translate="no" dir="ltr">constraint_setting</code> </td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels">Label</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; required</p> The <code translate="no" dir="ltr">constraint_setting</code> for which this <code translate="no" dir="ltr">constraint_value</code> is a possible choice. </td> </tr> </tbody> </table> <h2 id="platform" data-text="     platform   " tabindex="-1"> platform </h2>  <pre class="rule-signature" translate="no" dir="ltr">platform(<a href="#platform.name">name</a>, <a href="#platform.constraint_values">constraint_values</a>, <a href="common-definitions#common.deprecation">deprecation</a>, <a href="common-definitions#common.distribs">distribs</a>, <a href="#platform.exec_properties">exec_properties</a>, <a href="common-definitions#common.features">features</a>, <a href="common-definitions#typical.licenses">licenses</a>, <a href="#platform.parents">parents</a>, <a href="#platform.remote_execution_properties">remote_execution_properties</a>, <a href="common-definitions#common.tags">tags</a>, <a href="common-definitions#common.testonly">testonly</a>, <a href="common-definitions#common.visibility">visibility</a>)</pre> <p>This rule defines a new platform -- a named collection of constraint choices (such as cpu architecture or compiler version) describing an environment in which part of the build may run. For more details, see the <a href="https://bazel.build/versions/7.0.0//extending/platforms">Platforms</a> page. </p>
<h4 id="platform_examples" data-text="Example" tabindex="-1">Example</h4> <p> This defines a platform that describes any environment running Linux on ARM. </p> <pre class="code" translate="no" dir="ltr">
platform(
    name = "linux_arm",
    constraint_values = [
        "@platforms//os:linux",
        "@platforms//cpu:arm",
    ],
)
</pre> <h3 id="platform_inheritance" data-text="Platform Inheritance" tabindex="-1">Platform Inheritance</h3> <p> Platforms may use the <code translate="no" dir="ltr">parents</code> attribute to specify another platform that they will inherit constraint values from. Although the <code translate="no" dir="ltr">parents</code> attribute takes a list, no more than a single value is currently supported, and specifying multiple parents is an error. </p> <p> When checking for the value of a constraint setting in a platform, first the values directly set (via the <code translate="no" dir="ltr">constraint_values</code> attribute) are checked, and then the constraint values on the parent. This continues recursively up the chain of parent platforms. In this manner, any values set directly on a platform will override the values set on the parent. </p> <p> Platforms inherit the <code translate="no" dir="ltr">exec_properties</code> attribute from the parent platform. The dictionary entries in <code translate="no" dir="ltr">exec_properties</code> of the parent and child platforms will be combined. If the same key appears in both the parent's and the child's <code translate="no" dir="ltr">exec_properties</code>, the child's value will be used. If the child platform specifies an empty string as a value, the corresponding property will be unset. </p> <p> Platforms can also inherit the (deprecated) <code translate="no" dir="ltr">remote_execution_properties</code> attribute from the parent platform. Note: new code should use <code translate="no" dir="ltr">exec_properties</code> instead. The logic described below is maintained to be compatible with legacy behavior but will be removed in the future. The logic for setting the <code translate="no" dir="ltr">remote_execution_platform</code> is as follows when there is a parent platform: </p>
<ol> <li> If <code translate="no" dir="ltr">remote_execution_property</code> is not set on the child platform, the parent's <code translate="no" dir="ltr">remote_execution_properties</code> will be used. </li> <li> If <code translate="no" dir="ltr">remote_execution_property</code> is set on the child platform, and contains the literal string {PARENT_REMOTE_EXECUTION_PROPERTIES}, that macro will be replaced with the contents of the parent's <code translate="no" dir="ltr">remote_execution_property</code> attribute. </li> <li> If <code translate="no" dir="ltr">remote_execution_property</code> is set on the child platform, and does not contain the macro, the child's <code translate="no" dir="ltr">remote_execution_property</code> will be used unchanged. </li> </ol> <p> <em>Since <code translate="no" dir="ltr">remote_execution_properties</code> is deprecated and will be phased out, mixing <code translate="no" dir="ltr">remote_execution_properties</code> and <code translate="no" dir="ltr">exec_properties</code> in the same inheritance chain is not allowed.</em> Prefer to use <code translate="no" dir="ltr">exec_properties</code> over the deprecated <code translate="no" dir="ltr">remote_execution_properties</code>. </p> <h4 id="platform_inheritance_examples" data-text="Example: Constraint Values" tabindex="-1">Example: Constraint Values</h4> <pre class="code" translate="no" dir="ltr">
platform(
    name = "parent",
    constraint_values = [
        "@platforms//os:linux",
        "@platforms//cpu:arm",
    ],
)
platform(
    name = "child_a",
    parents = [":parent"],
    constraint_values = [
        "@platforms//cpu:x86_64",
    ],
)
platform(
    name = "child_b",
    parents = [":parent"],
)
</pre> <p> In this example, the child platforms have the following properties: </p>
<ul> <li> <code translate="no" dir="ltr">child_a</code> has the constraint values <code translate="no" dir="ltr">@platforms//os:linux</code> (inherited from the parent) and <code translate="no" dir="ltr">@platforms//cpu:x86_64</code> (set directly on the platform). </li> <li> <code translate="no" dir="ltr">child_b</code> inherits all constraint values from the parent, and doesn't set any of its own. </li> </ul> <h4 id="platform_inheritance_exec_examples" data-text="Example: Execution properties" tabindex="-1">Example: Execution properties</h4> <pre class="code" translate="no" dir="ltr">
platform(
    name = "parent",
    exec_properties = {
      "k1": "v1",
      "k2": "v2",
    },
)
platform(
    name = "child_a",
    parents = [":parent"],
)
platform(
    name = "child_b",
    parents = [":parent"],
    exec_properties = {
      "k1": "child"
    }
)
platform(
    name = "child_c",
    parents = [":parent"],
    exec_properties = {
      "k1": ""
    }
)
platform(
    name = "child_d",
    parents = [":parent"],
    exec_properties = {
      "k3": "v3"
    }
)
</pre> <p> In this example, the child platforms have the following properties: </p>
<ul> <li> <code translate="no" dir="ltr">child_a</code> inherits the "exec_properties" of the parent and does not set its own. </li> <li> <code translate="no" dir="ltr">child_b</code> inherits the parent's <code translate="no" dir="ltr">exec_properties</code> and overrides the value of <code translate="no" dir="ltr">k1</code>. Its <code translate="no" dir="ltr">exec_properties</code> will be: <code translate="no" dir="ltr">{ "k1": "child", "k2": "v2" }</code>. </li> <li> <code translate="no" dir="ltr">child_c</code> inherits the parent's <code translate="no" dir="ltr">exec_properties</code> and unsets <code translate="no" dir="ltr">k1</code>. Its <code translate="no" dir="ltr">exec_properties</code> will be: <code translate="no" dir="ltr">{ "k2": "v2" }</code>. </li> <li> <code translate="no" dir="ltr">child_d</code> inherits the parent's <code translate="no" dir="ltr">exec_properties</code> and adds a new property. Its <code translate="no" dir="ltr">exec_properties</code> will be: <code translate="no" dir="ltr">{ "k1": "v1",  "k2": "v2", "k3": "v3" }</code>. </li> </ul> <h3 id="platform_args" data-text="Arguments" tabindex="-1">Arguments</h3> <table class="table table-condensed table-bordered table-params"> <colgroup> <col class="col-param"> <col class="param-description"> </colgroup> <thead> <tr> <th colspan="2">Attributes</th> </tr> </thead> <tbody> <tr> <td id="platform.name"><code translate="no" dir="ltr">name</code></td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; required</p> <p>A unique name for this target.</p> </td> </tr> <tr> <td id="platform.constraint_values"> <code translate="no" dir="ltr">constraint_values</code> </td> <td> <p>List of <a href="https://bazel.build/versions/7.0.0/concepts/labels">labels</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">[]</code></p> The combination of constraint choices that this platform comprises. In order for a platform to apply to a given environment, the environment must have at least the values in this list. <p>Each <code translate="no" dir="ltr">constraint_value</code> in this list must be for a different <code translate="no" dir="ltr">constraint_setting</code>. For example, you cannot define a platform that requires the cpu architecture to be both <code translate="no" dir="ltr">@platforms//cpu:x86_64</code> and <code translate="no" dir="ltr">@platforms//cpu:arm</code>. </p>
</td> </tr> <tr> <td id="platform.exec_properties"> <code translate="no" dir="ltr">exec_properties</code> </td> <td> <p>Dictionary: String -&gt; String; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">{}</code></p> A map of strings that affect the way actions are executed remotely. Bazel makes no attempt to interpret this, it is treated as opaque data that's forwarded via the Platform field of the <a href="https://github.com/bazelbuild/remote-apis">remote execution protocol</a>. This includes any data from the parent platform's <code translate="no" dir="ltr">exec_properties</code> attributes. If the child and parent platform define the same keys, the child's values are kept. Any keys associated with a value that is an empty string are removed from the dictionary. This attribute is a full replacement for the deprecated <code translate="no" dir="ltr">remote_execution_properties</code>. </td> </tr> <tr> <td id="platform.parents"> <code translate="no" dir="ltr">parents</code> </td> <td> <p>List of <a href="https://bazel.build/versions/7.0.0/concepts/labels">labels</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">[]</code></p> The label of a <code translate="no" dir="ltr">platform</code> target that this platform should inherit from. Although the attribute takes a list, there should be no more than one platform present. Any constraint_settings not set directly on this platform will be found in the parent platform. See the section on <a href="#platform_inheritance">Platform Inheritance</a> for details. </td> </tr> <tr> <td id="platform.remote_execution_properties"> <code translate="no" dir="ltr">remote_execution_properties</code> </td> <td> <p>String; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">""</code></p> DEPRECATED. Please use exec_properties attribute instead. A string used to configure a remote execution platform. Actual builds make no attempt to interpret this, it is treated as opaque data that can be used by a specific SpawnRunner. This can include data from the parent platform's "remote_execution_properties" attribute, by using the macro "{PARENT_REMOTE_EXECUTION_PROPERTIES}". See the section on <a href="#platform_inheritance">Platform Inheritance</a> for details. </td> </tr> </tbody> </table> <h2 id="toolchain" data-text="     toolchain   " tabindex="-1"> toolchain </h2>  <pre class="rule-signature" translate="no" dir="ltr">toolchain(<a href="#toolchain.name">name</a>, <a href="common-definitions#common.deprecation">deprecation</a>, <a href="common-definitions#common.distribs">distribs</a>, <a href="#toolchain.exec_compatible_with">exec_compatible_with</a>, <a href="common-definitions#common.features">features</a>, <a href="common-definitions#typical.licenses">licenses</a>, <a href="common-definitions#common.tags">tags</a>, <a href="#toolchain.target_compatible_with">target_compatible_with</a>, <a href="#toolchain.target_settings">target_settings</a>, <a href="common-definitions#common.testonly">testonly</a>, <a href="#toolchain.toolchain">toolchain</a>, <a href="#toolchain.toolchain_type">toolchain_type</a>, <a href="common-definitions#common.visibility">visibility</a>)</pre> <p>This rule declares a specific toolchain's type and constraints so that it can be selected during toolchain resolution. See the <a href="https://bazel.build/versions/7.0.0/docs/toolchains">Toolchains</a> page for more details. </p>
<h3 id="toolchain_args" data-text="Arguments" tabindex="-1">Arguments</h3> <table class="table table-condensed table-bordered table-params"> <colgroup> <col class="col-param"> <col class="param-description"> </colgroup> <thead> <tr> <th colspan="2">Attributes</th> </tr> </thead> <tbody> <tr> <td id="toolchain.name"><code translate="no" dir="ltr">name</code></td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; required</p> <p>A unique name for this target.</p> </td> </tr> <tr> <td id="toolchain.exec_compatible_with"> <code translate="no" dir="ltr">exec_compatible_with</code> </td> <td> <p>List of <a href="https://bazel.build/versions/7.0.0/concepts/labels">labels</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">[]</code></p> A list of <code translate="no" dir="ltr">constraint_value</code>s that must be satisfied by an execution platform in order for this toolchain to be selected for a target building on that platform. </td> </tr> <tr> <td id="toolchain.target_compatible_with"> <code translate="no" dir="ltr">target_compatible_with</code> </td> <td> <p>List of <a href="https://bazel.build/versions/7.0.0/concepts/labels">labels</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; default is <code translate="no" dir="ltr">[]</code></p> A list of <code translate="no" dir="ltr">constraint_value</code>s that must be satisfied by the target platform in order for this toolchain to be selected for a target building for that platform. </td> </tr> <tr> <td id="toolchain.target_settings"> <code translate="no" dir="ltr">target_settings</code> </td> <td> <p>List of <a href="https://bazel.build/versions/7.0.0/concepts/labels">labels</a>; default is <code translate="no" dir="ltr">[]</code></p> A list of <code translate="no" dir="ltr">config_setting</code>s that must be satisfied by the target configuration in order for this toolchain to be selected during toolchain resolution. </td> </tr> <tr> <td id="toolchain.toolchain"> <code translate="no" dir="ltr">toolchain</code> </td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; required</p> The target representing the actual tool or tool suite that is made available when this toolchain is selected. </td> </tr> <tr> <td id="toolchain.toolchain_type"> <code translate="no" dir="ltr">toolchain_type</code> </td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels">Label</a>; <a href="common-definitions#configurable-attributes">nonconfigurable</a>; required</p> The label of a <code translate="no" dir="ltr">toolchain_type</code> target that represents the role that this toolchain serves. </td> </tr> </tbody> </table> <h2 id="toolchain_type" data-text="     toolchain_type   " tabindex="-1"> toolchain_type </h2>  <pre class="rule-signature" translate="no" dir="ltr">toolchain_type(<a href="#toolchain_type.name">name</a>, <a href="common-definitions#common.compatible_with">compatible_with</a>, <a href="common-definitions#common.deprecation">deprecation</a>, <a href="common-definitions#common.features">features</a>, <a href="common-definitions#common.restricted_to">restricted_to</a>, <a href="common-definitions#common.tags">tags</a>, <a href="common-definitions#common.target_compatible_with">target_compatible_with</a>, <a href="common-definitions#common.testonly">testonly</a>, <a href="common-definitions#common.visibility">visibility</a>)</pre> <p> This rule defines a new type of toolchain -- a simple target that represents a class of tools that serve the same role for different platforms. </p> <p> See the <a href="https://bazel.build/versions/7.0.0/docs/toolchains">Toolchains</a> page for more details. </p> <h4 id="toolchain_type_examples" data-text="Example" tabindex="-1">Example</h4> <p> This defines a toolchain type for a custom rule. </p> <pre class="code" translate="no" dir="ltr">
toolchain_type(
    name = "bar_toolchain_type",
)
</pre> <p> This can be used in a bzl file. </p> <pre class="code" translate="no" dir="ltr">
bar_binary = rule(
    implementation = _bar_binary_impl,
    attrs = {
        "srcs": attr.label_list(allow_files = True),
        ...
        # No `_compiler` attribute anymore.
    },
    toolchains = ["//bar_tools:toolchain_type"]
)
</pre> <h3 id="toolchain_type_args" data-text="Arguments" tabindex="-1">Arguments</h3> <table class="table table-condensed table-bordered table-params"> <colgroup> <col class="col-param"> <col class="param-description"> </colgroup> <thead> <tr> <th colspan="2">Attributes</th> </tr> </thead> <tbody> <tr> <td id="toolchain_type.name"><code translate="no" dir="ltr">name</code></td> <td> <p><a href="https://bazel.build/versions/7.0.0/concepts/labels#target-names">Name</a>; required</p> <p>A unique name for this target.</p> </td> </tr> </tbody> </table>  </div>  </article> <devsite-content-footer class="nocontent"> <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p> <p>Last updated 2023-12-11 UTC.</p> </devsite-content-footer> <devsite-notification> </devsite-notification> <div class="devsite-content-data"> <template class="devsite-thumb-rating-down-categories"> [{ "type": "thumb-down", "id": "missingTheInformationINeed", "label":"Missing the information I need" },{ "type": "thumb-down", "id": "tooComplicatedTooManySteps", "label":"Too complicated / too many steps" },{ "type": "thumb-down", "id": "outOfDate", "label":"Out of date" },{ "type": "thumb-down", "id": "samplesCodeIssue", "label":"Samples / code issue" },{ "type": "thumb-down", "id": "otherDown", "label":"Other" }] </template> <template class="devsite-thumb-rating-up-categories"> [{ "type": "thumb-up", "id": "easyToUnderstand", "label":"Easy to understand" },{ "type": "thumb-up", "id": "solvedMyProblem", "label":"Solved my problem" },{ "type": "thumb-up", "id": "otherUp", "label":"Other" }] </template> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Licensed under the Creative Commons Attribution 4.0 License, and code samples are licensed under the Apache 2.0 License.<br>
    <a href="https://bazel.build/versions/7.0.0/reference/be/platforms-and-toolchains" class="_attribution-link">https://bazel.build/versions/7.0.0/reference/be/platforms-and-toolchains</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
