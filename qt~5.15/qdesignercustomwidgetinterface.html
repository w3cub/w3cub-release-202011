
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>QDesignerCustomWidgetInterface (Class) - Qt 5.15 - W3cubDocs</title>
  
  <meta name="description" content=" The QDesignerCustomWidgetInterface class enables Qt Designer to access and construct custom widgets. More... ">
  <meta name="keywords" content="qdesignercustomwidgetinterface, class, qt, qt~5.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt~5.15/qdesignercustomwidgetinterface.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/qt~5.15.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt~5.15/" class="_nav-link" title="" style="margin-left:0;">Qt 5.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">QDesignerCustomWidgetInterface Class</h1>  <p>The QDesignerCustomWidgetInterface class enables Qt Designer to access and construct custom widgets. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QDesignerCustomWidgetInterface&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += designer</td>
</tr>
</table>
<ul> <li><a href="https://doc.qt.io/qt-5.15/qdesignercustomwidgetinterface-members.html">List of all members, including inherited members</a></li> </ul>  <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#dtor.QDesignerCustomWidgetInterface">~QDesignerCustomWidgetInterface</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#codeTemplate">codeTemplate</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QWidget *</td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#createWidget">createWidget</a></b>(QWidget *<i>parent</i>) = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#domXml">domXml</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#group">group</a></b>() const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QIcon </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#icon">icon</a></b>() const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#includeFile">includeFile</a></b>() const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual void </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#initialize">initialize</a></b>(QDesignerFormEditorInterface *<i>formEditor</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#isContainer">isContainer</a></b>() const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#isInitialized">isInitialized</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#name">name</a></b>() const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#toolTip">toolTip</a></b>() const = 0</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qdesignercustomwidgetinterface#whatsThis">whatsThis</a></b>() const = 0</td>
</tr> </table>  <h2 id="macros">Macros
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign"><b><a href="qdesignercustomwidgetinterface#QDESIGNER_WIDGET_EXPORT">QDESIGNER_WIDGET_EXPORT</a></b></td>
</tr> </table>    <h2 id="details">Detailed Description
</h2> <p>QDesignerCustomWidgetInterface provides a custom widget with an interface. The class contains a set of functions that must be subclassed to return basic information about the widget, such as its class name and the name of its header file. Other functions must be implemented to initialize the plugin when it is loaded, and to construct instances of the custom widget for <i>Qt Designer</i> to use.</p> <p>When implementing a custom widget you must subclass QDesignerCustomWidgetInterface to expose your widget to <i>Qt Designer</i>. For example, this is the declaration for the plugin used in the <a href="https://doc.qt.io/qt-5.15/qtdesigner-customwidgetplugin-example.html">Custom Widget Plugin example</a> that enables an analog clock custom widget to be used by <i>Qt Designer</i>:</p> <pre data-language="cpp">class AnalogClockPlugin : public QObject, public QDesignerCustomWidgetInterface
{
    Q_OBJECT
    Q_PLUGIN_METADATA(IID "org.qt-project.Qt.QDesignerCustomWidgetInterface")
    Q_INTERFACES(QDesignerCustomWidgetInterface)
public:
    explicit AnalogClockPlugin(QObject *parent = nullptr);

    bool isContainer() const override;
    bool isInitialized() const override;
    QIcon icon() const override;
    QString domXml() const override;
    QString group() const override;
    QString includeFile() const override;
    QString name() const override;
    QString toolTip() const override;
    QString whatsThis() const override;
    QWidget *createWidget(QWidget *parent) override;
    void initialize(QDesignerFormEditorInterface *core) override;

private:
    bool initialized = false;
};</pre> <p>Note that the only part of the class definition that is specific to this particular custom widget is the class name. In addition, since we are implementing an interface, we must ensure that it's made known to the meta object system using the <a href="qobject#Q_INTERFACES">Q_INTERFACES</a>() macro. This enables <i>Qt Designer</i> to use the <a href="qobject#qobject_cast">qobject_cast</a>() function to query for supported interfaces using nothing but a <a href="qobject">QObject</a> pointer.</p> <p>After <i>Qt Designer</i> loads a custom widget plugin, it calls the interface's <a href="qdesignercustomwidgetinterface#initialize">initialize</a>() function to enable it to set up any resources that it may need. This function is called with a <a href="qdesignerformeditorinterface">QDesignerFormEditorInterface</a> parameter that provides the plugin with a gateway to all of <i>Qt Designer</i>'s API.</p> <p><i>Qt Designer</i> constructs instances of the custom widget by calling the plugin's <a href="qdesignercustomwidgetinterface#createWidget">createWidget</a>() function with a suitable parent widget. Plugins must construct and return an instance of a custom widget with the specified parent widget.</p> <p>Exporting your custom widget plugin to <i>Qt Designer</i> using the <a href="qtplugin#Q_PLUGIN_METADATA">Q_PLUGIN_METADATA</a>() macro. For example, if a library called <code>libcustomwidgetplugin.so</code> (on Unix) or <code>libcustomwidget.dll</code> (on Windows) contains a widget class called <code>MyCustomWidget</code>, we can export it by adding the following line to the file containing the plugin header:</p> <pre data-language="cpp">Q_PLUGIN_METADATA(IID "org.qt-project.Qt.QDesignerCustomWidgetInterface")</pre> <p>This macro ensures that <i>Qt Designer</i> can access and construct the custom widget. Without this macro, there is no way for <i>Qt Designer</i> to use it.</p> <p>When implementing a custom widget plugin, you build it as a separate library. If you want to include several custom widget plugins in the same library, you must in addition subclass <a href="qdesignercustomwidgetcollectioninterface">QDesignerCustomWidgetCollectionInterface</a>.</p> <p><b>Warning:</b> If your custom widget plugin contains <a href="qvariant">QVariant</a> properties, be aware that only the following <a href="https://doc.qt.io/qt-5.15/qvariant-obsolete.html#Type-enum">types</a> are supported:</p> <ul> <li>QVariant::ByteArray</li> <li>QVariant::Bool</li> <li>QVariant::Color</li> <li>QVariant::Cursor</li> <li>QVariant::Date</li> <li>QVariant::DateTime</li> <li>QVariant::Double</li> <li>QVariant::Int</li> <li>QVariant::Point</li> <li>QVariant::Rect</li> <li>QVariant::Size</li> <li>QVariant::SizePolicy</li> <li>QVariant::String</li> <li>QVariant::Time</li> <li>QVariant::UInt</li> </ul> <p>For a complete example using the QDesignerCustomWidgetInterface class, see the <a href="https://doc.qt.io/qt-5.15/qtdesigner-customwidgetplugin-example.html">Custom Widget Example</a>. The example shows how to create a custom widget plugin for <i>Qt Designer</i>.</p>  <p><b>See also </b><a href="qdesignercustomwidgetcollectioninterface">QDesignerCustomWidgetCollectionInterface</a> and <a href="designer-creating-custom-widgets">Creating Custom Widgets for Qt Designer</a>.</p>   <h2>Member Function Documentation</h2>  <h3 class="fn" id="dtor.QDesignerCustomWidgetInterface">
<code>[virtual] </code>QDesignerCustomWidgetInterface::<span class="name">~QDesignerCustomWidgetInterface</span>()
</h3> <p>Destroys the custom widget interface.</p>   <h3 class="fn" id="codeTemplate">
<code>[virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">codeTemplate</span>() const
</h3> <p>This function is reserved for future use by <i>Qt Designer</i>.</p>   <h3 class="fn" id="createWidget">
<code>[pure virtual] </code><span class="type"><a href="qwidget">QWidget</a></span> *QDesignerCustomWidgetInterface::<span class="name">createWidget</span>(<span class="type"><a href="qwidget">QWidget</a></span> *<i>parent</i>)
</h3> <p>Returns a new instance of the custom widget, with the given <i>parent</i>.</p>   <h3 class="fn" id="domXml">
<code>[virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">domXml</span>() const
</h3> <p>Returns the XML that is used to describe the custom widget's properties to <i>Qt Designer</i>.</p>   <h3 class="fn" id="group">
<code>[pure virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">group</span>() const
</h3> <p>Returns the name of the group to which the custom widget belongs.</p>   <h3 class="fn" id="icon">
<code>[pure virtual] </code><span class="type">QIcon</span> QDesignerCustomWidgetInterface::<span class="name">icon</span>() const
</h3> <p>Returns the icon used to represent the custom widget in <i>Qt Designer</i>'s widget box.</p>   <h3 class="fn" id="includeFile">
<code>[pure virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">includeFile</span>() const
</h3> <p>Returns the path to the include file that <a href="uic">uic</a> uses when creating code for the custom widget.</p>   <h3 class="fn" id="initialize">
<code>[virtual] </code><span class="type">void</span> QDesignerCustomWidgetInterface::<span class="name">initialize</span>(<span class="type"><a href="qdesignerformeditorinterface">QDesignerFormEditorInterface</a></span> *<i>formEditor</i>)
</h3> <p>Initializes the widget for use with the specified <i>formEditor</i> interface.</p> <p><b>See also </b><a href="qdesignercustomwidgetinterface#isInitialized">isInitialized</a>().</p>   <h3 class="fn" id="isContainer">
<code>[pure virtual] </code><span class="type">bool</span> QDesignerCustomWidgetInterface::<span class="name">isContainer</span>() const
</h3> <p>Returns true if the custom widget is intended to be used as a container; otherwise returns false.</p> <p>Most custom widgets are not used to hold other widgets, so their implementations of this function will return false, but custom containers will return true to ensure that they behave correctly in <i>Qt Designer</i>.</p>   <h3 class="fn" id="isInitialized">
<code>[virtual] </code><span class="type">bool</span> QDesignerCustomWidgetInterface::<span class="name">isInitialized</span>() const
</h3> <p>Returns true if the widget has been initialized; otherwise returns false.</p> <p><b>See also </b><a href="qdesignercustomwidgetinterface#initialize">initialize</a>().</p>   <h3 class="fn" id="name">
<code>[pure virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">name</span>() const
</h3> <p>Returns the class name of the custom widget supplied by the interface.</p> <p>The name returned <i>must</i> be identical to the class name used for the custom widget.</p>   <h3 class="fn" id="toolTip">
<code>[pure virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">toolTip</span>() const
</h3> <p>Returns a short description of the widget that can be used by <i>Qt Designer</i> in a tool tip.</p>   <h3 class="fn" id="whatsThis">
<code>[pure virtual] </code><span class="type"><a href="qstring">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">whatsThis</span>() const
</h3> <p>Returns a description of the widget that can be used by <i>Qt Designer</i> in "What's This?" help for the widget.</p>   <div class="macros"> <h2>Macro Documentation</h2>  <h3 class="fn" id="QDESIGNER_WIDGET_EXPORT">
<span class="name">QDESIGNER_WIDGET_EXPORT</span>
</h3> <p>This macro is used when defining custom widgets to ensure that they are correctly exported from plugins for use with <i>Qt Designer</i>.</p> <p>On some platforms, the symbols required by <i>Qt Designer</i> to create new widgets are removed from plugins by the build system, making them unusable. Using this macro ensures that the symbols are retained on those platforms, and has no side effects on other platforms.</p> <p>For example, the <a href="https://doc.qt.io/qt-5.15/qtdesigner-worldtimeclockplugin-example.html">World Time Clock Plugin</a> example exports a custom widget class with the following declaration:</p> <pre data-language="cpp">class QDESIGNER_WIDGET_EXPORT WorldTimeClock : public QWidget
{
    Q_OBJECT
    ...
};</pre> <p>This function was introduced in Qt 4.1.</p> <p><b>See also </b><a href="designer-creating-custom-widgets">Creating Custom Widgets for Qt Designer</a>.</p>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-5.15/qdesignercustomwidgetinterface.html" class="_attribution-link">https://doc.qt.io/qt-5.15/qdesignercustomwidgetinterface.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
