
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>QQuick3DGeometry (Class) - Qt 5.15 - W3cubDocs</title>
  
  <meta name="description" content=" Base class for defining custom geometry. More... ">
  <meta name="keywords" content="qquick, dgeometry, class, qt, qt~5.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt~5.15/qquick3dgeometry.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/qt~5.15.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt~5.15/" class="_nav-link" title="" style="margin-left:0;">Qt 5.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">QQuick3DGeometry Class</h1>  <p>Base class for defining custom geometry. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QQuick3DGeometry&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Since:</td>
<td class="memItemRight bottomAlign"> Qt 5.15</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Instantiated By:</td>
<td class="memItemRight bottomAlign"> <a href="qml-qtquick3d-geometry">Geometry</a>
</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <a href="qquick3dobject">QQuick3DObject</a>
</td>
</tr>
</table>
<p>This class was introduced in Qt 5.15.</p> <ul> <li><a href="https://doc.qt.io/qt-5.15/qquick3dgeometry-members.html">List of all members, including inherited members</a></li> </ul>  <h2 id="properties">Properties
</h2> <ul> <li class="fn">
<b><a href="qquick3dgeometry#name-prop">name</a></b> : QString</li> </ul>  <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#addAttribute">addAttribute</a></b>(Attribute::Semantic <i>semantic</i>, int <i>offset</i>, Attribute::ComponentType <i>componentType</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#addAttribute-1">addAttribute</a></b>(const QQuick3DGeometry::Attribute &amp;<i>attribute</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QQuick3DGeometry::Attribute </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#attribute">attribute</a></b>(int <i>index</i>) const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#attributeCount">attributeCount</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QVector3D </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#boundsMax">boundsMax</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QVector3D </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#boundsMin">boundsMin</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#clear">clear</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QByteArray </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#indexBuffer">indexBuffer</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#name-prop">name</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QQuick3DGeometry::PrimitiveType </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#primitiveType">primitiveType</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#setBounds">setBounds</a></b>(const QVector3D &amp;<i>min</i>, const QVector3D &amp;<i>max</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#setIndexData">setIndexData</a></b>(const QByteArray &amp;<i>data</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#setPrimitiveType">setPrimitiveType</a></b>(QQuick3DGeometry::PrimitiveType <i>type</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#setStride">setStride</a></b>(int <i>stride</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#setVertexData">setVertexData</a></b>(const QByteArray &amp;<i>data</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#stride">stride</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QByteArray </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#vertexBuffer">vertexBuffer</a></b>() const</td>
</tr> </table>  <h2 id="public-slots">Public Slots
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#name-prop">setName</a></b>(const QString &amp;<i>name</i>)</td>
</tr> </table>  <h2 id="signals">Signals
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qquick3dgeometry#name-prop">nameChanged</a></b>()</td>
</tr> </table>    <h2 id="details">Detailed Description
</h2> <p>The QQuick3DGeometry can be used to specify custom geometry used with Qt Quick 3D.</p> <p>The user should inherit this class and specify it's own properties, which can then be used from QML code. The user then should use these properties to construct the geometry and set it for the QQuick3DGeometry, which then uploads it to the Qt Quick3D engine.</p> <p>Example implementation:</p> <pre data-language="cpp">class CustomGeometry : public QQuick3DGeometry
{
    Q_OBJECT
    ... properties ...

public:
    CustomGeometry();

    void setProperty(...)
    {
        ...
        rebuildGeometry();
    }

private:
    void rebuildGeometry()
    {
        QByteArray vertices;
        QByteArray indices;
        fillGeometry(vertices, indices);
        setPrimitiveType(Lines);
        setVertexBuffer(vertices);
        setIndexBuffer(indices);
        setStride(sizeof(QVector3D));
        setBounds(...);
        addAttrubute(PositionSemantic, 0, F32Type);
    }
};</pre> <p>This class can then be registered as a QML type and used with <a href="qml-qtquick3d-model">Model</a>.</p> <pre data-language="cpp">qmlRegisterType&lt;CustomGeometry&gt;("Example", 1, 0, "CustomGeometry");</pre> <pre data-language="cpp">import Example 1.0

Model {
    id: customModel
    geometry: CustomGeometry {
    }
}</pre>   <div class="prop"> <h2>Property Documentation</h2>  <h3 class="fn" id="name-prop">
<span class="name">name</span> : <span class="type"><a href="qstring">QString</a></span>
</h3> <p>Unique name identifying the geometry. This becomes the source path for the geometry. If multiple instances from the same geometry class are used, each of them must have their own unique name. Otherwise, geometry with same name will override the others. Geometry can be shared either by setting the geometry parameter for a model or using the name of the geometry as source parameter for the model.</p> <p><b>Access functions:</b></p> <table class="alignedsummary"> <tr>
<td class="memItemLeft topAlign rightAlign"> QString </td>
<td class="memItemRight bottomAlign">
<span class="name"><b>name</b></span>() const</td>
</tr> <tr>
<td class="memItemLeft topAlign rightAlign"> void </td>
<td class="memItemRight bottomAlign">
<span class="name"><b>setName</b></span>(const QString &amp;<i>name</i>)</td>
</tr> </table> <p><b>Notifier signal:</b></p> <table class="alignedsummary"> <tr>
<td class="memItemLeft topAlign rightAlign"> void </td>
<td class="memItemRight bottomAlign">
<span class="name"><b>nameChanged</b></span>()</td>
</tr> </table>  </div>  <h2>Member Function Documentation</h2>  <h3 class="fn" id="addAttribute">
<span class="type">void</span> QQuick3DGeometry::<span class="name">addAttribute</span>(<span class="type">Attribute::Semantic</span> <i>semantic</i>, <span class="type">int</span> <i>offset</i>, <span class="type">Attribute::ComponentType</span> <i>componentType</i>)
</h3> <p>Adds vertex attribute description. Each attribute has a <i>semantic</i>, which specifies the usage of the attribute and the number of components it has, an <i>offset</i> from the beginning to the vertex to the attribute location inside a vertex and a <i>componentType</i> specifying the datatype and size of the attribute.</p> <p>The semantic can be one of the following:</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>UnknownSemantic</code></td>
<td class="topAlign">The semantic is not set.</td>
</tr> <tr>
<td class="topAlign"><code>IndexSemantic</code></td>
<td class="topAlign">The attribute is an index.</td>
</tr> <tr>
<td class="topAlign"><code>PositionSemantic</code></td>
<td class="topAlign">The attribute is a position.</td>
</tr> <tr>
<td class="topAlign"><code>NormalSemantic</code></td>
<td class="topAlign">The attribute is a normal vector.</td>
</tr> <tr>
<td class="topAlign"><code>TexCoordSemantic</code></td>
<td class="topAlign">The attribute is a texture coordinate.</td>
</tr> <tr>
<td class="topAlign"><code>TangentSemantic</code></td>
<td class="topAlign">The attribute is a tangent vector.</td>
</tr> <tr>
<td class="topAlign"><code>BinormalSemantic</code></td>
<td class="topAlign">The attribute is a binormal vector.</td>
</tr> </table> <p>The component type can be one of the following:</p> <table class="valuelist">
<tr class="even" valign="top">
<th class="tblConst">Constant</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>DefaultType</code></td>
<td class="topAlign">The attribute uses default type depending on the semantic.</td>
</tr> <tr>
<td class="topAlign"><code>U16Type</code></td>
<td class="topAlign">The attribute is an unsigned 16-bit integer.</td>
</tr> <tr>
<td class="topAlign"><code>U32Type</code></td>
<td class="topAlign">The attribute is an unsigned 32-bit integer. This is the default for IndexSemantic.</td>
</tr> <tr>
<td class="topAlign"><code>F32Type</code></td>
<td class="topAlign">The attribute is a single-precision float. This is the default for most semantics.</td>
</tr> </table>   <h3 class="fn" id="addAttribute-1">
<span class="type">void</span> QQuick3DGeometry::<span class="name">addAttribute</span>(const <span class="type">QQuick3DGeometry::Attribute</span> &amp;<i>attribute</i>)
</h3> <p>Adds vertex attribute description. Each attribute has a semantic, which specifies the usage of the attribute and the number of components it has, an offset from the beginning to the vertex to the attribute location inside a vertex and a componentType specifying the datatype and size of the attribute.</p>   <h3 class="fn" id="attribute">
<span class="type">QQuick3DGeometry::Attribute</span> QQuick3DGeometry::<span class="name">attribute</span>(<span class="type">int</span> <i>index</i>) const
</h3> <p>Returns an attribute at <i>index</i></p>   <h3 class="fn" id="attributeCount">
<span class="type">int</span> QQuick3DGeometry::<span class="name">attributeCount</span>() const
</h3> <p>Returns the attribute count.</p>   <h3 class="fn" id="boundsMax">
<span class="type"><a href="qvector3d">QVector3D</a></span> QQuick3DGeometry::<span class="name">boundsMax</span>() const
</h3> <p>Returns the maximum bound coordinate.</p>   <h3 class="fn" id="boundsMin">
<span class="type"><a href="qvector3d">QVector3D</a></span> QQuick3DGeometry::<span class="name">boundsMin</span>() const
</h3> <p>Returns the minimum bound coordinate.</p>   <h3 class="fn" id="clear">
<span class="type">void</span> QQuick3DGeometry::<span class="name">clear</span>()
</h3> <p>Clears previously set vertex- and index data as well as attributes.</p>   <h3 class="fn" id="indexBuffer">
<span class="type"><a href="qbytearray">QByteArray</a></span> QQuick3DGeometry::<span class="name">indexBuffer</span>() const
</h3> <p>Returns the index buffer data.</p>   <h3 class="fn" id="primitiveType">
<span class="type">QQuick3DGeometry::PrimitiveType</span> QQuick3DGeometry::<span class="name">primitiveType</span>() const
</h3> <p>Returns the primitive type. The default is <code>Triangles</code>.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>Unknown</code></td>
<td class="topAlign">The primitive type is not set.</td>
</tr> <tr>
<td class="topAlign"><code>Points</code></td>
<td class="topAlign">The primitives are points.</td>
</tr> <tr>
<td class="topAlign"><code>LineStrip</code></td>
<td class="topAlign">The primitives are lines in a strip.</td>
</tr> <tr>
<td class="topAlign"><code>Lines</code></td>
<td class="topAlign">The primitives are lines in a list.</td>
</tr> <tr>
<td class="topAlign"><code>TriangleStrip</code></td>
<td class="topAlign">The primitives are triangles in a strip.</td>
</tr> <tr>
<td class="topAlign"><code>TriangleFan</code></td>
<td class="topAlign">The primitives are triangles in a fan.</td>
</tr> <tr>
<td class="topAlign"><code>Triangles</code></td>
<td class="topAlign">The primitives are triangles in a list.</td>
</tr> </table> <p><b>See also </b><a href="qquick3dgeometry#setPrimitiveType">setPrimitiveType</a>().</p>   <h3 class="fn" id="setBounds">
<span class="type">void</span> QQuick3DGeometry::<span class="name">setBounds</span>(const <span class="type"><a href="qvector3d">QVector3D</a></span> &amp;<i>min</i>, const <span class="type"><a href="qvector3d">QVector3D</a></span> &amp;<i>max</i>)
</h3> <p>Sets the bounds of the geometry with <i>min</i> and <i>max</i> point.</p>   <h3 class="fn" id="setIndexData">
<span class="type">void</span> QQuick3DGeometry::<span class="name">setIndexData</span>(const <span class="type"><a href="qbytearray">QByteArray</a></span> &amp;<i>data</i>)
</h3> <p>Sets the index buffer <i>data</i>. If the index buffer is not set, the vertex buffer is used as is for the vertices.</p>   <h3 class="fn" id="setPrimitiveType">
<span class="type">void</span> QQuick3DGeometry::<span class="name">setPrimitiveType</span>(<span class="type">QQuick3DGeometry::PrimitiveType</span> <i>type</i>)
</h3> <p>Sets the primitive <i>type</i>.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>UnknownType</code></td>
<td class="topAlign">The primitive type is not set.</td>
</tr> <tr>
<td class="topAlign"><code>Points</code></td>
<td class="topAlign">The primitives are points.</td>
</tr> <tr>
<td class="topAlign"><code>LineStrip</code></td>
<td class="topAlign">The primitives are lines in a strip.</td>
</tr> <tr>
<td class="topAlign"><code>Lines</code></td>
<td class="topAlign">The primitives are lines in a list.</td>
</tr> <tr>
<td class="topAlign"><code>TriangleStrip</code></td>
<td class="topAlign">The primitives are triangles in a strip.</td>
</tr> <tr>
<td class="topAlign"><code>TriangleFan</code></td>
<td class="topAlign">The primitives are triangles in a fan.</td>
</tr> <tr>
<td class="topAlign"><code>Triangles</code></td>
<td class="topAlign">The primitives are triangles in a list.</td>
</tr> </table> <p><b>See also </b><a href="qquick3dgeometry#primitiveType">primitiveType</a>().</p>   <h3 class="fn" id="setStride">
<span class="type">void</span> QQuick3DGeometry::<span class="name">setStride</span>(<span class="type">int</span> <i>stride</i>)
</h3> <p>Sets the byte <i>stride</i> of the vertex.</p> <p><b>See also </b><a href="qquick3dgeometry#stride">stride</a>().</p>   <h3 class="fn" id="setVertexData">
<span class="type">void</span> QQuick3DGeometry::<span class="name">setVertexData</span>(const <span class="type"><a href="qbytearray">QByteArray</a></span> &amp;<i>data</i>)
</h3> <p>Sets the vertex buffer <i>data</i>. The buffer should hold all the vertex data packed in the array described by the attributes.</p>   <h3 class="fn" id="stride">
<span class="type">int</span> QQuick3DGeometry::<span class="name">stride</span>() const
</h3> <p>Returns the byte stride of the vertex buffer.</p> <p><b>See also </b><a href="qquick3dgeometry#setStride">setStride</a>().</p>   <h3 class="fn" id="vertexBuffer">
<span class="type"><a href="qbytearray">QByteArray</a></span> QQuick3DGeometry::<span class="name">vertexBuffer</span>() const
</h3> <p>Returns the vertex buffer data.</p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-5.15/qquick3dgeometry.html" class="_attribution-link">https://doc.qt.io/qt-5.15/qquick3dgeometry.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
