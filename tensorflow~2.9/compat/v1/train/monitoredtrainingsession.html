
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.compat.v1.train.MonitoredTrainingSession - TensorFlow 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" Creates a MonitoredSession for training. ">
  <meta name="keywords" content="tf, compat, train, monitoredtrainingsession, tensorflow, tensorflow~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~2.9/compat/v1/train/monitoredtrainingsession.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/tensorflow~2.9.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~2.9/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 2.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.compat.v1.train.MonitoredTrainingSession</h1> <devsite-bookmark></devsite-bookmark>       <p>Creates a <code translate="no" dir="ltr">MonitoredSession</code> for training.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.train.MonitoredTrainingSession(
    master='',
    is_chief=True,
    checkpoint_dir=None,
    scaffold=None,
    hooks=None,
    chief_only_hooks=None,
    save_checkpoint_secs=USE_DEFAULT,
    save_summaries_steps=USE_DEFAULT,
    save_summaries_secs=USE_DEFAULT,
    config=None,
    stop_grace_period_secs=120,
    log_step_count_steps=100,
    max_wait_secs=7200,
    save_checkpoint_steps=USE_DEFAULT,
    summary_dir=None,
    save_graph_def=True
)
</pre> <p><section><devsite-expandable expanded> <h2 class="showalways" id="migrate-to-tf2" data-text="Migrate to TF2">Migrate to TF2</h2></devsite-expandable></section></p> <aside class="caution"><strong>Caution:</strong><span> This API was designed for TensorFlow v1. Continue reading for details on how to migrate from this API to a native TensorFlow v2 equivalent. See the <a href="https://www.tensorflow.org/guide/migrate">TensorFlow v1 to TensorFlow v2 migration guide</a> for instructions on how to migrate the rest of your code.</span></aside> <p>This API is not compatible with eager execution and <a href="../../../function"><code translate="no" dir="ltr">tf.function</code></a>. To migrate to TF2, rewrite the code to be compatible with eager execution. Check the <a href="https://www.tensorflow.org/guide/migrate#1_replace_v1sessionrun_calls">migration guide</a> on replacing <code translate="no" dir="ltr">Session.run</code> calls. In Keras, session hooks can be replaced by Callbacks e.g. <a href="https://github.com/tensorflow/docs/blob/master/site/en/guide/migrate/logging_stop_hook.ipynb">logging hook notebook</a> For more details please read <a href="https://www.tensorflow.org/guide/function">Better performance with tf.function</a>.</p>  <h2 id="description" data-text="Description">Description</h2>  <p>For a chief, this utility sets proper session initializer/restorer. It also creates hooks related to checkpoint and summary saving. For workers, this utility sets proper session creator which waits for the chief to initialize/restore. Please check <a href="monitoredsession"><code translate="no" dir="ltr">tf.compat.v1.train.MonitoredSession</code></a> for more information.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">master</code> </td> <td> <code translate="no" dir="ltr">String</code> the TensorFlow master to use. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">is_chief</code> </td> <td> If <code translate="no" dir="ltr">True</code>, it will take care of initialization and recovery the underlying TensorFlow session. If <code translate="no" dir="ltr">False</code>, it will wait on a chief to initialize or recover the TensorFlow session. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">checkpoint_dir</code> </td> <td> A string. Optional path to a directory where to restore variables. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">scaffold</code> </td> <td> A <code translate="no" dir="ltr">Scaffold</code> used for gathering or building supportive ops. If not specified, a default one is created. It's used to finalize the graph. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">hooks</code> </td> <td> Optional list of <code translate="no" dir="ltr">SessionRunHook</code> objects. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">chief_only_hooks</code> </td> <td> list of <code translate="no" dir="ltr">SessionRunHook</code> objects. Activate these hooks if <code translate="no" dir="ltr">is_chief==True</code>, ignore otherwise. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_checkpoint_secs</code> </td> <td> The frequency, in seconds, that a checkpoint is saved using a default checkpoint saver. If both <code translate="no" dir="ltr">save_checkpoint_steps</code> and <code translate="no" dir="ltr">save_checkpoint_secs</code> are set to <code translate="no" dir="ltr">None</code>, then the default checkpoint saver isn't used. If both are provided, then only <code translate="no" dir="ltr">save_checkpoint_secs</code> is used. Default 600. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_summaries_steps</code> </td> <td> The frequency, in number of global steps, that the summaries are written to disk using a default summary saver. If both <code translate="no" dir="ltr">save_summaries_steps</code> and <code translate="no" dir="ltr">save_summaries_secs</code> are set to <code translate="no" dir="ltr">None</code>, then the default summary saver isn't used. Default 100. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_summaries_secs</code> </td> <td> The frequency, in secs, that the summaries are written to disk using a default summary saver. If both <code translate="no" dir="ltr">save_summaries_steps</code> and <code translate="no" dir="ltr">save_summaries_secs</code> are set to <code translate="no" dir="ltr">None</code>, then the default summary saver isn't used. Default not enabled. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">config</code> </td> <td> an instance of <a href="../configproto"><code translate="no" dir="ltr">tf.compat.v1.ConfigProto</code></a> proto used to configure the session. It's the <code translate="no" dir="ltr">config</code> argument of constructor of <a href="../session"><code translate="no" dir="ltr">tf.compat.v1.Session</code></a>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">stop_grace_period_secs</code> </td> <td> Number of seconds given to threads to stop after <code translate="no" dir="ltr">close()</code> has been called. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">log_step_count_steps</code> </td> <td> The frequency, in number of global steps, that the global step/sec is logged. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">max_wait_secs</code> </td> <td> Maximum time workers should wait for the session to become available. This should be kept relatively short to help detect incorrect code, but sometimes may need to be increased if the chief takes a while to start up. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_checkpoint_steps</code> </td> <td> The frequency, in number of global steps, that a checkpoint is saved using a default checkpoint saver. If both <code translate="no" dir="ltr">save_checkpoint_steps</code> and <code translate="no" dir="ltr">save_checkpoint_secs</code> are set to <code translate="no" dir="ltr">None</code>, then the default checkpoint saver isn't used. If both are provided, then only <code translate="no" dir="ltr">save_checkpoint_secs</code> is used. Default not enabled. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">summary_dir</code> </td> <td> A string. Optional path to a directory where to save summaries. If None, checkpoint_dir is used instead. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_graph_def</code> </td> <td> Whether to save the GraphDef and MetaGraphDef to <code translate="no" dir="ltr">checkpoint_dir</code>. The GraphDef is saved after the session is created as <code translate="no" dir="ltr">graph.pbtxt</code>. MetaGraphDefs are saved out for every checkpoint as <code translate="no" dir="ltr">model.ckpt-*.meta</code>. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A <code translate="no" dir="ltr">MonitoredSession</code> object. </td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    Â© 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/train/MonitoredTrainingSession" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/train/MonitoredTrainingSession</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
