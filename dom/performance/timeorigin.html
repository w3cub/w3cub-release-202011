
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Performance.timeOrigin - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The timeOrigin read-only property of the Performance interface returns the high resolution timestamp that is used as the baseline for performance- &hellip;">
  <meta name="keywords" content="performance, timeorigin, property, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/performance/timeorigin.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Performance: timeOrigin property</h1>
<div class="section-content">
<p>The <code>timeOrigin</code> read-only property of the <a href="../performance"><code>Performance</code></a> interface returns the high resolution timestamp that is used as the baseline for performance-related timestamps.</p> <p>In Window contexts, this value represents the time when navigation has started. In <a href="../worker"><code>Worker</code></a> and <a href="../serviceworker"><code>ServiceWorker</code></a> contexts, this value represents the time when the worker is run. You can use this property to synchronize the time origins between the contexts (see example below).</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> The value of <code>performance.timeOrigin</code> may differ from the value returned by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now"><code>Date.now()</code></a> executed at the time origin, because <code>Date.now()</code> may have been impacted by system and user clock adjustments, clock skew, etc. The <code>timeOrigin</code> property is a <a href="https://w3c.github.io/hr-time/#dfn-monotonic-clock" target="_blank">monotonic clock</a> which current time never decreases and which isn't subject to these adjustments.</p> </div>
</div>
<h2 id="value">Value</h2>
<div class="section-content">
<p>A high resolution timestamp which considered to be the beginning of the current document's lifetime. It's calculated like this:</p> <ul> <li>If the script's <a href="https://developer.mozilla.org/en-US/docs/Glossary/Global_object">global object</a> is a <a href="../window"><code>Window</code></a>, the time origin is determined as follows: <ul> <li>If the current <a href="../document"><code>Document</code></a> is the first one loaded in the <code>Window</code>, the time origin is the time at which the browser context was created.</li> <li>If during the process of unloading the previous document which was loaded in the window, a confirmation dialog was displayed to let the user confirm whether or not to leave the previous page, the time origin is the time at which the user confirmed that navigating to the new page was acceptable.</li> <li>If neither of the above determines the time origin, then the time origin is the time at which the navigation responsible for creating the window's current <code>Document</code> took place.</li> </ul> </li> <li>If the script's global object is a <a href="../workerglobalscope"><code>WorkerGlobalScope</code></a> (that is, the script is running as a web worker), the time origin is the moment at which the worker was created.</li> <li>In all other cases, the time origin is undefined.</li> </ul>
</div>
<h2 id="examples">Examples</h2>

<h3 id="synchronizing_time_between_contexts">Synchronizing time between contexts</h3>
<div class="section-content">
<p>To account for the different time origins in window and worker contexts, you can translate the timestamps coming from worker scripts with the help of the <code>timeOrigin</code> property, so the timings synchronize for the entire application.</p> <p>In worker.js</p> <div class="code-example"><pre data-language="js">self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"connect"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> port <span class="token operator">=</span> event<span class="token punctuation">.</span>ports<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  port<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> workerTaskStart <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// doSomeWork()</span>
    <span class="token keyword">const</span> workerTaskEnd <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Convert worker-relative timestamps to absolute timestamps, then send to the window</span>
  port<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">startTime</span><span class="token operator">:</span> workerTaskStart <span class="token operator">+</span> performance<span class="token punctuation">.</span>timeOrigin<span class="token punctuation">,</span>
    <span class="token literal-property property">endTime</span><span class="token operator">:</span> workerTaskEnd <span class="token operator">+</span> performance<span class="token punctuation">.</span>timeOrigin<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>In main.js</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SharedWorker</span><span class="token punctuation">(</span><span class="token string">"worker.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
worker<span class="token punctuation">.</span>port<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Convert absolute timestamps into window-relative timestamps</span>
  <span class="token keyword">const</span> workerTaskStart <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">.</span>startTime <span class="token operator">-</span> performance<span class="token punctuation">.</span>timeOrigin<span class="token punctuation">;</span>
  <span class="token keyword">const</span> workerTaskEnd <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">.</span>endTime <span class="token operator">-</span> performance<span class="token punctuation">.</span>timeOrigin<span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Worker task start: "</span><span class="token punctuation">,</span> workerTaskStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Worker task end: "</span><span class="token punctuation">,</span> workerTaskEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/hr-time/#dom-performance-timeorigin">High Resolution Time <br><small># dom-performance-timeorigin</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>timeOrigin</code></th>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-yes">16</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">49</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-yes">46</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">8.0</td>
</tr></tbody>
</table></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/timeOrigin" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Performance/timeOrigin</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
