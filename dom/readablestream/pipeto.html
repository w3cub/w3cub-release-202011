
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ReadableStream.pipeTo - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The pipeTo() method of the ReadableStream interface pipes the current ReadableStream to a given WritableStream and returns a Promise that fulfills &hellip;">
  <meta name="keywords" content="readablestream, pipeto, method, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/readablestream/pipeto.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>ReadableStream: pipeTo() method</h1></header><div class="section-content">
<p>The <code>pipeTo()</code> method of the <a href="../readablestream"><code>ReadableStream</code></a> interface pipes the current <code>ReadableStream</code> to a given <a href="../writablestream"><code>WritableStream</code></a> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that fulfills when the piping process completes successfully, or rejects if any errors were encountered.</p> <p>Piping a stream will generally <a href="locked">lock</a> it for the duration of the pipe, preventing other readers from locking it.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="3tyFh+9V6O5Soj8eGCqaKqcaifYGxgP2qNIqJcz2gpY=" data-language="js"><span class="token function">pipeTo</span><span class="token punctuation">(</span>destination<span class="token punctuation">)</span>
<span class="token function">pipeTo</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="destination"><a href="#destination"><code>destination</code></a></dt> <dd> <p>A <a href="../writablestream"><code>WritableStream</code></a> that acts as the final destination for the <a href="../readablestream"><code>ReadableStream</code></a>.</p> </dd> <dt id="options">
<a href="#options"><code>options</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> The options that should be used when piping to the <code>writable</code> stream. Available options are: </p> <dl> <dt id="preventclose"><a href="#preventclose"><code>preventClose</code></a></dt> <dd> <p> If this is set to <code>true</code>, the source <code>ReadableStream</code> closing will no longer cause the destination <code>WritableStream</code> to be closed. The method will return a fulfilled promise once this process completes, unless an error is encountered while closing the destination in which case it will be rejected with that error. </p> </dd> <dt id="preventabort"><a href="#preventabort"><code>preventAbort</code></a></dt> <dd> <p> If this is set to <code>true</code>, errors in the source <code>ReadableStream</code> will no longer abort the destination <code>WritableStream</code>. The method will return a promise rejected with the source's error, or with any error that occurs during aborting the destination. </p> </dd> <dt id="preventcancel"><a href="#preventcancel"><code>preventCancel</code></a></dt> <dd> <p> If this is set to <code>true</code>, errors in the destination <code>WritableStream</code> will no longer cancel the source <code>ReadableStream</code>. In this case the method will return a promise rejected with the source's error, or with any error that occurs during canceling the source. In addition, if the destination writable stream starts out closed or closing, the source readable stream will no longer be canceled. In this case the method will return a promise rejected with an error indicating piping to a closed stream failed, or with any error that occurs during canceling the source. </p> </dd> <dt id="signal"><a href="#signal"><code>signal</code></a></dt> <dd> <p>If set to an <a href="../abortsignal"><code>AbortSignal</code></a> object, ongoing pipe operations can then be aborted via the corresponding <a href="../abortcontroller"><code>AbortController</code></a>.</p> </dd> </dl> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves when the piping process has completed.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="sect1"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a></dt> <dd> <p>The <code>writableStream</code> and/or <code>readableStream</code> objects are not a writable stream/readable stream, or one or both of the streams are locked.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="xzVL3EJfPxrw44LelPWu9bPxzRa2BWqxwj8ML10kkS4=" data-language="js"><span class="token comment">// Fetch the original image</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"png-logo.png"</span><span class="token punctuation">)</span>
  <span class="token comment">// Retrieve its body as ReadableStream</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">body</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> body<span class="token punctuation">.</span><span class="token function">pipeThrough</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PNGTransformStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">rs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> rs<span class="token punctuation">.</span><span class="token function">pipeTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FinalDestinationStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>The same example, but using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await"><code>await</code></a>:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="UieQaQpxz/C596FHhOMoF6ZhXh/MtKXIuyb/N0lbqxE=" data-language="js"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Fetch the original image</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"png-logo.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Retrieve its body as ReadableStream</span>
  response<span class="token punctuation">.</span>body
    <span class="token punctuation">.</span><span class="token function">pipeThrough</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PNGTransformStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipeTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FinalDestinationStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="#">Streams Standard <br><small># ref-for-rs-pipe-to④</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>pipeTo</code></th>
<td class="bc-supports-yes">59</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">100</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">46</td>
<td class="bc-supports-yes">10.1</td>
<td class="bc-supports-yes">59</td>
<td class="bc-supports-yes">59</td>
<td class="bc-supports-yes">100</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">10.3</td>
<td class="bc-supports-yes">7.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>
<a href="readablestream"><code>ReadableStream()</code></a> constructor</li> <li><a href="../streams_api/using_readable_streams#pipe_chains">Pipe chains</a></li> </ul></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/pipeTo" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/pipeTo</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
