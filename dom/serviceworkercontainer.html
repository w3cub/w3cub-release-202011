
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ServiceWorkerContainer - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The ServiceWorkerContainer interface of the Service Worker API provides an object representing the service worker as an overall unit in the network &hellip;">
  <meta name="keywords" content="serviceworkercontainer, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/serviceworkercontainer.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>ServiceWorkerContainer</h1></header><div class="section-content">
<p>The <code>ServiceWorkerContainer</code> interface of the <a href="service_worker_api">Service Worker API</a> provides an object representing the service worker as an overall unit in the network ecosystem, including facilities to register, unregister and update service workers, and access the state of service workers and their registrations.</p> <p>Most importantly, it exposes the <a href="serviceworkercontainer/register"><code>ServiceWorkerContainer.register()</code></a> method used to register service workers, and the <a href="serviceworkercontainer/controller"><code>ServiceWorkerContainer.controller</code></a> property used to determine whether or not the current page is actively controlled.</p>
<svg viewbox="-1 -1 650 42" preserveaspectratio="xMinYMin meet"> <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/EventTarget">  <text x="44" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> EventTarget </text> </a>   <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/ServiceWorkerContainer" aria-current="page">  <text x="206" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> ServiceWorkerContainer </text> </a></svg>
</div>
<h2 id="instance_properties">Instance properties</h2>
<div class="section-content"><dl> <dt id="sect1">
<a href="serviceworkercontainer/controller"><code>ServiceWorkerContainer.controller</code></a> <span class="badge inline readonly">Read only </span>
</dt> <dd> <p>Returns a <a href="serviceworker"><code>ServiceWorker</code></a> object if its state is <code>activating</code> or <code>activated</code> (the same object returned by <a href="serviceworkerregistration/active"><code>ServiceWorkerRegistration.active</code></a>). This property returns <code>null</code> during a force-refresh request (<em>Shift</em> + refresh) or if there is no active worker.</p> </dd> <dt id="sect2">
<a href="serviceworkercontainer/ready"><code>ServiceWorkerContainer.ready</code></a> <span class="badge inline readonly">Read only </span>
</dt> <dd> <p>Provides a way of delaying code execution until a service worker is active. It returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that will never reject, and which waits indefinitely until the <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a> associated with the current page has an <a href="serviceworkerregistration/active"><code>ServiceWorkerRegistration.active</code></a> worker. Once that condition is met, it resolves with the <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a>.</p> </dd> </dl></div>
<h2 id="events">Events</h2>
<div class="section-content"><dl> <dt id="sect3"><a href="serviceworkercontainer/controllerchange_event"><code>controllerchange</code></a></dt> <dd> <p>Occurs when the document's associated <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a> acquires a new <a href="serviceworkerregistration/active"><code>active</code></a> worker.</p> </dd> <dt id="sect4">
<a href="serviceworkercontainer/error_event"><code>error</code></a> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr> <abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using."> <span class="visually-hidden">Non-standard</span> </abbr>
</dt> <dd> <p>Fired whenever an error occurs in the associated service workers.</p> </dd> <dt id="sect5"><a href="serviceworkercontainer/message_event"><code>message</code></a></dt> <dd> <p>Occurs when incoming messages are received by the <a href="serviceworkercontainer" aria-current="page"><code>ServiceWorkerContainer</code></a> object (e.g. via a <a href="messageport/postmessage"><code>MessagePort.postMessage()</code></a> call).</p> </dd> </dl></div>
<h2 id="instance_methods">Instance methods</h2>
<div class="section-content"><dl> <dt id="sect6"><a href="serviceworkercontainer/register"><code>ServiceWorkerContainer.register()</code></a></dt> <dd> <p>Creates or updates a <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a> for the given <code>scriptURL</code>.</p> </dd> <dt id="sect7"><a href="serviceworkercontainer/getregistration"><code>ServiceWorkerContainer.getRegistration()</code></a></dt> <dd> <p>Gets a <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a> object whose scope matches the provided document URL. The method returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to a <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a> or <code>undefined</code>.</p> </dd> <dt id="sect8"><a href="serviceworkercontainer/getregistrations"><code>ServiceWorkerContainer.getRegistrations()</code></a></dt> <dd> <p>Returns all <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a> objects associated with a <code>ServiceWorkerContainer</code> in an array. The method returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to an array of <a href="serviceworkerregistration"><code>ServiceWorkerRegistration</code></a>.</p> </dd> <dt id="sect9"><a href="serviceworkercontainer/startmessages"><code>ServiceWorkerContainer.startMessages()</code></a></dt> <dd> <p>explicitly starts the flow of messages being dispatched from a service worker to pages under its control (e.g. sent via <a href="client/postmessage"><code>Client.postMessage()</code></a>). This can be used to react to sent messages earlier, even before that page's content has finished loading.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>The example below first checks to see if the browser supports service workers. If supported, the code registers the service worker and determines if the page is actively controlled by the service worker. If it isn't, it prompts the user to reload the page so the service worker can take control. The code also reports any registration failures.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="eGJaA6aWF4HWshR02p/D2iNkmEVjdFv58fEl5PQUqfU=" data-language="js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"serviceWorker"</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Register a service worker hosted at the root of the</span>
  <span class="token comment">// site using the default scope.</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"/sw.js"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Service worker registration succeeded:"</span><span class="token punctuation">,</span> registration<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// At this point, you can optionally do something</span>
      <span class="token comment">// with registration. See https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Service worker registration failed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Independent of the registration, let's also display</span>
  <span class="token comment">// information about whether the current page is controlled</span>
  <span class="token comment">// by an existing service worker, and when that</span>
  <span class="token comment">// controller changes.</span>

  <span class="token comment">// First, do a one-off check if there's currently a</span>
  <span class="token comment">// service worker in control.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span>controller<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
      <span class="token string">"This page is currently controlled by:"</span><span class="token punctuation">,</span>
      navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span>controller<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Then, register a handler to detect when a new or</span>
  <span class="token comment">// updated service worker takes control.</span>
  navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function-variable function">oncontrollerchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
      <span class="token string">"This page is now controlled by"</span><span class="token punctuation">,</span>
      navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span>controller<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Service workers are not supported."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/ServiceWorker/#serviceworkercontainer-interface">Service Workers <br><small># serviceworkercontainer-interface</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>ServiceWorkerContainer</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>controller</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>controllerchange_event</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>error_event</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">44–106</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">44–106</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>getRegistration</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>getRegistrations</code></th>
<td class="bc-supports-yes">45</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">45</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>message_event</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>messageerror_event</code></th>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">8017–79</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-yes">16.4<details><summary>11.1–16.4</summary>Although the <code>onmessageerror</code> event handler property is supported, the <code>messageerror</code> event is never fired. See <a href="https://webkit.org/b/171216">bug 171216</a>.</details>
</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">16.4<details><summary>11.3–16.4</summary>Although the <code>onmessageerror</code> event handler property is supported, the <code>messageerror</code> event is never fired. See <a href="https://webkit.org/b/171216">bug 171216</a>.</details>
</td>
<td class="bc-supports-yes">13.0</td>
</tr>
<tr>
<th><code>ready</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>register</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
</tr>
<tr>
<th><code>startMessages</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-yes">50</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">11.0</td>
</tr>
</tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="service_worker_api/using_service_workers">Using Service Workers</a></li> <li><a href="https://github.com/mdn/dom-examples/tree/main/service-worker/simple-service-worker" target="_blank">Service workers basic code example</a></li> <li><a href="https://jakearchibald.github.io/isserviceworkerready/" target="_blank">Is ServiceWorker ready?</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a></li> <li><a href="web_workers_api/using_web_workers">Using web workers</a></li> </ul></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
