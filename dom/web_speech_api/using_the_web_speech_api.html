
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Web Speech API&#58; Using the Web Speech API - DOM - W3cubDocs</title>
  
  <meta name="description" content="The Web Speech API provides two distinct areas of functionality — speech recognition, and speech synthesis (also known as text to speech, or tts) — &hellip;">
  <meta name="keywords" content="web, speech, api, using, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/web_speech_api/using_the_web_speech_api.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/dom.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">DOM</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Web Speech API: Using the Web Speech API</h1>
<p class="summary">The Web Speech API provides two distinct areas of functionality — speech recognition, and speech synthesis (also known as text to speech, or tts) — which open up interesting new possibilities for accessibility, and control mechanisms. This article provides a simple introduction to both areas, along with demos.</p> <h2 id="Speech_recognition">Speech recognition</h2> <p>Speech recognition involves receiving speech through a device's microphone, which is then checked by a speech recognition service against a list of grammar (basically, the vocabulary you want to have recognised in a particular app.) When a word or phrase is successfully recognised, it is returned as a result (or list of results) as a text string, and further actions can be initiated as a result.</p> <p>The Web Speech API has a main controller interface for this — <a href="../speechrecognition"><code>SpeechRecognition</code></a> — plus a number of closely-related interfaces for representing grammar, results, etc. Generally, the default speech recognition system available on the device will be used for the speech recognition — most modern OSes have a speech recognition system for issuing voice commands. Think about Dictation on Mac OS X, Siri on iOS, Cortana on Windows 10, Android Speech, etc.</p> <div class="note"> <p><strong>Note</strong>: On Chrome, using Speech Recognition on a web page involves a server-based recognition engine. Your audio is sent to a web service for recognition processing, so it won't work offline.</p> </div> <h3 id="Demo">Demo</h3> <p>To show simple usage of Web speech recognition, we've written a demo called <a href="https://github.com/mdn/web-speech-api/tree/master/speech-color-changer">Speech color changer</a>. When the screen is tapped/clicked, you can say an HTML color keyword, and the app's background color will change to that color.</p> <p><img src="data:image/png;base64,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" alt="The UI of an app titled Speech Color changer. It invites the user to tap the screen and say a color, and then it turns the background of the app that colour. In this case it has turned the background red." style="border: 1px solid black; display: block; height: 533px; margin: 0px auto; width: 300px;"></p> <p>To run the demo, you can clone (or <a href="https://github.com/mdn/web-speech-api/archive/master.zip">directly download</a>) the Github repo it is part of, open the HTML index file in a supporting desktop browser, navigate to the <a href="https://mdn.github.io/web-speech-api/speech-color-changer/">live demo URL</a> in a supporting mobile browser like Chrome, or load it onto a Firefox OS phone as an app via <a href="https://developer.mozilla.org/en-US/docs/Tools/WebIDE">WebIDE</a> (permissions are required to run the API on Firefox OS, see below.)</p> <h3 id="Browser_support">Browser support</h3> <p>Support for Web Speech API speech recognition is still getting there across mainstream browsers, and is currently limited to the following:</p> <ul> <li> <p>Firefox desktop and mobile support it in Gecko 44+, without prefixes, and it can be turned on by flipping the <code>media.webspeech.recognition.enable</code> flag to <code>true</code> in <code>about:config</code>. The permissions settings/UI haven't yet been sorted out however, so permission can't be granted to use it by the user, so it can't be used. This will be fixed soon.</p> </li> <li> <p>Firefox OS 2.5+ supports it, but as a privileged API that requires permissions. You therefore need to set the following in the <a href="https://developer.mozilla.org/en-US/docs/Web/Apps/Build/Manifest">manifest.webapp</a> (and either install it via WebIDE, or get your app verified and made available on the <a href="https://marketplace.firefox.com/">Firefox Marketplace</a>):</p> <pre data-language="json"><span class="key token">"permissions":</span> <span class="punctuation token">{</span>
  <span class="key token">"audio-capture" :</span> <span class="punctuation token">{</span>
    <span class="key token">"description" :</span> <span class="string token">"Audio capture"</span>
  <span class="punctuation token">}</span><span class="punctuation token">,</span>
  <span class="key token">"speech-recognition" :</span> <span class="punctuation token">{</span>
    <span class="key token">"description" :</span> <span class="string token">"Speech recognition"</span>
  <span class="punctuation token">}</span>
<span class="punctuation token">}</span></pre> <pre data-language="json"><span class="key token">"type":</span> <span class="string token">"privileged"</span></pre> </li> <li> <p>Chrome for Desktop and Android have supported it since around version 33 but with prefixed interfaces, so you need to include prefixed versions of them, e.g. <code>webkitSpeechRecognition</code>.</p> </li> </ul> <h3 id="HTML_and_CSS">HTML and CSS</h3> <p>The HTML and CSS for the app is really trivial. We simply have a title, instructions paragraph, and a div into which we output diagnostic messages.</p> <pre data-language="html">&lt;h1&gt;Speech color changer&lt;/h1&gt;
&lt;p&gt;Tap/click then say a color to change the background color of the app.&lt;/p&gt;
&lt;div&gt;
  &lt;p class="output"&gt;&lt;em&gt;...diagnostic messages&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;</pre> <p>The CSS provides a very simple responsive styling so that it looks ok across devices.</p> <h3 id="JavaScript">JavaScript</h3> <p>Let's look at the JavaScript in a bit more detail.</p> <h4 id="Chrome_support">Chrome support</h4> <p>As mentioned earlier, Chrome currently supports speech recognition with prefixed properties, therefore at the start of our code we include these lines to feed the right objects to Chrome, and non-prefix browsers, like Firefox:</p> <pre data-language="js">var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList
var SpeechRecognitionEvent = SpeechRecognitionEvent || webkitSpeechRecognitionEvent</pre> <h4 id="The_grammar">The grammar</h4> <p>The next part of our code defines the grammar we want our app to recognise. The following variable is defined to hold our grammar:</p> <pre data-language="js">var colors = [ 'aqua' , 'azure' , 'beige', 'bisque', 'black', 'blue', 'brown', 'chocolate', 'coral' ... ];
var grammar = '#JSGF V1.0; grammar colors; public &lt;color&gt; = ' + colors.join(' | ') + ' ;'</pre> <p>The grammar format used is <a href="http://www.w3.org/TR/jsgf/">JSpeech Grammar Format</a> (<strong>JSGF</strong>) — you can find a lot more about it at the previous link to its spec. However, for now let's just run through it quickly:</p> <ul> <li>The lines are separated by semi-colons, just like in JavaScript.</li> <li>The first line — <code>#JSGF V1.0;</code> — states the format and version used. This always needs to be included first.</li> <li>The second line indicates a type of term that we want to recognise. <code>public</code> declares that it is a public rule, the string in angle brackets defines the recognised name for this term (<code>color</code>), and the list of items that follow the equals sign are the alternative values that will be recognised and accepted as appropriate values for the term. Note how each is separated by a pipe character.</li> <li>You can have as many terms defined as you want on separate lines following the above structure, and include fairly complex grammar definitions. For this basic demo, we are just keeping things simple. </li> </ul> <h4 id="Plugging_the_grammar_into_our_speech_recognition">Plugging the grammar into our speech recognition</h4> <p>The next thing to do is define a speech recogntion instance to control the recognition for our application. This is done using the <a href="../speechrecognition/speechrecognition"><code>SpeechRecognition()</code></a> constructor. We also create a new speech grammar list to contain our grammar, using the <a href="../speechgrammarlist/speechgrammarlist"><code>SpeechGrammarList()</code></a> constructor.</p> <pre data-language="js">var recognition = new SpeechRecognition();
var speechRecognitionList = new SpeechGrammarList();</pre> <p>We add our <code>grammar</code> to the list using the <a href="../speechgrammarlist/addfromstring"><code>SpeechGrammarList.addFromString()</code></a> method. This accepts as parameters the string we want to add, plus optionally a weight value that specifies the importance of this grammar in relation of other grammars available in the list (can be from 0 to 1 inclusive.) The added grammar is available in the list as a <a href="../speechgrammar"><code>SpeechGrammar</code></a> object instance.</p> <pre data-language="js">speechRecognitionList.addFromString(grammar, 1);</pre> <p>We then add the <a href="../speechgrammarlist"><code>SpeechGrammarList</code></a> to the speech recognition instance by setting it to the value of the <a href="../speechrecognition/grammars"><code>SpeechRecognition.grammars</code></a> property. We also set a few other properties of the recognition instance before we move on:</p> <ul> <li>
<a href="../speechrecognition/lang"><code>SpeechRecognition.lang</code></a>: Sets the language of the recognition. Setting this is good practice, and therefore recommended.</li> <li>
<a href="../speechrecognition/interimresults"><code>SpeechRecognition.interimResults</code></a>: Defines whether the speech recognition system should return interim results, or just final results. Final results are good enough for this simple demo.</li> <li>
<a href="../speechrecognition/maxalternatives"><code>SpeechRecognition.maxAlternatives</code></a>: Sets the number of alternative potential matches that should be returned per result. This can sometimes be useful, say if a result is not completely clear and you want to display a list if alternatives for the user to choose the correct one from. But it is not needed for this simple demo, so we are just specifying one (which is actually the default anyway.)</li> </ul> <pre data-language="js">recognition.grammars = speechRecognitionList;
//recognition.continuous = false;
recognition.lang = 'en-US';
recognition.interimResults = false;
recognition.maxAlternatives = 1;</pre> <div class="note"> <p><strong>Note</strong>: <a href="../speechrecognition/continuous"><code>SpeechRecognition.continuous</code></a> controls whether continuous results are captured, or just a single result each time recognition is started. It is commented out because currently it is not implemented in Gecko, so setting this was breaking the app. You can get a similar result by simply stopping the recognition after the first result is received, as you'll see later on.</p> </div> <h4 id="Starting_the_speech_recognition">Starting the speech recognition</h4> <p>After grabbing references to the output <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> and the HTML element (so we can output diagnostic messages and update the app background color later on), we implement an onclick handler so that when the screen is tapped/clicked, the speech recognition service will start. This is achieved by calling <a href="../speechrecognition/start"><code>SpeechRecognition.start()</code></a>. The <code>forEach()</code> method is used to output colored indicators showing what colors to try saying.</p> <pre data-language="js">var diagnostic = document.querySelector('.output');
var bg = document.querySelector('html');
var hints = document.querySelector('.hints');

var colorHTML= '';
colors.forEach(function(color, index){
  console.log(color, index);
  colorHTML += '&lt;span style="background-color:' + color + ';"&gt; ' + color + ' &lt;/span&gt;';
});
hints.innerHTML = 'Tap/click then say a color to change the background color of the app. Try '+ colorHTML + '.';

document.body.onclick = function() {
  recognition.start();
  console.log('Ready to receive a color command.');
}</pre> <h4 id="Receiving_and_handling_results">Receiving and handling results</h4> <p>Once the speech recognition is started, there are many event handlers that can be used to retrieve results, and other pieces of surrounding information (see the <a href="../speechrecognition#Event_handlers"><code>SpeechRecognition</code> event handlers list</a>.) The most common one you'll probably use is <a href="../speechrecognition/onresult"><code>SpeechRecognition.onresult</code></a>, which is fired once a successful result is received:</p> <pre data-language="js">recognition.onresult = function(event) {
  var last = event.results.length - 1;
  var color = event.results[last][0].transcript;
  diagnostic.textContent = 'Result received: ' + color + '.';
  bg.style.backgroundColor = color;
  console.log('Confidence: ' + event.results[0][0].confidence);
}</pre> <p>The third line here is a bit complex-looking, so let's explain it step by step. The <a href="../speechrecognitionevent/results"><code>SpeechRecognitionEvent.results</code></a> property returns a <a href="../speechrecognitionresultlist"><code>SpeechRecognitionResultList</code></a> object containing <a href="../speechrecognitionresult"><code>SpeechRecognitionResult</code></a> objects. It has a getter so it can be accessed like an array — so the <code>[last]</code> returns the <code>SpeechRecognitionResult</code> at the last position. Each <code>SpeechRecognitionResult</code> object contains <a href="../speechrecognitionalternative"><code>SpeechRecognitionAlternative</code></a> objects that contain individual recognised words. These also have getters so they can be accessed like arrays — the <code>[0]</code> therefore returns the <code>SpeechRecognitionAlternative</code> at position 0. We then return its transcript property to get a string containing the individual recognised result as a string, set the background color to that color, and report the color recognised as a diagnostic message in the UI.</p> <p>We also use a <a href="../speechrecognition/onspeechend"><code>SpeechRecognition.onspeechend</code></a> handler to stop the speech recognition service from running (using <a href="../speechrecognition/stop"><code>SpeechRecognition.stop()</code></a>) once a single word has been recognised and it has finished being spoken:</p> <pre data-language="js">recognition.onspeechend = function() {
  recognition.stop();
}</pre> <h4 id="Handling_errors_and_unrecognised_speech">Handling errors and unrecognised speech</h4> <p>The last two handlers are there to handle cases where speech was recognised that wasn't in the defined grammar, or an error occured. <a href="../speechrecognition/onnomatch"><code>SpeechRecognition.onnomatch</code></a> seems to be supposed to handle the first case mentioned, although note that at the moment it doesn't seem to fire correctly in Firefox or Chrome; it just returns whatever was recognised anyway:</p> <pre data-language="js">recognition.onnomatch = function(event) {
  diagnostic.textContent = 'I didnt recognise that color.';
}</pre> <p><a href="../speechrecognition/onerror"><code>SpeechRecognition.onerror</code></a> handles cases where there is an actual error with the recognition successfully — the <a href="../speechrecognitionerror/error"><code>SpeechRecognitionError.error</code></a> property contains the actual error returned:</p> <pre data-language="js">recognition.onerror = function(event) {
  diagnostic.textContent = 'Error occurred in recognition: ' + event.error;
}</pre> <h2 id="Speech_synthesis">Speech synthesis</h2> <p>Speech synthesis (aka text-to-speech, or tts) involves receiving synthesising text contained within an app to speech, and playing it out of a device's speaker or audio output connection.</p> <p>The Web Speech API has a main controller interface for this — <a href="../speechsynthesis"><code>SpeechSynthesis</code></a> — plus a number of closely-related interfaces for representing text to be synthesised (known as utterances), voices to be used for the utterance, etc. Again, most OSes have some kind of speech synthesis system, which will be used by the API for this task as available.</p> <h3 id="Demo_2">Demo</h3> <p>To show simple usage of Web speech synthesis, we've provided a demo called <a href="https://github.com/mdn/web-speech-api/tree/gh-pages/speak-easy-synthesis">Speak easy synthesis</a>. This includes a set of form controls for entering text to be synthesised, and setting the pitch, rate, and voice to use when the text is uttered. After you have entered your text, you can press <kbd>Enter</kbd>/<kbd>Return</kbd> to hear it spoken.</p> <p><img src="data:image/png;base64,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" alt="UI of an app called speak easy synthesis. It has an input field in which to input text to be synthesised, slider controls to change the rate and pitch of the speech, and a drop down menu to choose between different voices." style="border: 1px solid black; display: block; height: 533px; margin: 0px auto; width: 300px;"></p> <p>To run the demo, you can clone (or <a href="https://github.com/mdn/web-speech-api/archive/master.zip">directly download</a>) the Github repo it is part of, open the HTML index file in a supporting desktop browser, or navigate to the <a href="http://mdn.github.io/web-speech-api/speak-easy-synthesis/">live demo URL</a> in a supporting mobile browser like Chrome, or Firefox OS.</p> <h3 id="Browser_support_2">Browser support</h3> <p>Support for Web Speech API speech synthesis is still getting there across mainstream browsers, and is currently limited to the following:</p> <ul> <li> <p>Firefox desktop and mobile support it in Gecko 42+ (Windows)/44+, without prefixes, and it can be turned on by flipping the <code>media.webspeech.synth.enabled</code> flag to <code>true</code> in <code>about:config</code>.</p> </li> <li> <p>Firefox OS 2.5+ supports it, by default, and without the need for any permissions.</p> </li> <li> <p>Chrome for Desktop and Android have supported it since around version 33, without prefixes.</p> </li> </ul> <h3 id="HTML_and_CSS_2">HTML and CSS</h3> <p>The HTML and CSS are again pretty trivial, simply containing a title, some instructions for use, and a form with some simple controls. The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> element is initially empty, but is populated with <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a>s via JavaScript (see later on.)</p> <pre data-language="html">&lt;h1&gt;Speech synthesiser&lt;/h1&gt;

&lt;p&gt;Enter some text in the input below and press return to hear it. change voices using the dropdown menu.&lt;/p&gt;
    
&lt;form&gt;
  &lt;input type="text" class="txt"&gt;
  &lt;div&gt;
    &lt;label for="rate"&gt;Rate&lt;/label&gt;&lt;input type="range" min="0.5" max="2" value="1" step="0.1" id="rate"&gt;
    &lt;div class="rate-value"&gt;1&lt;/div&gt;
    &lt;div class="clearfix"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label for="pitch"&gt;Pitch&lt;/label&gt;&lt;input type="range" min="0" max="2" value="1" step="0.1" id="pitch"&gt;
    &lt;div class="pitch-value"&gt;1&lt;/div&gt;
    &lt;div class="clearfix"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;select&gt;

  &lt;/select&gt;
&lt;/form&gt;</pre> <h3 id="JavaScript_2">JavaScript</h3> <p>Let's investigate the JavaScript that powers this app.</p> <h4 id="Setting_variables">Setting variables</h4> <p>First of all, we capture references to all the DOM elements involved in the UI, but more interestingly, we capture a reference to <a href="../window/speechsynthesis"><code>Window.speechSynthesis</code></a>. This is API's entry point — it returns an instance of <a href="../speechsynthesis"><code>SpeechSynthesis</code></a>, the controller interface for web speech synthesis.</p> <pre data-language="js">var synth = window.speechSynthesis;

var inputForm = document.querySelector('form');
var inputTxt = document.querySelector('.txt');
var voiceSelect = document.querySelector('select');

var pitch = document.querySelector('#pitch');
var pitchValue = document.querySelector('.pitch-value');
var rate = document.querySelector('#rate');
var rateValue = document.querySelector('.rate-value');

var voices = [];
</pre> <h4 id="Populating_the_select_element">Populating the select element</h4> <p>To populate the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> element with the different voice options the device has available, we've written a <code>populateVoiceList()</code> function. We first invoke <a href="../speechsynthesis/getvoices"><code>SpeechSynthesis.getVoices()</code></a>, which returns a list of all the available voices, represented by <a href="../speechsynthesisvoice"><code>SpeechSynthesisVoice</code></a> objects. We then loop through this list — for each voice we create an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a> element, set its text content to display the name of the voice (grabbed from <a href="../speechsynthesisvoice/name"><code>SpeechSynthesisVoice.name</code></a>), the language of the voice (grabbed from <a href="../speechsynthesisvoice/lang"><code>SpeechSynthesisVoice.lang</code></a>), and <code>-- DEFAULT</code> if the voice is the default voice for the synthesis engine (checked by seeing if <a href="../speechsynthesisvoice/default"><code>SpeechSynthesisVoice.default</code></a> returns <code>true</code>.)</p> <p>We also create <code>data-</code> attributes for each option, containing the name and language of the associated voice, so we can grab them easily later on, and then append the options as children of the select.</p> <pre data-language="js">function populateVoiceList() {
  voices = synth.getVoices();

  for(i = 0; i &lt; voices.length ; i++) {
    var option = document.createElement('option');
    option.textContent = voices[i].name + ' (' + voices[i].lang + ')';
    
    if(voices[i].default) {
      option.textContent += ' -- DEFAULT';
    }

    option.setAttribute('data-lang', voices[i].lang);
    option.setAttribute('data-name', voices[i].name);
    voiceSelect.appendChild(option);
  }
}</pre> <p>When we come to run the function, we do the following. This is because Firefox doesn't support <a href="../speechsynthesis/onvoiceschanged"><code>SpeechSynthesis.onvoiceschanged</code></a>, and will just return a list of voices when <a href="../speechsynthesis/getvoices"><code>SpeechSynthesis.getVoices()</code></a> is fired. With Chrome however, you have to wait for the event to fire before populating the list, hence the if statement seen below.</p> <pre data-language="js">populateVoiceList();
if (speechSynthesis.onvoiceschanged !== undefined) {
  speechSynthesis.onvoiceschanged = populateVoiceList;
}</pre> <h4 id="Speaking_the_entered_text">Speaking the entered text</h4> <p>Next, we create an event handler to start speaking the text entered into the text field. We are using an <a href="../globaleventhandlers/onsubmit">onsubmit</a> handler on the form so that the action happens when <kbd>Enter</kbd>/<kbd>Return</kbd> is pressed. We first create a new <a href="../speechsynthesisutterance/speechsynthesisutterance"><code>SpeechSynthesisUtterance()</code></a> instance using its constructor — this is passed the text input's value as a parameter.</p> <p>Next, we need to figure out which voice to use. We use the <a href="../htmlselectelement"><code>HTMLSelectElement</code></a> <code>selectedOptions</code> property to return the currently selected <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a> element. We then use this element's <code>data-name</code> attribute, finding the <a href="../speechsynthesisvoice"><code>SpeechSynthesisVoice</code></a> object whose name matches this attribute's value. We set the matching voice object to be the value of the <a href="../speechsynthesisutterance/voice"><code>SpeechSynthesisUtterance.voice</code></a> property.</p> <p>Finally, we set the <a href="../speechsynthesisutterance/pitch"><code>SpeechSynthesisUtterance.pitch</code></a> and <a href="../speechsynthesisutterance/rate"><code>SpeechSynthesisUtterance.rate</code></a> to the values of the relevant range form elements. Then, with all necessary preparations made, we start the utterance being spoken by invoking <a href="../speechsynthesis/speak"><code>SpeechSynthesis.speak()</code></a>, passing it the <a href="../speechsynthesisutterance"><code>SpeechSynthesisUtterance</code></a> instance as a parameter.</p> <pre data-language="js">inputForm.onsubmit = function(event) {
  event.preventDefault();

  var utterThis = new SpeechSynthesisUtterance(inputTxt.value);
  var selectedOption = voiceSelect.selectedOptions[0].getAttribute('data-name');
  for(i = 0; i &lt; voices.length ; i++) {
    if(voices[i].name === selectedOption) {
      utterThis.voice = voices[i];
    }
  }
  utterThis.pitch = pitch.value;
  utterThis.rate = rate.value;
  synth.speak(utterThis);</pre> <p>In the final part of the handler, we include an <a href="../speechsynthesisutterance/onpause"><code>SpeechSynthesisUtterance.onpause</code></a> handler to demonstrate how <a href="../speechsynthesisevent"><code>SpeechSynthesisEvent</code></a> can be put to good use. When <a href="../speechsynthesis/pause"><code>SpeechSynthesis.pause()</code></a> is invoked, this returns a message reporting the character number and name that the speech was paused at.</p> <pre data-language="js">   utterThis.onpause = function(event) {
    var char = event.utterance.text.charAt(event.charIndex);
    console.log('Speech paused at character ' + event.charIndex + ' of "' +
    event.utterance.text + '", which is "' + char + '".');
  }</pre> <p>Finally, we call <a href="../htmlelement/blur">blur()</a> on the text input. This is mainly to hide the keyboard on Firefox OS.</p> <pre data-language="js">  inputTxt.blur();
}</pre> <h4 id="Updating_the_displayed_pitch_and_rate_values">Updating the displayed pitch and rate values</h4> <p>The last part of the code simply updates the <code>pitch</code>/<code>rate</code> values displayed in the UI, each time the slider positions are moved.</p> <pre data-language="js">pitch.onchange = function() {
  pitchValue.textContent = pitch.value;
}

rate.onchange = function() {
  rateValue.textContent = rate.value;
}</pre>    <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API%24edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
