
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>URL Pattern API - Web APIs - W3cubDocs</title>
  
  <meta name="description" content=" Experimental&#58; This is an experimental technologyCheck the Browser compatibility table carefully before using this in production. ">
  <meta name="keywords" content="url, pattern, api, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/url_pattern_api.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>URL Pattern API</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p> The URL Pattern API defines a syntax that is used to create URL pattern matchers. These patterns can be matched against URLs or individual URL components. The URL Pattern API is used by the <a href="urlpattern"><code>URLPattern</code></a> interface. </p>
</div>
<h2 id="concepts_and_usage">Concepts and usage</h2>
<div class="section-content">
<p> The pattern syntax is based on the syntax from the <a href="https://github.com/pillarjs/path-to-regexp" target="_blank">path-to-regexp</a> library. Patterns can contain: </p> <ul> <li>Literal strings which will be matched exactly.</li> <li>Wildcards (<code>/posts/*</code>) that match any character.</li> <li>Named groups (<code>/books/:id</code>) which extract a part of the matched URL.</li> <li> Non-capturing groups (<code>/books{/old}?</code>) which make parts of a pattern optional or be matched multiple times. </li> <li> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a> groups (<code>/books/(\\d+)</code>) which make arbitrarily complex regex matches with a few <a href="#regex_matchers_limitations">limitations</a>. </li> </ul> <p> You can find details about the syntax in the <a href="#pattern_syntax">pattern syntax</a> section below. </p>
</div>
<h2 id="url_pattern_api_interfaces">URL Pattern API interfaces</h2>
<div class="section-content">
<p>The URL Pattern API only has a single related interface:</p> <ul> <li>
<a href="urlpattern"><code>URLPattern</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</li> </ul>
</div>
<h2 id="pattern_syntax">Pattern syntax</h2>
<div class="section-content"><p> The syntax for patterns is based on the <a href="https://github.com/pillarjs/path-to-regexp" target="_blank">path-to-regexp</a> JavaScript library. This syntax is similar to the one used in <a href="https://rubyonrails.org" target="_blank">Ruby on Rails</a>, or JavaScript frameworks like <a href="https://expressjs.com/" target="_blank">Express</a> or <a href="https://nextjs.org/" target="_blank">Next.js</a>. </p></div>
<h3 id="fixed_text_and_capture_groups">Fixed text and capture groups</h3>
<div class="section-content">
<p> Each pattern can contain a combination of fixed text and groups. The fixed text is a sequence of characters that is matched exactly. Groups match an arbitrary string based on matching rules. Each URL part has its own default rules that are explained below, but they can be overwritten. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="hEIFMrFOhkEtJ3QTT8s4sRINuRkgRzIwewTAs0RoW6s=" data-language="js"><span class="token comment">// A pattern matching some fixed text</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/books"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="aR+JrLnjSA7i6/+iXpgO6X9OfNv+BECNPkK4FeYQwVM=" data-language="js"><span class="token comment">// A pattern matching with a named group</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/books/:id"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { id: '123' }</span>
</pre>
</div>
</div>
<h3 id="segment_wildcard">Segment wildcard</h3>
<div class="section-content"><p> By default, a group matching the <code>pathname</code> part of the URL will match all characters but the forward slash (<code>/</code>). In the <code>hostname</code> part, the group will match all characters except the dot (<code>.</code>). In all other parts, the group will match all characters. The segment wildcard is non-greedy, meaning that it will match the shortest possible string. </p></div>
<h3 id="regex_matchers">Regex matchers</h3>
<div class="section-content">
<p> Instead of using the default match rules for a group, you can use a regex for each group. This regex defines the matching rules for the group. Below is an example of a regex matcher on a named group that constrains the group to only match if it contains one or more digits: </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="agzMDqZ/HV8Xzn0NNcTYOOWO8FX5VEc9+ykVUpIoWnM=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id(\\d+)"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/abc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div>
</div>
<h3 id="regex_matchers_limitations">Regex matchers limitations</h3>
<div class="section-content">
<p>Some regex patterns do not work as you may expect:</p> <ul> <li>Starts with <code>^</code> will only match if used at the start of the protocol portion of the URLPattern and is redundant if used. <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="+JSIt2u3lt94HEr8ZThlWFbk5cKbjseGauz46Zb1AeE=" data-language="js"><span class="token comment">// with `^` in pathname</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"(^b)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ba"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/xa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="esxotaYPo09ZB2LMhSNs5jUsCCuuDSNmdcnqpQrlk1g=" data-language="js"><span class="token comment">// with `^` in protocol</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">"(^https?)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"xhttps://example.com/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Q48BYOd6QdpkNtk3nfiUr4bL8TXbTZs1hE0kdXmQEmA=" data-language="js"><span class="token comment">// without `^` in protocol</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">"(https?)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"xhttps://example.com/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> </li> <li>Ends with <code>$</code> will only match if used at the end of the hash portion of the URLPattern and is redundant if used. <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="GHRBFDkwY4cA7mm7NEBhHGF5aDHI4TltR4b9kh7IEF8=" data-language="js"><span class="token comment">// with `$` in pathname</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"(path$)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/path"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/other"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="nxRYMwiu7vPT5isdJIZEkaNhzxbQOHBpSmfGVkKUlFc=" data-language="js"><span class="token comment">// with `$` in hash</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token string">"(hash$)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/#hash"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"xhttps://example.com/#otherhash"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="J7ATe8dWd+NVEem66nu4HNKnUGrkg9lcbzzovkxft0U=" data-language="js"><span class="token comment">// without `$` in hash</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token string">"(hash)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/#hash"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"xhttps://example.com/#otherhash"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> </li> <li>Lookaheads, and lookbehinds will never match any portion of the URLPattern. <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="QVSxoi8wWXKr2l1QWRY38aRmCufSVhV3VABN6XVpJoA=" data-language="js"><span class="token comment">// lookahead</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"(a(?=b))"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ab"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ax"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="gt2dvt8bKa5sgE2GghJVtshbluPjpTyiXQnTKOeg2QQ=" data-language="js"><span class="token comment">// negative-lookahead</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"(a(?!b))"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ab"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ax"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="EN/X4ia8/7X/ywhEb8ehKeyvOQP+w2QhGgCP3mZWHcs=" data-language="js"><span class="token comment">// lookbehind</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"((?&lt;=b)a)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ba"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/xa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="lgFOhdElxZvxwPMwo/KSljwqNXswhECMSmyw4f5aQ2Y=" data-language="js"><span class="token comment">// negative-lookbehind</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"((?&lt;!b)a)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/ba"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/xa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> </li> <li>Parentheses need to be escaped in range expressions within URLPattern even though they don't in RegExp. <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Wt/37GrzLkdUntyFJhpkpQ8ORGjOL7yDBL6uxN4XJ/c=" data-language="js"><span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"([()])"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// throws</span>
<span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"([\\(\\)])"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>

<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"[()]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"[\\(\\)]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
</pre>
</div> </li> </ul>
</div>
<h3 id="unnamed_and_named_groups">Unnamed and named groups</h3>
<div class="section-content">
<p> Groups can either be named or unnamed. Named groups are specified by prefixing the group name with a colon (<code>:</code>). Regexp groups that are not prefixed by a colon and a name are unnamed. Unnamed groups are numerically indexed in the match result based on their order in the pattern. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="tSem/o1fl7aqSnwxooip8+s1W3iVa3mdccLqVUG/IRE=" data-language="js"><span class="token comment">// A named group</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id(\\d+)"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { id: '123' }</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="UgRoOZDGzfCe7dNBAPLxZ8J9c7UCL5irmJrpQX9lSGw=" data-language="js"><span class="token comment">// An unnamed group</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/(\\d+)"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { '0': '123' }</span>
</pre>
</div>
</div>
<h3 id="group_modifiers">Group modifiers</h3>
<div class="section-content">
<p> Groups can also have modifiers. These are specified after the group name (or after the regexp if there is one). There are three modifiers: <code>?</code> to make the group optional, <code>+</code> to make the group repeat one or more times, and <code>*</code> to make the group repeat zero or more times. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="s4EFZK42zNqoLNtoo7Rocs+hjVrUM5F1ocXw8nOQpzY=" data-language="js"><span class="token comment">// An optional group</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id?"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456/789"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="wXZp9RadgRJ/Il14wyrmndwuoVouphZnQUcvS7A3sbM=" data-language="js"><span class="token comment">// A repeating group with a minimum of one</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id+"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456/789"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="BnCpXyuSeDn+T6laC4/Xv3XoeqS460JHfQzdFBKuRM8=" data-language="js"><span class="token comment">// A repeating group with a minimum of zero</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id*"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456/789"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h3 id="group_delimiters">Group delimiters</h3>
<div class="section-content">
<p> Patterns can also contain group delimiters. These are pieces of a pattern that are surrounded by curly braces (<code>{}</code>). These group delimiters are not captured in the match result like capturing groups, but can still have modifiers applied to them, just like groups. If group delimiters are not modified by a modifier, they are treated as if the items in them were just part of the parent pattern. Group delimiters may not contain other group delimiters, but may contain any other pattern items (capturing groups, regex, wildcard, or fixed text). </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="QPWcqlprbioNK+/Oj6M6CQs3Bf8fRdURJiu0gaqVrr8=" data-language="js"><span class="token comment">// A group delimiter with a ? (optional) modifier</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/book{s}?"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/book"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="hvppZV8SQMXQsN0wdKy9lqAZsN5HQUD2mQS/t8Q++xE=" data-language="js"><span class="token comment">// A group delimiter without a modifier</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/book{s}"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /books</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/book"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="nlZkh+B7xuwPvIqarHoxZHj6SzOL0i9y6R7+X1VOwjM=" data-language="js"><span class="token comment">// A group delimiter containing a capturing group</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/blog/:id(\\d+){-:title}?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/blog/123-my-blog"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/blog/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/blog/my-blog"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div>
</div>
<h3 id="automatic_group_prefixing_in_pathnames">Automatic group prefixing in pathnames</h3>
<div class="section-content">
<p> In patterns that match against the <code>pathname</code> part of a URL, groups get an automatic slash (<code>/</code>) prefix added if the group definition is preceded by a slash (<code>/</code>). This is useful for groups with modifiers, as it allows for repeating groups to work as expected. </p> <p> If you do not want automatic prefixing, you can disable it by surrounding the group with group delimiters (<code>{}</code>). Group delimiters do not have automatic prefixing behavior. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="d8Iy29cESQe7lXKLp2V3fUf4XL1lkGewVqsVyPIOKtE=" data-language="js"><span class="token comment">// A pattern with an optional group, preceded by a slash</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id?"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="W5F7Ywzyd5OcUhIHoXXqC3JPHFT8Q+m+ElG7Nsf2J0I=" data-language="js"><span class="token comment">// A pattern with a repeating group, preceded by a slash</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/:id+"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="TFrv/BTFrywbrINJSHo2wIHBaiGII4SJNR+Ma2zFIhA=" data-language="js"><span class="token comment">// Segment prefixing does not occur outside of pathname patterns</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token string">"/books/:id?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com#/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com#/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com#/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="QCBVmETxUduJyMYnlfO18yiAzIR9guXT5RqTbjyOiFA=" data-language="js"><span class="token comment">// Disabling segment prefixing for a group using a group delimiter</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/books/{:id}?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h3 id="wildcard_tokens">Wildcard tokens</h3>
<div class="section-content">
<p> The wildcard token (<code>*</code>) is a shorthand for an unnamed capturing group that matches all characters zero or more times. You can place this anywhere in the pattern. The wildcard is greedy, meaning that it will match the longest possible string. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="x3Kxv2c+WKOcjx3ple/iZPCY1uvSvXQsOAvMDQ3EORY=" data-language="js"><span class="token comment">// A wildcard at the end of a pattern</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/books/*"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/books/123/456"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="7YhvxmmbBoa6hO4EkKUKQV4JQyMPHrfONGV6ezMwaBY=" data-language="js"><span class="token comment">// A wildcard in the middle of a pattern</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/*.png"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/image.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/image.png/123"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/folder/image.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h3 id="pattern_normalization">Pattern normalization</h3>
<div class="section-content"><p> When a pattern is parsed it is automatically normalized to a canonical form. For example, unicode characters are percent encoded in the pathname property, punycode encoding is used in the hostname, default port numbers are elided, paths like <code>/foo/./bar/</code> are collapsed to just <code>/foo/bar</code>, etc. In addition, there are some pattern representations that parse to the same underlying meaning, like <code>foo</code> and <code>{foo}</code>. Such cases are normalized to the simplest form. In this case <code>{foo}</code> gets changed to <code>foo</code>. </p></div>
<h2 id="case_sensitivity">Case sensitivity</h2>
<div class="section-content">
<p>The URL Pattern API treats many parts of the URL as case-sensitive by default when matching. In contrast, many client-side JavaScript frameworks use case-insensitive URL matching. An <code>ignoreCase</code> option is available on the <a href="urlpattern/urlpattern"><code>URLPattern()</code></a> constructor to enable case-insensitive matching if desired.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="xfFVYGd97K3may+7CQcDy/bMJIWdvA4gU1qCNfzNnmc=" data-language="js"><span class="token comment">// Case-sensitive matching by default</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"https://example.com/2022/feb/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/2022/feb/xc44rsz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/2022/Feb/xc44rsz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div> <p>Setting the <code>ignoreCase</code> option to <code>true</code> in the constructor switches all matching operations to case-insensitive for the given pattern:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="TAV9E9NE3Kc2RjPcFIpQ5IuLT74NiQYkT0YIkJFTaJw=" data-language="js"><span class="token comment">// Case-insensitive matching</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"https://example.com/2022/feb/*"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">ignoreCase</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/2022/feb/xc44rsz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/2022/Feb/xc44rsz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h2 id="examples">Examples</h2>

<h3 id="filter_on_a_specific_url_component">Filter on a specific URL component</h3>
<div class="section-content">
<p> The following example shows how a <code>URLPattern</code> filters a specific URL component. When the <code>URLPattern()</code> constructor is called with a structured object of component patterns any missing components default to the <code>*</code> wildcard value. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="195zTgzoOYdK7cGqBW8KEKGLc+D7L9/wfJVO88yx3i0=" data-language="js"><span class="token comment">// Construct a URLPattern that matches a specific domain and its subdomains.</span>
<span class="token comment">// All other URL components default to the wildcard `*` pattern.</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"{*.}?example.com"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '{*.}?example.com'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '*'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '*'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '*'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '*'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '*'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '*'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://example.com/foo/bar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"cdn.example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"custom-protocol://example.com/other/path?q=1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// Prints `false` because the hostname component does not match</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://cdn-example.com/foo/bar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="construct_a_urlpattern_from_a_full_url_string">Construct a URLPattern from a full URL string</h3>
<div class="section-content">
<p> The following example shows how to construct a <code>URLPattern</code> from a full URL string with embedded patterns. For example, a <code>:</code> can be both the URL protocol suffix, like <code>https:</code>, and the beginning of a named pattern group, like <code>:foo</code>. It "just works" if there is no ambiguity between whether a character is part of the URL syntax or part of the pattern syntax. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Mke2AIsDDfi3oyti/hmMqg2nQtUKy23ZTTXcQQgHcjU=" data-language="js"><span class="token comment">// Construct a URLPattern that matches URLs to CDN servers loading jpg images.</span>
<span class="token comment">// URL components not explicitly specified, like search and hash here, result</span>
<span class="token comment">// in the empty string similar to the URL() constructor.</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"https://cdn-*.example.com/*.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'https'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cdn-*.example.com'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/*.jpg'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>

<span class="token comment">// Prints `true`</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://cdn-1234.example.com/product/assets/hero.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Prints `false` because the search component does not match</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"https://cdn-1234.example.com/product/assets/hero.jpg?q=1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="constructing_a_urlpattern_with_an_ambiguous_url_string">Constructing a URLPattern with an ambiguous URL string</h3>
<div class="section-content">
<p> The following example shows how a <code>URLPattern</code> constructed from an ambiguous string will favor treating characters as part of the pattern syntax. In this case the <code>:</code> character could be the protocol component suffix or it could be the prefix for a named group in the pattern. The constructor chooses to treat this as part of the pattern and therefore determines this is a relative pathname pattern. Since there is no base URL the relative pathname cannot be resolved and it throws an error. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="E6UtLnQ4ZUE35U1g5l7Ph94b1JR0o3ZNbxZoUT58I2g=" data-language="js"><span class="token comment">// Throws because this is interpreted as a single relative pathname pattern</span>
<span class="token comment">// with a ":foo" named group and there is no base URL.</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"data:foo*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="escaping_characters_to_disambiguate_urlpattern_constructor_strings">Escaping characters to disambiguate URLPattern constructor strings</h3>
<div class="section-content">
<p> The following example shows how an ambiguous constructor string character can be escaped to be treated as a URL separator instead of a pattern character. Here <code>:</code> is escaped as <code>\\:</code>. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="ZRDtvtsIAzf+bCQcgn/OH9ZjL0ELfLKYEAZF341064Y=" data-language="js"><span class="token comment">// Constructs a URLPattern treating the `:` as the protocol suffix.</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"data\\:foo*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'data'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo*'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"data:foobar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h3 id="using_base_urls_for_test_and_exec">Using base URLs for test() and exec()</h3>
<div class="section-content">
<p>The following example shows how <code>test()</code> and <code>exec()</code> can use base URLs.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="baUjn4eVNtiKiymDnjMdag5EMcap3IHP/doeFsup3jE=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"example.com"</span><span class="token punctuation">,</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo/*"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Prints `true` as the hostname based in the dictionary `baseURL` property</span>
<span class="token comment">// matches.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo/bar"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">"https://example.com/baz"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Prints `true` as the hostname in the second argument base URL matches.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"/foo/bar"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com/baz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Throws because the second argument cannot be passed with a dictionary input.</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo/bar"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"https://example.com/baz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// The `exec()` method takes the same arguments as `test()`.</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">"/foo/bar"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com/baz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/foo/bar'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'bar'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'example.com'</span>
</pre>
</div>
</div>
<h3 id="using_base_urls_in_the_urlpattern_constructor">Using base URLs in the URLPattern constructor</h3>
<div class="section-content">
<p> The follow example shows how base URLs can also be used to construct the <code>URLPattern</code>. Note that the base URL in these cases is treated strictly as a URL and cannot contain any pattern syntax itself. </p> <p> Also, since the base URL provides a value for every component the resulting <code>URLPattern</code> will also have a value for every component, even if it's the empty string. This means you do not get the "default to wildcard" behavior. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="4inL/QQ1LSo2LRbLXRQu5z+pqzGkvMO0LyILDdyxICY=" data-language="js"><span class="token keyword">const</span> pattern1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo/*"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">"https://example.com"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'https'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>hostname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'example.com'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/foo/*'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>

<span class="token comment">// Equivalent to pattern1</span>
<span class="token keyword">const</span> pattern2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/foo/*"</span><span class="token punctuation">,</span> <span class="token string">"https://example.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Throws because a relative constructor string must have a base URL to resolve</span>
<span class="token comment">// against.</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pattern3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token string">"/foo/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</pre>
</div>
</div>
<h3 id="accessing_matched_group_values">Accessing matched group values</h3>
<div class="section-content">
<p> The following example shows how input values that match pattern groups can later be accessed from the <code>exec()</code> result object. Unnamed groups are assigned index numbers sequentially. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="ewEmBM4CLCOKnGX4I7XyrLnRotfODAGvupqc9rKQH8k=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"*.example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"cdn.example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cdn'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'cdn.example.com'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>inputs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [{ hostname: 'cdn.example.com' }]</span>
</pre>
</div>
</div>
<h3 id="accessing_matched_group_values_using_custom_names">Accessing matched group values using custom names</h3>
<div class="section-content">
<p> The following example shows how groups can be given custom names which can be used to accessed the matched value in the result object. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="7VWSRIPWUl6AoPuWKiRxk6qZ0I6zCX4z8wvKcTj/364=" data-language="js"><span class="token comment">// Construct a URLPattern using matching groups with custom names. These</span>
<span class="token comment">// names can then be later used to access the matched values in the result</span>
<span class="token comment">// object.</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/:product/:user/:action"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/store/wanderview/view"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'store'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'wanderview'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'view'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '/store/wanderview/view'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>inputs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [{ pathname: '/store/wanderview/view' }]</span>
</pre>
</div>
</div>
<h3 id="custom_regular_expression_groups">Custom regular expression groups</h3>
<div class="section-content">
<p> The following example shows how a matching group can use a custom regular expression. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="w86jfqL+SULnJajqSp2QL2J65ek+h/61vmlDtRrh3XU=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/(foo|bar)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/bar"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/baz"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo'</span>
</pre>
</div>
</div>
<h3 id="named_group_with_a_custom_regular_expression">Named group with a custom regular expression</h3>
<div class="section-content">
<p> The following example shows how to use a custom regular expression with a named group. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="3gKLsVoljtZ3sXVnLrvwYIgvbv9bLCtb9YX7quhHbLI=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/:type(foo|bar)"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/foo"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo'</span>
</pre>
</div>
</div>
<h3 id="making_matching_groups_optional">Making matching groups optional</h3>
<div class="section-content">
<p> The following example shows how to make a matching group optional by placing a <code>?</code> modifier after it. For the pathname component this also causes any preceding <code>/</code> character to be treated as an optional prefix to the group. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="TAqhEcoptMzZQPkxpSSd09aA9t3CZWIge99bygQarb0=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/(index.html)?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/index.html"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> pattern2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/:action?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/view"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// Wildcards can be made optional as well. This may not seem to make sense</span>
<span class="token comment">// since they already match the empty string, but it also makes the prefix</span>
<span class="token comment">// `/` optional in a pathname pattern.</span>
<span class="token keyword">const</span> pattern3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/*?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/wanderview/view"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h3 id="making_matching_groups_repeated">Making matching groups repeated</h3>
<div class="section-content">
<p> The following example shows how a matching group can be made repeated by placing <code>+</code> modifier after it. In the <code>pathname</code> component this also treats the <code>/</code> prefix as special. It is repeated with the group. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="aCUZ1HwW0ZAC1gOUB0iFdk8ij1g6SPw4eK8sdVwB8kM=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/:action+"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/do/some/thing/cool"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>action<span class="token punctuation">;</span> <span class="token comment">// 'do/some/thing/cool'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre>
</div>
</div>
<h3 id="making_matching_groups_optional_and_repeated">Making matching groups optional and repeated</h3>
<div class="section-content">
<p> The following example shows how to make a matching group that is both optional and repeated. Do this by placing a <code>*</code> modifier after the group. Again, the pathname component treats the <code>/</code> prefix as special. It both becomes optional and is also repeated with the group. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="fWlipliuFN1S4QOa0RyUiSEBdj0yP/+8OI7yZb+tZTQ=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/:action*"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/do/some/thing/cool"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'do/some/thing/cool'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div>
<h3 id="using_a_custom_prefix_or_suffix_for_an_optional_or_repeated_modifier">Using a custom prefix or suffix for an optional or repeated modifier</h3>
<div class="section-content">
<p> The following example shows how curly braces can be used to denote a custom prefix and/or suffix to be operated on by a subsequent <code>?</code>, <code>*</code>, or <code>+</code> modifier. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="TYrUexYFCSjX7wdH7k63KPzLO6HLiRBulmgS+ZL+oDI=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"{:subdomain.}*example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"foo.bar.example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">".example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"foo.bar.example.com"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>subdomain<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo.bar'</span>
</pre>
</div>
</div>
<h3 id="making_text_optional_or_repeated_without_a_matching_group">Making text optional or repeated without a matching group</h3>
<div class="section-content">
<p> The following example shows how curly braces can be used to denote fixed text values as optional or repeated without using a matching group. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Q/hUdwTCNv9uwjjuGNU/nJ2+Ouzb6Ghgtem6aVPmfJU=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product{/}?"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
</pre>
</div>
</div>
<h3 id="using_multiple_components_and_features_at_once">Using multiple components and features at once</h3>
<div class="section-content">
<p> The following example shows how many features can be combined across multiple URL components. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="waZ1vXylcb4C63GJoh8L4S4E5vZFNhsKNPPBFjggDsU=" data-language="js"><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLPattern</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">"http{s}?"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">":user?"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">":pass?"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">"{:subdomain.}*example.com"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">"/product/:action*"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>
  <span class="token string">"http://foo:bar@sub.example.com/product/view?q=12345"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>username<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'foo'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>password<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>pass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'bar'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>subdomain<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'sub'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'view'</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/urlpattern/#urlpattern">URLPattern API <br><small># urlpattern</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>URLPattern</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>URL_Pattern_API</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>exec</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>hash</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>hostname</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>password</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>pathname</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>port</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>protocol</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>search</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>test</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
<tr>
<th><code>username</code></th>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
</tr>
</tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li> A polyfill of <code>URLPattern</code> is available <a href="https://github.com/kenchris/urlpattern-polyfill" target="_blank">on GitHub</a> </li> <li> The pattern syntax used by URLPattern is similar to the syntax used by <a href="https://github.com/pillarjs/path-to-regexp" target="_blank">path-to-regexp</a> </li> </ul></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
