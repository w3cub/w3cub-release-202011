
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>XMLHttpRequest.getAllResponseHeaders - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The XMLHttpRequest method getAllResponseHeaders() returns all the response headers, separated by CRLF, as a string, or returns null if no response &hellip;">
  <meta name="keywords" content="xmlhttprequest, getallresponseheaders, method, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/xmlhttprequest/getallresponseheaders.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>XMLHttpRequest: getAllResponseHeaders() method</h1></header><div class="section-content">
<p> The <a href="../xmlhttprequest"><code>XMLHttpRequest</code></a> method <code>getAllResponseHeaders()</code> returns all the response headers, separated by <a href="https://developer.mozilla.org/en-US/docs/Glossary/CRLF">CRLF</a>, as a string, or returns <code>null</code> if no response has been received. </p> <p> If a network error happened, an empty string is returned. </p> <div class="notecard note" id="sect1"> <p> <strong>Note:</strong> For multipart requests, this returns the headers from the <em>current</em> part of the request, not from the original channel. </p> </div>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="wJbnvbyZOKuMGpJ9TKn5aF/Ai4c3iEyrEvUrDyQsUEU=" data-language="js"><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><p>None.</p></div>
<h3 id="return_value">Return value</h3>
<div class="section-content">
<p> A string representing all of the response's headers (except those whose field name is <code>Set-Cookie</code>) separated by <a href="https://developer.mozilla.org/en-US/docs/Glossary/CRLF">CRLF</a>, or <code>null</code> if no response has been received. If a network error happened, an empty string is returned. </p> <p>An example of what a raw header string looks like:</p> <div class="code-example">
<p class="example-header"><span class="language-name">http</span></p>
<pre data-signature="80stF2MTt1xBd/0jiK17aJGbL70whYBUBzBspx5YCTo=" data-language="http"><span class="token header"><span class="token header-name keyword">date</span><span class="token punctuation">:</span> <span class="token header-value">Fri, 08 Dec 2017 21:04:30 GMT\r\n</span></span>
<span class="token header"><span class="token header-name keyword">content-encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip\r\n</span></span>
<span class="token header"><span class="token header-name keyword">x-content-type-options</span><span class="token punctuation">:</span> <span class="token header-value">nosniff\r\n</span></span>
<span class="token header"><span class="token header-name keyword">server</span><span class="token punctuation">:</span> <span class="token header-value">meinheld/0.6.1\r\n</span></span>
<span class="token header"><span class="token header-name keyword">x-frame-options</span><span class="token punctuation">:</span> <span class="token header-value">DENY\r\n</span></span>
<span class="token header"><span class="token header-name keyword">content-type</span><span class="token punctuation">:</span> <span class="token header-value">text/html; charset=utf-8\r\n</span></span>
<span class="token header"><span class="token header-name keyword">connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive\r\n</span></span>
<span class="token header"><span class="token header-name keyword">strict-transport-security</span><span class="token punctuation">:</span> <span class="token header-value hsts languages-hsts">max-age=63072000\r\n</span></span>
<span class="token header"><span class="token header-name keyword">vary</span><span class="token punctuation">:</span> <span class="token header-value">Cookie, Accept-Encoding\r\n</span></span>
<span class="token header"><span class="token header-name keyword">content-length</span><span class="token punctuation">:</span> <span class="token header-value">6502\r\n</span></span>
<span class="token header"><span class="token header-name keyword">x-xss-protection</span><span class="token punctuation">:</span> <span class="token header-value">1; mode=block\r\n</span></span>
</pre>
</div> <p> Each line is terminated by both carriage return and line feed characters (<code>\r\n</code>). These are essentially delimiters separating each of the headers. </p> <div class="notecard note" id="sect2"> <p> <strong>Note:</strong> In modern browsers, the header names are returned in all lower case, as per the latest spec. </p> </div>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> This example examines the headers in the request's <a href="readystatechange_event"><code>readystatechange</code></a> event. The code shows how to obtain the raw header string, as well as how to convert it into an array of individual headers and then how to take that array and create a mapping of header names to their values. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="qrnC34Gjmbdr4YD3VTmSge9gRDPQr493vRGxP9HVe3U=" data-language="js"><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"foo.txt"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">HEADERS_RECEIVED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Get the raw header string</span>
    <span class="token keyword">const</span> headers <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Convert the header string into an array</span>
    <span class="token comment">// of individual headers</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> headers<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token char-class"><span class="token char-class-punctuation punctuation">[</span><span class="token escape">\r</span><span class="token escape">\n</span><span class="token char-class-punctuation punctuation">]</span></span><span class="token quantifier number">+</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Create a map of header names to values</span>
    <span class="token keyword">const</span> headerMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> parts <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">": "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> header <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">": "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      headerMap<span class="token punctuation">[</span>header<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre>
</div> <p>Once this is done, you can, for example:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="5EfRjGE0RyUlMWa1FQtxag0KEFbPbrqtQt7j+BFgdBY=" data-language="js"><span class="token keyword">const</span> contentType <span class="token operator">=</span> headerMap<span class="token punctuation">[</span><span class="token string">"content-type"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre>
</div> <p> This obtains the value of the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"><code>Content-Type</code></a> header into the variable <code>contentType</code>. </p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://xhr.spec.whatwg.org/#the-getallresponseheaders()-method">XMLHttpRequest Standard <br><small># the-getallresponseheaders()-method</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>getAllResponseHeaders</code></th>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes"><details><summary>1</summary>Starting from Firefox 49, empty headers are returned as empty strings in case the preference <code>network.http.keep_empty_response_headers_as_empty_string</code> is set to <code>true</code>, defaulting to <code>false</code>. Before Firefox 49 empty headers had been ignored. Since Firefox 50 the preference defaults to <code>true</code>.</details></td>
<td class="bc-supports-yes">5</td>
<td class="bc-supports-yes">≤12.1</td>
<td class="bc-supports-yes">1.2</td>
<td class="bc-supports-yes">4.4</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes"><details><summary>4</summary>Starting from Firefox 49, empty headers are returned as empty strings in case the preference <code>network.http.keep_empty_response_headers_as_empty_string</code> is set to <code>true</code>, defaulting to <code>false</code>. Before Firefox 49 empty headers had been ignored. Since Firefox 50 the preference defaults to <code>true</code>.</details></td>
<td class="bc-supports-yes">≤12.1</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1.0</td>
</tr>
<tr>
<th><code>lowercase</code></th>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">47</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">8.0</td>
</tr>
</tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="using_xmlhttprequest">Using XMLHttpRequest</a></li> <li>Setting request headers: <a href="setrequestheader"><code>setRequestHeader()</code></a>
</li> </ul></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
