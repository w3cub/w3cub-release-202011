
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>HTMLImageElement.decoding - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The decoding property of the HTMLImageElement interface provides a hint to the browser as to how it should decode the image. More specifically, &hellip;">
  <meta name="keywords" content="htmlimageelement, decoding, property, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/htmlimageelement/decoding.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>HTMLImageElement: decoding property</h1></header><div class="section-content"><p>The <code>decoding</code> property of the <a href="../htmlimageelement"><code>HTMLImageElement</code></a> interface provides a hint to the browser as to how it should decode the image. More specifically, whether it should wait for the image to be decoded before presenting other content updates or not.</p></div>
<h2 id="value">Value</h2>
<div class="section-content">
<p>A string representing the decoding hint. Possible values are:</p> <dl> <dt id="sync"><a href="#sync"><code>"sync"</code></a></dt> <dd> <p>Decode the image synchronously for atomic presentation with other content.</p> </dd> <dt id="async"><a href="#async"><code>"async"</code></a></dt> <dd> <p>Decode the image asynchronously and allow other content to be rendered before this completes.</p> </dd> <dt id="auto"><a href="#auto"><code>"auto"</code></a></dt> <dd> <p>No preference for the decoding mode; the browser decides what is best for the user. This is the default value, but different browsers have different defaults:</p> <ul> <li>Chromium defaults to <code>"sync"</code>.</li> <li>Firefox defaults to <code>"async"</code>.</li> <li>Safari defaults to <code>"sync"</code> except in a small number of circumstances.</li> </ul> </dd> </dl>
</div>
<h2 id="usage_notes">Usage notes</h2>
<div class="section-content">
<p>The <code>decoding</code> property provides a hint to the browser as to whether it should perform image decoding along with other tasks in a single step (<code>"sync"</code>), or allow other content to be rendered before this completes (<code>"async"</code>). In reality, the differences between the two values are often difficult to perceive and, where there are differences, there is often a better way.</p> <p>For images that are inserted into the DOM inside the viewport, <code>"async"</code> can result in flashes of unstyled content, while <code>"sync"</code> can result in small amounts of <a href="https://developer.mozilla.org/en-US/docs/Glossary/Jank">jank</a>. Using the <a href="decode"><code>HTMLImageElement.decode()</code></a> method is usually a better way to achieve atomic presentation without holding up other content.</p> <p>For images inserted into the DOM outside of the viewport, modern browsers will usually decode them before they are scrolled into view and there will be no noticeable difference using either value.</p>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>In the below example, you'll likely get an empty image shown on the page as the image is downloaded. Setting <code>decoding</code> won't prevent that.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="tzlN3MsixahGH+RePtlo7X4wqbyc1caRaH0FlxOL4/0=" data-language="js"><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>decoding <span class="token operator">=</span> <span class="token string">"sync"</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"img/logo.png"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>Inserting an image after download can make the <code>decoding</code> property more relevant:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="DNQhCT18TmY/2V+LlyR27wVOS1tY2ivcpuPr7DS7E7A=" data-language="js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> elem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    elem<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    elem<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
    elem<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token string">"img/logo.png"</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Using `sync` can ensure other content is only updated with the image</span>
img<span class="token punctuation">.</span>decoding <span class="token operator">=</span> <span class="token string">"sync"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">"Image is fully loaded!"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>A better solution, however, is to use the <a href="decode"><code>HTMLImageElement.decode()</code></a> method to solve this problem. It provides a way to asynchronously decode an image, delaying inserting it into the DOM until it is fully downloaded and decoded, thereby avoiding the empty image problem mentioned above. This is particularly useful if you're dynamically swapping an existing image for a new one, and also prevents unrelated paints outside of this code from being held up while the image is decoding.</p> <p>Using <code>img.decoding = "async"</code> may avoid holding up other content from displaying if the decoding time is long:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="vSFsGEpMeXukxUCaFTBzUA1erE4vqoa9yJ6RKp0Bme8=" data-language="js"><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>decoding <span class="token operator">=</span> <span class="token string">"async"</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"img/logo.png"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-decoding">HTML Standard <br><small># dom-img-decoding</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>decoding</code></th>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">63</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">52</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">63</td>
<td class="bc-supports-yes">47</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">9.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>The <a href="decode"><code>HTMLImageElement.decode()</code></a> method</li> <li>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a> element <code>decoding</code> attribute</li> <li>
<a href="https://www.tunetheweb.com/blog/what-does-the-image-decoding-attribute-actually-do/" target="_blank">What does the image decoding attribute actually do?</a> on tunetheweb.com (2023)</li> </ul></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/decoding" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/decoding</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
