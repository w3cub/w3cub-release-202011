
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Popover API&#58; Using - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The Popover API provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. &hellip;">
  <meta name="keywords" content="using, popover, api, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/popover_api/using.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>Using the Popover API</h1></header><div class="section-content"><p>The <strong>Popover API</strong> provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. Popover content can be controlled either declaratively using HTML attributes, or via JavaScript. This article provides a detailed guide to using all of its features.</p></div>
<h2 id="creating_declarative_popovers">Creating declarative popovers</h2>
<div class="section-content">
<p>In its simplest form, a popover is created by adding the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/popover"><code>popover</code></a> attribute to the element that you want to contain your popover content. An <code>id</code> is also needed to associate the popover with its controls.</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="ReQxdKJtrU6750ROvDU6obfQojICLm4qVS4/JlWJXHo=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> Setting the <code>popover</code> attribute with no value is equivalent to setting <code>popover="auto"</code>.</p> </div> <p>Adding this attribute causes the element to be hidden on page load by having <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display"><code>display: none</code></a> set on it. To show/hide the popover, you need to add some control buttons. You can set a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> (or <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input"><code>&lt;input&gt;</code></a> of <code>type="button"</code>) as a popover control button by giving it a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#popovertarget"><code>popovertarget</code></a> attribute, the value of which should be the ID of the popover to control:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="KdnYlrjDZk+9KBeXtIzbj2uatLAvVEOa7d4apg36UVg=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Toggle the popover<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>The default behavior is for the button to be a toggle button — pressing it repeatedly will toggle the popover between showing and hidden.</p> <p>If you want to change that behavior, you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#popovertargetaction"><code>popovertargetaction</code></a> attribute — this takes a value of <code>"hide"</code>, <code>"show"</code>, or <code>"toggle"</code>. For example, to create separate show and hide buttons, you could do this:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="nxVeTgwQE3ozyV5jgFczrldKD3ThQLbxkchnPETnLJ4=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popovertargetaction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Show popover
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popovertargetaction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Hide popover
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>You can see how the previous code snippet renders in our <a href="https://mdn.github.io/dom-examples/popover-api/basic-declarative/" target="_blank">Basic declarative popover example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/basic-declarative" target="_blank">source</a>).</p> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> If the <code>popovertargetaction</code> attribute is omitted, <code>"toggle"</code> is the default action that will be performed by a control button.</p> </div> <p>When a popover is shown, it has <code>display: none</code> removed from it and it is put into the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Top_layer">top layer</a> so it will sit on top of all other page content.</p>
</div>
<h2 id="auto_state_and_light_dismiss">auto state, and "light dismiss"</h2>
<div class="section-content">
<p>When a popover element is set with <code>popover</code> or <code>popover="auto"</code> as shown above, it is said to have <strong>auto state</strong>. The two important behaviors to note about auto state are:</p> <ul> <li>The popover can be "light dismissed" — this means that you can hide the popover by clicking outside it or pressing the <kbd>Esc</kbd> key.</li> <li>Usually, only one popover can be shown at a time — showing a second popover when one is already shown will hide the first one. The exception to this rule is when you have nested auto popovers. See the <a href="#nested_popovers">Nested popovers</a> section for more details.</li> </ul> <div class="notecard note" id="sect3"> <p><strong>Note:</strong> <code>popover="auto"</code> popovers are also dismissed by successful <a href="../htmldialogelement/showmodal"><code>HTMLDialogElement.showModal()</code></a> and <a href="../element/requestfullscreen"><code>Element.requestFullscreen()</code></a> calls on other elements in the document. Bear in mind however that calling these methods on a shown popover will result in failure because those behaviors don't make sense on an already-shown popover. You can however call them on an element with the <code>popover</code> attribute that isn't currently being shown.</p> </div> <p>Auto state is useful when you only want to show a single popover at once. Perhaps you have multiple teaching UI messages that you want to show, but don't want the display to start getting cluttered and confusing, or perhaps you are showing status messages where the new status overrides any previous status.</p> <p>You can see the behavior described above in action in our <a href="https://mdn.github.io/dom-examples/popover-api/multiple-auto/" target="_blank">Multiple auto popovers example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/multiple-auto" target="_blank">source</a>). Try light dismissing the popovers after they are shown, and see what happens when you try to show both at the same time.</p>
</div>
<h2 id="using_manual_popover_state">Using manual popover state</h2>
<div class="section-content">
<p>The alternative to auto state is <strong>manual state</strong>, achieved by setting <code>popover="manual"</code> on your popover element:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="PjRlBbW0cIv1PldL7nvP8ghfIRjzOUPCaBR67nc6ro8=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>manual<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>In this state:</p> <ul> <li>The popover cannot be "light dismissed", although declarative show/hide/toggle buttons (as seen earlier) will still work.</li> <li>Multiple independent popovers can be shown at a time.</li> </ul> <p>You can see this behavior in action in our <a href="https://mdn.github.io/dom-examples/popover-api/multiple-manual/" target="_blank">Multiple manual popovers example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/multiple-manual" target="_blank">source</a>).</p>
</div>
<h2 id="showing_popovers_via_javascript">Showing popovers via JavaScript</h2>
<div class="section-content">
<p>You can also control popovers using a JavaScript API.</p> <p>The <a href="../htmlelement/popover"><code>HTMLElement.popover</code></a> property can be used to get or set the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/popover"><code>popover</code></a> attribute. This can be used to create a popover via JavaScript, and is also useful for feature detection. For example:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="3wdmF8CpZma3VH288+6uUwTlgFY0S1D/r9pF8zC3ILk=" data-language="js"><span class="token keyword">function</span> <span class="token function">supportsPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">HTMLElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"popover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>Similarly:</p> <ul> <li>
<a href="../htmlbuttonelement/popovertargetelement"><code>HTMLButtonElement.popoverTargetElement</code></a> and <a href="../htmlinputelement/popovertargetelement"><code>HTMLInputElement.popoverTargetElement</code></a> provide an equivalent to the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#popovertarget"><code>popovertarget</code></a> attribute, allowing you to set up the control button(s) for a popover, although the property value taken is a reference to the popover DOM element to control.</li> <li>
<a href="../htmlbuttonelement/popovertargetaction"><code>HTMLButtonElement.popoverTargetAction</code></a> and <a href="../htmlinputelement/popovertargetaction"><code>HTMLInputElement.popoverTargetAction</code></a> provide an equivalent to the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#popovertargetaction"><code>popovertargetaction</code></a> global HTML attribute, allowing you to specify the action taken by a control button.</li> </ul> <p>Putting these three together, you can programmatically set up a popover and its control button, like so:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="TiR0/yo1VeepzEblHhQZZZQ6rteotgOSw50nnveA1vY=" data-language="js"><span class="token keyword">const</span> popover <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"mypopover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> toggleBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"toggleBtn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> keyboardHelpPara <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"keyboard-help-para"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> popoverSupported <span class="token operator">=</span> <span class="token function">supportsPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>popoverSupported<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  popover<span class="token punctuation">.</span>popover <span class="token operator">=</span> <span class="token string">"auto"</span><span class="token punctuation">;</span>
  toggleBtn<span class="token punctuation">.</span>popoverTargetElement <span class="token operator">=</span> popover<span class="token punctuation">;</span>
  toggleBtn<span class="token punctuation">.</span>popoverTargetAction <span class="token operator">=</span> <span class="token string">"toggle"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  toggleBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>You also have several methods to control showing and hiding:</p> <ul> <li>
<a href="../htmlelement/showpopover"><code>HTMLElement.showPopover()</code></a> to show a popover.</li> <li>
<a href="../htmlelement/hidepopover"><code>HTMLElement.hidePopover()</code></a> to hide a popover.</li> <li>
<a href="../htmlelement/togglepopover"><code>HTMLElement.togglePopover()</code></a> to toggle a popover.</li> </ul> <p>For example, you might want to provide the ability to toggle a help popover on and off by clicking a button or pressing a particular key on the keyboard. The first one could be achieved declaratively, or you could do it using JavaScript as shown above.</p> <p>For the second one, you could create an event handler that programs two separate keys — one to open the popover and one to close it again:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="avN+IIaMr9zKTENAH8UjYFKyQ1nrqGEP4h3s/7LUXtM=" data-language="js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"keydown"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"h"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>popover<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">":popover-open"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      popover<span class="token punctuation">.</span><span class="token function">hidePopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"s"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>popover<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">":popover-open"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      popover<span class="token punctuation">.</span><span class="token function">showPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>This example uses <a href="../element/matches"><code>Element.matches()</code></a> to programmatically check whether a popover is currently showing. The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:popover-open"><code>:popover-open</code></a> pseudo-class matches only popovers that are currently being shown. This is important to avoid the errors that are thrown if you try to show an already-shown popover, or hide an already-hidden popover.</p> <p>Alternatively, you could program a single key to show <em>and</em> hide the popover like this:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="VXF9/V5UY9OViHsvFFBYi4TsX/JxWgc20kYU5ZCk9Sc=" data-language="js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"keydown"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"h"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    popover<span class="token punctuation">.</span><span class="token function">togglePopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>See our <a href="https://mdn.github.io/dom-examples/popover-api/toggle-help-ui/" target="_blank">Toggle help UI example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/toggle-help-ui" target="_blank">source</a>) to see the popover JavaScript properties, feature detection, and <code>togglePopover()</code> method in action.</p>
</div>
<h2 id="dismissing_popovers_automatically_via_a_timer">Dismissing popovers automatically via a timer</h2>
<div class="section-content">
<p>Another common pattern in JavaScript is dismissing popovers automatically after a certain amount of time. You might for example want to create a system of "toast" notifications, where you have multiple actions underway at a time (for example multiple files uploading), and want to show a notification when each one succeeds or fails. For this you'll want to use manual popovers so you can show several at the same time, and use <a href="../settimeout"><code>setTimeout</code></a> to remove them. A function for handling such popovers might look like so:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="o9fnGJoWgRPXGsDlNvk3ctaIMQ3NyyOqrIVLA5uzY60=" data-language="js"><span class="token keyword">function</span> <span class="token function">makeToast</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> popover <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"article"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span>popover <span class="token operator">=</span> <span class="token string">"manual"</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"toast"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"newest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> msg<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg <span class="token operator">=</span> <span class="token string">"Action was successful!"</span><span class="token punctuation">;</span>
    popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    successCount<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token string">"failure"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg <span class="token operator">=</span> <span class="token string">"Action failed!"</span><span class="token punctuation">;</span>
    popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"failure"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    failCount<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  popover<span class="token punctuation">.</span>textContent <span class="token operator">=</span> msg<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>popover<span class="token punctuation">)</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span><span class="token function">showPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">updateCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    popover<span class="token punctuation">.</span><span class="token function">hidePopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    popover<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>You can also use the <a href="../htmlelement/beforetoggle_event"><code>beforetoggle</code></a> event to perform a follow-up action when a popover shows or hides. In our example we execute a <code>moveToastsUp()</code> function to make the toasts all move up the screen to make way each time a new toast appears:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="BHH6J6Ac8vruP4lEjbgZARr6MFqmwJkV4MdycUk6vdQ=" data-language="js">popover<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"toggle"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>newState <span class="token operator">===</span> <span class="token string">"open"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">moveToastsUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">moveToastsUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> toasts <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".toast"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  toasts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">toast</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>toast<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"newest"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      toast<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">5px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      toast<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"newest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> prevValue <span class="token operator">=</span> toast<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"px"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> newValue <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>prevValue<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">;</span>
      toast<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>See our <a href="https://mdn.github.io/dom-examples/popover-api/toast-popovers/" target="_blank">Toast popover example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/toast-popovers" target="_blank">source</a>) to see the above example snippets in action, and full comments for explanation.</p>
</div>
<h2 id="nested_popovers">Nested popovers</h2>
<div class="section-content">
<p>There is an exception to the rule about not displaying multiple auto popovers at once — when they are nested inside one another. In such cases, multiple popovers are allowed to both be open at the same time, due to their relationship with each other. This pattern is supported to enable use cases such as nested popover menus.</p> <p>There are three different ways to create nested popovers:</p> <ol> <li>Direct DOM descendants: <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="Gp/qck/LMphcmyb5+6O8/vXZZm54fOE+ZT12S6RjvSk=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>
  Parent
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> </li> <li>Via invoking/control elements: <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="n56aT2e9StQn4um7IAnuTdo1JyX06AOMO5DHKdtBHrY=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>
  Parent
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> </li> <li>Via the <code>anchor</code> attribute: <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="cz1Ko/4QfY6OQxaIWWTJ2kk3JGx4RTTRQ7dDx4J5hgM=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span> <span class="token attr-name">anchor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> </li> </ol> <p>See our <a href="https://mdn.github.io/dom-examples/popover-api/nested-popovers/" target="_blank">Nested popover menu example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/nested-popovers" target="_blank">source</a>) for an example. You'll notice that quite a few event handlers have been used to display and hide the subpopover appropriately during mouse and keyboard access, and also to hide both menus when an option is selected from either. Depending on how you handle loading of new content , either in an SPA or multi-page website, some of all of these may not be necessary, but they have been included in this demo for illustrative purposes.</p>
</div>
<h2 id="styling_popovers">Styling popovers</h2>
<div class="section-content">
<p>The popover API has some related CSS features available that are worth looking at.</p> <p>In terms of styling the actual popover, you can select all popovers with a simple attribute selector (<code>[popover]</code>), or you select popovers that are showing using a new pseudo-class — <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:popover-open"><code>:popover-open</code></a>.</p> <p>When looking at the first couple of examples linked at the start of the article, you may have noticed that the popovers appear in the middle of the viewport. This is the default styling, achieved like this in the UA stylesheet:</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="mJgfeTR8pcIZsmQsef3gZeKFwkt/6CNo06NB/W+vkfU=" data-language="css"><span class="token selector">[popover]</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> CanvasText<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> Canvas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>To override the default styles and get the popover to appear somewhere else on your viewport, you would need to override the above styles with something like this:</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="x5k03JpHuTzN3HN2nUV5Wr+emYMpOWUdnnMR6CzlQdM=" data-language="css"><span class="token selector">:popover-open</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">inset</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>You can see an isolated example of this in our <a href="https://mdn.github.io/dom-examples/popover-api/popover-positioning/" target="_blank">Popover positioning example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/popover-positioning" target="_blank">source</a>).</p> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::backdrop"><code>::backdrop</code></a> pseudo-element is a full-screen element placed directly behind showing popover elements in the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Top_layer">top layer</a>, allowing effects to be added to the page content behind the popover(s) if desired. You might for example want to blur out the content behind the popover to help focus the user's attention on it:</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="Yl/hHiCAlFJ0v+sB6siyJZT+TgX6H5/bG/OQ70WHMdo=" data-language="css"><span class="token selector">::backdrop</span> <span class="token punctuation">{</span>
  <span class="token property">backdrop-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>See our <a href="https://mdn.github.io/dom-examples/popover-api/blur-background/" target="_blank">Popover blur background example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/blur-background" target="_blank">source</a>) for an idea of how this renders.</p> <p>Finally, animation needs a special mention, as a lot of people are going to want to animate popovers between showing and hiding. As it stands, <a href="https://open-ui.org/components/popover.research.explainer/#animation-of-popovers" target="_blank">a few updates to CSS behavior</a> are required to get popovers to be animatable, most notably enabling animation of elements as they move to and from <code>display: none</code>. We'll update this article as soon as animation is available for popovers.</p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Popover_API/Using" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Popover_API/Using</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
