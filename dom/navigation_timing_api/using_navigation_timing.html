
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Navigation Timing API&#58; Using Navigation Timing - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The Navigation Timing API lets you easily obtain detailed and highly accurate timing information to help isolate performance problems with your site &hellip;">
  <meta name="keywords" content="using, navigation, timing, api, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/navigation_timing_api/using_navigation_timing.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Using Navigation Timing</h1>
<p>The Navigation Timing API lets you easily obtain detailed and highly accurate timing information to help isolate performance problems with your site's code or resources.</p> <p>Unlike other tools or libraries, the <a href="../navigation_timing_api">Navigation Timing API</a> lets you gather information that only the browser can provide at a level of accuracy much improved over other techniques. It also offers the advantage of being able to provide timing information as perceived by the user rather than data that has no correlation to what the user experiences.</p>
<h2 id="collecting_timing_information">Collecting timing information</h2>
<p>Using the API is as simple as obtaining the <a href="../performance"><code>Performance</code></a> object using <a href="../performance_property"><code>window.performance</code></a> and looking up what you need within the object returned. For example, to measure the perceived loading time for a page:</p> <div class="code-example"><pre data-language="js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"load"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> loadingTime <span class="token operator">=</span> now <span class="token operator">-</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>

  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".output"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span>
        loadingTime <span class="token operator">+</span> <span class="token string">" ms"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>This code, executed when the <code><a href="../window/load_event">load</a></code> event occurs, subtracts from the current time the time at which the navigation whose timing was recorded began (<a href="../performancetiming/navigationstart"><code>performance.timing.navigationStart</code></a>), and outputs that information to the screen by inserting it into an element.</p>   <p>In tandem with appropriate HTML and CSS, the result is:</p>
<iframe class="sample-code-frame" title="Collecting timing information sample" id="frame_Collecting_timing_information" width="500" height="80" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/Navigation_timing_API/Using_Navigation_Timing/_sample_.Collecting_timing_information.html" loading="lazy"></iframe> <p>The values listed are for the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> in which the sample is presented above.</p> <p>For a list of the available timing values you can look for in <a href="../performancetiming"><code>PerformanceTiming</code></a>, see the <a href="../performancetiming"><code>PerformanceTiming</code></a> interface's <a href="../performancetiming#properties">Properties</a> section.</p>
<h2 id="determining_navigation_type">Determining navigation type</h2>
<p>To put the timing information obtained from <a href="../performancetiming"><code>PerformanceTiming</code></a> into the correct perspective, you need to know more about what sort of load operation occurred. In particular, you need to know:</p> <ul> <li>Was this a load or a reload?</li> <li>Was this a navigation or a move forward or backward through history?</li> <li>How many (if any) redirects were required in order to complete the navigation?</li> </ul> <p>This information is provided by the <a href="../performance/navigation"><code>Performance.navigation</code></a> property, which returns a <a href="../performancenavigation"><code>PerformanceNavigation</code></a> object that includes the needed information.</p> <p>Let's add this information to the example above. The new code looks like this:</p> <div class="code-example"><pre data-language="js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"load"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> loadingTime <span class="token operator">=</span> now <span class="token operator">-</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>

  output <span class="token operator">=</span> <span class="token string">"Load time: "</span> <span class="token operator">+</span> loadingTime <span class="token operator">+</span> <span class="token string">" ms&lt;br/&gt;"</span><span class="token punctuation">;</span>
  output <span class="token operator">+=</span> <span class="token string">"Navigation type: "</span><span class="token punctuation">;</span>

  <span class="token keyword">switch</span><span class="token punctuation">(</span>performance<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> PerformanceNavigation<span class="token punctuation">.</span><span class="token constant">TYPE_NAVIGATE</span><span class="token operator">:</span>
        output <span class="token operator">+=</span> <span class="token string">"Navigation"</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> PerformanceNavigation<span class="token punctuation">.</span><span class="token constant">TYPE_RELOAD</span><span class="token operator">:</span>
        output <span class="token operator">+=</span> <span class="token string">"Reload"</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> PerformanceNavigation<span class="token punctuation">.</span><span class="token constant">TYPE_BACK_FORWARD</span><span class="token operator">:</span>
        output <span class="token operator">+=</span> <span class="token string">"History"</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        output <span class="token operator">+=</span> <span class="token string">"Unknown"</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  output <span class="token operator">+=</span> <span class="token string">"&lt;br/&gt;Redirects: "</span> <span class="token operator">+</span>
      performance<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span>redirectCount<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".output"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <p>This amends the previous example by looking at the contents of the <code>performance.navigation</code> object. <a href="../performancenavigation/type"><code>performance.navigation.type</code></a> indicates what kind of load operation took place: a navigation, a reload, or a shift through the browser's history. We also obtain the number of redirects that were incurred during the navigation from <a href="../performancenavigation/redirectcount"><code>performance.navigation.redirectCount</code></a>. This information is output to the screen just like the page load time was previously: by inserting it into the element with class <code>"output"</code>.</p>   <p>With this code in place, the result looks like this:</p>
<iframe class="sample-code-frame" title="Determining navigation type sample" id="frame_Determining_navigation_type" width="500" height="120" src="https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/Navigation_timing_API/Using_Navigation_Timing/_sample_.Determining_navigation_type.html" loading="lazy"></iframe> <p>The values listed are for the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> in which the sample is presented.</p>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../navigation_timing_api">Navigation Timing API</a></li> <li><a href="../performance_property"><code>window.performance</code></a></li> <li>
<a href="../performance"><code>Performance</code></a>, <a href="../performancetiming"><code>PerformanceTiming</code></a>, and <a href="../performancenavigation"><code>PerformanceNavigation</code></a>
</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API/Using_Navigation_Timing" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API/Using_Navigation_Timing</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
