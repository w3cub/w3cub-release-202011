
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CSS Painting API - Web APIs - W3cubDocs</title>
  
  <meta name="description" content=" Experimental&#58; This is an experimental technologyCheck the Browser compatibility table carefully before using this in production. ">
  <meta name="keywords" content="css, painting, api, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/css_painting_api.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/dom.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>CSS Painting API</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The CSS Painting API — part of the <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Houdini">CSS Houdini</a> umbrella of APIs — allows developers to write JavaScript functions that can draw directly into an element's background, border, or content.</p>
</div>
<h2 id="concepts_and_usage">Concepts and usage</h2>
<div class="section-content">
<p>Essentially, the CSS Painting API contains functionality allowing developers to create custom values for <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/image/paint"><code>paint()</code></a>, a CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/image"><code>&lt;image&gt;</code></a> function. You can then apply these values to properties like <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-image"><code>background-image</code></a> to set complex custom backgrounds on an element.</p> <p>For example:</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="JmAn93+1RdHcoHtpR/x14qV00NHvjm//e0sMDfxYAHQ=" data-language="css"><span class="token selector">aside</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">paint</span><span class="token punctuation">(</span>myPaintedImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>The API defines a <a href="worklet"><code>worklet</code></a> that can be used to programmatically generate an image that responds to computed style changes. To find out more about how this is used, consult <a href="css_painting_api/guide">Using the CSS Painting API</a>.</p>
</div>
<h2 id="interfaces">Interfaces</h2>
<div class="section-content"><dl> <dt id="sect2"><a href="paintworkletglobalscope"><code>PaintWorkletGlobalScope</code></a></dt> <dd> <p>The global execution context of the paint worklet.</p> </dd> <dt id="sect3"><a class="page-not-created"><code>PaintRenderingContext2D</code></a></dt> <dd> <p>Implements a subset of the <a href="canvasrenderingcontext2d"><code>CanvasRenderingContext2D</code></a> API. It has an output bitmap that is the size of the object it is rendering to.</p> </dd> <dt id="sect4"><a class="page-not-created"><code>PaintSize</code></a></dt> <dd> <p>Returns the read-only values of the output bitmap's width and height.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>The following example creates a list of items with a background image that rotates between three different colors and three widths. In a supporting browser you will see something like the image below.</p> <p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuMAAAD/CAMAAABsKChfAAAAYFBMVEX///+5d/+nVf93/8/69Xf58lUAAAB7AP716wAA/qVV/8MNDQ2lnwBqANtZALjMwwBzbwAA2o7m3ABHAJMAek9qamo0AGwAuHgYADJIRQAASzEApWs4I03V1dW2traSnpphrR9BAAAMp0lEQVR42u3d3W7cOBKG4R7PuEim+CdK0a935v7vcoukO8lEdtsL7IFFfg+CoiidvmioOyB8AwAAAAAAAAAAAAAAAAAAAAD4Ov7Df98AWlYa/+flBtCop2Lkp4+8vLw8teQGvXBCuZnyIrzPS7nnlSqj8utKXrUDjTfrO/P3269GIq9WyiRkEmNe5nzLzTJm9cqhcbiA7yT+FXlNdyQlHK1OunZKcSmdV+VW2Qo0DhfBJPhfjat743m6nPKoFK+yXfMTL0OgcbiIx43PtAqaleK5bGU4NA6XUt9V3m/cZw6Nw4WV75xvNz76sVQ8ezQOLXGeRqdkyD9F6+jLz4g0O+XmHHV5LJwfafZOtQKN92MkolWpuUy3yjIqTyLfIu/LYzFSNqpWoPF+qN+080mNxqFSnULj/VCdQuP9+KNXNwAAAAAAAAAAAMC5fOgazuVD456LyM8fitsWn/tzg6tLISQdIoUQtNbJ2iSz3CtXMqpEHDeipDuDxi/ndEYiElm9UZa0ZVmitjLyVYhlWwQKMmTXGTR+NeezbjqR1TqyFom2ELYcM8vNQLylVLYi2TzQOHx1TILfa9xSeO2Y877kbfPjqm46g8av5nHjkViUxmPZygi/ZB1o071B41fz+F0lks3CvXH+d+O2w8TR+PXU75znxklrqbv0HO2bjadIcnMLui9o/PqSpRh0oGjZJmYbIoUUeJN7m1zVxyIwRWv7eyFH49cXiWjTOpYZNlmstiT0JsPa8lhYqvA5DlejX6VUl+7+kweNN08DGm+cBjTeuL/gsRsAAAAAAAAAAECncC4fWodz+dC4b8XE3z407dPyrW03aNEgzDBRXsSy5KXcW4wpoxqId6bdtAyNN+F0RmIiOsxOmRTOskxmIdrz1TCVbXGQjIkW0zA03oLzWTcz0CHxssloH4adBmOYjvLJbepWDIeMA43DV3c+s2zMz8aP3PNAkzGc9zstv2W9k2kZGm/B48YnYlEan8pWxvCz8Wnnpj/G0XgT6rvK+40v2XBvnP/V+LAzH6ZlaLwJ9TvnuXEy5liO0vN0nBq/m6jpyNF4m4aFpsHIWPgwzMdSfkbkfTBDfR/Pj3/gpn88RONtmohIwp3KHHZZDilemF3GspTHYjnQOFyT+c1g3na8fqibhqHxNpnP2onw/5xwRebThmlq+6dDNN6oP+GnGwAAAAAAAAAAAOBcPnQD5/KhcU/FyE+fML68PDXjBr1wQrmZ8iK8z0u555Wq426klZxqBBpv1umMxEjk1UqZFE5izMucb7lZxqzuePZoHL6681k35cgrNZISjlbn5twxl9J5VW6VbTWSQ+Pw5Z3PLCt1bzxPl0MfleJVtmt+4mWIeh+Nw5f3uPGZVkGzUjyXrQxXGq87NA5fX31Xeb9xn7lT42Ud0ThcQfnO+Xbjox9Lz7N/q/F5VWgcLsl5Gp2SIf8UraMvPyPS7JSbc97lsaA71QY03o+RiFal5jLdKsuoPIl8i7wvj4UfxUzjqNqAxvuhfuPUe/CuAtekPg2NwzWp/4XzqhVovB9/9OoGAAAAAAAAAAAAOJcPXcO5fGjccxH5+SOxsM+9ucHVpRCSDpFCCFrrZG2SWe6Vqzwq5m3bmHVn0PjlnM5IRCKrN8qStixL1FZGvgqxbCvOFxaNwxd3PuumE1mtI2uRaAtho6A1y81AvKVUtqI2noLuDBq/GibB7zVuKeTQJWbO+5K3lceiNN4jNH41jxuPxKI0HstWRvjROBFvVvcGjV/N43eVSDYL98b518aDtXGj7j7M0fjl1O+c58ZJa6m79BztufG7Dd854XKSpRh0oGjZJmYbIoUUeJN7m1zVxz9Y6u1LJxq/vkhEm9axzLDJYrUloTcZ1pbHIsUkM6JxuBz9KqX78rbEW9IW/wcE16M/yxIxcXc/rKDx69OfZ6NNujdo/Pr+gsduAAAAAAAAAAAAnfr0ufy/X4he/nMDuJrPnsv/m17+/ueFEDlczbdiYhmP7Xuey7eW3aBFgzDDRHkRy5KXcm8xpoxqoMO0Do034XRGYiKJd6dMCmdZJrMQ7flqmMq2WGgxyzGYlqHxFpzPutUP6IlNRvsw7CQhMx3ygHdTt+KgiUrxDUPjLTifWTbmZ+NH7nnIHXPe77TIPRn1GS25eNMwNN6Cx41PxKI0PpWtjOFH4/nW0vRbORpvQX1Xeb/xJRvujfMvjS9lHZp+WUHjTajfOc+NkzHHcpSOp+PcuKBdxoHPcbicYaFpMDIWPgzzsZSfEXkfzFDfx/PjbKL9mJhNw9B4myYi2qXgModdlkOKF2aXsSzlcTGxXDb94yEab5P5zaOImw4cjTfLABpvnAE03rg/4acbAAAAAAAAAAAA4O/lQzfw9/KhcU/FyE8fGF+qp1bcoBdOKDdTXoT3eSn3vFJlVCuvgkg1Ao0363RGYiTyaqVMCicx5mXOt9wsY1bFWlbZNQKNt+p81k058kqNpISj1UnXTikupfOq3CrbbB5leNk0Ao236nxmWal743m6HLrUzKts1/zE53G3rqoVaLxVjxufaRU0K8Vz2cpw8riq161A462q7yrvN+4z917jczPfONF4w8p3zrcbH/1Yep79W4239Y0TjffEeRqdkiH/FK2jLz8j0uyUm3Pe5XE1tvONE433ZCSiVam5TLfKMipPIt8i78tj0dY3TjTeE/Ubp97jG/rGicZ7oj5tZtUQNN4P9Wm+pY9xNN6RP3p1AwAAAAAAAAAAgP/PufzvTC/f8afE4Xo+ey7/O33/+x/mG8DFPBeRnz9CUYYl+9yZG1xdCiHpECmEoLVO1iaZ5V65klEl2mRasrovaPxyTmckIpHVG2VJW5YlaisjX4VYttVGMVnedGfQ+NWcz7rpRFbryFok2kLYKGjNcjMQbynlbVWD7w0avxomwe81bnPPKYfMeV/ytvK4CBtvxL29qqDxy3nceCQWpfFYtjJCflzWTcaG93H44h6/q0SyWbg3zr80biloQb29kKPxy6nfOc+Nk9ZSd+k52jcbL2tA43A5yVIMOlC0bBOzDZFCCrzJvU2u6mMRiGOwckv3BY1fXySiTetYZthksdqS0JsMa+tjYTeWy95ex9F4A/SrlO7L+0LS3UHj16cBjTdOAxpv3F/w2A0AAAAAAAAAAKBT+Hv50Dr8vXxo3Ldi4m8fWqZ9Gr417QYtGoQZJsqLWJa8lHuLMXVUE9FOtJiGofEmnM5ITESH2SmTwlmWySxEe74aprItBppk7GwahsZbcD7rZgZp3ExsMtqHYafBGKZDHvBu6lYctOTZ9Ac5Gm/B+cyyMT8bP2h4/cDmvN9pqVX/eGYWOky70HgLHjc+EYvS+FS2MobaeE3f7DLbhcZbUN9V3m98yYZ743xvPNtpn3Y0Dl9e/c55bpyMOZaj9DwdbzY+SOHHgHcVuJxhoWkwMhY+DPOxlJ8ReR/MUN/H8+MfFnznhMuZiGg3Zipz2GU5pGRhdhnLUh/fTWQahsbbZH4zmLcNfBizNP06jsYbZT5rIrGblqHxNplPG45jME1D4236E366AQAAAAAAAAAAAM7lQzdwLh8a91SM/PSRl5eXejG+vIxP13eDXjih3Ex5Ed7npdzzSpVR+XUln1ciuWKnLg6NN+t0RmIk8mqlLAcsxrzM+ZabZczqlSuNr6vLl6u6ODTeqvNZt5ruSEpIuk66loi5lM6rcqtsxb1xLw/ETFf/IEfjrTqfWVbqZ+NjLtflinmV7VqillHUxsca9yjX14bGW/W48ZlWQbNSPJetDPdm4x6NwxdV31Xeb9xn7v3G7+8qI95V4Ksq3znfbnz0Y+l59u83fv+2uZK6ODTeD+dpdEqG/FO0jr78jEizU27OUZfHwvmRZu/ULNOvNKqLQ+P9GIloVWou062yjMqTyLfI+/JYjJSNqtzmyyeOxjuifuPUh9zV38XReF9Up9B4P1Sn0Hg//ujVDQAAAAAAAAAAAHAuH7qGc/nQuOci8vMHQozxvnTlBleXQkg6RAohaK2TtUlmuVeuZFR228jel46g8cs5nZGIRFZvlCVtWZaorYx8FWLZvgpky4LG4Ss7n3XTKTcbWYtEWwgbBa1ZbgbiLaW8FWgcLoJJ8HuNWwo59Kg1533J29ak0ThcxOPGI7EojceylRHQOFzK43eVSDYL98YZjaPx66nfOc+Nk9ZSd8k3WjSOxluSLMWgA0XLNjHbECmkwJvc2+SqPhbJRoo2hLrobqDx64tEtGkdywybLFZbEnqTYW15LOSi7kVPn+Ro/Pr0q5TuC6DxtmhA443TgMYb9xc8dgMAAAAAAAAAAOgUzuXD5f0XElYLMi7vRkoAAAAASUVORK5CYII=" alt="The width and color of the background image changes based on the custom properties" width="739" height="255" loading="lazy"> </p> <p>To achieve this we'll define two custom CSS properties, <code>--boxColor</code> and <code>--widthSubtractor</code>.</p>
</div>
<h3 id="the_paint_worklet">The paint worklet</h3>
<div class="section-content">
<p>In our worklet, we can reference these custom properties.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="wei0ski9Twy2oUybH9C2Xa4SS7ZMLbJLeCPG1GWgbEo=" data-language="js"><span class="token function">registerPaint</span><span class="token punctuation">(</span>
  <span class="token string">"boxbg"</span><span class="token punctuation">,</span>
  <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">contextOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*
     use this function to retrieve any custom properties (or regular properties, such as 'height')
     defined for the element, return them in the specified array
  */</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">inputProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"--boxColor"</span><span class="token punctuation">,</span> <span class="token string">"--widthSubtractor"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">paint</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> size<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">/*
       ctx -&gt; drawing context
       size -&gt; paintSize: width and height
       props -&gt; properties: get() method
    */</span>

      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"--boxColor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>
        <span class="token number">0</span><span class="token punctuation">,</span>
        size<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span>
        size<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.4</span> <span class="token operator">-</span> props<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"--widthSubtractor"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        size<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>We used the <code>inputProperties()</code> method in the <code>registerPaint()</code> class to get the values of two custom properties set on an element that has <code>boxbg</code> applied to it and then used those within our <code>paint()</code> function. The <code>inputProperties()</code> method can return all properties affecting the element, not just custom properties.</p>
</div>
<h3 id="using_the_paint_worklet">Using the paint worklet</h3>
<div class="section-content">
<h4 id="html">HTML</h4> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="i1DgEcTXrExYfk7Bfr576tN3gdXMrV/L7kne+mzsyZs=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 13<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 15<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item 17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>item<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h4 id="css">CSS</h4> <p>In our CSS, we define the <code>--boxColor</code> and <code>--widthSubtractor</code> custom properties.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="dafuKVgkkJDHx7IR7EHSlWLwNvoXryB6fsna8PrP3w0=" data-language="css"><span class="token selector">li</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">paint</span><span class="token punctuation">(</span>boxbg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--boxColor</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>55 90% 60% / 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">li:nth-of-type(3n)</span> <span class="token punctuation">{</span>
  <span class="token property">--boxColor</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>155 90% 60% / 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--widthSubtractor</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">li:nth-of-type(3n + 1)</span> <span class="token punctuation">{</span>
  <span class="token property">--boxColor</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>255 90% 60% / 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--widthSubtractor</span><span class="token punctuation">:</span> 40<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <h4 id="javascript">JavaScript</h4> <p>In our <code>&lt;script&gt;</code> we register the worklet:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="xSxKc/l+IXMtsU3pRGZFRd40Rkf8loMzxzRQbqcJ9gk=" data-language="js"><span class="token constant">CSS</span><span class="token punctuation">.</span>paintWorklet<span class="token punctuation">.</span><span class="token function">addModule</span><span class="token punctuation">(</span><span class="token string">"boxbg.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <h4 id="result">Result</h4> <p>While you can't play with the worklet's script, you can alter the custom property values in DevTools to change the colors and width of the background image.</p>
<iframe width="100%" height="400" src="https://mdn.github.io/css-examples/houdini/css_painting_api/example-boxbg.html" loading="lazy"></iframe>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.css-houdini.org/css-paint-api/#paintworkletglobalscope">CSS Painting API Level 1 <br><small># paintworkletglobalscope</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>CSS_Painting_API</code></th>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">52</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">47</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">9.0</td>
</tr>
<tr>
<th><code>devicePixelRatio</code></th>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">52</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">47</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">9.0</td>
</tr>
<tr>
<th><code>registerPaint</code></th>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">52</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">47</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">9.0</td>
</tr>
</tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="css_painting_api/guide">Using the CSS Painting API</a></li> <li><a href="css_typed_om_api">CSS Typed Object Model API</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Houdini">CSS Houdini</a></li> </ul></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Painting_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/CSS_Painting_API</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
