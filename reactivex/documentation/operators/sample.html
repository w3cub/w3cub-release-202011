
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Sample - ReactiveX - W3cubDocs</title>
  
  <meta name="description" content=" The Sample operator periodically looks at an Observable and emits whichever item it has most recently emitted since the previous sampling. ">
  <meta name="keywords" content="sample, reactivex">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/reactivex/documentation/operators/sample.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/reactivex.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/reactivex/" class="_nav-link" title="" style="margin-left:0;">ReactiveX</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _reactivex">
				
				
<h1>Sample</h1> <blockquote>emit the most recent items emitted by an Observable within periodic time intervals</blockquote> <figure class="rxmarbles-figure"> <a href="https://rxmarbles.com/#sample">Open interactive diagram on rxmarbles.com</a> <figcaption><p> The <span class="operator">Sample</span> operator periodically looks at an Observable and emits whichever item it has most recently emitted since the previous sampling. </p>
<p> In some implementations, there is also a <span class="operator">ThrottleFirst</span> operator that is similar, but emits not the most-recently emitted item in the sample period, but the <em>first</em> item that was emitted during that period. </p></figcaption> </figure> <h4>See Also</h4> <ul> <li><a href="backpressure">Backpressure-related Operators</a></li> <li><a href="debounce"><span class="operator">Debounce</span></a></li> <li><a href="window"><span class="operator">Window</span></a></li> <li><a href="http://www.introtorx.com/Content/v1.0.10621.0/13_TimeShiftedSequences.html#Sample"><cite>Introduction to Rx</cite>: Sample</a></li> <li><a href="http://rxmarbles.com/#sample">RxMarbles: <code>sample</code></a></li> <li><a href="http://rxwiki.wikidot.com/101samples#toc29"><cite>101 Rx Samples</cite>: Sample — Simple</a></li> </ul> <h2>Language-Specific Information</h2> <div id="accordion" role="tablist" aria-multiselectable="true">   <div> <div role="tab" id="headingRxGroovy"> <h3 class="panel-title">  RxGroovy <code>sample throttleFirst throttleLast</code>  </h3> </div> <div id="collapseRxGroovy" role="tabpanel" aria-labelledby="headingRxGroovy"> <div> <p> RxGroovy implements this operator as <code>sample</code> and <code>throttleLast</code>. </p>
<p> Note that if the source Observable has emitted no items since the last time it was sampled, the Observable that results from this operator will emit no item for that sampling period. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/sample.png" style="width:100%;" alt="sample"> <figcaption><p> One variant of <code>sample</code> (or its alias, <code>throttleLast</code>) samples at a periodic time interval that you choose by passing in a <code>TimeUnit</code> and a quantity of such units as parameters to <code>sample</code>. </p>
<p> The following code constructs an Observable that emits the numbers between one and a million, and then samples that Observable every ten milliseconds to see what number it is emitting at that moment. </p> <h4>Sample Code</h4> <pre data-language="groovy">def numbers = Observable.range( 1, 1000000 );

numbers.sample(10, java.util.concurrent.TimeUnit.MILLISECONDS).subscribe(
  { println(it); },                          // onNext
  { println("Error: " + it.getMessage()); }, // onError
  { println("Sequence complete"); }          // onCompleted
);</pre> <div><pre data-language="javascript">339707
547810
891282
Sequence complete</pre></div> <p> This variant of <code>sample</code> operates by default on the <code>computation</code> <a href="../scheduler">Scheduler</a>, but you can optionally pass in a Scheduler of your choosing as a third parameter. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#sample(long,%20java.util.concurrent.TimeUnit)"><code>sample(long,TimeUnit)</code></a> and <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleLast(long,%20java.util.concurrent.TimeUnit)"><code>throttleLast(long,TimeUnit)</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#sample(long,%20java.util.concurrent.TimeUnit,%20rx.Scheduler)"><code>sample(long,TimeUnit,Scheduler)</code></a> and <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleLast(long,%20java.util.concurrent.TimeUnit,%20rx.Scheduler)"><code>throttleLast(long,TimeUnit,Scheduler)</code></a>
</li> </ul></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/sample.o.png" style="width:100%;" alt="sample"> <figcaption><p> There ia also a variant of <code>sample</code> (that does not have a <code>throttleLast</code> alias) that samples the source Observable each time a second Observable emits an item (or when it terminates). You pass in that second Observable as the parameter to <code>sample</code>. </p>
<p> This variant of <code>sample</code> does not by default operate on any particular <a href="../scheduler">Scheduler</a>. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#sample(rx.Observable)"><code>sample(Observable)</code></a>
</li> </ul></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/throttleFirst.png" style="width:100%;" alt="throttleFirst"> <figcaption><p> There is also a <code>throttleFirst</code> operator, which differs from <code>throttleLast</code>/<code>sample</code> in that it emits the <em>first</em> item emitted by the source Observable in each sampling period rather than the <em>most recently emitted</em> item. </p> <h4>Sample Code</h4> <pre data-language="groovy">Scheduler s = new TestScheduler();
PublishSubject&lt;Integer&gt; o = PublishSubject.create();
o.throttleFirst(500, TimeUnit.MILLISECONDS, s).subscribe(
  { println(it); },                          // onNext
  { println("Error: " + it.getMessage()); }, // onError
  { println("Sequence complete"); }          // onCompleted
);
// send events with simulated time increments
s.advanceTimeTo(0, TimeUnit.MILLISECONDS);
o.onNext(1); // deliver
o.onNext(2); // skip
s.advanceTimeTo(501, TimeUnit.MILLISECONDS);
o.onNext(3); // deliver
s.advanceTimeTo(600, TimeUnit.MILLISECONDS);
o.onNext(4); // skip
s.advanceTimeTo(700, TimeUnit.MILLISECONDS);
o.onNext(5); // skip
o.onNext(6); // skip
s.advanceTimeTo(1001, TimeUnit.MILLISECONDS);
o.onNext(7); // deliver
s.advanceTimeTo(1501, TimeUnit.MILLISECONDS);
o.onCompleted();</pre> <div><pre data-language="javascript">1
3
7
Sequence complete</pre></div> <p> <code>throttleFirst</code> operates by default on the <code>computation</code> <a href="../scheduler">Scheduler</a>, but you can optionally pass in a Scheduler of your choosing as a third parameter. </p> <ul> <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleFirst(long,%20java.util.concurrent.TimeUnit)"><code>throttleFirst(long,TimeUnit)</code></a></li> <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleFirst(long,%20java.util.concurrent.TimeUnit,%20rx.Scheduler)"><code>throttleFirst(long,TimeUnit,Scheduler)</code></a></li> </ul></figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxJava 1․x"> <h3 class="panel-title">  RxJava 1․x <code>sample throttleFirst throttleLast</code>  </h3> </div> <div id="collapseRxJava 1․x" role="tabpanel" aria-labelledby="headingRxJava 1․x"> <div> <p> RxJava implements this operator as <code>sample</code> and <code>throttleLast</code>. </p>
<p> Note that if the source Observable has emitted no items since the last time it was sampled, the Observable that results from this operator will emit no item for that sampling period. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/sample.png" style="width:100%;" alt="sample"> <figcaption><p> One variant of <code>sample</code> (or its alias, <code>throttleLast</code>) samples at a periodic time interval that you choose by passing in a <code>TimeUnit</code> and a quantity of such units as parameters to <code>sample</code>. </p>
<p> This variant of <code>sample</code> operates by default on the <code>computation</code> <a href="../scheduler">Scheduler</a>, but you can optionally pass in a Scheduler of your choosing as a third parameter. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#sample(long,%20java.util.concurrent.TimeUnit)"><code>sample(long,TimeUnit)</code></a> and <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleLast(long,%20java.util.concurrent.TimeUnit)"><code>throttleLast(long,TimeUnit)</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#sample(long,%20java.util.concurrent.TimeUnit,%20rx.Scheduler)"><code>sample(long,TimeUnit,Scheduler)</code></a> and <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleLast(long,%20java.util.concurrent.TimeUnit,%20rx.Scheduler)"><code>throttleLast(long,TimeUnit,Scheduler)</code></a>
</li> </ul></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/sample.o.png" style="width:100%;" alt="sample"> <figcaption><p> There ia also a variant of <code>sample</code> (that does not have a <code>throttleLast</code> alias) that samples the source Observable each time a second Observable emits an item (or when it terminates). You pass in that second Observable as the parameter to <code>sample</code>. </p>
<p> This variant of <code>sample</code> does not by default operate on any particular <a href="../scheduler">Scheduler</a>. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#sample(rx.Observable)"><code>sample(Observable)</code></a>
</li> </ul></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/throttleFirst.png" style="width:100%;" alt="throttleFirst"> <figcaption><p> There is also a <code>throttleFirst</code> operator, which differs from <code>throttleLast</code>/<code>sample</code> in that it emits the <em>first</em> item emitted by the source Observable in each sampling period rather than the <em>most recently emitted</em> item. </p>
<p> <code>throttleFirst</code> operates by default on the <code>computation</code> <a href="../scheduler">Scheduler</a>, but you can optionally pass in a Scheduler of your choosing as a third parameter. </p> <ul> <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleFirst(long,%20java.util.concurrent.TimeUnit)"><code>throttleFirst(long,TimeUnit)</code></a></li> <li><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#throttleFirst(long,%20java.util.concurrent.TimeUnit,%20rx.Scheduler)"><code>throttleFirst(long,TimeUnit,Scheduler)</code></a></li> </ul></figcaption> </figure> </div> </div> </div>  <div> <div role="tab" id="headingRxJS"> <h3 class="panel-title">  RxJS <code>sample throttleFirst</code>  </h3> </div> <div id="collapseRxJS" role="tabpanel" aria-labelledby="headingRxJS"> <div> <p> RxJS implements this operator with two variants of <code>sample</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/sample.png" style="width:100%;" alt="sample"> <figcaption><p> The first variant accepts as its parameter a periodicity, defined as an integer number of milliseconds, and it samples the source Observable periodically at that frequency. </p> <h4>Sample Code</h4> <pre data-language="javascript">var source = Rx.Observable.interval(1000)
    .sample(5000)
    .take(2);

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre> <div><pre data-language="javascript">Next: 3
Next: 8
Completed</pre></div> </figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/sample.o.png" style="width:100%;" alt="sample"> <figcaption><p> The second variant accepts as its parameter an Observable, and it samples the source Observable whenever this second Observable emits an item. </p> <h4>Sample Code</h4> <pre data-language="javascript">var source = Rx.Observable.interval(1000)
    .sample(Rx.Observable.interval(5000))
    .take(2);

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre> <div><pre data-language="javascript">Next: 3
Next: 8
Completed</pre></div> </figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/throttleFirst.png" style="width:100%;" alt="throttleFirst"> <figcaption><p> There is also a <code>throttleFirst</code> operator, which differs from <code>sample</code> in that it emits the <em>first</em> item emitted by the source Observable in each sampling period rather than the <em>most recently emitted</em> item. </p>
<p> It does not have the variant that uses the emissions from a second Observable to regulate the sampling periodicity. </p> <h4>Sample Code</h4> <pre data-language="javascript">var times = [
    { value: 0, time: 100 },
    { value: 1, time: 600 },
    { value: 2, time: 400 },
    { value: 3, time: 900 },
    { value: 4, time: 200 }
];

// Delay each item by time and project value;
var source = Rx.Observable.from(times)
  .flatMap(function (item) {
    return Rx.Observable
      .of(item.value)
      .delay(item.time);
  })
  .throttleFirst(300 /* ms */);

var subscription = source.subscribe(
  function (x) { console.log('Next: %s', x); },
  function (err) { console.log('Error: %s', err); },
  function () { console.log('Completed'); });</pre> <div><pre data-language="javascript">Next: 0
Next: 2
Next: 3
Completed</pre></div> </figcaption> </figure> <p> <code>sample</code> and <code>throttleFirst</code> operate by default on the <code>timeout</code> <a href="../scheduler">Scheduler</a>. They are found in each of the following distributions: </p> <ul> <li><code>rx.all.js</code></li> <li><code>rx.all.compat.js</code></li> <li>
<code>rx.time.js</code> (requires <code>rx.js</code> or <code>rx.compat.js</code>)</li> <li><code>rx.lite.js</code></li> <li><code>rx.lite.compat.js</code></li> </ul> </div> </div> </div>       </div>
<div class="_attribution">
  <p class="_attribution-p">
    © ReactiveX contributors<br>Licensed under the Apache License 2.0.<br>
    <a href="http://reactivex.io/documentation/operators/sample.html" class="_attribution-link">http://reactivex.io/documentation/operators/sample.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
