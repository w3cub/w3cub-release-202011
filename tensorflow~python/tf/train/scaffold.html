
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.train.Scaffold - TensorFlow Python - W3cubDocs</title>
  
  <meta name="description" content=" Defined in tensorflow&#47;python&#47;training&#47;monitored_session.py. ">
  <meta name="keywords" content="tf, train, scaffold, tensorflow, python, tensorflow~python">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~python/tf/train/scaffold.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/tensorflow~python.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~python/" class="_nav-link" title="" style="margin-left:0;">TensorFlow Python</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 itemprop="name" class="devsite-page-title"> tf.train.Scaffold </h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.train.Scaffold"> <meta itemprop="path" content="r1.8"> <meta itemprop="property" content="init_feed_dict"> <meta itemprop="property" content="init_fn"> <meta itemprop="property" content="init_op"> <meta itemprop="property" content="local_init_op"> <meta itemprop="property" content="ready_for_local_init_op"> <meta itemprop="property" content="ready_op"> <meta itemprop="property" content="saver"> <meta itemprop="property" content="summary_op"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="finalize"> <meta itemprop="property" content="get_or_default"> </div> <h2 id="class_scaffold">Class <code>Scaffold</code>
</h2> <p>Defined in <a href="https://www.github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/python/training/monitored_session.py"><code>tensorflow/python/training/monitored_session.py</code></a>.</p> <p>See the guide: <a href="https://www.tensorflow.org/api_guides/python/train#Distributed_execution">Training &gt; Distributed execution</a></p> <p>Structure to create or gather pieces commonly needed to train a model.</p> <p>When you build a model for training you usually need ops to initialize variables, a <code>Saver</code> to checkpoint them, an op to collect summaries for the visualizer, and so on.</p> <p>Various libraries built on top of the core TensorFlow library take care of creating some or all of these pieces and storing them in well known collections in the graph. The <code>Scaffold</code> class helps pick these pieces from the graph collections, creating and adding them to the collections if needed.</p> <p>If you call the scaffold constructor without any arguments, it will pick pieces from the collections, creating default ones if needed when <code>scaffold.finalize()</code> is called. You can pass arguments to the constructor to provide your own pieces. Pieces that you pass to the constructor are not added to the graph collections.</p> <p>The following pieces are directly accessible as attributes of the <code>Scaffold</code> object:</p> <ul> <li>
<code>saver</code>: A <a href="saver"><code>tf.train.Saver</code></a> object taking care of saving the variables. Picked from and stored into the <code>SAVERS</code> collection in the graph by default.</li> <li>
<code>init_op</code>: An op to run to initialize the variables. Picked from and stored into the <code>INIT_OP</code> collection in the graph by default.</li> <li>
<code>ready_op</code>: An op to verify that the variables are initialized. Picked from and stored into the <code>READY_OP</code> collection in the graph by default.</li> <li>
<code>ready_for_local_init_op</code>: An op to verify that global state has been initialized and it is alright to run <code>local_init_op</code>. Picked from and stored into the <code>READY_FOR_LOCAL_INIT_OP</code> collection in the graph by default. This is needed when the initialization of local variables depends on the values of global variables.</li> <li>
<code>local_init_op</code>: An op to initialize the local variables. Picked from and stored into the <code>LOCAL_INIT_OP</code> collection in the graph by default.</li> <li>
<code>summary_op</code>: An op to run and merge the summaries in the graph. Picked from and stored into the <code>SUMMARY_OP</code> collection in the graph by default.</li> <li>
<code>global_step</code>: A tensor containing the global step counter. Picked from and stored into the <code>GLOBAL_STEP</code> collection in the graph by default.</li> </ul> <p>You can also pass the following additional pieces to the constructor:</p> <ul> <li>
<code>init_feed_dict</code>: A session feed dictionary that should be used when running the init op.</li> <li>
<code>init_fn</code>: A callable to run after the init op to perform additional initializations. The callable will be called as <code>init_fn(scaffold, session)</code>.</li> </ul> <h2 id="properties">Properties</h2> <h3 id="init_feed_dict"><code>init_feed_dict</code></h3> <h3 id="init_fn"><code>init_fn</code></h3> <h3 id="init_op"><code>init_op</code></h3> <h3 id="local_init_op"><code>local_init_op</code></h3> <h3 id="ready_for_local_init_op"><code>ready_for_local_init_op</code></h3> <h3 id="ready_op"><code>ready_op</code></h3> <h3 id="saver"><code>saver</code></h3> <h3 id="summary_op"><code>summary_op</code></h3> <h2 id="methods">Methods</h2> <h3 id="__init__"><code>__init__</code></h3> <pre class="prettyprint lang-python" data-language="python">__init__(
    init_op=None,
    init_feed_dict=None,
    init_fn=None,
    ready_op=None,
    ready_for_local_init_op=None,
    local_init_op=None,
    summary_op=None,
    saver=None,
    copy_from_scaffold=None
)
</pre> <p>Create a scaffold.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code>init_op</code></b>: Optional op for initializing variables.</li> <li>
<b><code>init_feed_dict</code></b>: Optional session feed dictionary to use when running the init_op.</li> <li>
<b><code>init_fn</code></b>: Optional function to use to initialize the model after running the init_op. Will be called as <code>init_fn(scaffold, session)</code>.</li> <li>
<b><code>ready_op</code></b>: Optional op to verify that the variables are initialized. Must return an empty 1D string tensor when the variables are initialized, or a non-empty 1D string tensor listing the names of the non-initialized variables.</li> <li>
<b><code>ready_for_local_init_op</code></b>: Optional op to verify that the global variables are initialized and <code>local_init_op</code> can be run. Must return an empty 1D string tensor when the global variables are initialized, or a non-empty 1D string tensor listing the names of the non-initialized global variables.</li> <li>
<b><code>local_init_op</code></b>: Optional op to initialize local variables.</li> <li>
<b><code>summary_op</code></b>: Optional op to gather all summaries. Must return a scalar string tensor containing a serialized <code>Summary</code> proto.</li> <li>
<b><code>saver</code></b>: Optional <a href="saver"><code>tf.train.Saver</code></a> object to use to save and restore variables.</li> <li>
<b><code>copy_from_scaffold</code></b>: Optional scaffold object to copy fields from. Its fields will be overwritten by the provided fields in this function.</li> </ul> <h3 id="finalize"><code>finalize</code></h3> <pre class="prettyprint lang-python" data-language="python">finalize()
</pre> <p>Creates operations if needed and finalizes the graph.</p> <h3 id="get_or_default"><code>get_or_default</code></h3> <pre class="prettyprint lang-python" data-language="python">@staticmethod
get_or_default(
    arg_name,
    collection_key,
    default_constructor
)
</pre> <p>Get from cache or create a default operation.</p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2018 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/train/Scaffold" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/train/Scaffold</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
