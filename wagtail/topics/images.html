
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>How to Use Images in Templates - Wagtail - W3cubDocs</title>
  
  <meta name="description" content=" The image tag inserts an XHTML-compatible img element into the page, setting its src, width, height and alt. See also More control over the img tag. ">
  <meta name="keywords" content="how, use, images, templates, wagtail">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/wagtail/topics/images.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9b6ce6139b8492a0447e9396e58206baee4973e9a8a1d9126d4ab69e244811034e5265efcc9da8b9550a8e365367ee3ea1d2c5757f9a5fc1720dc94cd4df775b.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/wagtail.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/wagtail/" class="_nav-link" title="" style="margin-left:0;">Wagtail</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="image-tag">How to use images in templates</h1> <p>The <code>image</code> tag inserts an XHTML-compatible <code>img</code> element into the page, setting its <code>src</code>, <code>width</code>, <code>height</code> and <code>alt</code>. See also <a class="reference internal" href="#image-tag-alt"><span class="std std-ref">More control over the img tag</span></a>.</p> <p>The syntax for the tag is thus:</p> <pre data-language="markup">{% image [image] [resize-rule] %}
</pre> <p><strong>Both the image and resize rule must be passed to the template tag.</strong></p> <p>For example:</p> <pre data-language="markup">{% load wagtailimages_tags %}
...

&lt;!-- Display the image scaled to a width of 400 pixels: --&gt;
{% image page.photo width-400 %}

&lt;!-- Display it again, but this time as a square thumbnail: --&gt;
{% image page.photo fill-80x80 %}
</pre> <p>In the above syntax example <code>[image]</code> is the Django object referring to the image. If your page model defined a field called “photo” then <code>[image]</code> would probably be <code>page.photo</code>. The <code>[resize-rule]</code> defines how the image is to be resized when inserted into the page. Various resizing methods are supported, to cater to different use cases (for example lead images that span the whole width of the page, or thumbnails to be cropped to a fixed size).</p> <p>Note that a space separates <code>[image]</code> and <code>[resize-rule]</code>, but the resize rule must not contain spaces. The width is always specified before the height. Resized images will maintain their original aspect ratio unless the <code>fill</code> rule is used, which may result in some pixels being cropped.</p> <section id="available-resizing-methods"> <h2>Available resizing methods</h2> <p>The available resizing methods are as follows:</p> <section id="max"> <h3><code>max</code></h3> <p>(takes two dimensions)</p> <pre data-language="markup">{% image page.photo max-1000x500 %}
</pre> <p>Fit <strong>within</strong> the given dimensions.</p> <p>The longest edge will be reduced to the matching dimension specified. For example, a portrait image of width 1000 and height 2000, treated with the <code>max-1000x500</code> rule (a landscape layout) would result in the image being shrunk so the <em>height</em> was 500 pixels and the width was 250.</p> <p><img alt="Example of max filter on an image" src="https://docs.wagtail.org/en/stable/_images/image_filter_max.png"></p> <p>Example: The image will keep its proportions but fit within the max (green line) dimensions provided.</p> </section> <section id="min"> <h3><code>min</code></h3> <p>(takes two dimensions)</p> <pre data-language="markup">{% image page.photo min-500x200 %}
</pre> <p><strong>Cover</strong> the given dimensions.</p> <p>This may result in an image slightly <strong>larger</strong> than the dimensions you specify. A square image of width 2000 and height 2000, treated with the <code>min-500x200</code> rule would have its height and width changed to 500, that is matching the <em>width</em> of the resize-rule, but greater than the height.</p> <p><img alt="Example of min filter on an image" src="https://docs.wagtail.org/en/stable/_images/image_filter_min.png"></p> <p>Example: The image will keep its proportions while filling at least the min (green line) dimensions provided.</p> </section> <section id="width"> <h3><code>width</code></h3> <p>(takes one dimension)</p> <pre data-language="markup">{% image page.photo width-640 %}
</pre> <p>Reduces the width of the image to the dimension specified.</p> </section> <section id="height"> <h3><code>height</code></h3> <p>(takes one dimension)</p> <pre data-language="markup">{% image page.photo height-480 %}
</pre> <p>Reduces the height of the image to the dimension specified.</p> </section> <section id="scale"> <h3><code>scale</code></h3> <p>(takes percentage)</p> <pre data-language="markup">{% image page.photo scale-50 %}
</pre> <p>Resize the image to the percentage specified.</p> </section> <section id="fill"> <h3><code>fill</code></h3> <p>(takes two dimensions and an optional <code>-c</code> parameter)</p> <pre data-language="markup">{% image page.photo fill-200x200 %}
</pre> <p>Resize and <strong>crop</strong> to fill the <strong>exact</strong> dimensions specified.</p> <p>This can be particularly useful for websites requiring square thumbnails of arbitrary images. For example, a landscape image of width 2000 and height 1000 treated with the <code>fill-200x200</code> rule would have its height reduced to 200, then its width (ordinarily 400) cropped to 200.</p> <p>This resize-rule will crop to the image’s focal point if it has been set. If not, it will crop to the centre of the image.</p> <p><img alt="Example of fill filter on an image" src="https://docs.wagtail.org/en/stable/_images/image_filter_fill.png"></p> <p>Example: The image is scaled and also cropped (red line) to fit as much of the image as possible within the provided dimensions.</p> <p><strong>On images that won’t upscale</strong></p> <p>It’s possible to request an image with <code>fill</code> dimensions that the image can’t support without upscaling. For example an image of width 400 and height 200 requested with <code>fill-400x400</code>. In this situation the <em>ratio of the requested fill</em> will be matched, but the dimension will not. So that example 400x200 image (a 2:1 ratio) could become 200x200 (a 1:1 ratio, matching the resize-rule).</p> <p><strong>Cropping closer to the focal point</strong></p> <p>By default, Wagtail will only crop enough to change the aspect ratio of the image to match the ratio in the resize-rule.</p> <p>In some cases (for example thumbnails), it may be preferable to crop closer to the focal point, so that the subject of the image is more prominent.</p> <p>You can do this by appending <code>-c&lt;percentage&gt;</code> at the end of the resize-rule. For example, if you would like the image to be cropped as closely as possible to its focal point, add <code>-c100</code>:</p> <pre data-language="markup">{% image page.photo fill-200x200-c100 %}
</pre> <p>This will crop the image as much as it can, without cropping into the focal point.</p> <p>If you find that <code>-c100</code> is too close, you can try <code>-c75</code> or <code>-c50</code>. Any whole number from 0 to 100 is accepted.</p> <p><img alt="Example of fill filter on an image with a focal point set" src="https://docs.wagtail.org/en/stable/_images/image_filter_fill_focal.png"></p> <p>Example: The focal point is set off centre so the image is scaled and also cropped like fill, however the center point of the crop is positioned closer the focal point.</p> <p><img alt="Example of fill and closeness filter on an image with a focal point set" src="https://docs.wagtail.org/en/stable/_images/image_filter_fill_focal_close.png"></p> <p>Example: With <code>-c75</code> set, the final crop will be closer to the focal point.</p> </section> <section id="original"> <h3><code>original</code></h3> <p>(takes no dimensions)</p> <pre data-language="markup">{% image page.photo original %}
</pre> <p>Renders the image at its original size.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Wagtail does not allow deforming or stretching images. Image dimension ratios will always be kept. Wagtail also <em>does not support upscaling</em>. Small images forced to appear at larger sizes will “max out” at their native dimensions.</p> </div> </section> </section> <section id="more-control-over-the-img-tag"> <h2 id="image-tag-alt">More control over the <code>img</code> tag</h2> <p>Wagtail provides two shortcuts to give greater control over the <code>img</code> element:</p> <section id="adding-attributes-to-the-image-tag"> <h3>1. Adding attributes to the {% image %} tag</h3> <p>Extra attributes can be specified with the syntax <code>attribute="value"</code>:</p> <pre data-language="markup">{% image page.photo width-400 class="foo" id="bar" %}
</pre> <p>You can set a more relevant <code>alt</code> attribute this way, overriding the one automatically generated from the title of the image. The <code>src</code>, <code>width</code>, and <code>height</code> attributes can also be overridden, if necessary.</p> <p>You can also add default attributes to all images (a default class or data attribute for example) - see <a class="reference internal" href="#adding-default-attributes-to-images"><span class="std std-ref">Adding default attributes to all images</span></a>.</p> </section> <section id="generating-the-image-as-foo-to-access-individual-properties"> <h3>2. Generating the image “as foo” to access individual properties</h3> <p>Wagtail can assign the image data to another variable using Django’s <code>as</code> syntax:</p> <pre data-language="markup">{% image page.photo width-400 as tmp_photo %}

&lt;img src="{{ tmp_photo.url }}" width="{{ tmp_photo.width }}"
    height="{{ tmp_photo.height }}" alt="{{ tmp_photo.alt }}" class="my-custom-class" /&gt;
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The image property used for the <code>src</code> attribute is <code>image.url</code>, not <code>image.src</code>.</p> </div> <p>This syntax exposes the underlying image Rendition (<code>tmp_photo</code>) to the developer. A “Rendition” contains the information specific to the way you’ve requested to format the image using the resize-rule, dimensions and source URL. The following properties are available:</p> </section> <section id="url"> <h3><code>url</code></h3> <p>URL to the resized version of the image. This may be a local URL (such as <code>/static/images/example.jpg</code>) or a full URL (such as <code>https://assets.example.com/images/example.jpg</code>), depending on how static files are configured.</p> </section> <section id="id1"> <h3><code>width</code></h3> <p>Image width after resizing.</p> </section> <section id="id2"> <h3><code>height</code></h3> <p>Image height after resizing.</p> </section> <section id="alt"> <h3><code>alt</code></h3> <p>Alternative text for the image, typically taken from the image title.</p> </section> <section id="attrs"> <h3><code>attrs</code></h3> <p>A shorthand for outputting the attributes <code>src</code>, <code>width</code>, <code>height</code> and <code>alt</code> in one go:</p> <pre data-language="markup">&lt;img {{ tmp_photo.attrs }} class="my-custom-class" /&gt;
</pre> </section> <section id="full-url"> <h3><code>full_url</code></h3> <p>Same as <code>url</code>, but always returns a full absolute URL. This requires <code>WAGTAILADMIN_BASE_URL</code> to be set in the project settings.</p> <p>This is useful for images that will be re-used outside of the current site, such as social share images:</p> <pre data-language="markup">&lt;meta name="twitter:image" content="{{ tmp_photo.full_url }}"&gt;
</pre> <p>If your site defines a custom image model using <code>AbstractImage</code>, any additional fields you add to an image (such as a copyright holder) are <strong>not</strong> included in the rendition.</p> <p>Therefore, if you’d added the field <code>author</code> to your AbstractImage in the above example, you’d access it using <code>{{ page.photo.author }}</code> rather than <code>{{ tmp_photo.author }}</code>.</p> <p>(Due to the links in the database between renditions and their parent image, you <em>could</em> access it as <code>{{ tmp_photo.image.author }}</code>, but that has reduced readability.)</p> </section> </section> <section id="adding-default-attributes-to-all-images"> <h2 id="adding-default-attributes-to-images">Adding default attributes to all images</h2> <p>We can configure the <code>wagtail.images</code> application to specify additional attributes to add to images. This is done by setting up a custom <code>AppConfig</code> class within your project folder (i.e. the package containing the top-level settings and urls modules).</p> <p>To do this, create or update your existing <code>apps.py</code> file with the following:</p> <pre data-language="python">from wagtail.images.apps import WagtailImagesAppConfig


class CustomImagesAppConfig(WagtailImagesAppConfig):
    default_attrs = {"decoding": "async", "loading": "lazy"}
</pre> <p>Then, replace <code>wagtail.images</code> in <code>settings.INSTALLED_APPS</code> with the path to <code>CustomUsersAppConfig</code>:</p> <pre data-language="python">INSTALLED_APPS = [
    ...,
    "myapplication.apps.CustomImagesAppConfig",
    # "wagtail.images",
    ...,
]
</pre> <p>Now, images created with <code>{% image %}</code> will additionally have <code>decoding="async" loading="lazy"</code> attributes. This also goes for images added to Rich Text and <code>ImageBlock</code> blocks.</p> </section> <section id="alternative-html-tags"> <h2>Alternative HTML tags</h2> <p>The <code>as</code> keyword allows alternative HTML image tags (such as <code>&lt;picture&gt;</code> or <code>&lt;amp-img&gt;</code>) to be used. For example, to use the <code>&lt;picture&gt;</code> tag:</p> <pre data-language="markup">&lt;picture&gt;
    {% image page.photo width-800 as wide_photo %}
    &lt;source srcset="{{ wide_photo.url }}" media="(min-width: 800px)"&gt;
    {% image page.photo width-400 %}
&lt;/picture&gt;
</pre> <p>And to use the <code>&lt;amp-img&gt;</code> tag (based on the <a class="reference external" href="https://amp.dev/documentation/components/amp-img/#example:-specifying-a-fallback-image">Mountains example</a> from the AMP docs):</p> <pre data-language="markup">{% image image width-550 format-webp as webp_image %}
{% image image width-550 format-jpeg as jpeg_image %}

&lt;amp-img alt="{{ image.alt }}"
    width="{{ webp_image.width }}"
    height="{{ webp_image.height }}"
    src="{{ webp_image.url }}"&gt;
    &lt;amp-img alt="{{ image.alt }}"
        fallback
        width="{{ jpeg_image.width }}"
        height="{{ jpeg_image.height }}"
        src="{{ jpeg_image.url }}"&gt;&lt;/amp-img&gt;
&lt;/amp-img&gt;
</pre> </section> <section id="images-embedded-in-rich-text"> <h2>Images embedded in rich text</h2> <p>The information above relates to images defined via image-specific fields in your model. However, images can also be embedded arbitrarily in Rich Text fields by the page editor (see <a class="reference internal" href="../advanced_topics/customisation/page_editing_interface#rich-text"><span class="std std-ref">Rich Text (HTML)</span></a>).</p> <p>Images embedded in Rich Text fields can’t be controlled by the template developer as easily. There are no image objects to work with, so the <code>{% image %}</code> template tag can’t be used. Instead, editors can choose from one of a number of image “Formats” at the point of inserting images into their text.</p> <p>Wagtail comes with three pre-defined image formats, but more can be defined in Python by the developer. These formats are:</p> <section id="full-width"> <h3><code>Full width</code></h3> <p>Creates an image rendition using <code>width-800</code>, giving the <img> tag the CSS class <code>full-width</code>.</p> </section> <section id="left-aligned"> <h3><code>Left-aligned</code></h3> <p>Creates an image rendition using <code>width-500</code>, giving the <img> tag the CSS class <code>left</code>.</p> </section> <section id="right-aligned"> <h3><code>Right-aligned</code></h3> <p>Creates an image rendition using <code>width-500</code>, giving the <img> tag the CSS class <code>right</code>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The CSS classes added to images do <strong>not</strong> come with any accompanying stylesheets, or inline styles. For example the <code>left</code> class will do nothing, by default. The developer is expected to add these classes to their front end CSS files, to define exactly what they want <code>left</code>, <code>right</code> or <code>full-width</code> to mean.</p> </div> <p>For more information about image formats, including creating your own, see <a class="reference internal" href="../advanced_topics/customisation/page_editing_interface#rich-text-image-formats"><span class="std std-ref">Image Formats in the Rich Text Editor</span></a>.</p> </section> </section> <section id="output-image-format"> <h2 id="id3">Output image format</h2> <p>Wagtail may automatically change the format of some images when they are resized:</p> <ul class="simple"> <li>PNG and JPEG images don’t change format</li> <li>GIF images without animation are converted to PNGs</li> <li>BMP images are converted to PNGs</li> <li>WebP images are converted to PNGs</li> </ul> <p>It is also possible to override the output format on a per-tag basis by using the <code>format</code> filter after the resize rule.</p> <p>For example, to make the tag always convert the image to a JPEG, use <code>format-jpeg</code>:</p> <pre data-language="markup">{% image page.photo width-400 format-jpeg %}
</pre> <p>You may also use <code>format-png</code> or <code>format-gif</code>.</p> <section id="lossless-webp"> <h3>Lossless WebP</h3> <p>You can encode the image into lossless WebP format by using the <code>format-webp-lossless</code> filter:</p> <pre data-language="markup">{% image page.photo width-400 format-webp-lossless %}
</pre> </section> </section> <section id="background-colour"> <h2 id="image-background-colour">Background colour</h2> <p>The PNG and GIF image formats both support transparency, but if you want to convert images to JPEG format, the transparency will need to be replaced with a solid background colour.</p> <p>By default, Wagtail will set the background to white. But if a white background doesn’t fit your design, you can specify a colour using the <code>bgcolor</code> filter.</p> <p>This filter takes a single argument, which is a CSS 3 or 6 digit hex code representing the colour you would like to use:</p> <pre data-language="markup">{# Sets the image background to black #}
{% image page.photo width-400 bgcolor-000 format-jpeg %}
</pre> </section> <section id="image-quality"> <h2 id="id4">Image quality</h2> <p>Wagtail’s JPEG and WebP image quality settings default to 85 (which is quite high). This can be changed either globally or on a per-tag basis.</p> <section id="changing-globally"> <h3>Changing globally</h3> <p>Use the <code>WAGTAILIMAGES_JPEG_QUALITY</code> and <code>WAGTAILIMAGES_WEBP_QUALITY</code> settings to change the global defaults of JPEG and WebP quality:</p> <pre data-language="python"># settings.py

# Make low-quality but small images
WAGTAILIMAGES_JPEG_QUALITY = 40
WAGTAILIMAGES_WEBP_QUALITY = 45
</pre> <p>Note that this won’t affect any previously generated images so you may want to delete all renditions so they can regenerate with the new setting. This can be done from the Django shell:</p> <pre data-language="python"># Replace this with your custom rendition model if you use one
&gt;&gt;&gt; from wagtail.images.models import Rendition
&gt;&gt;&gt; Rendition.objects.all().delete()
</pre> <p>You can also directly use the image management command from the console for regenerating the renditions:</p> <pre data-language="sh">./manage.py wagtail_update_image_renditions --purge
</pre> <p>You can read more about this command from <a class="reference internal" href="../reference/management_commands#wagtail-update-image-renditions"><span class="std std-ref">wagtail_update_image_renditions</span></a></p> </section> <section id="changing-per-tag"> <h3>Changing per-tag</h3> <p>It’s also possible to have different JPEG and WebP qualities on individual tags by using <code>jpegquality</code> and <code>webpquality</code> filters. This will always override the default setting:</p> <pre data-language="markup">{% image page.photo_jpeg width-400 jpegquality-40 %}
{% image page.photo_webp width-400 webpquality-50 %}
</pre> <p>Note that this will have no effect on PNG or GIF files. If you want all images to be low quality, you can use this filter with <code>format-jpeg</code> or <code>format-webp</code> (which forces all images to output in JPEG or WebP format):</p> <pre data-language="html+Django">{% image page.photo width-400 format-jpeg jpegquality-40 %}
{% image page.photo width-400 format-webp webpquality-50 %}
</pre> </section> <section id="generating-image-renditions-in-python"> <h3>Generating image renditions in Python</h3> <p>All of the image transformations mentioned above can also be used directly in Python code. See <a class="reference internal" href="../advanced_topics/images/renditions#image-renditions"><span class="std std-ref">Generating renditions in Python</span></a>.</p> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2014-present Torchbox Ltd and individual contributors.<br>All rights are reserved.<br>Licensed under the BSD License.<br>
    <a href="https://docs.wagtail.org/en/stable/topics/images.html" class="_attribution-link">https://docs.wagtail.org/en/stable/topics/images.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
