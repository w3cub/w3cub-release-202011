
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Directory - Phoenix - W3cubDocs</title>
  
  <meta name="description" content=" Requirement&#58; This guide expects that you have gone through the introductory guides and got a Phoenix application up and running. ">
  <meta name="keywords" content="directory, structure, phoenix">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/phoenix/phoenix/directory_structure.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/phoenix.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/phoenix/" class="_nav-link" title="" style="margin-left:0;">Phoenix</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _elixir">
				
				
<h1>Directory structure</h1>
<blockquote><p><strong>Requirement</strong>: This guide expects that you have gone through the introductory guides and got a Phoenix application up and running.</p></blockquote>
<p>When we use <a href="mix.tasks.phx.new"><code class="inline">mix phx.new</code></a> to generates a new Phoenix application, it builds a top-level directory structure like this:</p>
<pre data-language="elixir">├── _build
├── assets
├── config
├── deps
├── lib
│   └── hello
│   └── hello.ex
│   └── hello_web
│   └── hello_web.ex
├── priv
└── test</pre>
<p>We will go over those directories one by one:</p>
<ul>
<li><p><code class="inline">_build</code> - a directory created by the <code class="inline">mix</code> command line tool that ships as part of Elixir that holds all compilation artefacts. As we have seen in "Up and Running", <code class="inline">mix</code> is the main interface to your application. We use Mix to compile our code, create databases, run our server, and more. This directory must not be checked into version control and it can be removed at any time. Removing it will force Mix to rebuild your application from scratch</p></li>
<li><p><code class="inline">assets</code> - a directory that keeps everything related to front-end assets, such as JavaScript, CSS, static images and more. It is typically handled by the <code class="inline">npm</code> tool. Phoenix developers typically only need to run <code class="inline">npm install</code> inside the assets directory. Everything else is managed by Phoenix</p></li>
<li><p><code class="inline">config</code> - a directory that holds your project configuration. The <code class="inline">config/config.exs</code> file is the main entry point for your configuration. At the end of the <code class="inline">config/config.exs</code>, it imports environment specific configuration, which can be found in <code class="inline">config/dev.exs</code>, <code class="inline">config/test.exs</code>, and <code class="inline">config/prod.exs</code></p></li>
<li><p><code class="inline">deps</code> - a directory with all of our Mix dependencies. You can find all dependencies listed in the <code class="inline">mix.exs</code> file, inside the <code class="inline">def deps do</code> function definition. This directory must not be checked into version control and it can be removed at any time. Removing it will force Mix to download all deps from scratch</p></li>
<li><p><code class="inline">lib</code> - a directory that holds your application source code. This directory is broken into two subdirectories, <code class="inline">lib/hello</code> and <code class="inline">lib/hello_web</code>. The <code class="inline">lib/hello</code> directory will be responsible to host all of your business logic and business domain. It typically interacts directly with the database - it is the "Model" in Model-View-Controller (MVC) architecture. <code class="inline">lib/hello_web</code> is responsible for exposing your business domain to the world, in this case, through a web application. It holds both the View and Controller from MVC. We will discuss the contents of these directories with more detail in the next sections</p></li>
<li><p><code class="inline">priv</code> - a directory that keeps all assets that are necessary in production but are not directly part of your source code. You typically keep database scripts, translation files, and more in here</p></li>
<li><p><code class="inline">test</code> - a directory with all of our application tests. It often mirrors the same structure found in <code class="inline">lib</code></p></li>
</ul>
<h2 id="the-lib-hello-directory" class="section-heading">  The lib/hello directory </h2> <p>The <code class="inline">lib/hello</code> directory hosts all of your business domain. Since our project does not have any business logic yet, the directory is mostly empty. You will only find two files:</p>
<pre data-language="elixir">lib/hello
├── application.ex
└── repo.ex</pre>
<p>The <code class="inline">lib/hello/application.ex</code> file defines an Elixir application named <code class="inline">Hello.Application</code>. That's because at the end of the day Phoenix applications are simply Elixir applications. The <code class="inline">Hello.Application</code> module defines which services are part of our application:</p>
<pre data-language="elixir">children = [
  # Start the Ecto repository
  Hello.Repo,
  # Start the Telemetry supervisor
  HelloWeb.Telemetry,
  # Start the PubSub system
  {Phoenix.PubSub, name: Hello.PubSub},
  # Start the Endpoint (http/https)
  HelloWeb.Endpoint
  # Start a worker by calling: Hello.Worker.start_link(arg)
  # {Hello.Worker, arg}
]</pre>
<p>If it is your first time with Phoenix, you don't need to worry about the details right now. For now, suffice it to say our application starts a database repository, a pubsub system for sharing messages across processes and nodes, and the application endpoint, which effectively serves HTTP requests. These services are started in the order they are defined and, whenever shutting down your application, they are stopped in the reverse order.</p>
<p>You can learn more about applications in <a href="https://hexdocs.pm/elixir/Application.html">Elixir's official docs for Application</a>.</p>
<p>In the same <code class="inline">lib/hello</code> directory, we will find a <code class="inline">lib/hello/repo.ex</code>. It defines a <code class="inline">Hello.Repo</code> module which is our main interface to the database. If you are using Postgres (the default), you will see something like this:</p>
<pre data-language="elixir">defmodule Hello.Repo do
  use Ecto.Repo,
    otp_app: :hello,
    adapter: Ecto.Adapters.Postgres
end</pre>
<p>And that's it for now. As you work on your project, we will add files and modules to this directory.</p>
<h2 id="the-lib-hello_web-directory" class="section-heading">  The lib/hello_web directory </h2> <p>The <code class="inline">lib/hello_web</code> directory holds the web-related parts of our application. It looks like this when expanded:</p>
<pre data-language="elixir">lib/hello_web
├── channels
│   └── user_socket.ex
├── controllers
│   └── page_controller.ex
├── templates
│   ├── layout
│   │   └── app.html.eex
│   └── page
│       └── index.html.eex
├── views
│   ├── error_helpers.ex
│   ├── error_view.ex
│   ├── layout_view.ex
│   └── page_view.ex
├── endpoint.ex
├── gettext.ex
├── router.ex
└── telemetry.ex</pre>
<p>All of the files which are currently in the <code class="inline">controllers</code>, <code class="inline">templates</code>, and <code class="inline">views</code> directories are there to create the "Welcome to Phoenix!" page we saw in the "Up and running" guide. The <code class="inline">channels</code> directory is where we will add code related to building real-time Phoenix applications.</p>
<p>By looking at <code class="inline">templates</code> and <code class="inline">views</code> directories, we can see Phoenix provides features for handling layouts and error pages out of the box.</p>
<p>Besides the directories mentioned, <code class="inline">lib/hello_web</code> has four files at its root. <code class="inline">lib/hello_web/endpoint.ex</code> is the entry-point for HTTP requests. Once the browser accesses <code class="inline">http://localhost:4000</code>, the endpoint starts processing the data, eventually leading to the router, which is defined in <code class="inline">lib/hello_web/router.ex</code>. The router defines the rules to dispatch requests to "controllers", which then uses "views" and "templates" to render HTML pages back to clients. We explore these layers in length in other guides, starting with the "Request life-cycle" guide coming next.</p>
<p>Through <em>telemetry</em>, Phoenix is able to collect metrics and send monitoring events of your application. The <code class="inline">lib/hello_web/telemetry.ex</code> file defines the supervisor responsible for managing the telemetry processes. You can find more information on this topic in the <a href="telemetry">Telemetry guide</a>.</p>
<p>Finally, there is a <code class="inline">lib/hello_web/gettext.ex</code> file which provides internationalization through <a href="https://hexdocs.pm/gettext/Gettext.html">Gettext</a>. If you are not worried about internationalization, you can safely skip this file and its contents.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014 Chris McCord<br>Licensed under the MIT License.<br>
    <a href="https://hexdocs.pm/phoenix/directory_structure.html" class="_attribution-link">https://hexdocs.pm/phoenix/directory_structure.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
