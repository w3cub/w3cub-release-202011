
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Perlport - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content=" perlport - Writing portable Perl ">
  <meta name="keywords" content="perlport, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/perlport.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>perlport</h1>  <ul>
<li><a href="#NAME">NAME</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li>
<a href="#ISSUES">ISSUES</a><ul>
<li><a href="#Newlines">Newlines</a></li>
<li><a href="#Numbers-endianness-and-Width">Numbers endianness and Width</a></li>
<li><a href="#Files-and-Filesystems">Files and Filesystems</a></li>
<li><a href="#System-Interaction">System Interaction</a></li>
<li><a href="#Command-names-versus-file-pathnames">Command names versus file pathnames</a></li>
<li><a href="#Networking">Networking</a></li>
<li><a href="#Interprocess-Communication-(IPC)">Interprocess Communication (IPC)</a></li>
<li><a href="#External-Subroutines-(XS)">External Subroutines (XS)</a></li>
<li><a href="#Standard-Modules">Standard Modules</a></li>
<li><a href="#Time-and-Date">Time and Date</a></li>
<li><a href="#Character-sets-and-character-encoding">Character sets and character encoding</a></li>
<li><a href="#Internationalisation">Internationalisation</a></li>
<li><a href="#System-Resources">System Resources</a></li>
<li><a href="#Security">Security</a></li>
<li><a href="#Style">Style</a></li>
</ul>
</li>
<li><a href="#CPAN-Testers">CPAN Testers</a></li>
<li>
<a href="#PLATFORMS">PLATFORMS</a><ul>
<li><a href="#Unix">Unix</a></li>
<li><a href="#DOS-and-Derivatives">DOS and Derivatives</a></li>
<li><a href="#VMS">VMS</a></li>
<li><a href="#VOS">VOS</a></li>
<li><a href="#EBCDIC-Platforms">EBCDIC Platforms</a></li>
<li><a href="#Acorn-RISC-OS">Acorn RISC OS</a></li>
<li><a href="#Other-perls">Other perls</a></li>
</ul>
</li>
<li>
<a href="#FUNCTION-IMPLEMENTATIONS">FUNCTION IMPLEMENTATIONS</a><ul><li><a href="#Alphabetical-Listing-of-Perl-Functions">Alphabetical Listing of Perl Functions</a></li></ul>
</li>
<li><a href="#Supported-Platforms">Supported Platforms</a></li>
<li>
<a href="#EOL-Platforms">EOL Platforms</a><ul>
<li><a href="#(Perl-5.20)">(Perl 5.20)</a></li>
<li><a href="#(Perl-5.14)">(Perl 5.14)</a></li>
<li><a href="#(Perl-5.12)">(Perl 5.12)</a></li>
</ul>
</li>
<li><a href="#Supported-Platforms-(Perl-5.8)">Supported Platforms (Perl 5.8)</a></li>
<li><a href="#SEE-ALSO">SEE ALSO</a></li>
<li><a href="#AUTHORS-%2f-CONTRIBUTORS">AUTHORS / CONTRIBUTORS</a></li>
</ul>
<h2 id="NAME">NAME</h2> <p>perlport - Writing portable Perl</p> <h2 id="DESCRIPTION">DESCRIPTION</h2> <p>Perl runs on numerous operating systems. While most of them share much in common, they also have their own unique features.</p> <p>This document is meant to help you to find out what constitutes portable Perl code. That way once you make a decision to write portably, you know where the lines are drawn, and you can stay within them.</p> <p>There is a tradeoff between taking full advantage of one particular type of computer and taking advantage of a full range of them. Naturally, as you broaden your range and become more diverse, the common factors drop, and you are left with an increasingly smaller area of common ground in which you can operate to accomplish a particular task. Thus, when you begin attacking a problem, it is important to consider under which part of the tradeoff curve you want to operate. Specifically, you must decide whether it is important that the task that you are coding has the full generality of being portable, or whether to just get the job done right now. This is the hardest choice to be made. The rest is easy, because Perl provides many choices, whichever way you want to approach your problem.</p> <p>Looking at it another way, writing portable code is usually about willfully limiting your available choices. Naturally, it takes discipline and sacrifice to do that. The product of portability and convenience may be a constant. You have been warned.</p> <p>Be aware of two important points:</p> <ul> <li id="Not-all-Perl-programs-have-to-be-portable">
<b>Not all Perl programs have to be portable</b> <p>There is no reason you should not use Perl as a language to glue Unix tools together, or to prototype a Macintosh application, or to manage the Windows registry. If it makes no sense to aim for portability for one reason or another in a given program, then don't bother.</p> </li> <li id="Nearly-all-of-Perl-already-_is_-portable">
<b>Nearly all of Perl already <i>is</i> portable</b> <p>Don't be fooled into thinking that it is hard to create portable Perl code. It isn't. Perl tries its level-best to bridge the gaps between what's available on different platforms, and all the means available to use those features. Thus almost all Perl code runs on any machine without modification. But there are some significant issues in writing portable code, and this document is entirely about those issues.</p> </li> </ul> <p>Here's the general rule: When you approach a task commonly done using a whole range of platforms, think about writing portable code. That way, you don't sacrifice much by way of the implementation choices you can avail yourself of, and at the same time you can give your users lots of platform choices. On the other hand, when you have to take advantage of some unique feature of a particular platform, as is often the case with systems programming (whether for Unix, Windows, VMS, etc.), consider writing platform-specific code.</p> <p>When the code will run on only two or three operating systems, you may need to consider only the differences of those particular systems. The important thing is to decide where the code will run and to be deliberate in your decision.</p> <p>The material below is separated into three main sections: main issues of portability (<a href="#ISSUES">ISSUES</a>), platform-specific issues (<a href="#PLATFORMS">PLATFORMS</a>), and built-in Perl functions that behave differently on various ports (<a href="#FUNCTION-IMPLEMENTATIONS">FUNCTION IMPLEMENTATIONS</a>).</p> <p>This information should not be considered complete; it includes possibly transient information about idiosyncrasies of some of the ports, almost all of which are in a state of constant evolution. Thus, this material should be considered a perpetual work in progress (<code class="inline"><span class="q">&lt;IMG SRC="yellow_sign.gif" ALT="Under Construction"&gt;</span></code> ).</p> <h2 id="ISSUES">ISSUES</h2> <h3 id="Newlines">Newlines</h3> <p>In most operating systems, lines in files are terminated by newlines. Just what is used as a newline may vary from OS to OS. Unix traditionally uses <code class="inline">\<span class="n">012</span></code> , one type of DOSish I/O uses <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> , Mac OS uses <code class="inline">\<span class="n">015</span></code> , and z/OS uses <code class="inline">\<span class="n">025</span></code> .</p> <p>Perl uses <code class="inline">\<span class="w">n</span></code> to represent the "logical" newline, where what is logical may depend on the platform in use. In MacPerl, <code class="inline">\<span class="w">n</span></code> always means <code class="inline">\<span class="n">015</span></code> . On EBCDIC platforms, <code class="inline">\<span class="w">n</span></code> could be <code class="inline">\<span class="n">025</span></code> or <code class="inline">\<span class="n">045</span></code> . In DOSish perls, <code class="inline">\<span class="w">n</span></code> usually means <code class="inline">\<span class="n">012</span></code> , but when accessing a file in "text" mode, perl uses the <code class="inline"><span class="j">:</span><span class="w">crlf</span></code> layer that translates it to (or from) <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> , depending on whether you're reading or writing. Unix does the same thing on ttys in canonical mode. <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> is commonly referred to as CRLF.</p> <p>To trim trailing newlines from text lines use <code class="inline"><a class="l_k" href="functions/chomp">chomp()</a></code>. With default settings that function looks for a trailing <code class="inline">\<span class="w">n</span></code> character and thus trims in a portable way.</p> <p>When dealing with binary files (or text files in binary mode) be sure to explicitly set $/ to the appropriate value for your file format before using <code class="inline"><a class="l_k" href="functions/chomp">chomp()</a></code>.</p> <p>Because of the "text" mode translation, DOSish perls have limitations in using <code class="inline"><a class="l_k" href="functions/seek">seek</a></code> and <code class="inline"><a class="l_k" href="functions/tell">tell</a></code> on a file accessed in "text" mode. Stick to <code class="inline"><a class="l_k" href="functions/seek">seek</a></code>-ing to locations you got from <code class="inline"><a class="l_k" href="functions/tell">tell</a></code> (and no others), and you are usually free to use <code class="inline"><a class="l_k" href="functions/seek">seek</a></code> and <code class="inline"><a class="l_k" href="functions/tell">tell</a></code> even in "text" mode. Using <code class="inline"><a class="l_k" href="functions/seek">seek</a></code> or <code class="inline"><a class="l_k" href="functions/tell">tell</a></code> or other file operations may be non-portable. If you use <code class="inline"><a class="l_k" href="functions/binmode">binmode</a></code> on a file, however, you can usually <code class="inline"><a class="l_k" href="functions/seek">seek</a></code> and <code class="inline"><a class="l_k" href="functions/tell">tell</a></code> with arbitrary values safely.</p> <p>A common misconception in socket programming is that <code class="inline">\<span class="w">n</span> <a class="l_k" href="functions/eq">eq</a> \<span class="n">012</span></code> everywhere. When using protocols such as common Internet protocols, <code class="inline">\<span class="n">012</span></code> and <code class="inline">\<span class="n">015</span></code> are called for specifically, and the values of the logical <code class="inline">\<span class="w">n</span></code> and <code class="inline">\<span class="w">r</span></code> (carriage return) are not reliable.</p> <pre class="verbatim" data-language="perl">print SOCKET "Hi there, client!\r\n";      # WRONG
print SOCKET "Hi there, client!\015\012";  # RIGHT
</pre>
<p>However, using <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> (or <code class="inline">\<span class="w">cM</span>\<span class="w">cJ</span></code> , or <code class="inline">\<span class="w">x0D</span>\<span class="w">x0A</span></code> ) can be tedious and unsightly, as well as confusing to those maintaining the code. As such, the <code class="inline"><span class="w">Socket</span></code> module supplies the Right Thing for those who want it.</p> <pre class="verbatim" data-language="perl">use Socket qw(:DEFAULT :crlf);
print SOCKET "Hi there, client!$CRLF"      # RIGHT
</pre>
<p>When reading from a socket, remember that the default input record separator <code class="inline"><span class="i">$/</span></code> is <code class="inline">\<span class="w">n</span></code> , but robust socket code will recognize as either <code class="inline">\<span class="n">012</span></code> or <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> as end of line:</p> <pre class="verbatim" data-language="perl">while (&lt;SOCKET&gt;) {  # NOT ADVISABLE!
    # ...
}
</pre>
<p>Because both CRLF and LF end in LF, the input record separator can be set to LF and any CR stripped later. Better to write:</p> <pre class="verbatim" data-language="perl">use Socket qw(:DEFAULT :crlf);
local($/) = LF;      # not needed if $/ is already \012

while (&lt;SOCKET&gt;) {
    s/$CR?$LF/\n/;   # not sure if socket uses LF or CRLF, OK
#   s/\015?\012/\n/; # same thing
}
</pre>
<p>This example is preferred over the previous one--even for Unix platforms--because now any <code class="inline">\<span class="n">015</span></code> 's (<code class="inline">\<span class="w">cM</span></code> 's) are stripped out (and there was much rejoicing).</p> <p>Similarly, functions that return text data--such as a function that fetches a web page--should sometimes translate newlines before returning the data, if they've not yet been translated to the local newline representation. A single line of code will often suffice:</p> <pre class="verbatim" data-language="perl">$data =~ s/\015?\012/\n/g;
return $data;
</pre>
<p>Some of this may be confusing. Here's a handy reference to the ASCII CR and LF characters. You can print it out and stick it in your wallet.</p> <pre class="verbatim" data-language="perl">LF  eq  \012  eq  \x0A  eq  \cJ  eq  chr(10)  eq  ASCII 10
CR  eq  \015  eq  \x0D  eq  \cM  eq  chr(13)  eq  ASCII 13

         | Unix | DOS  | Mac  |
    ---------------------------
    \n   |  LF  |  LF  |  CR  |
    \r   |  CR  |  CR  |  LF  |
    \n * |  LF  | CRLF |  CR  |
    \r * |  CR  |  CR  |  LF  |
    ---------------------------
    * text-mode STDIO
</pre>
<p>The Unix column assumes that you are not accessing a serial line (like a tty) in canonical mode. If you are, then CR on input becomes "\n", and "\n" on output becomes CRLF.</p> <p>These are just the most common definitions of <code class="inline">\<span class="w">n</span></code> and <code class="inline">\<span class="w">r</span></code> in Perl. There may well be others. For example, on an EBCDIC implementation such as z/OS (OS/390) or OS/400 (using the ILE, the PASE is ASCII-based) the above material is similar to "Unix" but the code numbers change:</p> <pre class="verbatim" data-language="perl">LF  eq  \025  eq  \x15  eq  \cU  eq  chr(21)  eq  CP-1047 21
LF  eq  \045  eq  \x25  eq           chr(37)  eq  CP-0037 37
CR  eq  \015  eq  \x0D  eq  \cM  eq  chr(13)  eq  CP-1047 13
CR  eq  \015  eq  \x0D  eq  \cM  eq  chr(13)  eq  CP-0037 13

         | z/OS | OS/400 |
    ----------------------
    \n   |  LF  |  LF    |
    \r   |  CR  |  CR    |
    \n * |  LF  |  LF    |
    \r * |  CR  |  CR    |
    ----------------------
    * text-mode STDIO
</pre>
<h3 id="Numbers-endianness-and-Width">Numbers endianness and Width</h3> <p>Different CPUs store integers and floating point numbers in different orders (called <i>endianness</i>) and widths (32-bit and 64-bit being the most common today). This affects your programs when they attempt to transfer numbers in binary format from one CPU architecture to another, usually either "live" via network connection, or by storing the numbers to secondary storage such as a disk file or tape.</p> <p>Conflicting storage orders make an utter mess out of the numbers. If a little-endian host (Intel, VAX) stores 0x12345678 (305419896 in decimal), a big-endian host (Motorola, Sparc, PA) reads it as 0x78563412 (2018915346 in decimal). Alpha and MIPS can be either: Digital/Compaq used/uses them in little-endian mode; SGI/Cray uses them in big-endian mode. To avoid this problem in network (socket) connections use the <code class="inline"><a class="l_k" href="functions/pack">pack</a></code> and <code class="inline"><a class="l_k" href="functions/unpack">unpack</a></code> formats <code class="inline"><span class="w">n</span></code> and <code class="inline"><span class="w">N</span></code> , the "network" orders. These are guaranteed to be portable.</p> <p>As of Perl 5.10.0, you can also use the <code class="inline">&gt;</code> and <code class="inline">&lt;</code> modifiers to force big- or little-endian byte-order. This is useful if you want to store signed integers or 64-bit integers, for example.</p> <p>You can explore the endianness of your platform by unpacking a data structure packed in native format such as:</p> <pre class="verbatim" data-language="perl">print unpack("h*", pack("s2", 1, 2)), "\n";
# '10002000' on e.g. Intel x86 or Alpha 21064 in little-endian mode
# '00100020' on e.g. Motorola 68040
</pre>
<p>If you need to distinguish between endian architectures you could use either of the variables set like so:</p> <pre class="verbatim" data-language="perl">$is_big_endian   = unpack("h*", pack("s", 1)) =~ /01/;
$is_little_endian = unpack("h*", pack("s", 1)) =~ /^1/;
</pre>
<p>Differing widths can cause truncation even between platforms of equal endianness. The platform of shorter width loses the upper parts of the number. There is no good solution for this problem except to avoid transferring or storing raw binary numbers.</p> <p>One can circumnavigate both these problems in two ways. Either transfer and store numbers always in text format, instead of raw binary, or else consider using modules like <code class="inline"><span class="w">Data::Dumper</span></code> and <code class="inline"><span class="w">Storable</span></code> (included as of Perl 5.8). Keeping all data as text significantly simplifies matters.</p> <p>The v-strings are portable only up to v2147483647 (0x7FFF_FFFF), that's how far EBCDIC, or more precisely UTF-EBCDIC will go.</p> <h3 id="Files-and-Filesystems">Files and Filesystems</h3> <p>Most platforms these days structure files in a hierarchical fashion. So, it is reasonably safe to assume that all platforms support the notion of a "path" to uniquely identify a file on the system. How that path is really written, though, differs considerably.</p> <p>Although similar, file path specifications differ between Unix, Windows, Mac OS, OS/2, VMS, VOS, RISC OS, and probably others. Unix, for example, is one of the few OSes that has the elegant idea of a single root directory.</p> <p>DOS, OS/2, VMS, VOS, and Windows can work similarly to Unix with <code class="inline">/</code> as path separator, or in their own idiosyncratic ways (such as having several root directories and various "unrooted" device files such NIL: and LPT:).</p> <p>Mac OS 9 and earlier used <code class="inline"><span class="j">:</span></code> as a path separator instead of <code class="inline">/</code>.</p> <p>The filesystem may support neither hard links (<code class="inline"><a class="l_k" href="functions/link">link</a></code>) nor symbolic links (<code class="inline"><a class="l_k" href="functions/symlink">symlink</a></code>, <code class="inline"><a class="l_k" href="functions/readlink">readlink</a></code>, <code class="inline"><a class="l_k" href="functions/lstat">lstat</a></code>).</p> <p>The filesystem may support neither access timestamp nor change timestamp (meaning that about the only portable timestamp is the modification timestamp), or one second granularity of any timestamps (e.g. the FAT filesystem limits the time granularity to two seconds).</p> <p>The "inode change timestamp" (the <code class="inline">-C</code> filetest) may really be the "creation timestamp" (which it is not in Unix).</p> <p>VOS perl can emulate Unix filenames with <code class="inline">/</code> as path separator. The native pathname characters greater-than, less-than, number-sign, and percent-sign are always accepted.</p> <p>RISC OS perl can emulate Unix filenames with <code class="inline">/</code> as path separator, or go native and use <code class="inline">.</code> for path separator and <code class="inline"><span class="j">:</span></code> to signal filesystems and disk names.</p> <p>Don't assume Unix filesystem access semantics: that read, write, and execute are all the permissions there are, and even if they exist, that their semantics (for example what do <code class="inline"><span class="q">"r"</span></code> , <code class="inline"><span class="q">"w"</span></code> , and <code class="inline"><span class="q">"x"</span></code> mean on a directory) are the Unix ones. The various Unix/POSIX compatibility layers usually try to make interfaces like <code class="inline"><a class="l_k" href="functions/chmod">chmod()</a></code> work, but sometimes there simply is no good mapping.</p> <p>If all this is intimidating, have no (well, maybe only a little) fear. There are modules that can help. The <code class="inline"><span class="w">File::Spec</span></code> modules provide methods to do the Right Thing on whatever platform happens to be running the program.</p> <pre class="verbatim" data-language="perl">use File::Spec::Functions;
chdir(updir());        # go up one directory
my $file = catfile(curdir(), 'temp', 'file.txt');
# on Unix and Win32, './temp/file.txt'
# on Mac OS Classic, ':temp:file.txt'
# on VMS, '[.temp]file.txt'
</pre>
<p><code class="inline"><span class="w">File::Spec</span></code> is available in the standard distribution as of version 5.004_05. <code class="inline"><span class="w">File::Spec::Functions</span></code> is only in <code class="inline"><span class="w">File::Spec</span></code> 0.7 and later, and some versions of Perl come with version 0.6. If <code class="inline"><span class="w">File::Spec</span></code> is not updated to 0.7 or later, you must use the object-oriented interface from <code class="inline"><span class="w">File::Spec</span></code> (or upgrade <code class="inline"><span class="w">File::Spec</span></code> ).</p> <p>In general, production code should not have file paths hardcoded. Making them user-supplied or read from a configuration file is better, keeping in mind that file path syntax varies on different machines.</p> <p>This is especially noticeable in scripts like Makefiles and test suites, which often assume <code class="inline">/</code> as a path separator for subdirectories.</p> <p>Also of use is <code class="inline"><span class="w">File::Basename</span></code> from the standard distribution, which splits a pathname into pieces (base filename, full path to directory, and file suffix).</p> <p>Even when on a single platform (if you can call Unix a single platform), remember not to count on the existence or the contents of particular system-specific files or directories, like <i>/etc/passwd</i>, <i>/etc/sendmail.conf</i>, <i>/etc/resolv.conf</i>, or even <i>/tmp/</i>. For example, <i>/etc/passwd</i> may exist but not contain the encrypted passwords, because the system is using some form of enhanced security. Or it may not contain all the accounts, because the system is using NIS. If code does need to rely on such a file, include a description of the file and its format in the code's documentation, then make it easy for the user to override the default location of the file.</p> <p>Don't assume a text file will end with a newline. They should, but people forget.</p> <p>Do not have two files or directories of the same name with different case, like <i>test.pl</i> and <i>Test.pl</i>, as many platforms have case-insensitive (or at least case-forgiving) filenames. Also, try not to have non-word characters (except for <code class="inline">.</code>) in the names, and keep them to the 8.3 convention, for maximum portability, onerous a burden though this may appear.</p> <p>Likewise, when using the <code class="inline"><span class="w">AutoSplit</span></code> module, try to keep your functions to 8.3 naming and case-insensitive conventions; or, at the least, make it so the resulting files have a unique (case-insensitively) first 8 characters.</p> <p>Whitespace in filenames is tolerated on most systems, but not all, and even on systems where it might be tolerated, some utilities might become confused by such whitespace.</p> <p>Many systems (DOS, VMS ODS-2) cannot have more than one <code class="inline">.</code> in their filenames.</p> <p>Don't assume <code class="inline">&gt;</code> won't be the first character of a filename. Always use <code class="inline">&lt;</code> explicitly to open a file for reading, or even better, use the three-arg version of <code class="inline"><a class="l_k" href="functions/open">open</a></code>, unless you want the user to be able to specify a pipe open.</p> <pre class="verbatim" data-language="perl">open my $fh, '&lt;', $existing_file) or die $!;
</pre>
<p>If filenames might use strange characters, it is safest to open it with <code class="inline"><a class="l_k" href="functions/sysopen">sysopen</a></code> instead of <code class="inline"><a class="l_k" href="functions/open">open</a></code>. <code class="inline"><a class="l_k" href="functions/open">open</a></code> is magic and can translate characters like <code class="inline">&gt;</code>, <code class="inline">&lt;</code> , and <code class="inline">|</code>, which may be the wrong thing to do. (Sometimes, though, it's the right thing.) Three-arg open can also help protect against this translation in cases where it is undesirable.</p> <p>Don't use <code class="inline"><span class="j">:</span></code> as a part of a filename since many systems use that for their own semantics (Mac OS Classic for separating pathname components, many networking schemes and utilities for separating the nodename and the pathname, and so on). For the same reasons, avoid <code class="inline"><span class="i">@</span></code> , <code class="inline"><span class="sc">;</span></code> and <code class="inline">|</code>.</p> <p>Don't assume that in pathnames you can collapse two leading slashes <code class="inline"><span class="q">//</span></code> into one: some networking and clustering filesystems have special semantics for that. Let the operating system sort it out.</p> <p>The <i>portable filename characters</i> as defined by ANSI C are</p> <pre class="verbatim" data-language="perl">a b c d e f g h i j k l m n o p q r t u v w x y z
A B C D E F G H I J K L M N O P Q R T U V W X Y Z
0 1 2 3 4 5 6 7 8 9
. _ -
</pre>
<p>and the <code class="inline"><span class="q">"-"</span></code> shouldn't be the first character. If you want to be hypercorrect, stay case-insensitive and within the 8.3 naming convention (all the files and directories have to be unique within one directory if their names are lowercased and truncated to eight characters before the <code class="inline">.</code>, if any, and to three characters after the <code class="inline">.</code>, if any). (And do not use <code class="inline">.</code>s in directory names.)</p> <h3 id="System-Interaction">System Interaction</h3> <p>Not all platforms provide a command line. These are usually platforms that rely primarily on a Graphical User Interface (GUI) for user interaction. A program requiring a command line interface might not work everywhere. This is probably for the user of the program to deal with, so don't stay up late worrying about it.</p> <p>Some platforms can't delete or rename files held open by the system, this limitation may also apply to changing filesystem metainformation like file permissions or owners. Remember to <code class="inline"><a class="l_k" href="functions/close">close</a></code> files when you are done with them. Don't <code class="inline"><a class="l_k" href="functions/unlink">unlink</a></code> or <code class="inline"><a class="l_k" href="functions/rename">rename</a></code> an open file. Don't <code class="inline"><a class="l_k" href="functions/tie">tie</a></code> or <code class="inline"><a class="l_k" href="functions/open">open</a></code> a file already tied or opened; <code class="inline"><a class="l_k" href="functions/untie">untie</a></code> or <code class="inline"><a class="l_k" href="functions/close">close</a></code> it first.</p> <p>Don't open the same file more than once at a time for writing, as some operating systems put mandatory locks on such files.</p> <p>Don't assume that write/modify permission on a directory gives the right to add or delete files/directories in that directory. That is filesystem specific: in some filesystems you need write/modify permission also (or even just) in the file/directory itself. In some filesystems (AFS, DFS) the permission to add/delete directory entries is a completely separate permission.</p> <p>Don't assume that a single <code class="inline"><a class="l_k" href="functions/unlink">unlink</a></code> completely gets rid of the file: some filesystems (most notably the ones in VMS) have versioned filesystems, and <code class="inline"><a class="l_k" href="functions/unlink">unlink()</a></code> removes only the most recent one (it doesn't remove all the versions because by default the native tools on those platforms remove just the most recent version, too). The portable idiom to remove all the versions of a file is</p> <pre class="verbatim" data-language="perl">1 while unlink "file";
</pre>
<p>This will terminate if the file is undeleteable for some reason (protected, not there, and so on).</p> <p>Don't count on a specific environment variable existing in <code class="inline"><span class="i">%ENV</span></code> . Don't count on <code class="inline"><span class="i">%ENV</span></code> entries being case-sensitive, or even case-preserving. Don't try to clear <code class="inline"><span class="i">%ENV</span></code> by saying <code class="inline"><span class="i">%ENV</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span></code> , or, if you really have to, make it conditional on <code class="inline"><span class="i">$^O</span> ne <span class="q">'VMS'</span></code> since in VMS the <code class="inline"><span class="i">%ENV</span></code> table is much more than a per-process key-value string table.</p> <p>On VMS, some entries in the <code class="inline"><span class="i">%ENV</span></code> hash are dynamically created when their key is used on a read if they did not previously exist. The values for <code class="inline"><span class="i">$ENV</span>{<span class="w">HOME</span>}</code> , <code class="inline"><span class="i">$ENV</span>{<span class="w">TERM</span>}</code> , <code class="inline"><span class="i">$ENV</span>{<span class="w">PATH</span>}</code> , and <code class="inline"><span class="i">$ENV</span>{<span class="w">USER</span>}</code> , are known to be dynamically generated. The specific names that are dynamically generated may vary with the version of the C library on VMS, and more may exist than are documented.</p> <p>On VMS by default, changes to the %ENV hash persist after perl exits. Subsequent invocations of perl in the same process can inadvertently inherit environment settings that were meant to be temporary.</p> <p>Don't count on signals or <code class="inline"><span class="i">%SIG</span></code> for anything.</p> <p>Don't count on filename globbing. Use <code class="inline"><a class="l_k" href="functions/opendir">opendir</a></code>, <code class="inline"><a class="l_k" href="functions/readdir">readdir</a></code>, and <code class="inline"><a class="l_k" href="functions/closedir">closedir</a></code> instead.</p> <p>Don't count on per-program environment variables, or per-program current directories.</p> <p>Don't count on specific values of <code class="inline"><span class="i">$!</span></code> , neither numeric nor especially the string values. Users may switch their locales causing error messages to be translated into their languages. If you can trust a POSIXish environment, you can portably use the symbols defined by the <code class="inline"><span class="w">Errno</span></code> module, like <code class="inline"><span class="w">ENOENT</span></code> . And don't trust on the values of <code class="inline"><span class="i">$!</span></code> at all except immediately after a failed system call.</p> <h3 id="Command-names-versus-file-pathnames">Command names versus file pathnames</h3> <p>Don't assume that the name used to invoke a command or program with <code class="inline"><a class="l_k" href="functions/system">system</a></code> or <code class="inline"><a class="l_k" href="functions/exec">exec</a></code> can also be used to test for the existence of the file that holds the executable code for that command or program. First, many systems have "internal" commands that are built-in to the shell or OS and while these commands can be invoked, there is no corresponding file. Second, some operating systems (e.g., Cygwin, DJGPP, OS/2, and VOS) have required suffixes for executable files; these suffixes are generally permitted on the command name but are not required. Thus, a command like <i>"perl"</i> might exist in a file named <i>"perl"</i>, <i>"perl.exe"</i>, or <i>"perl.pm"</i>, depending on the operating system. The variable <code class="inline"><span class="q">"_exe"</span></code> in the <code class="inline"><span class="w">Config</span></code> module holds the executable suffix, if any. Third, the VMS port carefully sets up <code class="inline"><span class="i">$^X</span></code> and <code class="inline"><span class="i">$Config</span>{<span class="w">perlpath</span>}</code> so that no further processing is required. This is just as well, because the matching regular expression used below would then have to deal with a possible trailing version number in the VMS file name.</p> <p>To convert <code class="inline"><span class="i">$^X</span></code> to a file pathname, taking account of the requirements of the various operating system possibilities, say:</p> <pre class="verbatim" data-language="perl">use Config;
my $thisperl = $^X;
if ($^O ne 'VMS')
   {$thisperl .= $Config{_exe} unless $thisperl =~ m/$Config{_exe}$/i;}
</pre>
<p>To convert <code class="inline"><span class="i">$Config</span>{<span class="w">perlpath</span>}</code> to a file pathname, say:</p> <pre class="verbatim" data-language="perl">use Config;
my $thisperl = $Config{perlpath};
if ($^O ne 'VMS')
   {$thisperl .= $Config{_exe} unless $thisperl =~ m/$Config{_exe}$/i;}
</pre>
<h3 id="Networking">Networking</h3> <p>Don't assume that you can reach the public Internet.</p> <p>Don't assume that there is only one way to get through firewalls to the public Internet.</p> <p>Don't assume that you can reach outside world through any other port than 80, or some web proxy. ftp is blocked by many firewalls.</p> <p>Don't assume that you can send email by connecting to the local SMTP port.</p> <p>Don't assume that you can reach yourself or any node by the name 'localhost'. The same goes for '127.0.0.1'. You will have to try both.</p> <p>Don't assume that the host has only one network card, or that it can't bind to many virtual IP addresses.</p> <p>Don't assume a particular network device name.</p> <p>Don't assume a particular set of <code class="inline"><a class="l_k" href="functions/ioctl">ioctl()</a></code>s will work.</p> <p>Don't assume that you can ping hosts and get replies.</p> <p>Don't assume that any particular port (service) will respond.</p> <p>Don't assume that <code class="inline"><span class="w">Sys::Hostname</span></code> (or any other API or command) returns either a fully qualified hostname or a non-qualified hostname: it all depends on how the system had been configured. Also remember that for things such as DHCP and NAT, the hostname you get back might not be very useful.</p> <p>All the above "don't":s may look daunting, and they are, but the key is to degrade gracefully if one cannot reach the particular network service one wants. Croaking or hanging do not look very professional.</p> <h3 id="Interprocess-Communication-(IPC)">Interprocess Communication (IPC)</h3> <p>In general, don't directly access the system in code meant to be portable. That means, no <code class="inline"><a class="l_k" href="functions/system">system</a></code>, <code class="inline"><a class="l_k" href="functions/exec">exec</a></code>, <code class="inline"><a class="l_k" href="functions/fork">fork</a></code>, <code class="inline"><a class="l_k" href="functions/pipe">pipe</a></code>, <code class="inline"><span class="q">``</span></code> , <code class="inline"><a class="l_k" href="functions/qx">qx//</a></code>, <code class="inline"><a class="l_k" href="functions/open">open</a></code> with a <code class="inline">|</code>, nor any of the other things that makes being a Perl hacker worth being.</p> <p>Commands that launch external processes are generally supported on most platforms (though many of them do not support any type of forking). The problem with using them arises from what you invoke them on. External tools are often named differently on different platforms, may not be available in the same location, might accept different arguments, can behave differently, and often present their results in a platform-dependent way. Thus, you should seldom depend on them to produce consistent results. (Then again, if you're calling <i>netstat -a</i>, you probably don't expect it to run on both Unix and CP/M.)</p> <p>One especially common bit of Perl code is opening a pipe to <b>sendmail</b>:</p> <pre class="verbatim" data-language="perl">    open(MAIL, '|/usr/lib/sendmail -t')
or die "cannot fork sendmail: $!";
</pre>
<p>This is fine for systems programming when sendmail is known to be available. But it is not fine for many non-Unix systems, and even some Unix systems that may not have sendmail installed. If a portable solution is needed, see the various distributions on CPAN that deal with it. <code class="inline"><span class="w">Mail::Mailer</span></code> and <code class="inline"><span class="w">Mail::Send</span></code> in the <code class="inline"><span class="w">MailTools</span></code> distribution are commonly used, and provide several mailing methods, including <code class="inline"><span class="w">mail</span></code> , <code class="inline"><span class="w">sendmail</span></code> , and direct SMTP (via <code class="inline"><span class="w">Net::SMTP</span></code> ) if a mail transfer agent is not available. <code class="inline"><span class="w">Mail::Sendmail</span></code> is a standalone module that provides simple, platform-independent mailing.</p> <p>The Unix System V IPC (<code class="inline"><span class="w">msg</span>*<span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="w">sem</span>*<span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="w">shm</span>*<span class="s">(</span><span class="s">)</span></code> ) is not available even on all Unix platforms.</p> <p>Do not use either the bare result of <code class="inline"><a class="l_k" href="functions/pack">pack</a><span class="s">(</span><span class="q">"N"</span><span class="cm">,</span> <span class="n">10</span><span class="cm">,</span> <span class="n">20</span><span class="cm">,</span> <span class="n">30</span><span class="cm">,</span> <span class="n">40</span><span class="s">)</span></code> or bare v-strings (such as <code class="inline"><span class="v">v10.20.30.40</span></code> ) to represent IPv4 addresses: both forms just pack the four bytes into network order. That this would be equal to the C language <code class="inline"><span class="w">in_addr</span></code> struct (which is what the socket code internally uses) is not guaranteed. To be portable use the routines of the <code class="inline"><span class="w">Socket</span></code> extension, such as <code class="inline"><span class="i">inet_aton</span><span class="s">(</span><span class="s">)</span></code> , <code class="inline"><span class="i">inet_ntoa</span><span class="s">(</span><span class="s">)</span></code> , and <code class="inline"><span class="i">sockaddr_in</span><span class="s">(</span><span class="s">)</span></code> .</p> <p>The rule of thumb for portable code is: Do it all in portable Perl, or use a module (that may internally implement it with platform-specific code, but exposes a common interface).</p> <h3 id="External-Subroutines-(XS)">External Subroutines (XS)</h3> <p>XS code can usually be made to work with any platform, but dependent libraries, header files, etc., might not be readily available or portable, or the XS code itself might be platform-specific, just as Perl code might be. If the libraries and headers are portable, then it is normally reasonable to make sure the XS code is portable, too.</p> <p>A different type of portability issue arises when writing XS code: availability of a C compiler on the end-user's system. C brings with it its own portability issues, and writing XS code will expose you to some of those. Writing purely in Perl is an easier way to achieve portability.</p> <h3 id="Standard-Modules">Standard Modules</h3> <p>In general, the standard modules work across platforms. Notable exceptions are the <code class="inline"><span class="w">CPAN</span></code> module (which currently makes connections to external programs that may not be available), platform-specific modules (like <code class="inline"><span class="w">ExtUtils::MM_VMS</span></code> ), and DBM modules.</p> <p>There is no one DBM module available on all platforms. <code class="inline"><span class="w">SDBM_File</span></code> and the others are generally available on all Unix and DOSish ports, but not in MacPerl, where only <code class="inline"><span class="w">NDBM_File</span></code> and <code class="inline"><span class="w">DB_File</span></code> are available.</p> <p>The good news is that at least some DBM module should be available, and <code class="inline"><span class="w">AnyDBM_File</span></code> will use whichever module it can find. Of course, then the code needs to be fairly strict, dropping to the greatest common factor (e.g., not exceeding 1K for each record), so that it will work with any DBM module. See <a href="anydbm_file">AnyDBM_File</a> for more details.</p> <h3 id="Time-and-Date">Time and Date</h3> <p>The system's notion of time of day and calendar date is controlled in widely different ways. Don't assume the timezone is stored in <code class="inline"><span class="i">$ENV</span>{<span class="w">TZ</span>}</code> , and even if it is, don't assume that you can control the timezone through that variable. Don't assume anything about the three-letter timezone abbreviations (for example that MST would be the Mountain Standard Time, it's been known to stand for Moscow Standard Time). If you need to use timezones, express them in some unambiguous format like the exact number of minutes offset from UTC, or the POSIX timezone format.</p> <p>Don't assume that the epoch starts at 00:00:00, January 1, 1970, because that is OS- and implementation-specific. It is better to store a date in an unambiguous representation. The ISO 8601 standard defines YYYY-MM-DD as the date format, or YYYY-MM-DDTHH:MM:SS (that's a literal "T" separating the date from the time). Please do use the ISO 8601 instead of making us guess what date 02/03/04 might be. ISO 8601 even sorts nicely as-is. A text representation (like "1987-12-18") can be easily converted into an OS-specific value using a module like <code class="inline"><span class="w">Date::Parse</span></code> . An array of values, such as those returned by <code class="inline"><a class="l_k" href="functions/localtime">localtime</a></code>, can be converted to an OS-specific representation using <code class="inline"><span class="w">Time::Local</span></code> .</p> <p>When calculating specific times, such as for tests in time or date modules, it may be appropriate to calculate an offset for the epoch.</p> <pre class="verbatim" data-language="perl">require Time::Local;
my $offset = Time::Local::timegm(0, 0, 0, 1, 0, 70);
</pre>
<p>The value for <code class="inline"><span class="i">$offset</span></code> in Unix will be <code class="inline"><span class="n">0</span></code> , but in Mac OS Classic will be some large number. <code class="inline"><span class="i">$offset</span></code> can then be added to a Unix time value to get what should be the proper value on any system.</p> <h3 id="Character-sets-and-character-encoding">Character sets and character encoding</h3> <p>Assume very little about character sets.</p> <p>Assume nothing about numerical values (<code class="inline"><a class="l_k" href="functions/ord">ord</a></code>, <code class="inline"><a class="l_k" href="functions/chr">chr</a></code>) of characters. Do not use explicit code point ranges (like <code class="inline">\<span class="w">xHH</span>-\<span class="w">xHH</span><span class="p">)</span></code> . However, starting in Perl v5.22, regular expression pattern bracketed character class ranges specified like <code class="inline"><a class="l_k" href="functions/qr">qr/[\N{U+HH}-\N{U+HH}]/</a></code> are portable. You can portably use symbolic character classes like <code class="inline">[:print:]</code>.</p> <p>Do not assume that the alphabetic characters are encoded contiguously (in the numeric sense). There may be gaps. Special coding in Perl, however, guarantees that all subsets of <code class="inline"><a class="l_k" href="functions/qr">qr/[A-Z]/</a></code>, <code class="inline"><a class="l_k" href="functions/qr">qr/[a-z]/</a></code>, and <code class="inline"><a class="l_k" href="functions/qr">qr/[0-9]/</a></code> behave as expected. <code class="inline"><a class="l_k" href="functions/tr">tr///</a></code> behaves the same for these ranges. In patterns, any ranges specified with end points using the <code class="inline">\<span class="i">N</span><span class="s">{</span>...<span class="s">}</span></code> notations ensures character set portability, but it is a bug in Perl v5.22, that this isn't true of <code class="inline"><a class="l_k" href="functions/tr">tr///</a></code>.</p> <p>Do not assume anything about the ordering of the characters. The lowercase letters may come before or after the uppercase letters; the lowercase and uppercase may be interlaced so that both "a" and "A" come before "b"; the accented and other international characters may be interlaced so that Ã¤ comes before "b". <a href="unicode/collate">Unicode::Collate</a> can be used to sort this all out.</p> <h3 id="Internationalisation">Internationalisation</h3> <p>If you may assume POSIX (a rather large assumption), you may read more about the POSIX locale system from <a href="perllocale">perllocale</a>. The locale system at least attempts to make things a little bit more portable, or at least more convenient and native-friendly for non-English users. The system affects character sets and encoding, and date and time formatting--amongst other things.</p> <p>If you really want to be international, you should consider Unicode. See <a href="perluniintro">perluniintro</a> and <a href="perlunicode">perlunicode</a> for more information.</p> <p>If you want to use non-ASCII bytes (outside the bytes 0x00..0x7f) in the "source code" of your code, to be portable you have to be explicit about what bytes they are. Someone might for example be using your code under a UTF-8 locale, in which case random native bytes might be illegal ("Malformed UTF-8 ...") This means that for example embedding ISO 8859-1 bytes beyond 0x7f into your strings might cause trouble later. If the bytes are native 8-bit bytes, you can use the <code class="inline"><span class="w">bytes</span></code> pragma. If the bytes are in a string (regular expressions being curious strings), you can often also use the <code class="inline">\<span class="w">xHH</span></code> or more portably, the <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">U</span>+<span class="w">HH</span><span class="s">}</span></code> notations instead of embedding the bytes as-is. If you want to write your code in UTF-8, you can use <a href="utf8">utf8</a>.</p> <h3 id="System-Resources">System Resources</h3> <p>If your code is destined for systems with severely constrained (or missing!) virtual memory systems then you want to be <i>especially</i> mindful of avoiding wasteful constructs such as:</p> <pre class="verbatim" data-language="perl">my @lines = &lt;$very_large_file&gt;;            # bad

while (&lt;$fh&gt;) {$file .= $_}                # sometimes bad
my $file = join('', &lt;$fh&gt;);                # better
</pre>
<p>The last two constructs may appear unintuitive to most people. The first repeatedly grows a string, whereas the second allocates a large chunk of memory in one go. On some systems, the second is more efficient than the first.</p> <h3 id="Security">Security</h3> <p>Most multi-user platforms provide basic levels of security, usually implemented at the filesystem level. Some, however, unfortunately do not. Thus the notion of user id, or "home" directory, or even the state of being logged-in, may be unrecognizable on many platforms. If you write programs that are security-conscious, it is usually best to know what type of system you will be running under so that you can write code explicitly for that platform (or class of platforms).</p> <p>Don't assume the Unix filesystem access semantics: the operating system or the filesystem may be using some ACL systems, which are richer languages than the usual <code class="inline"><span class="w">rwx</span></code> . Even if the <code class="inline"><span class="w">rwx</span></code> exist, their semantics might be different.</p> <p>(From the security viewpoint, testing for permissions before attempting to do something is silly anyway: if one tries this, there is potential for race conditions. Someone or something might change the permissions between the permissions check and the actual operation. Just try the operation.)</p> <p>Don't assume the Unix user and group semantics: especially, don't expect <code class="inline"><span class="i">$&lt;</span></code> and <code class="inline"><span class="i">$&gt;</span></code> (or <code class="inline"><span class="i">$(</span></code> and <code class="inline"><span class="i">$)</span></code> ) to work for switching identities (or memberships).</p> <p>Don't assume set-uid and set-gid semantics. (And even if you do, think twice: set-uid and set-gid are a known can of security worms.)</p> <h3 id="Style">Style</h3> <p>For those times when it is necessary to have platform-specific code, consider keeping the platform-specific code in one place, making porting to other platforms easier. Use the <code class="inline"><span class="w">Config</span></code> module and the special variable <code class="inline"><span class="i">$^O</span></code> to differentiate platforms, as described in <a href="#PLATFORMS">PLATFORMS</a>.</p> <p>Be careful in the tests you supply with your module or programs. Module code may be fully portable, but its tests might not be. This often happens when tests spawn off other processes or call external programs to aid in the testing, or when (as noted above) the tests assume certain things about the filesystem and paths. Be careful not to depend on a specific output style for errors, such as when checking <code class="inline"><span class="i">$!</span></code> after a failed system call. Using <code class="inline"><span class="i">$!</span></code> for anything else than displaying it as output is doubtful (though see the <code class="inline"><span class="w">Errno</span></code> module for testing reasonably portably for error value). Some platforms expect a certain output format, and Perl on those platforms may have been adjusted accordingly. Most specifically, don't anchor a regex when testing an error value.</p> <h2 id="CPAN-Testers">CPAN Testers</h2> <p>Modules uploaded to CPAN are tested by a variety of volunteers on different platforms. These CPAN testers are notified by mail of each new upload, and reply to the list with PASS, FAIL, NA (not applicable to this platform), or UNKNOWN (unknown), along with any relevant notations.</p> <p>The purpose of the testing is twofold: one, to help developers fix any problems in their code that crop up because of lack of testing on other platforms; two, to provide users with information about whether a given module works on a given platform.</p> <p>Also see:</p> <ul> <li> <p>Mailing list: cpan-testers-discuss@perl.org</p> </li> <li> <p>Testing results: <a href="http://www.cpantesters.org/">http://www.cpantesters.org/</a></p> </li> </ul> <h2 id="PLATFORMS">PLATFORMS</h2> <p>Perl is built with a <code class="inline"><span class="i">$^O</span></code> variable that indicates the operating system it was built on. This was implemented to help speed up code that would otherwise have to <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">Config</span></code> and use the value of <code class="inline"><span class="i">$Config</span>{<span class="w">osname</span>}</code> . Of course, to get more detailed information about the system, looking into <code class="inline"><span class="i">%Config</span></code> is certainly recommended.</p> <p><code class="inline"><span class="i">%Config</span></code> cannot always be trusted, however, because it was built at compile time. If perl was built in one place, then transferred elsewhere, some values may be wrong. The values may even have been edited after the fact.</p> <h3 id="Unix">Unix</h3> <p>Perl works on a bewildering variety of Unix and Unix-like platforms (see e.g. most of the files in the <i>hints/</i> directory in the source code kit). On most of these systems, the value of <code class="inline"><span class="i">$^O</span></code> (hence <code class="inline"><span class="i">$Config</span>{<span class="q">'osname'</span>}</code> , too) is determined either by lowercasing and stripping punctuation from the first field of the string returned by typing <code class="inline"><span class="w">uname</span> -<span class="w">a</span></code> (or a similar command) at the shell prompt or by testing the file system for the presence of uniquely named files such as a kernel or header file. Here, for example, are a few of the more popular Unix flavors:</p> <pre class="verbatim" data-language="perl">uname         $^O        $Config{'archname'}
--------------------------------------------
AIX           aix        aix
BSD/OS        bsdos      i386-bsdos
Darwin        darwin     darwin
DYNIX/ptx     dynixptx   i386-dynixptx
FreeBSD       freebsd    freebsd-i386
Haiku         haiku      BePC-haiku
Linux         linux      arm-linux
Linux         linux      armv5tel-linux
Linux         linux      i386-linux
Linux         linux      i586-linux
Linux         linux      ppc-linux
HP-UX         hpux       PA-RISC1.1
IRIX          irix       irix
Mac OS X      darwin     darwin
NeXT 3        next       next-fat
NeXT 4        next       OPENSTEP-Mach
openbsd       openbsd    i386-openbsd
OSF1          dec_osf    alpha-dec_osf
reliantunix-n svr4       RM400-svr4
SCO_SV        sco_sv     i386-sco_sv
SINIX-N       svr4       RM400-svr4
sn4609        unicos     CRAY_C90-unicos
sn6521        unicosmk   t3e-unicosmk
sn9617        unicos     CRAY_J90-unicos
SunOS         solaris    sun4-solaris
SunOS         solaris    i86pc-solaris
SunOS4        sunos      sun4-sunos
</pre>
<p>Because the value of <code class="inline"><span class="i">$Config</span>{<span class="w">archname</span>}</code> may depend on the hardware architecture, it can vary more than the value of <code class="inline"><span class="i">$^O</span></code> .</p> <h3 id="DOS-and-Derivatives">DOS and Derivatives</h3> <p>Perl has long been ported to Intel-style microcomputers running under systems like PC-DOS, MS-DOS, OS/2, and most Windows platforms you can bring yourself to mention (except for Windows CE, if you count that). Users familiar with <i>COMMAND.COM</i> or <i>CMD.EXE</i> style shells should be aware that each of these file specifications may have subtle differences:</p> <pre class="verbatim" data-language="perl">my $filespec0 = "c:/foo/bar/file.txt";
my $filespec1 = "c:\\foo\\bar\\file.txt";
my $filespec2 = 'c:\foo\bar\file.txt';
my $filespec3 = 'c:\\foo\\bar\\file.txt';
</pre>
<p>System calls accept either <code class="inline">/</code> or <code class="inline">\</code> as the path separator. However, many command-line utilities of DOS vintage treat <code class="inline">/</code> as the option prefix, so may get confused by filenames containing <code class="inline">/</code>. Aside from calling any external programs, <code class="inline">/</code> will work just fine, and probably better, as it is more consistent with popular usage, and avoids the problem of remembering what to backwhack and what not to.</p> <p>The DOS FAT filesystem can accommodate only "8.3" style filenames. Under the "case-insensitive, but case-preserving" HPFS (OS/2) and NTFS (NT) filesystems you may have to be careful about case returned with functions like <code class="inline"><a class="l_k" href="functions/readdir">readdir</a></code> or used with functions like <code class="inline"><a class="l_k" href="functions/open">open</a></code> or <code class="inline"><a class="l_k" href="functions/opendir">opendir</a></code>.</p> <p>DOS also treats several filenames as special, such as AUX, PRN, NUL, CON, COM1, LPT1, LPT2, etc. Unfortunately, sometimes these filenames won't even work if you include an explicit directory prefix. It is best to avoid such filenames, if you want your code to be portable to DOS and its derivatives. It's hard to know what these all are, unfortunately.</p> <p>Users of these operating systems may also wish to make use of scripts such as <i>pl2bat.bat</i> or <i>pl2cmd</i> to put wrappers around your scripts.</p> <p>Newline (<code class="inline">\<span class="w">n</span></code> ) is translated as <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> by STDIO when reading from and writing to files (see <a href="#Newlines">Newlines</a>). <code class="inline"><a class="l_k" href="functions/binmode">binmode(FILEHANDLE)</a></code> will keep <code class="inline">\<span class="w">n</span></code> translated as <code class="inline">\<span class="n">012</span></code> for that filehandle. Since it is a no-op on other systems, <code class="inline"><a class="l_k" href="functions/binmode">binmode</a></code> should be used for cross-platform code that deals with binary data. That's assuming you realize in advance that your data is in binary. General-purpose programs should often assume nothing about their data.</p> <p>The <code class="inline"><span class="i">$^O</span></code> variable and the <code class="inline"><span class="i">$Config</span>{<span class="w">archname</span>}</code> values for various DOSish perls are as follows:</p> <pre class="verbatim" data-language="perl">OS            $^O      $Config{archname}   ID    Version
--------------------------------------------------------
MS-DOS        dos        ?
PC-DOS        dos        ?
OS/2          os2        ?
Windows 3.1   ?          ?                 0      3 01
     Windows 95    MSWin32    MSWin32-x86       1      4 00
     Windows 98    MSWin32    MSWin32-x86       1      4 10
     Windows ME    MSWin32    MSWin32-x86       1      ?
Windows NT    MSWin32    MSWin32-x86       2      4 xx
Windows NT    MSWin32    MSWin32-ALPHA     2      4 xx
Windows NT    MSWin32    MSWin32-ppc       2      4 xx
Windows 2000  MSWin32    MSWin32-x86       2      5 00
Windows XP    MSWin32    MSWin32-x86       2      5 01
Windows 2003  MSWin32    MSWin32-x86       2      5 02
Windows Vista MSWin32    MSWin32-x86       2      6 00
Windows 7     MSWin32    MSWin32-x86       2      6 01
Windows 7     MSWin32    MSWin32-x64       2      6 01
Windows 2008  MSWin32    MSWin32-x86       2      6 01
Windows 2008  MSWin32    MSWin32-x64       2      6 01
Windows CE    MSWin32    ?                 3
Cygwin        cygwin     cygwin
</pre>
<p>The various MSWin32 Perl's can distinguish the OS they are running on via the value of the fifth element of the list returned from <code class="inline"><span class="i">Win32::GetOSVersion</span><span class="s">(</span><span class="s">)</span></code> . For example:</p> <pre class="verbatim" data-language="perl">if ($^O eq 'MSWin32') {
    my @os_version_info = Win32::GetOSVersion();
    print +('3.1','95','NT')[$os_version_info[4]],"\n";
}
</pre>
<p>There are also <code class="inline"><span class="i">Win32::IsWinNT</span><span class="s">(</span><span class="s">)</span></code> and <code class="inline"><span class="i">Win32::IsWin95</span><span class="s">(</span><span class="s">)</span></code> ; try <code class="inline"><span class="w">perldoc</span> <span class="w">Win32</span></code> , and as of libwin32 0.19 (not part of the core Perl distribution) <code class="inline"><span class="i">Win32::GetOSName</span><span class="s">(</span><span class="s">)</span></code> . The very portable <code class="inline"><span class="i">POSIX::uname</span><span class="s">(</span><span class="s">)</span></code> will work too:</p> <pre class="verbatim" data-language="perl">c:\&gt; perl -MPOSIX -we "print join '|', uname"
Windows NT|moonru|5.0|Build 2195 (Service Pack 2)|x86
</pre>
<p>Also see:</p> <ul> <li> <p>The djgpp environment for DOS, <a href="http://www.delorie.com/djgpp/">http://www.delorie.com/djgpp/</a> and <a href="perldos">perldos</a>.</p> </li> <li> <p>The EMX environment for DOS, OS/2, etc. emx@iaehv.nl, <a href="ftp://hobbes.nmsu.edu/pub/os2/dev/emx/">ftp://hobbes.nmsu.edu/pub/os2/dev/emx/</a> Also <a href="perlos2">perlos2</a>.</p> </li> <li> <p>Build instructions for Win32 in <a href="perlwin32">perlwin32</a>, or under the Cygnus environment in <a href="perlcygwin">perlcygwin</a>.</p> </li> <li> <p>The <code class="inline"><span class="w">Win32::</span>*</code> modules in <a href="http://search.cpan.org/perldoc/Win32">Win32</a>.</p> </li> <li> <p>The ActiveState Pages, <a href="http://www.activestate.com/">http://www.activestate.com/</a></p> </li> <li> <p>The Cygwin environment for Win32; <i>README.cygwin</i> (installed as <a href="perlcygwin">perlcygwin</a>), <a href="http://www.cygwin.com/">http://www.cygwin.com/</a></p> </li> <li> <p>The U/WIN environment for Win32, <a href="http://www.research.att.com/sw/tools/uwin/">http://www.research.att.com/sw/tools/uwin/</a></p> </li> <li> <p>Build instructions for OS/2, <a href="perlos2">perlos2</a></p> </li> </ul> <h3 id="VMS">VMS</h3> <p>Perl on VMS is discussed in <a href="perlvms">perlvms</a> in the Perl distribution.</p> <p>The official name of VMS as of this writing is OpenVMS.</p> <p>Interacting with Perl from the Digital Command Language (DCL) shell often requires a different set of quotation marks than Unix shells do. For example:</p> <pre class="verbatim" data-language="perl">$ perl -e "print ""Hello, world.\n"""
Hello, world.
</pre>
<p>There are several ways to wrap your Perl scripts in DCL <i>.COM</i> files, if you are so inclined. For example:</p> <pre class="verbatim" data-language="perl">$ write sys$output "Hello from DCL!"
$ if p1 .eqs. ""
$ then perl -x 'f$environment("PROCEDURE")
$ else perl -x - 'p1 'p2 'p3 'p4 'p5 'p6 'p7 'p8
$ deck/dollars="__END__"
#!/usr/bin/perl

print "Hello from Perl!\n";

__END__
$ endif
</pre>
<p>Do take care with <code class="inline">$ ASSIGN/nolog/user SYS$COMMAND: SYS$INPUT</code> if your Perl-in-DCL script expects to do things like <code class="inline"><span class="i">$read</span> = <span class="q">&lt;STDIN&gt;</span><span class="sc">;</span></code> .</p> <p>The VMS operating system has two filesystems, designated by their on-disk structure (ODS) level: ODS-2 and its successor ODS-5. The initial port of Perl to VMS pre-dates ODS-5, but all current testing and development assumes ODS-5 and its capabilities, including case preservation, extended characters in filespecs, and names up to 8192 bytes long.</p> <p>Perl on VMS can accept either VMS- or Unix-style file specifications as in either of the following:</p> <pre class="verbatim" data-language="perl">$ perl -ne "print if /perl_setup/i" SYS$LOGIN:LOGIN.COM
$ perl -ne "print if /perl_setup/i" /sys$login/login.com
</pre>
<p>but not a mixture of both as in:</p> <pre class="verbatim" data-language="perl">$ perl -ne "print if /perl_setup/i" sys$login:/login.com
Can't open sys$login:/login.com: file specification syntax error
</pre>
<p>In general, the easiest path to portability is always to specify filenames in Unix format unless they will need to be processed by native commands or utilities. Because of this latter consideration, the File::Spec module by default returns native format specifications regardless of input format. This default may be reversed so that filenames are always reported in Unix format by specifying the <code class="inline"><span class="w">DECC</span><span class="i">$FILENAME_UNIX_REPORT</span></code> feature logical in the environment.</p> <p>The file type, or extension, is always present in a VMS-format file specification even if it's zero-length. This means that, by default, <code class="inline"><a class="l_k" href="functions/readdir">readdir</a></code> will return a trailing dot on a file with no extension, so where you would see <code class="inline"><span class="q">"a"</span></code> on Unix you'll see <code class="inline"><span class="q">"a."</span></code> on VMS. However, the trailing dot may be suppressed by enabling the <code class="inline"><span class="w">DECC</span><span class="i">$READDIR_DROPDOTNOTYPE</span></code> feature in the environment (see the CRTL documentation on feature logical names).</p> <p>What <code class="inline">\<span class="w">n</span></code> represents depends on the type of file opened. It usually represents <code class="inline">\<span class="n">012</span></code> but it could also be <code class="inline">\<span class="n">015</span></code> , <code class="inline">\<span class="n">012</span></code> , <code class="inline">\<span class="n">015</span>\<span class="n">012</span></code> , <code class="inline">\<span class="n">000</span></code> , <code class="inline">\<span class="n">040</span></code> , or nothing depending on the file organization and record format. The <code class="inline"><span class="w">VMS::Stdio</span></code> module provides access to the special <code class="inline"><span class="i">fopen</span><span class="s">(</span><span class="s">)</span></code> requirements of files with unusual attributes on VMS.</p> <p>The value of <code class="inline"><span class="i">$^O</span></code> on OpenVMS is "VMS". To determine the architecture that you are running on refer to <code class="inline"><span class="i">$Config</span>{<span class="q">'archname'</span>}</code> .</p> <p>On VMS, perl determines the UTC offset from the <code class="inline"><span class="w">SYS</span><span class="i">$TIMEZONE_DIFFERENTIAL</span></code> logical name. Although the VMS epoch began at 17-NOV-1858 00:00:00.00, calls to <code class="inline"><a class="l_k" href="functions/localtime">localtime</a></code> are adjusted to count offsets from 01-JAN-1970 00:00:00.00, just like Unix.</p> <p>Also see:</p> <ul> <li> <p><i>README.vms</i> (installed as <i>README_vms</i>), <a href="perlvms">perlvms</a></p> </li> <li> <p>vmsperl list, vmsperl-subscribe@perl.org</p> </li> <li> <p>vmsperl on the web, <a href="http://www.sidhe.org/vmsperl/index.html">http://www.sidhe.org/vmsperl/index.html</a></p> </li> <li> <p>VMS Software Inc. web site, <a href="http://www.vmssoftware.com">http://www.vmssoftware.com</a></p> </li> </ul> <h3 id="VOS">VOS</h3> <p>Perl on VOS (also known as OpenVOS) is discussed in <i>README.vos</i> in the Perl distribution (installed as <a href="perlvos">perlvos</a>). Perl on VOS can accept either VOS- or Unix-style file specifications as in either of the following:</p> <pre class="verbatim" data-language="perl">$ perl -ne "print if /perl_setup/i" &gt;system&gt;notices
$ perl -ne "print if /perl_setup/i" /system/notices
</pre>
<p>or even a mixture of both as in:</p> <pre class="verbatim" data-language="perl">$ perl -ne "print if /perl_setup/i" &gt;system/notices
</pre>
<p>Even though VOS allows the slash character to appear in object names, because the VOS port of Perl interprets it as a pathname delimiting character, VOS files, directories, or links whose names contain a slash character cannot be processed. Such files must be renamed before they can be processed by Perl.</p> <p>Older releases of VOS (prior to OpenVOS Release 17.0) limit file names to 32 or fewer characters, prohibit file names from starting with a <code class="inline">-</code> character, and prohibit file names from containing any character matching <code class="inline"><span class="q">tr/ !#%&amp;'()*;&lt;=&gt;?//</span></code> .</p> <p>Newer releases of VOS (OpenVOS Release 17.0 or later) support a feature known as extended names. On these releases, file names can contain up to 255 characters, are prohibited from starting with a <code class="inline">-</code> character, and the set of prohibited characters is reduced to any character matching <code class="inline"><a class="l_k" href="functions/tr">tr/#%*&lt;&gt;?//</a></code>. There are restrictions involving spaces and apostrophes: these characters must not begin or end a name, nor can they immediately precede or follow a period. Additionally, a space must not immediately precede another space or hyphen. Specifically, the following character combinations are prohibited: space-space, space-hyphen, period-space, space-period, period-apostrophe, apostrophe-period, leading or trailing space, and leading or trailing apostrophe. Although an extended file name is limited to 255 characters, a path name is still limited to 256 characters.</p> <p>The value of <code class="inline"><span class="i">$^O</span></code> on VOS is "vos". To determine the architecture that you are running on without resorting to loading all of <code class="inline"><span class="i">%Config</span></code> you can examine the content of the <code class="inline"><span class="i">@INC</span></code> array like so:</p> <pre class="verbatim" data-language="perl">if ($^O =~ /vos/) {
    print "I'm on a Stratus box!\n";
} else {
    print "I'm not on a Stratus box!\n";
    die;
}
</pre>
<p>Also see:</p> <ul> <li> <p><i>README.vos</i> (installed as <a href="perlvos">perlvos</a>)</p> </li> <li> <p>The VOS mailing list.</p> <p>There is no specific mailing list for Perl on VOS. You can contact the Stratus Technologies Customer Assistance Center (CAC) for your region, or you can use the contact information located in the distribution files on the Stratus Anonymous FTP site.</p> </li> <li> <p>Stratus Technologies on the web at <a href="http://www.stratus.com">http://www.stratus.com</a></p> </li> <li> <p>VOS Open-Source Software on the web at <a href="http://ftp.stratus.com/pub/vos/vos.html">http://ftp.stratus.com/pub/vos/vos.html</a></p> </li> </ul> <h3 id="EBCDIC-Platforms">EBCDIC Platforms</h3> <p>v5.22 core Perl runs on z/OS (formerly OS/390). Theoretically it could run on the successors of OS/400 on AS/400 minicomputers as well as VM/ESA, and BS2000 for S/390 Mainframes. Such computers use EBCDIC character sets internally (usually Character Code Set ID 0037 for OS/400 and either 1047 or POSIX-BC for S/390 systems).</p> <p>The rest of this section may need updating, but we don't know what it should say. Please email comments to <a href="http://search.cpan.org/perldoc/mailto:perlbug@perl.org">perlbug@perl.org</a>.</p> <p>On the mainframe Perl currently works under the "Unix system services for OS/390" (formerly known as OpenEdition), VM/ESA OpenEdition, or the BS200 POSIX-BC system (BS2000 is supported in Perl 5.6 and greater). See <a href="perlos390">perlos390</a> for details. Note that for OS/400 there is also a port of Perl 5.8.1/5.10.0 or later to the PASE which is ASCII-based (as opposed to ILE which is EBCDIC-based), see <a href="perlos400">perlos400</a>.</p> <p>As of R2.5 of USS for OS/390 and Version 2.3 of VM/ESA these Unix sub-systems do not support the <code class="inline"><span class="c">#!</span></code> shebang trick for script invocation. Hence, on OS/390 and VM/ESA Perl scripts can be executed with a header similar to the following simple script:</p> <pre class="verbatim" data-language="perl">: # use perl
    eval 'exec /usr/local/bin/perl -S $0 ${1+"$@"}'
        if 0;
#!/usr/local/bin/perl     # just a comment really

print "Hello from perl!\n";
</pre>
<p>OS/390 will support the <code class="inline"><span class="c">#!</span></code> shebang trick in release 2.8 and beyond. Calls to <code class="inline"><a class="l_k" href="functions/system">system</a></code> and backticks can use POSIX shell syntax on all S/390 systems.</p> <p>On the AS/400, if PERL5 is in your library list, you may need to wrap your Perl scripts in a CL procedure to invoke them like so:</p> <pre class="verbatim" data-language="perl">BEGIN
  CALL PGM(PERL5/PERL) PARM('/QOpenSys/hello.pl')
ENDPGM
</pre>
<p>This will invoke the Perl script <i>hello.pl</i> in the root of the QOpenSys file system. On the AS/400 calls to <code class="inline"><a class="l_k" href="functions/system">system</a></code> or backticks must use CL syntax.</p> <p>On these platforms, bear in mind that the EBCDIC character set may have an effect on what happens with some Perl functions (such as <code class="inline"><a class="l_k" href="functions/chr">chr</a></code>, <code class="inline"><a class="l_k" href="functions/pack">pack</a></code>, <code class="inline"><a class="l_k" href="functions/print">print</a></code>, <code class="inline"><a class="l_k" href="functions/printf">printf</a></code>, <code class="inline"><a class="l_k" href="functions/ord">ord</a></code>, <code class="inline"><a class="l_k" href="functions/sort">sort</a></code>, <code class="inline"><a class="l_k" href="functions/sprintf">sprintf</a></code>, <code class="inline"><a class="l_k" href="functions/unpack">unpack</a></code>), as well as bit-fiddling with ASCII constants using operators like <code class="inline">^</code>, <code class="inline"><span class="i">&amp;</span></code> and <code class="inline">|</code>, not to mention dealing with socket interfaces to ASCII computers (see <a href="#Newlines">Newlines</a>).</p> <p>Fortunately, most web servers for the mainframe will correctly translate the <code class="inline">\<span class="w">n</span></code> in the following statement to its ASCII equivalent (<code class="inline">\<span class="w">r</span></code> is the same under both Unix and z/OS):</p> <pre class="verbatim" data-language="perl">print "Content-type: text/html\r\n\r\n";
</pre>
<p>The values of <code class="inline"><span class="i">$^O</span></code> on some of these platforms includes:</p> <pre class="verbatim" data-language="perl">uname         $^O        $Config{'archname'}
--------------------------------------------
OS/390        os390      os390
OS400         os400      os400
POSIX-BC      posix-bc   BS2000-posix-bc
</pre>
<p>Some simple tricks for determining if you are running on an EBCDIC platform could include any of the following (perhaps all):</p> <pre class="verbatim" data-language="perl">if ("\t" eq "\005")   { print "EBCDIC may be spoken here!\n"; }

if (ord('A') == 193) { print "EBCDIC may be spoken here!\n"; }

if (chr(169) eq 'z') { print "EBCDIC may be spoken here!\n"; }
</pre>
<p>One thing you may not want to rely on is the EBCDIC encoding of punctuation characters since these may differ from code page to code page (and once your module or script is rumoured to work with EBCDIC, folks will want it to work with all EBCDIC character sets).</p> <p>Also see:</p> <ul> <li> <p><a href="perlos390">perlos390</a>, <a href="perlos400">perlos400</a>, <a href="perlbs2000">perlbs2000</a>, <a href="perlebcdic">perlebcdic</a>.</p> </li> <li> <p>The perl-mvs@perl.org list is for discussion of porting issues as well as general usage issues for all EBCDIC Perls. Send a message body of "subscribe perl-mvs" to majordomo@perl.org.</p> </li> <li> <p>AS/400 Perl information at <a href="http://as400.rochester.ibm.com/">http://as400.rochester.ibm.com/</a> as well as on CPAN in the <i>ports/</i> directory.</p> </li> </ul> <h3 id="Acorn-RISC-OS">Acorn RISC OS</h3> <p>Because Acorns use ASCII with newlines (<code class="inline">\<span class="w">n</span></code> ) in text files as <code class="inline">\<span class="n">012</span></code> like Unix, and because Unix filename emulation is turned on by default, most simple scripts will probably work "out of the box". The native filesystem is modular, and individual filesystems are free to be case-sensitive or insensitive, and are usually case-preserving. Some native filesystems have name length limits, which file and directory names are silently truncated to fit. Scripts should be aware that the standard filesystem currently has a name length limit of <b>10</b> characters, with up to 77 items in a directory, but other filesystems may not impose such limitations.</p> <p>Native filenames are of the form</p> <pre class="verbatim" data-language="perl">Filesystem#Special_Field::DiskName.$.Directory.Directory.File
</pre>
<p>where</p> <pre class="verbatim" data-language="perl">Special_Field is not usually present, but may contain . and $ .
Filesystem =~ m|[A-Za-z0-9_]|
DsicName   =~ m|[A-Za-z0-9_/]|
$ represents the root directory
. is the path separator
@ is the current directory (per filesystem but machine global)
^ is the parent directory
Directory and File =~ m|[^\0- "\.\$\%\&amp;:\@\\^\|\177]+|
</pre>
<p>The default filename translation is roughly <code class="inline"><a class="l_k" href="functions/tr">tr|/.|./|;</a></code></p> <p>Note that <code class="inline"><span class="q">"ADFS::HardDisk.$.File"</span> ne <span class="q">'ADFS::HardDisk.$.File'</span></code> and that the second stage of <code class="inline"><span class="i">$</span></code> interpolation in regular expressions will fall foul of the <code class="inline"><span class="i">$.</span></code> if scripts are not careful.</p> <p>Logical paths specified by system variables containing comma-separated search lists are also allowed; hence <code class="inline"><span class="j">System:</span><span class="w">Modules</span></code> is a valid filename, and the filesystem will prefix <code class="inline"><span class="w">Modules</span></code> with each section of <code class="inline"><span class="w">System</span><span class="i">$Path</span></code> until a name is made that points to an object on disk. Writing to a new file <code class="inline"><span class="j">System:</span><span class="w">Modules</span></code> would be allowed only if <code class="inline"><span class="w">System</span><span class="i">$Path</span></code> contains a single item list. The filesystem will also expand system variables in filenames if enclosed in angle brackets, so <code class="inline"><span class="q">&lt;System$Dir&gt;</span>.<span class="w">Modules</span></code> would look for the file <code class="inline"><span class="i">$ENV</span>{<span class="q">'System$Dir'</span>} . <span class="q">'Modules'</span></code> . The obvious implication of this is that <b>fully qualified filenames can start with <code class="inline">&lt;&gt;</code> </b> and should be protected when <code class="inline"><a class="l_k" href="functions/open">open</a></code> is used for input.</p> <p>Because <code class="inline">.</code> was in use as a directory separator and filenames could not be assumed to be unique after 10 characters, Acorn implemented the C compiler to strip the trailing <code class="inline">.c</code> <code class="inline">.h</code> <code class="inline">.s</code> and <code class="inline">.o</code> suffix from filenames specified in source code and store the respective files in subdirectories named after the suffix. Hence files are translated:</p> <pre class="verbatim" data-language="perl">foo.h           h.foo
C:foo.h         C:h.foo        (logical path variable)
sys/os.h        sys.h.os       (C compiler groks Unix-speak)
10charname.c    c.10charname
10charname.o    o.10charname
11charname_.c   c.11charname   (assuming filesystem truncates at 10)
</pre>
<p>The Unix emulation library's translation of filenames to native assumes that this sort of translation is required, and it allows a user-defined list of known suffixes that it will transpose in this fashion. This may seem transparent, but consider that with these rules <i>foo/bar/baz.h</i> and <i>foo/bar/h/baz</i> both map to <i>foo.bar.h.baz</i>, and that <code class="inline"><a class="l_k" href="functions/readdir">readdir</a></code> and <code class="inline"><a class="l_k" href="functions/glob">glob</a></code> cannot and do not attempt to emulate the reverse mapping. Other <code class="inline">.</code>'s in filenames are translated to <code class="inline">/</code>.</p> <p>As implied above, the environment accessed through <code class="inline"><span class="i">%ENV</span></code> is global, and the convention is that program specific environment variables are of the form <code class="inline"><span class="w">Program</span><span class="i">$Name</span></code> . Each filesystem maintains a current directory, and the current filesystem's current directory is the <b>global</b> current directory. Consequently, sociable programs don't change the current directory but rely on full pathnames, and programs (and Makefiles) cannot assume that they can spawn a child process which can change the current directory without affecting its parent (and everyone else for that matter).</p> <p>Because native operating system filehandles are global and are currently allocated down from 255, with 0 being a reserved value, the Unix emulation library emulates Unix filehandles. Consequently, you can't rely on passing <code class="inline"><span class="w">STDIN</span></code> , <code class="inline"><span class="w">STDOUT</span></code> , or <code class="inline"><span class="w">STDERR</span></code> to your children.</p> <p>The desire of users to express filenames of the form <code class="inline"><span class="q">&lt;Foo$Dir&gt;</span>.<span class="w">Bar</span></code> on the command line unquoted causes problems, too: <code class="inline"><span class="q">``</span></code> command output capture has to perform a guessing game. It assumes that a string <code class="inline">&lt;[^&lt;&gt;]+\$[^&lt;&gt;]&gt;</code> is a reference to an environment variable, whereas anything else involving <code class="inline">&lt;</code> or <code class="inline">&gt;</code> is redirection, and generally manages to be 99% right. Of course, the problem remains that scripts cannot rely on any Unix tools being available, or that any tools found have Unix-like command line arguments.</p> <p>Extensions and XS are, in theory, buildable by anyone using free tools. In practice, many don't, as users of the Acorn platform are used to binary distributions. MakeMaker does run, but no available make currently copes with MakeMaker's makefiles; even if and when this should be fixed, the lack of a Unix-like shell will cause problems with makefile rules, especially lines of the form <code class="inline"><span class="w">cd</span>
<span class="w">sdbm</span> &amp;&amp; <span class="w">make</span> <span class="w">all</span></code> , and anything using quoting.</p> <p>"RISC OS" is the proper name for the operating system, but the value in <code class="inline"><span class="i">$^O</span></code> is "riscos" (because we don't like shouting).</p> <h3 id="Other-perls">Other perls</h3> <p>Perl has been ported to many platforms that do not fit into any of the categories listed above. Some, such as AmigaOS, QNX, Plan 9, and VOS, have been well-integrated into the standard Perl source code kit. You may need to see the <i>ports/</i> directory on CPAN for information, and possibly binaries, for the likes of: aos, Atari ST, lynxos, riscos, Novell Netware, Tandem Guardian, <i>etc.</i> (Yes, we know that some of these OSes may fall under the Unix category, but we are not a standards body.)</p> <p>Some approximate operating system names and their <code class="inline"><span class="i">$^O</span></code> values in the "OTHER" category include:</p> <pre class="verbatim" data-language="perl">OS            $^O        $Config{'archname'}
------------------------------------------
Amiga DOS     amigaos    m68k-amigos
</pre>
<p>See also:</p> <ul> <li> <p>Amiga, <i>README.amiga</i> (installed as <a href="perlamiga">perlamiga</a>).</p> </li> <li> <p>A free perl5-based PERL.NLM for Novell Netware is available in precompiled binary and source code form from <a href="http://www.novell.com/">http://www.novell.com/</a> as well as from CPAN.</p> </li> <li> <p>Plan 9, <i>README.plan9</i></p> </li> </ul> <h2 id="FUNCTION-IMPLEMENTATIONS">FUNCTION IMPLEMENTATIONS</h2> <p>Listed below are functions that are either completely unimplemented or else have been implemented differently on various platforms. Following each description will be, in parentheses, a list of platforms that the description applies to.</p> <p>The list may well be incomplete, or even wrong in some places. When in doubt, consult the platform-specific README files in the Perl source distribution, and any other documentation resources accompanying a given port.</p> <p>Be aware, moreover, that even among Unix-ish systems there are variations.</p> <p>For many functions, you can also query <code class="inline"><span class="i">%Config</span></code> , exported by default from the <code class="inline"><span class="w">Config</span></code> module. For example, to check whether the platform has the <code class="inline"><a class="l_k" href="functions/lstat">lstat</a></code> call, check <code class="inline"><span class="i">$Config</span>{<span class="w">d_lstat</span>}</code> . See <a href="config">Config</a> for a full description of available variables.</p> <h3 id="Alphabetical-Listing-of-Perl-Functions">Alphabetical Listing of Perl Functions</h3> <ul> <li id="-X">
<b>-X</b> <p><code class="inline">-w</code> only inspects the read-only file attribute (FILE_ATTRIBUTE_READONLY), which determines whether the directory can be deleted, not whether it can be written to. Directories always have read and write access unless denied by discretionary access control lists (DACLs). (Win32)</p> <p><code class="inline">-r</code> , <code class="inline">-w</code> , <code class="inline">-x</code> , and <code class="inline">-o</code> tell whether the file is accessible, which may not reflect UIC-based file protections. (VMS)</p> <p><code class="inline">-s</code> by name on an open file will return the space reserved on disk, rather than the current extent. <code class="inline">-s</code> on an open filehandle returns the current size. (RISC OS)</p> <p><code class="inline">-R</code> , <code class="inline">-W</code> , <code class="inline"><a class="l_k" href="functions/-x">-X</a></code>, <code class="inline">-O</code> are indistinguishable from <code class="inline">-r</code> , <code class="inline">-w</code> , <code class="inline">-x</code> , <code class="inline">-o</code> . (Win32, VMS, RISC OS)</p> <p><code class="inline">-g</code> , <code class="inline">-k</code> , <code class="inline">-l</code> , <code class="inline">-u</code> , <code class="inline">-A</code> are not particularly meaningful. (Win32, VMS, RISC OS)</p> <p><code class="inline">-p</code> is not particularly meaningful. (VMS, RISC OS)</p> <p><code class="inline">-d</code> is true if passed a device spec without an explicit directory. (VMS)</p> <p><code class="inline">-x</code> (or <code class="inline"><a class="l_k" href="functions/-x">-X</a></code>) determine if a file ends in one of the executable suffixes. <code class="inline">-S</code> is meaningless. (Win32)</p> <p><code class="inline">-x</code> (or <code class="inline"><a class="l_k" href="functions/-x">-X</a></code>) determine if a file has an executable file type. (RISC OS)</p> </li> <li id="alarm">
<b>alarm</b> <p>Emulated using timers that must be explicitly polled whenever Perl wants to dispatch "safe signals" and therefore cannot interrupt blocking system calls. (Win32)</p> </li> <li id="atan2">
<b>atan2</b> <p>Due to issues with various CPUs, math libraries, compilers, and standards, results for <code class="inline"><a class="l_k" href="functions/atan2">atan2()</a></code> may vary depending on any combination of the above. Perl attempts to conform to the Open Group/IEEE standards for the results returned from <code class="inline"><a class="l_k" href="functions/atan2">atan2()</a></code>, but cannot force the issue if the system Perl is run on does not allow it. (Tru64, HP-UX 10.20)</p> <p>The current version of the standards for <code class="inline"><a class="l_k" href="functions/atan2">atan2()</a></code> is available at <a href="http://www.opengroup.org/onlinepubs/009695399/functions/atan2.html">http://www.opengroup.org/onlinepubs/009695399/functions/atan2.html</a>.</p> </li> <li id="binmode">
<b>binmode</b> <p>Meaningless. (RISC OS)</p> <p>Reopens file and restores pointer; if function fails, underlying filehandle may be closed, or pointer may be in a different position. (VMS)</p> <p>The value returned by <code class="inline"><a class="l_k" href="functions/tell">tell</a></code> may be affected after the call, and the filehandle may be flushed. (Win32)</p> </li> <li id="chmod">
<b>chmod</b> <p>Only good for changing "owner" read-write access, "group", and "other" bits are meaningless. (Win32)</p> <p>Only good for changing "owner" and "other" read-write access. (RISC OS)</p> <p>Access permissions are mapped onto VOS access-control list changes. (VOS)</p> <p>The actual permissions set depend on the value of the <code class="inline"><span class="w">CYGWIN</span></code> in the SYSTEM environment settings. (Cygwin)</p> <p>Setting the exec bit on some locations (generally <i>/sdcard</i>) will return true but not actually set the bit. (Android)</p> </li> <li id="chown">
<b>chown</b> <p>Not implemented. (Win32, Plan 9, RISC OS)</p> <p>Does nothing, but won't fail. (Win32)</p> <p>A little funky, because VOS's notion of ownership is a little funky (VOS).</p> </li> <li id="chroot">
<b>chroot</b> <p>Not implemented. (Win32, VMS, Plan 9, RISC OS, VOS)</p> </li> <li id="crypt">
<b>crypt</b> <p>May not be available if library or source was not provided when building perl. (Win32)</p> <p>Not implemented. (Android)</p> </li> <li id="dbmclose">
<b>dbmclose</b> <p>Not implemented. (VMS, Plan 9, VOS)</p> </li> <li id="dbmopen">
<b>dbmopen</b> <p>Not implemented. (VMS, Plan 9, VOS)</p> </li> <li id="dump">
<b>dump</b> <p>Not useful. (RISC OS)</p> <p>Not supported. (Cygwin, Win32)</p> <p>Invokes VMS debugger. (VMS)</p> </li> <li id="exec">
<b>exec</b> <p><code class="inline"><a class="l_k" href="functions/exec">exec</a> <span class="i">LIST</span></code> without the use of indirect object syntax (<code class="inline"><a class="l_k" href="functions/exec">exec</a> <span class="i">PROGRAM</span> <span class="w">LIST</span></code> ) may fall back to trying the shell if the first <code class="inline"><span class="i">spawn</span><span class="s">(</span><span class="s">)</span></code> fails. (Win32)</p> <p>Does not automatically flush output handles on some platforms. (SunOS, Solaris, HP-UX)</p> <p>Not supported. (Symbian OS)</p> </li> <li id="exit">
<b>exit</b> <p>Emulates Unix <code class="inline"><a class="l_k" href="functions/exit">exit()</a></code> (which considers <code class="inline"><a class="l_k" href="functions/exit">exit</a> <span class="n">1</span></code> to indicate an error) by mapping the <code class="inline"><span class="n">1</span></code> to <code class="inline"><span class="w">SS</span><span class="i">$_ABORT</span></code> (<code class="inline"><span class="n">44</span></code> ). This behavior may be overridden with the pragma <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">vmsish</span> <span class="q">'exit'</span></code> . As with the CRTL's <code class="inline"><a class="l_k" href="functions/exit">exit()</a></code> function, <code class="inline"><a class="l_k" href="functions/exit">exit</a> <span class="n">0</span></code> is also mapped to an exit status of <code class="inline"><span class="w">SS</span><span class="i">$_NORMAL</span></code> (<code class="inline"><span class="n">1</span></code> ); this mapping cannot be overridden. Any other argument to <code class="inline"><a class="l_k" href="functions/exit">exit()</a></code> is used directly as Perl's exit status. On VMS, unless the future POSIX_EXIT mode is enabled, the exit code should always be a valid VMS exit code and not a generic number. When the POSIX_EXIT mode is enabled, a generic number will be encoded in a method compatible with the C library _POSIX_EXIT macro so that it can be decoded by other programs, particularly ones written in C, like the GNV package. (VMS)</p> <p><code class="inline"><a class="l_k" href="functions/exit">exit()</a></code> resets file pointers, which is a problem when called from a child process (created by <code class="inline"><a class="l_k" href="functions/fork">fork()</a></code>) in <code class="inline">BEGIN</code> . A workaround is to use <code class="inline"><span class="w">POSIX::_exit</span></code> . (Solaris)</p> <pre class="verbatim" data-language="perl">exit unless $Config{archname} =~ /\bsolaris\b/;
require POSIX and POSIX::_exit(0);
</pre>
</li> <li id="fcntl">
<b>fcntl</b> <p>Not implemented. (Win32)</p> <p>Some functions available based on the version of VMS. (VMS)</p> </li> <li id="flock">
<b>flock</b> <p>Not implemented (VMS, RISC OS, VOS).</p> </li> <li id="fork">
<b>fork</b> <p>Not implemented. (AmigaOS, RISC OS, VMS)</p> <p>Emulated using multiple interpreters. See <a href="perlfork">perlfork</a>. (Win32)</p> <p>Does not automatically flush output handles on some platforms. (SunOS, Solaris, HP-UX)</p> </li> <li id="getlogin">
<b>getlogin</b> <p>Not implemented. (RISC OS)</p> </li> <li id="getpgrp">
<b>getpgrp</b> <p>Not implemented. (Win32, VMS, RISC OS)</p> </li> <li id="getppid">
<b>getppid</b> <p>Not implemented. (Win32, RISC OS)</p> </li> <li id="getpriority">
<b>getpriority</b> <p>Not implemented. (Win32, VMS, RISC OS, VOS)</p> </li> <li id="getpwnam">
<b>getpwnam</b> <p>Not implemented. (Win32)</p> <p>Not useful. (RISC OS)</p> </li> <li id="getgrnam">
<b>getgrnam</b> <p>Not implemented. (Win32, VMS, RISC OS)</p> </li> <li id="getnetbyname">
<b>getnetbyname</b> <p>Not implemented. (Android, Win32, Plan 9)</p> </li> <li id="getpwuid">
<b>getpwuid</b> <p>Not implemented. (Win32)</p> <p>Not useful. (RISC OS)</p> </li> <li id="getgrgid">
<b>getgrgid</b> <p>Not implemented. (Win32, VMS, RISC OS)</p> </li> <li id="getnetbyaddr">
<b>getnetbyaddr</b> <p>Not implemented. (Android, Win32, Plan 9)</p> </li> <li id="getprotobynumber">
<b>getprotobynumber</b> <p>Not implemented. (Android)</p> </li> <li id="getservbyport">
<b>getservbyport</b> </li> <li id="getpwent">
<b>getpwent</b> <p>Not implemented. (Android, Win32)</p> </li> <li id="getgrent">
<b>getgrent</b> <p>Not implemented. (Android, Win32, VMS)</p> </li> <li id="gethostbyname">
<b>gethostbyname</b> <p><code class="inline"><a class="l_k" href="functions/gethostbyname">gethostbyname('localhost')</a></code> does not work everywhere: you may have to use <code class="inline"><a class="l_k" href="functions/gethostbyname">gethostbyname('127.0.0.1')</a></code>. (Irix 5)</p> </li> <li id="gethostent">
<b>gethostent</b> <p>Not implemented. (Win32)</p> </li> <li id="getnetent">
<b>getnetent</b> <p>Not implemented. (Android, Win32, Plan 9)</p> </li> <li id="getprotoent">
<b>getprotoent</b> <p>Not implemented. (Android, Win32, Plan 9)</p> </li> <li id="getservent">
<b>getservent</b> <p>Not implemented. (Win32, Plan 9)</p> </li> <li id="seekdir">
<b>seekdir</b> <p>Not implemented. (Android)</p> </li> <li id="sethostent">
<b>sethostent</b> <p>Not implemented. (Android, Win32, Plan 9, RISC OS)</p> </li> <li id="setnetent">
<b>setnetent</b> <p>Not implemented. (Win32, Plan 9, RISC OS)</p> </li> <li id="setprotoent">
<b>setprotoent</b> <p>Not implemented. (Android, Win32, Plan 9, RISC OS)</p> </li> <li id="setservent">
<b>setservent</b> <p>Not implemented. (Plan 9, Win32, RISC OS)</p> </li> <li id="endpwent">
<b>endpwent</b> <p>Not implemented. (Win32)</p> <p>Either not implemented or a no-op. (Android)</p> </li> <li id="endgrent">
<b>endgrent</b> <p>Not implemented. (Android, RISC OS, VMS, Win32)</p> </li> <li id="endhostent">
<b>endhostent</b> <p>Not implemented. (Android, Win32)</p> </li> <li id="endnetent">
<b>endnetent</b> <p>Not implemented. (Android, Win32, Plan 9)</p> </li> <li id="endprotoent">
<b>endprotoent</b> <p>Not implemented. (Android, Win32, Plan 9)</p> </li> <li id="endservent">
<b>endservent</b> <p>Not implemented. (Plan 9, Win32)</p> </li> <li id="getsockopt-SOCKET%2cLEVEL%2cOPTNAME">
<b>getsockopt SOCKET,LEVEL,OPTNAME</b> <p>Not implemented. (Plan 9)</p> </li> <li id="glob">
<b>glob</b> <p>This operator is implemented via the <code class="inline"><span class="w">File::Glob</span></code> extension on most platforms. See <a href="file/glob">File::Glob</a> for portability information.</p> </li> <li id="gmtime">
<b>gmtime</b> <p>In theory, <code class="inline"><a class="l_k" href="functions/gmtime">gmtime()</a></code> is reliable from -2**63 to 2**63-1. However, because work arounds in the implementation use floating point numbers, it will become inaccurate as the time gets larger. This is a bug and will be fixed in the future.</p> <p>On VOS, time values are 32-bit quantities.</p> </li> <li id="ioctl-FILEHANDLE%2cFUNCTION%2cSCALAR">
<b>ioctl FILEHANDLE,FUNCTION,SCALAR</b> <p>Not implemented. (VMS)</p> <p>Available only for socket handles, and it does what the <code class="inline"><span class="i">ioctlsocket</span><span class="s">(</span><span class="s">)</span></code> call in the Winsock API does. (Win32)</p> <p>Available only for socket handles. (RISC OS)</p> </li> <li id="kill">
<b>kill</b> <p>Not implemented, hence not useful for taint checking. (RISC OS)</p> <p><code class="inline"><a class="l_k" href="functions/kill">kill()</a></code> doesn't have the semantics of <code class="inline"><span class="i">raise</span><span class="s">(</span><span class="s">)</span></code> , i.e. it doesn't send a signal to the identified process like it does on Unix platforms. Instead <code class="inline"><a class="l_k" href="functions/kill">kill</a><span class="s">(</span><span class="i">$sig</span><span class="cm">,</span> <span class="i">$pid</span><span class="s">)</span></code> terminates the process identified by <code class="inline"><span class="i">$pid</span></code> , and makes it exit immediately with exit status $sig. As in Unix, if $sig is 0 and the specified process exists, it returns true without actually terminating it. (Win32)</p> <p><code class="inline"><a class="l_k" href="functions/kill">kill</a><span class="s">(</span><span class="n">-9</span><span class="cm">,</span> <span class="i">$pid</span><span class="s">)</span></code> will terminate the process specified by <code class="inline"><span class="i">$pid</span></code> and recursively all child processes owned by it. This is different from the Unix semantics, where the signal will be delivered to all processes in the same process group as the process specified by $pid. (Win32)</p> <p>Is not supported for process identification number of 0 or negative numbers. (VMS)</p> </li> <li id="link">
<b>link</b> <p>Not implemented. (RISC OS, VOS)</p> <p>Link count not updated because hard links are not quite that hard (They are sort of half-way between hard and soft links). (AmigaOS)</p> <p>Hard links are implemented on Win32 under NTFS only. They are natively supported on Windows 2000 and later. On Windows NT they are implemented using the Windows POSIX subsystem support and the Perl process will need Administrator or Backup Operator privileges to create hard links.</p> <p>Available on 64 bit OpenVMS 8.2 and later. (VMS)</p> </li> <li id="localtime">
<b>localtime</b> <p>localtime() has the same range as <a href="#gmtime">gmtime</a>, but because time zone rules change its accuracy for historical and future times may degrade but usually by no more than an hour.</p> </li> <li id="lstat">
<b>lstat</b> <p>Not implemented. (RISC OS)</p> <p>Return values (especially for device and inode) may be bogus. (Win32)</p> </li> <li id="msgctl">
<b>msgctl</b> </li> <li id="msgget">
<b>msgget</b> </li> <li id="msgsnd">
<b>msgsnd</b> </li> <li id="msgrcv">
<b>msgrcv</b> <p>Not implemented. (Android, Win32, VMS, Plan 9, RISC OS, VOS)</p> </li> <li id="open">
<b>open</b> <p>open to <code class="inline">|-</code> and <code class="inline">-|</code> are unsupported. (Win32, RISC OS)</p> <p>Opening a process does not automatically flush output handles on some platforms. (SunOS, Solaris, HP-UX)</p> </li> <li id="readlink">
<b>readlink</b> <p>Not implemented. (Win32, VMS, RISC OS)</p> </li> <li id="rename">
<b>rename</b> <p>Can't move directories between directories on different logical volumes. (Win32)</p> </li> <li id="rewinddir">
<b>rewinddir</b> <p>Will not cause <code class="inline"><a class="l_k" href="functions/readdir">readdir()</a></code> to re-read the directory stream. The entries already read before the <code class="inline"><a class="l_k" href="functions/rewinddir">rewinddir()</a></code> call will just be returned again from a cache buffer. (Win32)</p> </li> <li id="select">
<b>select</b> <p>Only implemented on sockets. (Win32, VMS)</p> <p>Only reliable on sockets. (RISC OS)</p> <p>Note that the <code class="inline"><a class="l_k" href="functions/select">select</a> <span class="w">FILEHANDLE</span></code> form is generally portable.</p> </li> <li id="semctl">
<b>semctl</b> </li> <li id="semget">
<b>semget</b> </li> <li id="semop">
<b>semop</b> <p>Not implemented. (Android, Win32, VMS, RISC OS)</p> </li> <li id="setgrent">
<b>setgrent</b> <p>Not implemented. (Android, VMS, Win32, RISC OS)</p> </li> <li id="setpgrp">
<b>setpgrp</b> <p>Not implemented. (Win32, VMS, RISC OS, VOS)</p> </li> <li id="setpriority">
<b>setpriority</b> <p>Not implemented. (Win32, VMS, RISC OS, VOS)</p> </li> <li id="setpwent">
<b>setpwent</b> <p>Not implemented. (Android, Win32, RISC OS)</p> </li> <li id="setsockopt">
<b>setsockopt</b> <p>Not implemented. (Plan 9)</p> </li> <li id="shmctl">
<b>shmctl</b> </li> <li id="shmget">
<b>shmget</b> </li> <li id="shmread">
<b>shmread</b> </li> <li id="shmwrite">
<b>shmwrite</b> <p>Not implemented. (Android, Win32, VMS, RISC OS)</p> </li> <li id="sleep">
<b>sleep</b> <p>Emulated using synchronization functions such that it can be interrupted by <code class="inline"><a class="l_k" href="functions/alarm">alarm()</a></code>, and limited to a maximum of 4294967 seconds, approximately 49 days. (Win32)</p> </li> <li id="sockatmark">
<b>sockatmark</b> <p>A relatively recent addition to socket functions, may not be implemented even in Unix platforms.</p> </li> <li id="socketpair">
<b>socketpair</b> <p>Not implemented. (RISC OS)</p> <p>Available on 64 bit OpenVMS 8.2 and later. (VMS)</p> </li> <li id="stat">
<b>stat</b> <p>Platforms that do not have rdev, blksize, or blocks will return these as '', so numeric comparison or manipulation of these fields may cause 'not numeric' warnings.</p> <p>ctime not supported on UFS (Mac OS X).</p> <p>ctime is creation time instead of inode change time (Win32).</p> <p>device and inode are not meaningful. (Win32)</p> <p>device and inode are not necessarily reliable. (VMS)</p> <p>mtime, atime and ctime all return the last modification time. Device and inode are not necessarily reliable. (RISC OS)</p> <p>dev, rdev, blksize, and blocks are not available. inode is not meaningful and will differ between stat calls on the same file. (os2)</p> <p>some versions of cygwin when doing a <code class="inline"><a class="l_k" href="functions/stat">stat("foo")</a></code> and if not finding it may then attempt to <code class="inline"><a class="l_k" href="functions/stat">stat("foo.exe")</a></code> (Cygwin)</p> <p>On Win32 <code class="inline"><a class="l_k" href="functions/stat">stat()</a></code> needs to open the file to determine the link count and update attributes that may have been changed through hard links. Setting <code class="inline"><span class="i">$</span>{<span class="w">^WIN32_SLOPPY_STAT</span>}</code> to a true value speeds up <code class="inline"><a class="l_k" href="functions/stat">stat()</a></code> by not performing this operation. (Win32)</p> </li> <li id="symlink">
<b>symlink</b> <p>Not implemented. (Win32, RISC OS)</p> <p>Implemented on 64 bit VMS 8.3. VMS requires the symbolic link to be in Unix syntax if it is intended to resolve to a valid path.</p> </li> <li id="syscall">
<b>syscall</b> <p>Not implemented. (Win32, VMS, RISC OS, VOS)</p> </li> <li id="sysopen">
<b>sysopen</b> <p>The traditional "0", "1", and "2" MODEs are implemented with different numeric values on some systems. The flags exported by <code class="inline"><span class="w">Fcntl</span></code> (O_RDONLY, O_WRONLY, O_RDWR) should work everywhere though. (Mac OS, OS/390)</p> </li> <li id="system">
<b>system</b> <p>As an optimization, may not call the command shell specified in <code class="inline"><span class="i">$ENV</span>{<span class="w">PERL5SHELL</span>}</code> . <code class="inline"><a class="l_k" href="functions/system">system</a><span class="s">(</span><span class="n">1</span><span class="cm">,</span> <span class="i">@args</span><span class="s">)</span></code> spawns an external process and immediately returns its process designator, without waiting for it to terminate. Return value may be used subsequently in <code class="inline"><a class="l_k" href="functions/wait">wait</a></code> or <code class="inline"><a class="l_k" href="functions/waitpid">waitpid</a></code>. Failure to <code class="inline"><span class="i">spawn</span><span class="s">(</span><span class="s">)</span></code> a subprocess is indicated by setting <code class="inline"><span class="i">$?</span></code> to <code class="inline"><span class="q">"255 &lt;&lt; 8"</span></code> . <code class="inline"><span class="i">$?</span></code> is set in a way compatible with Unix (i.e. the exitstatus of the subprocess is obtained by <code class="inline"><span class="q">"$?</span></code> 8"&gt;&gt;, as described in the documentation). (Win32)</p> <p>There is no shell to process metacharacters, and the native standard is to pass a command line terminated by "\n" "\r" or "\0" to the spawned program. Redirection such as <code class="inline">&gt; foo</code> is performed (if at all) by the run time library of the spawned program. <code class="inline"><a class="l_k" href="functions/system">system</a></code> <i>list</i> will call the Unix emulation library's <code class="inline"><a class="l_k" href="functions/exec">exec</a></code> emulation, which attempts to provide emulation of the stdin, stdout, stderr in force in the parent, providing the child program uses a compatible version of the emulation library. <i>scalar</i> will call the native command line direct and no such emulation of a child Unix program will exists. Mileage <b>will</b> vary. (RISC OS)</p> <p><code class="inline"><a class="l_k" href="functions/system">system</a> <span class="i">LIST</span></code> without the use of indirect object syntax (<code class="inline"><a class="l_k" href="functions/system">system</a> <span class="i">PROGRAM</span> <span class="w">LIST</span></code> ) may fall back to trying the shell if the first <code class="inline"><span class="i">spawn</span><span class="s">(</span><span class="s">)</span></code> fails. (Win32)</p> <p>Does not automatically flush output handles on some platforms. (SunOS, Solaris, HP-UX)</p> <p>The return value is POSIX-like (shifted up by 8 bits), which only allows room for a made-up value derived from the severity bits of the native 32-bit condition code (unless overridden by <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">vmsish</span> <span class="q">'status'</span></code> ). If the native condition code is one that has a POSIX value encoded, the POSIX value will be decoded to extract the expected exit value. For more details see <a href="perlvms#%24%3f">$? in perlvms</a>. (VMS)</p> </li> <li id="telldir">
<b>telldir</b> <p>Not implemented. (Android)</p> </li> <li id="times">
<b>times</b> <p>"cumulative" times will be bogus. On anything other than Windows NT or Windows 2000, "system" time will be bogus, and "user" time is actually the time returned by the <code class="inline"><span class="i">clock</span><span class="s">(</span><span class="s">)</span></code> function in the C runtime library. (Win32)</p> <p>Not useful. (RISC OS)</p> </li> <li id="truncate">
<b>truncate</b> <p>Not implemented. (Older versions of VMS)</p> <p>Truncation to same-or-shorter lengths only. (VOS)</p> <p>If a FILEHANDLE is supplied, it must be writable and opened in append mode (i.e., use <code class="inline"><a class="l_k" href="functions/open">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">'&gt;&gt;filename'</span><span class="s">)</span></code> or <code class="inline"><a class="l_k" href="functions/sysopen">sysopen(FH,...,O_APPEND|O_RDWR)</a></code>. If a filename is supplied, it should not be held open elsewhere. (Win32)</p> </li> <li id="umask">
<b>umask</b> <p>Returns undef where unavailable.</p> <p><code class="inline"><a class="l_k" href="functions/umask">umask</a></code> works but the correct permissions are set only when the file is finally closed. (AmigaOS)</p> </li> <li id="utime">
<b>utime</b> <p>Only the modification time is updated. (VMS, RISC OS)</p> <p>May not behave as expected. Behavior depends on the C runtime library's implementation of <code class="inline"><a class="l_k" href="functions/utime">utime()</a></code>, and the filesystem being used. The FAT filesystem typically does not support an "access time" field, and it may limit timestamps to a granularity of two seconds. (Win32)</p> </li> <li id="wait">
<b>wait</b> </li> <li id="waitpid">
<b>waitpid</b> <p>Can only be applied to process handles returned for processes spawned using <code class="inline"><a class="l_k" href="functions/system">system</a><span class="s">(</span><span class="n">1</span><span class="cm">,</span> ...<span class="s">)</span></code> or pseudo processes created with <code class="inline"><a class="l_k" href="functions/fork">fork()</a></code>. (Win32)</p> <p>Not useful. (RISC OS)</p> </li> </ul> <h2 id="Supported-Platforms">Supported Platforms</h2> <p>The following platforms are known to build Perl 5.12 (as of April 2010, its release date) from the standard source code distribution available at <a href="http://www.cpan.org/src">http://www.cpan.org/src</a></p> <ul> <li id="Linux-(x86%2c-ARM%2c-IA64)">
<b>Linux (x86, ARM, IA64)</b> </li> <li id="HP-UX">
<b>HP-UX</b> </li> <li id="AIX">
<b>AIX</b> </li> <li id="Win32">
<b>Win32</b> <ul> <li id="Windows-2000">
<b>Windows 2000</b> </li> <li id="Windows-XP">
<b>Windows XP</b> </li> <li id="Windows-Server-2003">
<b>Windows Server 2003</b> </li> <li id="Windows-Vista">
<b>Windows Vista</b> </li> <li id="Windows-Server-2008">
<b>Windows Server 2008</b> </li> <li id="Windows-7">
<b>Windows 7</b> </li> </ul> </li> <li id="Cygwin">
<b>Cygwin</b> <p>Some tests are known to fail:</p> <ul> <li> <p><i>ext/XS-APItes/t/call_checker.t</i> - see <a href="https://rt.perl.org/Ticket/Display.html?id=78502">https://rt.perl.org/Ticket/Display.html?id=78502</a></p> </li> <li> <p><i>dist/I18N-Collate/t/I18N-Collate.t</i></p> </li> <li> <p><i>ext/Win32CORE/t/win32core.t</i> - may fail on recent cygwin installs.</p> </li> </ul> </li> <li id="Solaris-(x86%2c-SPARC)">
<b>Solaris (x86, SPARC)</b> </li> <li id="OpenVMS">
<b>OpenVMS</b> <ul> <li id="Alpha-(7.2-and-later)">
<b>Alpha (7.2 and later)</b> </li> <li id="I64-(8.2-and-later)">
<b>I64 (8.2 and later)</b> </li> </ul> </li> <li id="Symbian">
<b>Symbian</b> </li> <li id="NetBSD">
<b>NetBSD</b> </li> <li id="FreeBSD">
<b>FreeBSD</b> </li> <li id="Debian-GNU%2fkFreeBSD">
<b>Debian GNU/kFreeBSD</b> </li> <li id="Haiku">
<b>Haiku</b> </li> <li id="Irix-(6.5.-What-else%3f)">
<b>Irix (6.5. What else?)</b> </li> <li id="OpenBSD">
<b>OpenBSD</b> </li> <li id="Dragonfly-BSD">
<b>Dragonfly BSD</b> </li> <li id="Midnight-BSD">
<b>Midnight BSD</b> </li> <li id="QNX-Neutrino-RTOS-(6.5.0)">
<b>QNX Neutrino RTOS (6.5.0)</b> </li> <li id="MirOS-BSD">
<b>MirOS BSD</b> </li> <li id="Stratus-OpenVOS-(17.0-or-later)">
<b>Stratus OpenVOS (17.0 or later)</b> <p>Caveats:</p> <ul> <li id="time_t-issues-that-may-or-may-not-be-fixed">
<b>time_t issues that may or may not be fixed</b> </li> </ul> </li> <li id="Symbian-(Series-60-v3%2c-3.2-and-5---what-else%3f)">
<b>Symbian (Series 60 v3, 3.2 and 5 - what else?)</b> </li> <li id="Stratus-VOS-%2f-OpenVOS">
<b>Stratus VOS / OpenVOS</b> </li> <li id="AIX">
<b>AIX</b> </li> <li id="Android">
<b>Android</b> </li> <li id="FreeMINT">
<b>FreeMINT</b> <p>Perl now builds with FreeMiNT/Atari. It fails a few tests, that needs some investigation.</p> <p>The FreeMiNT port uses GNU dld for loadable module capabilities. So ensure you have that library installed when building perl.</p> </li> </ul> <h2 id="EOL-Platforms">EOL Platforms</h2> <h3 id="(Perl-5.20)">(Perl 5.20)</h3> <p>The following platforms were supported by a previous version of Perl but have been officially removed from Perl's source code as of 5.20:</p> <ul> <li id="AT%26T-3b1">
<b>AT&amp;T 3b1</b> </li> </ul> <h3 id="(Perl-5.14)">(Perl 5.14)</h3> <p>The following platforms were supported up to 5.10. They may still have worked in 5.12, but supporting code has been removed for 5.14:</p> <ul> <li id="Windows-95">
<b>Windows 95</b> </li> <li id="Windows-98">
<b>Windows 98</b> </li> <li id="Windows-ME">
<b>Windows ME</b> </li> <li id="Windows-NT4">
<b>Windows NT4</b> </li> </ul> <h3 id="(Perl-5.12)">(Perl 5.12)</h3> <p>The following platforms were supported by a previous version of Perl but have been officially removed from Perl's source code as of 5.12:</p> <ul> <li id="Atari-MiNT">
<b>Atari MiNT</b> </li> <li id="Apollo-Domain%2fOS">
<b>Apollo Domain/OS</b> </li> <li id="Apple-Mac-OS-8%2f9">
<b>Apple Mac OS 8/9</b> </li> <li id="Tenon-Machten">
<b>Tenon Machten</b> </li> </ul> <h2 id="Supported-Platforms-(Perl-5.8)">Supported Platforms (Perl 5.8)</h2> <p>As of July 2002 (the Perl release 5.8.0), the following platforms were able to build Perl from the standard source code distribution available at <a href="http://www.cpan.org/src/">http://www.cpan.org/src/</a></p> <pre class="verbatim" data-language="perl">AIX
BeOS
BSD/OS          (BSDi)
Cygwin
DG/UX
DOS DJGPP       1)
DYNIX/ptx
EPOC R5
FreeBSD
HI-UXMPP        (Hitachi) (5.8.0 worked but we didn't know it)
HP-UX
IRIX
Linux
Mac OS Classic
Mac OS X        (Darwin)
MPE/iX
NetBSD
NetWare
NonStop-UX
ReliantUNIX     (formerly SINIX)
OpenBSD
OpenVMS         (formerly VMS)
Open UNIX       (Unixware) (since Perl 5.8.1/5.9.0)
OS/2
OS/400          (using the PASE) (since Perl 5.8.1/5.9.0)
PowerUX
POSIX-BC        (formerly BS2000)
QNX
Solaris
SunOS 4
SUPER-UX        (NEC)
Tru64 UNIX      (formerly DEC OSF/1, Digital UNIX)
UNICOS
UNICOS/mk
UTS
VOS / OpenVOS
Win95/98/ME/2K/XP 2)
WinCE
z/OS            (formerly OS/390)
VM/ESA

1) in DOS mode either the DOS or OS/2 ports can be used
2) compilers: Borland, MinGW (GCC), VC6
</pre>
<p>The following platforms worked with the previous releases (5.6 and 5.7), but we did not manage either to fix or to test these in time for the 5.8.0 release. There is a very good chance that many of these will work fine with the 5.8.0.</p> <pre class="verbatim" data-language="perl">BSD/OS
DomainOS
Hurd
LynxOS
MachTen
PowerMAX
SCO SV
SVR4
Unixware
Windows 3.1
</pre>
<p>Known to be broken for 5.8.0 (but 5.6.1 and 5.7.2 can be used):</p> <pre class="verbatim" data-language="perl">AmigaOS
</pre>
<p>The following platforms have been known to build Perl from source in the past (5.005_03 and earlier), but we haven't been able to verify their status for the current release, either because the hardware/software platforms are rare or because we don't have an active champion on these platforms--or both. They used to work, though, so go ahead and try compiling them, and let perlbug@perl.org of any trouble.</p> <pre class="verbatim" data-language="perl">3b1
A/UX
ConvexOS
CX/UX
DC/OSx
DDE SMES
DOS EMX
Dynix
EP/IX
ESIX
FPS
GENIX
Greenhills
ISC
MachTen 68k
MPC
NEWS-OS
NextSTEP
OpenSTEP
Opus
Plan 9
RISC/os
SCO ODT/OSR
Stellar
SVR2
TI1500
TitanOS
Ultrix
Unisys Dynix
</pre>
<p>The following platforms have their own source code distributions and binaries available via <a href="http://www.cpan.org/ports/">http://www.cpan.org/ports/</a></p> <pre class="verbatim" data-language="perl">                        Perl release

OS/400 (ILE)            5.005_02
Tandem Guardian         5.004
</pre>
<p>The following platforms have only binaries available via <a href="http://www.cpan.org/ports/index.html">http://www.cpan.org/ports/index.html</a> :</p> <pre class="verbatim" data-language="perl">                        Perl release

Acorn RISCOS            5.005_02
AOS                     5.002
LynxOS                  5.004_02
</pre>
<p>Although we do suggest that you always build your own Perl from the source code, both for maximal configurability and for security, in case you are in a hurry you can check <a href="http://www.cpan.org/ports/index.html">http://www.cpan.org/ports/index.html</a> for binary distributions.</p> <h2 id="SEE-ALSO">SEE ALSO</h2> <p><a href="perlaix">perlaix</a>, <a href="perlamiga">perlamiga</a>, <a href="perlbs2000">perlbs2000</a>, <a href="perlce">perlce</a>, <a href="perlcygwin">perlcygwin</a>, <a href="perldos">perldos</a>, <a href="perlebcdic">perlebcdic</a>, <a href="perlfreebsd">perlfreebsd</a>, <a href="perlhurd">perlhurd</a>, <a href="perlhpux">perlhpux</a>, <a href="perlirix">perlirix</a>, <a href="perlmacos">perlmacos</a>, <a href="perlmacosx">perlmacosx</a>, <a href="perlnetware">perlnetware</a>, <a href="perlos2">perlos2</a>, <a href="perlos390">perlos390</a>, <a href="perlos400">perlos400</a>, <a href="perlplan9">perlplan9</a>, <a href="perlqnx">perlqnx</a>, <a href="perlsolaris">perlsolaris</a>, <a href="perltru64">perltru64</a>, <a href="perlunicode">perlunicode</a>, <a href="perlvms">perlvms</a>, <a href="perlvos">perlvos</a>, <a href="perlwin32">perlwin32</a>, and <a href="http://search.cpan.org/perldoc/Win32">Win32</a>.</p> <h2 id="AUTHORS-%2f-CONTRIBUTORS">AUTHORS / CONTRIBUTORS</h2> <p>Abigail &lt;abigail@foad.org&gt;, Charles Bailey &lt;bailey@newman.upenn.edu&gt;, Graham Barr &lt;gbarr@pobox.com&gt;, Tom Christiansen &lt;tchrist@perl.com&gt;, Nicholas Clark &lt;nick@ccl4.org&gt;, Thomas Dorner &lt;Thomas.Dorner@start.de&gt;, Andy Dougherty &lt;doughera@lafayette.edu&gt;, Dominic Dunlop &lt;domo@computer.org&gt;, Neale Ferguson &lt;neale@vma.tabnsw.com.au&gt;, David J. Fiander &lt;davidf@mks.com&gt;, Paul Green &lt;Paul.Green@stratus.com&gt;, M.J.T. Guy &lt;mjtg@cam.ac.uk&gt;, Jarkko Hietaniemi &lt;jhi@iki.fi&gt;, Luther Huffman &lt;lutherh@stratcom.com&gt;, Nick Ing-Simmons &lt;nick@ing-simmons.net&gt;, Andreas J. KÃ¶nig &lt;a.koenig@mind.de&gt;, Markus Laker &lt;mlaker@contax.co.uk&gt;, Andrew M. Langmead &lt;aml@world.std.com&gt;, Larry Moore &lt;ljmoore@freespace.net&gt;, Paul Moore &lt;Paul.Moore@uk.origin-it.com&gt;, Chris Nandor &lt;pudge@pobox.com&gt;, Matthias Neeracher &lt;neeracher@mac.com&gt;, Philip Newton &lt;pne@cpan.org&gt;, Gary Ng &lt;71564.1743@CompuServe.COM&gt;, Tom Phoenix &lt;rootbeer@teleport.com&gt;, AndrÃ© Pirard &lt;A.Pirard@ulg.ac.be&gt;, Peter Prymmer &lt;pvhp@forte.com&gt;, Hugo van der Sanden &lt;hv@crypt0.demon.co.uk&gt;, Gurusamy Sarathy &lt;gsar@activestate.com&gt;, Paul J. Schinder &lt;schinder@pobox.com&gt;, Michael G Schwern &lt;schwern@pobox.com&gt;, Dan Sugalski &lt;dan@sidhe.org&gt;, Nathan Torkington &lt;gnat@frii.com&gt;, John Malmberg &lt;wb8tyw@qsl.net&gt;</p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 1993â2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/perlport.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/perlport.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
