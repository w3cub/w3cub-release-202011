
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Perldata - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content=" perldata - Perl data types ">
  <meta name="keywords" content="perldata, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/perldata.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>perldata</h1>  <ul>
<li><a href="#NAME">NAME</a></li>
<li>
<a href="#DESCRIPTION">DESCRIPTION</a><ul>
<li><a href="#Variable-names">Variable names </a></li>
<li><a href="#Identifier-parsing">Identifier parsing </a></li>
<li><a href="#Context">Context </a></li>
<li><a href="#Scalar-values">Scalar values </a></li>
<li><a href="#Scalar-value-constructors">Scalar value constructors </a></li>
<li><a href="#List-value-constructors">List value constructors </a></li>
<li><a href="#Subscripts">Subscripts</a></li>
<li><a href="#Multi-dimensional-array-emulation">Multi-dimensional array emulation</a></li>
<li><a href="#Slices">Slices </a></li>
<li><a href="#Typeglobs-and-Filehandles">Typeglobs and Filehandles </a></li>
</ul>
</li>
<li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>
<h2 id="NAME">NAME</h2> <p>perldata - Perl data types</p> <h2 id="DESCRIPTION">DESCRIPTION</h2> <h3 id="Variable-names">Variable names </h3> <p>Perl has three built-in data types: scalars, arrays of scalars, and associative arrays of scalars, known as "hashes". A scalar is a single string (of any size, limited only by the available memory), number, or a reference to something (which will be discussed in <a href="perlref">perlref</a>). Normal arrays are ordered lists of scalars indexed by number, starting with 0. Hashes are unordered collections of scalar values indexed by their associated string key.</p> <p>Values are usually referred to by name, or through a named reference. The first character of the name tells you to what sort of data structure it refers. The rest of the name tells you the particular value to which it refers. Usually this name is a single <i>identifier</i>, that is, a string beginning with a letter or underscore, and containing letters, underscores, and digits. In some cases, it may be a chain of identifiers, separated by <code class="inline"><span class="w">::</span></code> (or by the slightly archaic <code class="inline">'</code>); all but the last are interpreted as names of packages, to locate the namespace in which to look up the final identifier (see <a href="perlmod#Packages">Packages in perlmod</a> for details). For a more in-depth discussion on identifiers, see <a href="#Identifier-parsing">Identifier parsing</a>. It's possible to substitute for a simple identifier, an expression that produces a reference to the value at runtime. This is described in more detail below and in <a href="perlref">perlref</a>. </p> <p>Perl also has its own built-in variables whose names don't follow these rules. They have strange names so they don't accidentally collide with one of your normal variables. Strings that match parenthesized parts of a regular expression are saved under names containing only digits after the <code class="inline"><span class="i">$</span></code> (see <a href="perlop">perlop</a> and <a href="perlre">perlre</a>). In addition, several special variables that provide windows into the inner working of Perl have names containing punctuation characters and control characters. These are documented in <a href="perlvar">perlvar</a>. </p> <p>Scalar values are always named with '$', even when referring to a scalar that is part of an array or a hash. The '$' symbol works semantically like the English word "the" in that it indicates a single value is expected. </p> <pre class="verbatim" data-language="perl">$days		# the simple scalar value "days"
$days[28]		# the 29th element of array @days
$days{'Feb'}	# the 'Feb' value from hash %days
$#days		# the last index of array @days
</pre>
<p>Entire arrays (and slices of arrays and hashes) are denoted by '@', which works much as the word "these" or "those" does in English, in that it indicates multiple values are expected. </p> <pre class="verbatim" data-language="perl">@days		# ($days[0], $days[1],... $days[n])
@days[3,4,5]	# same as ($days[3],$days[4],$days[5])
@days{'a','c'}	# same as ($days{'a'},$days{'c'})
</pre>
<p>Entire hashes are denoted by '%': </p> <pre class="verbatim" data-language="perl">%days		# (key1, val1, key2, val2 ...)
</pre>
<p>In addition, subroutines are named with an initial '&amp;', though this is optional when unambiguous, just as the word "do" is often redundant in English. Symbol table entries can be named with an initial '*', but you don't really care about that yet (if ever :-).</p> <p>Every variable type has its own namespace, as do several non-variable identifiers. This means that you can, without fear of conflict, use the same name for a scalar variable, an array, or a hash--or, for that matter, for a filehandle, a directory handle, a subroutine name, a format name, or a label. This means that $foo and @foo are two different variables. It also means that <code class="inline"><span class="i">$foo</span>[<span class="n">1</span>]</code> is a part of @foo, not a part of $foo. This may seem a bit weird, but that's okay, because it is weird. </p> <p>Because variable references always start with '$', '@', or '%', the "reserved" words aren't in fact reserved with respect to variable names. They <i>are</i> reserved with respect to labels and filehandles, however, which don't have an initial special character. You can't have a filehandle named "log", for instance. Hint: you could say <code class="inline"><a class="l_k" href="functions/open">open(LOG,'logfile')</a></code> rather than <code class="inline"><a class="l_k" href="functions/open">open(log,'logfile')</a></code>. Using uppercase filehandles also improves readability and protects you from conflict with future reserved words. Case <i>is</i> significant--"FOO", "Foo", and "foo" are all different names. Names that start with a letter or underscore may also contain digits and underscores. </p> <p>It is possible to replace such an alphanumeric name with an expression that returns a reference to the appropriate type. For a description of this, see <a href="perlref">perlref</a>.</p> <p>Names that start with a digit may contain only more digits. Names that do not start with a letter, underscore, digit or a caret (i.e. a control character) are limited to one character, e.g., <code class="inline"><span class="i">$%</span></code> or <code class="inline"><span class="i">$$</span></code> . (Most of these one character names have a predefined significance to Perl. For instance, <code class="inline"><span class="i">$$</span></code> is the current process id.)</p> <h3 id="Identifier-parsing">Identifier parsing </h3> <p>Up until Perl 5.18, the actual rules of what a valid identifier was were a bit fuzzy. However, in general, anything defined here should work on previous versions of Perl, while the opposite -- edge cases that work in previous versions, but aren't defined here -- probably won't work on newer versions. As an important side note, please note that the following only applies to bareword identifiers as found in Perl source code, not identifiers introduced through symbolic references, which have much fewer restrictions. If working under the effect of the <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">utf8</span><span class="sc">;</span></code> pragma, the following rules apply:</p> <pre class="verbatim" data-language="perl">/ (?[ ( \p{Word} &amp; \p{XID_Start} ) + [_] ])
        (?[ ( \p{Word} &amp; \p{XID_Continue} ) ]) *    /x
</pre>
<p>That is, a "start" character followed by any number of "continue" characters. Perl requires every character in an identifier to also match <code class="inline">\<span class="w">w</span></code> (this prevents some problematic cases); and Perl additionally accepts identfier names beginning with an underscore.</p> <p>If not under <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">utf8</span></code> , the source is treated as ASCII + 128 extra controls, and identifiers should match</p> <pre class="verbatim" data-language="perl">/ (?aa) (?!\d) \w+ /x
</pre>
<p>That is, any word character in the ASCII range, as long as the first character is not a digit.</p> <p>There are two package separators in Perl: A double colon (<code class="inline"><span class="w">::</span></code> ) and a single quote (<code class="inline">'</code>). Normal identifiers can start or end with a double colon, and can contain several parts delimited by double colons. Single quotes have similar rules, but with the exception that they are not legal at the end of an identifier: That is, <code class="inline"><span class="i">$'foo</span></code> and <code class="inline"><span class="i">$foo'bar</span></code> are legal, but <code class="inline"><span class="i">$foo'bar'</span></code> is not.</p> <p>Additionally, if the identifier is preceded by a sigil -- that is, if the identifier is part of a variable name -- it may optionally be enclosed in braces.</p> <p>While you can mix double colons with singles quotes, the quotes must come after the colons: <code class="inline"><span class="i">$::</span><span class="w">::'foo</span></code> and <code class="inline"><span class="i">$foo::'bar</span></code> are legal, but <code class="inline"><span class="i">$::'::foo</span></code> and <code class="inline"><span class="i">$foo'::bar</span></code> are not.</p> <p>Put together, a grammar to match a basic identifier becomes</p> <pre class="verbatim" data-language="perl">/
   (?(DEFINE)
           (?&lt;variable&gt;
                   (?&amp;sigil)
                   (?:
                                   (?&amp;normal_identifier)
                           |   \{ \s* (?&amp;normal_identifier) \s* \}
                   )
           )
           (?&lt;normal_identifier&gt;
                   (?: :: )* '?
                     (?&amp;basic_identifier)
                     (?: (?= (?: :: )+ '? | (?: :: )* ' ) (?&amp;normal_identifier) )?
                   (?: :: )*
           )
           (?&lt;basic_identifier&gt;
               # is use utf8 on?
                   (?(?{ (caller(0))[8] &amp; $utf8::hint_bits })
                           (?&amp;Perl_XIDS) (?&amp;Perl_XIDC)*
                       | (?aa) (?!\d) \w+
                   )
           )
           (?&lt;sigil&gt; [&amp;*\$\@\%])
           (?&lt;Perl_XIDS&gt; (?[ ( \p{Word} &amp; \p{XID_Start} ) + [_] ]) )
           (?&lt;Perl_XIDC&gt; (?[ \p{Word} &amp; \p{XID_Continue} ]) )
   )
 /x
</pre>
<p>Meanwhile, special identifiers don't follow the above rules; For the most part, all of the identifiers in this category have a special meaning given by Perl. Because they have special parsing rules, these generally can't be fully-qualified. They come in four forms:</p> <ul> <li> <p>A sigil, followed solely by digits matching <code class="inline">\<span class="i">p</span><span class="s">{</span><span class="w">POSIX_Digit</span><span class="s">}</span></code> , like <code class="inline"><span class="i">$0</span></code> , <code class="inline"><span class="i">$1</span></code> , or <code class="inline"><span class="i">$10000</span></code> .</p> </li> <li> <p>A sigil, followed by either a caret and a single POSIX uppercase letter, like <code class="inline"><span class="i">$^V</span></code> or <code class="inline"><span class="i">$^W</span></code> , or a sigil followed by a literal non-space, non-<code class="inline"><span class="w">NUL</span></code> control character matching the <code class="inline">\<span class="i">p</span><span class="s">{</span><span class="w">POSIX_Cntrl</span><span class="s">}</span></code> property. Due to a historical oddity, if not running under <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">utf8</span></code> , the 128 characters in the <code class="inline"><span class="s">[</span><span class="n">0x80</span>-<span class="n">0xff</span><span class="s">]</span></code> range are considered to be controls, and may also be used in length-one variables. However, the use of non-graphical characters is deprecated as of v5.22, and support for them will be removed in a future version of perl. ASCII space characters and <code class="inline"><span class="w">NUL</span></code> already aren't allowed, so this means that a single-character variable name with that name being any other C0 control <code class="inline"><span class="s">[</span><span class="n">0x01</span>-<span class="n">0x1F</span><span class="s">]</span></code> , or <code class="inline"><span class="w">DEL</span></code> will generate a deprecated warning. Already, under <code class="inline"><span class="q">"use</span>
<span class="q">utf8"</span></code> , non-ASCII characters must match <code class="inline"><span class="w">Perl_XIDS</span></code> . As of v5.22, when not under <code class="inline"><span class="q">"use utf8"</span></code> C1 controls <code class="inline"><span class="s">[</span><span class="n">0x80</span>-<span class="n">0x9F</span><span class="s">]</span></code> , NO BREAK SPACE, and SOFT HYPHEN (<code class="inline"><span class="w">SHY</span></code> )) generate a deprecated warning.</p> </li> <li> <p>Similar to the above, a sigil, followed by bareword text in brackets, where the first character is either a caret followed by an uppercase letter, like <code class="inline"><span class="i">$</span>{<span class="w">^GLOBAL_PHASE</span>}</code> or a non-<code class="inline"><span class="w">NUL</span></code> , non-space literal control like <code class="inline"><span class="i">$</span>{\<span class="n">7</span><span class="w">LOBAL_PHASE</span>}</code> . Like the above, when not under <code class="inline"><span class="q">"use utf8"</span></code> , the characters in <code class="inline"><span class="s">[</span><span class="n">0x80</span>-<span class="n">0xFF</span><span class="s">]</span></code> are considered controls, but as of v5.22, the use of any that are non-graphical are deprecated, and as of v5.20 the use of any ASCII-range literal control is deprecated. Support for these will be removed in a future version of perl.</p> </li> <li> <p>A sigil followed by a single character matching the <code class="inline">\<span class="i">p</span><span class="s">{</span><span class="w">POSIX_Punct</span><span class="s">}</span></code> property, like <code class="inline"><span class="i">$!</span></code> or <code class="inline"><span class="i">%+</span></code> , except the character <code class="inline"><span class="q">"{"</span></code> doesn't work.</p> </li> </ul> <p>Note that as of Perl 5.20, literal control characters in variable names are deprecated; and as of Perl 5.22, any other non-graphic characters are also deprecated.</p> <h3 id="Context">Context </h3> <p>The interpretation of operations and values in Perl sometimes depends on the requirements of the context around the operation or value. There are two major contexts: list and scalar. Certain operations return list values in contexts wanting a list, and scalar values otherwise. If this is true of an operation it will be mentioned in the documentation for that operation. In other words, Perl overloads certain operations based on whether the expected return value is singular or plural. Some words in English work this way, like "fish" and "sheep".</p> <p>In a reciprocal fashion, an operation provides either a scalar or a list context to each of its arguments. For example, if you say</p> <pre class="verbatim" data-language="perl">int( &lt;STDIN&gt; )
</pre>
<p>the integer operation provides scalar context for the &lt;&gt; operator, which responds by reading one line from STDIN and passing it back to the integer operation, which will then find the integer value of that line and return that. If, on the other hand, you say</p> <pre class="verbatim" data-language="perl">sort( &lt;STDIN&gt; )
</pre>
<p>then the sort operation provides list context for &lt;&gt;, which will proceed to read every line available up to the end of file, and pass that list of lines back to the sort routine, which will then sort those lines and return them as a list to whatever the context of the sort was.</p> <p>Assignment is a little bit special in that it uses its left argument to determine the context for the right argument. Assignment to a scalar evaluates the right-hand side in scalar context, while assignment to an array or hash evaluates the righthand side in list context. Assignment to a list (or slice, which is just a list anyway) also evaluates the right-hand side in list context.</p> <p>When you use the <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">warnings</span></code> pragma or Perl's <b>-w</b> command-line option, you may see warnings about useless uses of constants or functions in "void context". Void context just means the value has been discarded, such as a statement containing only <code class="inline"><span class="q">"fred"</span><span class="sc">;</span></code> or <code class="inline"><a class="l_k" href="functions/getpwuid">getpwuid(0);</a></code>. It still counts as scalar context for functions that care whether or not they're being called in list context.</p> <p>User-defined subroutines may choose to care whether they are being called in a void, scalar, or list context. Most subroutines do not need to bother, though. That's because both scalars and lists are automatically interpolated into lists. See <a href="functions/wantarray">wantarray</a> for how you would dynamically discern your function's calling context.</p> <h3 id="Scalar-values">Scalar values </h3> <p>All data in Perl is a scalar, an array of scalars, or a hash of scalars. A scalar may contain one single value in any of three different flavors: a number, a string, or a reference. In general, conversion from one form to another is transparent. Although a scalar may not directly hold multiple values, it may contain a reference to an array or hash which in turn contains multiple values.</p> <p>Scalars aren't necessarily one thing or another. There's no place to declare a scalar variable to be of type "string", type "number", type "reference", or anything else. Because of the automatic conversion of scalars, operations that return scalars don't need to care (and in fact, cannot care) whether their caller is looking for a string, a number, or a reference. Perl is a contextually polymorphic language whose scalars can be strings, numbers, or references (which includes objects). Although strings and numbers are considered pretty much the same thing for nearly all purposes, references are strongly-typed, uncastable pointers with builtin reference-counting and destructor invocation.</p> <p>A scalar value is interpreted as FALSE in the Boolean sense if it is undefined, the null string or the number 0 (or its string equivalent, "0"), and TRUE if it is anything else. The Boolean context is just a special kind of scalar context where no conversion to a string or a number is ever performed. </p> <p>There are actually two varieties of null strings (sometimes referred to as "empty" strings), a defined one and an undefined one. The defined version is just a string of length zero, such as <code class="inline"><span class="q">""</span></code> . The undefined version is the value that indicates that there is no real value for something, such as when there was an error, or at end of file, or when you refer to an uninitialized variable or element of an array or hash. Although in early versions of Perl, an undefined scalar could become defined when first used in a place expecting a defined value, this no longer happens except for rare cases of autovivification as explained in <a href="perlref">perlref</a>. You can use the defined() operator to determine whether a scalar value is defined (this has no meaning on arrays or hashes), and the undef() operator to produce an undefined value. </p> <p>To find out whether a given string is a valid non-zero number, it's sometimes enough to test it against both numeric 0 and also lexical "0" (although this will cause noises if warnings are on). That's because strings that aren't numbers count as 0, just as they do in <b>awk</b>:</p> <pre class="verbatim" data-language="perl">    if ($str == 0 &amp;&amp; $str ne "0")  {
warn "That doesn't look like a number";
    }
</pre>
<p>That method may be best because otherwise you won't treat IEEE notations like <code class="inline"><span class="w">NaN</span></code> or <code class="inline"><span class="w">Infinity</span></code> properly. At other times, you might prefer to determine whether string data can be used numerically by calling the POSIX::strtod() function or by inspecting your string with a regular expression (as documented in <a href="perlre">perlre</a>).</p> <pre class="verbatim" data-language="perl">    warn "has nondigits"	if     /\D/;
    warn "not a natural number" unless /^\d+$/;             # rejects -3
    warn "not an integer"       unless /^-?\d+$/;           # rejects +3
    warn "not an integer"       unless /^[+-]?\d+$/;
    warn "not a decimal number" unless /^-?\d+\.?\d*$/;     # rejects .2
    warn "not a decimal number" unless /^-?(?:\d+(?:\.\d*)?|\.\d+)$/;
    warn "not a C float"
unless /^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/;
</pre>
<p>The length of an array is a scalar value. You may find the length of array @days by evaluating <code class="inline"><span class="i">$#days</span></code> , as in <b>csh</b>. However, this isn't the length of the array; it's the subscript of the last element, which is a different value since there is ordinarily a 0th element. Assigning to <code class="inline"><span class="i">$#days</span></code> actually changes the length of the array. Shortening an array this way destroys intervening values. Lengthening an array that was previously shortened does not recover values that were in those elements. </p> <p>You can also gain some minuscule measure of efficiency by pre-extending an array that is going to get big. You can also extend an array by assigning to an element that is off the end of the array. You can truncate an array down to nothing by assigning the null list () to it. The following are equivalent:</p> <pre class="verbatim" data-language="perl">@whatever = ();
$#whatever = -1;
</pre>
<p>If you evaluate an array in scalar context, it returns the length of the array. (Note that this is not true of lists, which return the last value, like the C comma operator, nor of built-in functions, which return whatever they feel like returning.) The following is always true: </p> <pre class="verbatim" data-language="perl">scalar(@whatever) == $#whatever + 1;
</pre>
<p>Some programmers choose to use an explicit conversion so as to leave nothing to doubt:</p> <pre class="verbatim" data-language="perl">$element_count = scalar(@whatever);
</pre>
<p>If you evaluate a hash in scalar context, it returns false if the hash is empty. If there are any key/value pairs, it returns true; more precisely, the value returned is a string consisting of the number of used buckets and the number of allocated buckets, separated by a slash. This is pretty much useful only to find out whether Perl's internal hashing algorithm is performing poorly on your data set. For example, you stick 10,000 things in a hash, but evaluating %HASH in scalar context reveals <code class="inline"><span class="q">"1/16"</span></code> , which means only one out of sixteen buckets has been touched, and presumably contains all 10,000 of your items. This isn't supposed to happen. If a tied hash is evaluated in scalar context, the <code class="inline"><span class="w">SCALAR</span></code> method is called (with a fallback to <code class="inline"><span class="w">FIRSTKEY</span></code> ). </p> <p>You can preallocate space for a hash by assigning to the keys() function. This rounds up the allocated buckets to the next power of two:</p> <pre class="verbatim" data-language="perl">keys(%users) = 1000;		# allocate 1024 buckets
</pre>
<h3 id="Scalar-value-constructors">Scalar value constructors </h3> <p>Numeric literals are specified in any of the following floating point or integer formats:</p> <pre class="verbatim" data-language="perl">12345
12345.67
.23E-10             # a very small number
3.14_15_92          # a very important number
4_294_967_296       # underscore for legibility
0xff                # hex
0xdead_beef         # more hex
0377                # octal (only numbers, begins with 0)
0b011011            # binary
0x1.999ap-4         # hexadecimal floating point (the 'p' is required)
</pre>
<p>You are allowed to use underscores (underbars) in numeric literals between digits for legibility (but not multiple underscores in a row: <code class="inline"><span class="n">23__500</span></code> is not legal; <code class="inline"><span class="n">23_500</span></code> is). You could, for example, group binary digits by threes (as for a Unix-style mode argument such as 0b110_100_100) or by fours (to represent nibbles, as in 0b1010_0110) or in other groups. </p> <p>String literals are usually delimited by either single or double quotes. They work much like quotes in the standard Unix shells: double-quoted string literals are subject to backslash and variable substitution; single-quoted strings are not (except for <code class="inline">\'</code> and <code class="inline">\\</code> ). The usual C-style backslash rules apply for making characters such as newline, tab, etc., as well as some more exotic forms. See <a href="perlop#Quote-and-Quote-like-Operators">Quote and Quote-like Operators in perlop</a> for a list. </p> <p>Hexadecimal, octal, or binary, representations in string literals (e.g. '0xff') are not automatically converted to their integer representation. The hex() and oct() functions make these conversions for you. See <a href="functions/hex">hex</a> and <a href="functions/oct">oct</a> for more details.</p> <p>Hexadecimal floating point can start just like a hexadecimal literal, and it can be followed by an optional fractional hexadecimal part, but it must be followed by <code class="inline"><span class="w">p</span></code> , an optional sign, and a power of two. The format is useful for accurately presenting floating point values, avoiding conversions to or from decimal floating point, and therefore avoiding possible loss in precision. Notice that while most current platforms use the 64-bit IEEE 754 floating point, not all do. Another potential source of (low-order) differences are the floating point rounding modes, which can differ between CPUs, operating systems, and compilers, and which Perl doesn't control.</p> <p>You can also embed newlines directly in your strings, i.e., they can end on a different line than they begin. This is nice, but if you forget your trailing quote, the error will not be reported until Perl finds another line containing the quote character, which may be much further on in the script. Variable substitution inside strings is limited to scalar variables, arrays, and array or hash slices. (In other words, names beginning with $ or @, followed by an optional bracketed expression as a subscript.) The following code segment prints out "The price is $100." </p> <pre class="verbatim" data-language="perl">$Price = '$100';	# not interpolated
print "The price is $Price.\n";	# interpolated
</pre>
<p>There is no double interpolation in Perl, so the <code class="inline"><span class="i">$100</span></code> is left as is.</p> <p>By default floating point numbers substituted inside strings use the dot (".") as the decimal separator. If <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">locale</span></code> is in effect, and POSIX::setlocale() has been called, the character used for the decimal separator is affected by the LC_NUMERIC locale. See <a href="perllocale">perllocale</a> and <a href="posix">POSIX</a>.</p> <p>As in some shells, you can enclose the variable name in braces to disambiguate it from following alphanumerics (and underscores). You must also do this when interpolating a variable into a string to separate the variable name from a following double-colon or an apostrophe, since these would be otherwise treated as a package separator: </p> <pre class="verbatim" data-language="perl">$who = "Larry";
print PASSWD "${who}::0:0:Superuser:/:/bin/perl\n";
print "We use ${who}speak when ${who}'s here.\n";
</pre>
<p>Without the braces, Perl would have looked for a $whospeak, a <code class="inline"><span class="i">$who::0</span></code> , and a <code class="inline"><span class="i">$who's</span></code> variable. The last two would be the $0 and the $s variables in the (presumably) non-existent package <code class="inline"><span class="w">who</span></code> .</p> <p>In fact, a simple identifier within such curlies is forced to be a string, and likewise within a hash subscript. Neither need quoting. Our earlier example, <code class="inline"><span class="i">$days</span>{<span class="q">'Feb'</span>}</code> can be written as <code class="inline"><span class="i">$days</span>{<span class="w">Feb</span>}</code> and the quotes will be assumed automatically. But anything more complicated in the subscript will be interpreted as an expression. This means for example that <code class="inline"><span class="i">$version</span>{<span class="n">2.0</span>}++</code> is equivalent to <code class="inline"><span class="i">$version</span>{<span class="n">2</span>}++</code> , not to <code class="inline"><span class="i">$version</span>{<span class="q">'2.0'</span>}++</code> .</p> <h4 id="Special-floating-point%3a-infinity-(Inf)-and-not-a-number-(NaN)">Special floating point: infinity (Inf) and not-a-number (NaN)</h4> <p>Floating point values include the special values <code class="inline"><span class="w">Inf</span></code> and <code class="inline"><span class="w">NaN</span></code> , for infinity and not-a-number. The infinity can be also negative.</p> <p>The infinity is the result of certain math operations that overflow the floating point range, like 9**9**9. The not-a-number is the result when the result is undefined or unrepresentable. Though note that you cannot get <code class="inline"><span class="w">NaN</span></code> from some common "undefined" or "out-of-range" operations like dividing by zero, or square root of a negative number, since Perl generates fatal errors for those.</p> <p>The infinity and not-a-number have their own special arithmetic rules. The general rule is that they are "contagious": <code class="inline"><span class="w">Inf</span></code> plus one is <code class="inline"><span class="w">Inf</span></code> , and <code class="inline"><span class="w">NaN</span></code> plus one is <code class="inline"><span class="w">NaN</span></code> . Where things get interesting is when you combine infinities and not-a-numbers: <code class="inline"><span class="w">Inf</span></code> minus <code class="inline"><span class="w">Inf</span></code> and <code class="inline"><span class="w">Inf</span></code> divided by <code class="inline"><span class="w">INf</span></code> are <code class="inline"><span class="w">NaN</span></code> (while <code class="inline"><span class="w">Inf</span></code> plus <code class="inline"><span class="w">Inf</span></code> is <code class="inline"><span class="w">Inf</span></code> and <code class="inline"><span class="w">Inf</span></code> times <code class="inline"><span class="w">Inf</span></code> is <code class="inline"><span class="w">Inf</span></code> ). <code class="inline"><span class="w">NaN</span></code> is also curious in that it does not equal any number, <i>including</i> itself: <code class="inline"><span class="w">NaN</span></code> != <code class="inline"><span class="w">NaN</span></code> .</p> <p>Perl doesn't understand <code class="inline"><span class="w">Inf</span></code> and <code class="inline"><span class="w">NaN</span></code> as numeric literals, but you can have them as strings, and Perl will convert them as needed: "Inf" + 1. (You can, however, import them from the POSIX extension; <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">POSIX</span> <span class="q">qw(Inf NaN)</span><span class="sc">;</span></code> and then use them as literals.)</p> <p>Note that on input (string to number) Perl accepts <code class="inline"><span class="w">Inf</span></code> and <code class="inline"><span class="w">NaN</span></code> in many forms. Case is ignored, and the Win32-specific forms like <code class="inline"><span class="n">1.</span><span class="c">#INF</span></code> are understood, but on output the values are normalized to <code class="inline"><span class="w">Inf</span></code> and <code class="inline"><span class="w">NaN</span></code> .</p> <h4 id="Version-Strings">Version Strings </h4> <p>A literal of the form <code class="inline"><span class="v">v1.20.300.4000</span></code> is parsed as a string composed of characters with the specified ordinals. This form, known as v-strings, provides an alternative, more readable way to construct strings, rather than use the somewhat less readable interpolation form <code class="inline"><span class="q">"\x{1}\x{14}\x{12c}\x{fa0}"</span></code> . This is useful for representing Unicode strings, and for comparing version "numbers" using the string comparison operators, <code class="inline">cmp</code> , <code class="inline">gt</code> , <code class="inline">lt</code> etc. If there are two or more dots in the literal, the leading <code class="inline"><span class="w">v</span></code> may be omitted.</p> <pre class="verbatim" data-language="perl">print v9786;              # prints SMILEY, "\x{263a}"
print v102.111.111;       # prints "foo"
print 102.111.111;        # same
</pre>
<p>Such literals are accepted by both <code class="inline"><a class="l_k" href="functions/require">require</a></code> and <code class="inline"><a class="l_k" href="functions/use">use</a></code> for doing a version check. Note that using the v-strings for IPv4 addresses is not portable unless you also use the inet_aton()/inet_ntoa() routines of the Socket package.</p> <p>Note that since Perl 5.8.1 the single-number v-strings (like <code class="inline"><span class="v">v65</span></code> ) are not v-strings before the <code class="inline"><span class="cm">=&gt;</span></code> operator (which is usually used to separate a hash key from a hash value); instead they are interpreted as literal strings ('v65'). They were v-strings from Perl 5.6.0 to Perl 5.8.0, but that caused more confusion and breakage than good. Multi-number v-strings like <code class="inline"><span class="v">v65.66</span></code> and <code class="inline"><span class="v">65.66.67</span></code> continue to be v-strings always.</p> <h4 id="Special-Literals">Special Literals </h4> <p>The special literals __FILE__, __LINE__, and __PACKAGE__ represent the current filename, line number, and package name at that point in your program. __SUB__ gives a reference to the current subroutine. They may be used only as separate tokens; they will not be interpolated into strings. If there is no current package (due to an empty <code class="inline"><a class="l_k" href="functions/package">package;</a></code> directive), __PACKAGE__ is the undefined value. (But the empty <code class="inline"><a class="l_k" href="functions/package">package;</a></code> is no longer supported, as of version 5.10.) Outside of a subroutine, __SUB__ is the undefined value. __SUB__ is only available in 5.16 or higher, and only with a <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="v">v5.16</span></code> or <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">feature</span> <span class="q">"current_sub"</span></code> declaration. </p> <p>The two control characters ^D and ^Z, and the tokens __END__ and __DATA__ may be used to indicate the logical end of the script before the actual end of file. Any following text is ignored.</p> <p>Text after __DATA__ may be read via the filehandle <code class="inline"><span class="w">PACKNAME::DATA</span></code> , where <code class="inline"><span class="w">PACKNAME</span></code> is the package that was current when the __DATA__ token was encountered. The filehandle is left open pointing to the line after __DATA__. The program should <code class="inline"><a class="l_k" href="functions/close">close</a> <span class="w">DATA</span></code> when it is done reading from it. (Leaving it open leaks filehandles if the module is reloaded for any reason, so it's a safer practice to close it.) For compatibility with older scripts written before __DATA__ was introduced, __END__ behaves like __DATA__ in the top level script (but not in files loaded with <code class="inline"><a class="l_k" href="functions/require">require</a></code> or <code class="inline"><a class="l_k" href="functions/do">do</a></code>) and leaves the remaining contents of the file accessible via <code class="inline"><span class="w">main::DATA</span></code> .</p> <p>See <a href="selfloader">SelfLoader</a> for more description of __DATA__, and an example of its use. Note that you cannot read from the DATA filehandle in a BEGIN block: the BEGIN block is executed as soon as it is seen (during compilation), at which point the corresponding __DATA__ (or __END__) token has not yet been seen.</p> <h4 id="Barewords">Barewords </h4> <p>A word that has no other interpretation in the grammar will be treated as if it were a quoted string. These are known as "barewords". As with filehandles and labels, a bareword that consists entirely of lowercase letters risks conflict with future reserved words, and if you use the <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">warnings</span></code> pragma or the <b>-w</b> switch, Perl will warn you about any such words. Perl limits barewords (like identifiers) to about 250 characters. Future versions of Perl are likely to eliminate these arbitrary limitations.</p> <p>Some people may wish to outlaw barewords entirely. If you say</p> <pre class="verbatim" data-language="perl">use strict 'subs';
</pre>
<p>then any bareword that would NOT be interpreted as a subroutine call produces a compile-time error instead. The restriction lasts to the end of the enclosing block. An inner block may countermand this by saying <code class="inline"><a class="l_k" href="functions/no">no</a> <span class="w">strict</span> <span class="q">'subs'</span></code> .</p> <h4 id="Array-Interpolation">Array Interpolation </h4> <p>Arrays and slices are interpolated into double-quoted strings by joining the elements with the delimiter specified in the <code class="inline"><span class="i">$"</span></code> variable (<code class="inline"><span class="i">$LIST_SEPARATOR</span></code> if "use English;" is specified), space by default. The following are equivalent:</p> <pre class="verbatim" data-language="perl">$temp = join($", @ARGV);
system "echo $temp";

system "echo @ARGV";
</pre>
<p>Within search patterns (which also undergo double-quotish substitution) there is an unfortunate ambiguity: Is <code class="inline"><span class="q">/$foo[bar]/</span></code> to be interpreted as <code class="inline"><span class="q">/${foo}[bar]/</span></code> (where <code class="inline"><span class="s">[</span><span class="w">bar</span><span class="s">]</span></code> is a character class for the regular expression) or as <code class="inline"><span class="q">/${foo[bar]}/</span></code> (where <code class="inline"><span class="s">[</span><span class="w">bar</span><span class="s">]</span></code> is the subscript to array @foo)? If @foo doesn't otherwise exist, then it's obviously a character class. If @foo exists, Perl takes a good guess about <code class="inline"><span class="s">[</span><span class="w">bar</span><span class="s">]</span></code> , and is almost always right. If it does guess wrong, or if you're just plain paranoid, you can force the correct interpretation with curly braces as above.</p> <p>If you're looking for the information on how to use here-documents, which used to be here, that's been moved to <a href="perlop#Quote-and-Quote-like-Operators">Quote and Quote-like Operators in perlop</a>.</p> <h3 id="List-value-constructors">List value constructors </h3> <p>List values are denoted by separating individual values by commas (and enclosing the list in parentheses where precedence requires it):</p> <pre class="verbatim" data-language="perl">(LIST)
</pre>
<p>In a context not requiring a list value, the value of what appears to be a list literal is simply the value of the final element, as with the C comma operator. For example,</p> <pre class="verbatim" data-language="perl">@foo = ('cc', '-E', $bar);
</pre>
<p>assigns the entire list value to array @foo, but</p> <pre class="verbatim" data-language="perl">$foo = ('cc', '-E', $bar);
</pre>
<p>assigns the value of variable $bar to the scalar variable $foo. Note that the value of an actual array in scalar context is the length of the array; the following assigns the value 3 to $foo:</p> <pre class="verbatim" data-language="perl">@foo = ('cc', '-E', $bar);
$foo = @foo;                # $foo gets 3
</pre>
<p>You may have an optional comma before the closing parenthesis of a list literal, so that you can say:</p> <pre class="verbatim" data-language="perl">@foo = (
    1,
    2,
    3,
);
</pre>
<p>To use a here-document to assign an array, one line per element, you might use an approach like this:</p> <pre class="verbatim" data-language="perl">@sauces = &lt;&lt;End_Lines =~ m/(\S.*\S)/g;
    normal tomato
    spicy tomato
    green chile
    pesto
    white wine
End_Lines
</pre>
<p>LISTs do automatic interpolation of sublists. That is, when a LIST is evaluated, each element of the list is evaluated in list context, and the resulting list value is interpolated into LIST just as if each individual element were a member of LIST. Thus arrays and hashes lose their identity in a LIST--the list</p> <pre class="verbatim" data-language="perl">(@foo,@bar,&amp;SomeSub,%glarch)
</pre>
<p>contains all the elements of @foo followed by all the elements of @bar, followed by all the elements returned by the subroutine named SomeSub called in list context, followed by the key/value pairs of %glarch. To make a list reference that does <i>NOT</i> interpolate, see <a href="perlref">perlref</a>.</p> <p>The null list is represented by (). Interpolating it in a list has no effect. Thus ((),(),()) is equivalent to (). Similarly, interpolating an array with no elements is the same as if no array had been interpolated at that point.</p> <p>This interpolation combines with the facts that the opening and closing parentheses are optional (except when necessary for precedence) and lists may end with an optional comma to mean that multiple commas within lists are legal syntax. The list <code class="inline"><span class="n">1</span><span class="cm">,</span><span class="cm">,</span><span class="n">3</span></code> is a concatenation of two lists, <code class="inline"><span class="n">1</span><span class="cm">,</span></code> and <code class="inline"><span class="n">3</span></code> , the first of which ends with that optional comma. <code class="inline"><span class="n">1</span><span class="cm">,</span><span class="cm">,</span><span class="n">3</span></code> is <code class="inline"><span class="s">(</span><span class="n">1</span><span class="cm">,</span><span class="s">)</span><span class="cm">,</span><span class="s">(</span><span class="n">3</span><span class="s">)</span></code> is <code class="inline"><span class="n">1</span><span class="cm">,</span><span class="n">3</span></code> (And similarly for <code class="inline"><span class="n">1</span><span class="cm">,</span><span class="cm">,</span><span class="cm">,</span><span class="n">3</span></code> is <code class="inline"><span class="s">(</span><span class="n">1</span><span class="cm">,</span><span class="s">)</span><span class="cm">,</span><span class="s">(</span><span class="cm">,</span><span class="s">)</span><span class="cm">,</span><span class="n">3</span></code> is <code class="inline"><span class="n">1</span><span class="cm">,</span><span class="n">3</span></code> and so on.) Not that we'd advise you to use this obfuscation.</p> <p>A list value may also be subscripted like a normal array. You must put the list in parentheses to avoid ambiguity. For example:</p> <pre class="verbatim" data-language="perl"># Stat returns list value.
$time = (stat($file))[8];

# SYNTAX ERROR HERE.
$time = stat($file)[8];  # OOPS, FORGOT PARENTHESES

# Find a hex digit.
$hexdigit = ('a','b','c','d','e','f')[$digit-10];

# A "reverse comma operator".
return (pop(@foo),pop(@foo))[0];
</pre>
<p>Lists may be assigned to only when each element of the list is itself legal to assign to:</p> <pre class="verbatim" data-language="perl">($a, $b, $c) = (1, 2, 3);

($map{'red'}, $map{'blue'}, $map{'green'}) = (0x00f, 0x0f0, 0xf00);
</pre>
<p>An exception to this is that you may assign to <code class="inline"><a class="l_k" href="functions/undef">undef</a></code> in a list. This is useful for throwing away some of the return values of a function:</p> <pre class="verbatim" data-language="perl">($dev, $ino, undef, undef, $uid, $gid) = stat($file);
</pre>
<p>As of Perl 5.22, you can also use <code class="inline"><span class="s">(</span><a class="l_k" href="functions/undef">undef</a><span class="s">)</span><span class="n">x2</span></code> instead of <code class="inline"><a class="l_k" href="functions/undef">undef</a><span class="cm">,</span> <a class="l_k" href="functions/undef">undef</a></code> . (You can also do <code class="inline"><span class="s">(</span><span class="i">$x</span><span class="s">)</span> x <span class="n">2</span></code> , which is less useful, because it assigns to the same variable twice, clobbering the first value assigned.)</p> <p>List assignment in scalar context returns the number of elements produced by the expression on the right side of the assignment:</p> <pre class="verbatim" data-language="perl">$x = (($foo,$bar) = (3,2,1));       # set $x to 3, not 2
$x = (($foo,$bar) = f());           # set $x to f()'s return count
</pre>
<p>This is handy when you want to do a list assignment in a Boolean context, because most list functions return a null list when finished, which when assigned produces a 0, which is interpreted as FALSE.</p> <p>It's also the source of a useful idiom for executing a function or performing an operation in list context and then counting the number of return values, by assigning to an empty list and then using that assignment in scalar context. For example, this code:</p> <pre class="verbatim" data-language="perl">$count = () = $string =~ /\d+/g;
</pre>
<p>will place into $count the number of digit groups found in $string. This happens because the pattern match is in list context (since it is being assigned to the empty list), and will therefore return a list of all matching parts of the string. The list assignment in scalar context will translate that into the number of elements (here, the number of times the pattern matched) and assign that to $count. Note that simply using</p> <pre class="verbatim" data-language="perl">$count = $string =~ /\d+/g;
</pre>
<p>would not have worked, since a pattern match in scalar context will only return true or false, rather than a count of matches.</p> <p>The final element of a list assignment may be an array or a hash:</p> <pre class="verbatim" data-language="perl">($a, $b, @rest) = split;
my($a, $b, %rest) = @_;
</pre>
<p>You can actually put an array or hash anywhere in the list, but the first one in the list will soak up all the values, and anything after it will become undefined. This may be useful in a my() or local().</p> <p>A hash can be initialized using a literal list holding pairs of items to be interpreted as a key and a value:</p> <pre class="verbatim" data-language="perl"># same as map assignment above
%map = ('red',0x00f,'blue',0x0f0,'green',0xf00);
</pre>
<p>While literal lists and named arrays are often interchangeable, that's not the case for hashes. Just because you can subscript a list value like a normal array does not mean that you can subscript a list value as a hash. Likewise, hashes included as parts of other lists (including parameters lists and return lists from functions) always flatten out into key/value pairs. That's why it's good to use references sometimes.</p> <p>It is often more readable to use the <code class="inline"><span class="cm">=&gt;</span></code> operator between key/value pairs. The <code class="inline"><span class="cm">=&gt;</span></code> operator is mostly just a more visually distinctive synonym for a comma, but it also arranges for its left-hand operand to be interpreted as a string if it's a bareword that would be a legal simple identifier. <code class="inline"><span class="cm">=&gt;</span></code> doesn't quote compound identifiers, that contain double colons. This makes it nice for initializing hashes:</p> <pre class="verbatim" data-language="perl"> %map = (
              red   =&gt; 0x00f,
              blue  =&gt; 0x0f0,
              green =&gt; 0xf00,
);
</pre>
<p>or for initializing hash references to be used as records:</p> <pre class="verbatim" data-language="perl">$rec = {
            witch =&gt; 'Mable the Merciless',
            cat   =&gt; 'Fluffy the Ferocious',
            date  =&gt; '10/31/1776',
};
</pre>
<p>or for using call-by-named-parameter to complicated functions:</p> <pre class="verbatim" data-language="perl">$field = $query-&gt;radio_group(
            name      =&gt; 'group_name',
            values    =&gt; ['eenie','meenie','minie'],
            default   =&gt; 'meenie',
            linebreak =&gt; 'true',
            labels    =&gt; \%labels
);
</pre>
<p>Note that just because a hash is initialized in that order doesn't mean that it comes out in that order. See <a href="functions/sort">sort</a> for examples of how to arrange for an output ordering.</p> <p>If a key appears more than once in the initializer list of a hash, the last occurrence wins:</p> <pre class="verbatim" data-language="perl">%circle = (
              center =&gt; [5, 10],
              center =&gt; [27, 9],
              radius =&gt; 100,
              color =&gt; [0xDF, 0xFF, 0x00],
              radius =&gt; 54,
);

# same as
%circle = (
              center =&gt; [27, 9],
              color =&gt; [0xDF, 0xFF, 0x00],
              radius =&gt; 54,
);
</pre>
<p>This can be used to provide overridable configuration defaults:</p> <pre class="verbatim" data-language="perl"># values in %args take priority over %config_defaults
%config = (%config_defaults, %args);
</pre>
<h3 id="Subscripts">Subscripts</h3> <p>An array can be accessed one scalar at a time by specifying a dollar sign (<code class="inline"><span class="i">$</span></code> ), then the name of the array (without the leading <code class="inline"><span class="i">@</span></code> ), then the subscript inside square brackets. For example:</p> <pre class="verbatim" data-language="perl">@myarray = (5, 50, 500, 5000);
print "The Third Element is", $myarray[2], "\n";
</pre>
<p>The array indices start with 0. A negative subscript retrieves its value from the end. In our example, <code class="inline"><span class="i">$myarray</span>[<span class="n">-1</span>]</code> would have been 5000, and <code class="inline"><span class="i">$myarray</span>[<span class="n">-2</span>]</code> would have been 500.</p> <p>Hash subscripts are similar, only instead of square brackets curly brackets are used. For example:</p> <pre class="verbatim" data-language="perl">%scientists = 
(
    "Newton" =&gt; "Isaac",
    "Einstein" =&gt; "Albert",
    "Darwin" =&gt; "Charles",
    "Feynman" =&gt; "Richard",
);

print "Darwin's First Name is ", $scientists{"Darwin"}, "\n";
</pre>
<p>You can also subscript a list to get a single element from it:</p> <pre class="verbatim" data-language="perl">$dir = (getpwnam("daemon"))[7];
</pre>
<h3 id="Multi-dimensional-array-emulation">Multi-dimensional array emulation</h3> <p>Multidimensional arrays may be emulated by subscripting a hash with a list. The elements of the list are joined with the subscript separator (see <a href="perlvar#%24%3b">$; in perlvar</a>).</p> <pre class="verbatim" data-language="perl">$foo{$a,$b,$c}
</pre>
<p>is equivalent to</p> <pre class="verbatim" data-language="perl">$foo{join($;, $a, $b, $c)}
</pre>
<p>The default subscript separator is "\034", the same as SUBSEP in <b>awk</b>.</p> <h3 id="Slices">Slices </h3> <p>A slice accesses several elements of a list, an array, or a hash simultaneously using a list of subscripts. It's more convenient than writing out the individual elements as a list of separate scalar values.</p> <pre class="verbatim" data-language="perl">($him, $her)   = @folks[0,-1];              # array slice
@them          = @folks[0 .. 3];            # array slice
($who, $home)  = @ENV{"USER", "HOME"};      # hash slice
($uid, $dir)   = (getpwnam("daemon"))[2,7]; # list slice
</pre>
<p>Since you can assign to a list of variables, you can also assign to an array or hash slice.</p> <pre class="verbatim" data-language="perl">@days[3..5]    = qw/Wed Thu Fri/;
@colors{'red','blue','green'} 
               = (0xff0000, 0x0000ff, 0x00ff00);
@folks[0, -1]  = @folks[-1, 0];
</pre>
<p>The previous assignments are exactly equivalent to</p> <pre class="verbatim" data-language="perl">($days[3], $days[4], $days[5]) = qw/Wed Thu Fri/;
($colors{'red'}, $colors{'blue'}, $colors{'green'})
               = (0xff0000, 0x0000ff, 0x00ff00);
($folks[0], $folks[-1]) = ($folks[-1], $folks[0]);
</pre>
<p>Since changing a slice changes the original array or hash that it's slicing, a <code class="inline">foreach</code> construct will alter some--or even all--of the values of the array or hash.</p> <pre class="verbatim" data-language="perl">foreach (@array[ 4 .. 10 ]) { s/peter/paul/ } 

foreach (@hash{qw[key1 key2]}) {
    s/^\s+//;           # trim leading whitespace
    s/\s+$//;           # trim trailing whitespace
    s/(\w+)/\u\L$1/g;   # "titlecase" words
}
</pre>
<p>As a special exception, when you slice a list (but not an array or a hash), if the list evaluates to empty, then taking a slice of that empty list will always yield the empty list in turn. Thus:</p> <pre class="verbatim" data-language="perl">@a = ()[0,1];          # @a has no elements
@b = (@a)[0,1];        # @b has no elements
@c = (sub{}-&gt;())[0,1]; # @c has no elements
@d = ('a','b')[0,1];   # @d has two elements
@e = (@d)[0,1,8,9];    # @e has four elements
@f = (@d)[8,9];        # @f has two elements
</pre>
<p>This makes it easy to write loops that terminate when a null list is returned:</p> <pre class="verbatim" data-language="perl">while ( ($home, $user) = (getpwent)[7,0] ) {
    printf "%-8s %s\n", $user, $home;
}
</pre>
<p>As noted earlier in this document, the scalar sense of list assignment is the number of elements on the right-hand side of the assignment. The null list contains no elements, so when the password file is exhausted, the result is 0, not 2.</p> <p>Slices in scalar context return the last item of the slice.</p> <pre class="verbatim" data-language="perl">@a = qw/first second third/;
%h = (first =&gt; 'A', second =&gt; 'B');
$t = @a[0, 1];                  # $t is now 'second'
$u = @h{'first', 'second'};     # $u is now 'B'
</pre>
<p>If you're confused about why you use an '@' there on a hash slice instead of a '%', think of it like this. The type of bracket (square or curly) governs whether it's an array or a hash being looked at. On the other hand, the leading symbol ('$' or '@') on the array or hash indicates whether you are getting back a singular value (a scalar) or a plural one (a list).</p> <h4 id="Key%2fValue-Hash-Slices">Key/Value Hash Slices</h4> <p>Starting in Perl 5.20, a hash slice operation with the % symbol is a variant of slice operation returning a list of key/value pairs rather than just values:</p> <pre class="verbatim" data-language="perl">%h = (blonk =&gt; 2, foo =&gt; 3, squink =&gt; 5, bar =&gt; 8);
%subset = %h{'foo', 'bar'}; # key/value hash slice
# %subset is now (foo =&gt; 3, bar =&gt; 8)
</pre>
<p>However, the result of such a slice cannot be localized, deleted or used in assignment. These are otherwise very much consistent with hash slices using the @ symbol.</p> <h4 id="Index%2fValue-Array-Slices">Index/Value Array Slices</h4> <p>Similar to key/value hash slices (and also introduced in Perl 5.20), the % array slice syntax returns a list of index/value pairs:</p> <pre class="verbatim" data-language="perl">@a = "a".."z";
@list = %a[3,4,6];
# @list is now (3, "d", 4, "e", 6, "g")
</pre>
<h3 id="Typeglobs-and-Filehandles">Typeglobs and Filehandles </h3> <p>Perl uses an internal type called a <i>typeglob</i> to hold an entire symbol table entry. The type prefix of a typeglob is a <code class="inline"><span class="i">*</span></code> , because it represents all types. This used to be the preferred way to pass arrays and hashes by reference into a function, but now that we have real references, this is seldom needed.</p> <p>The main use of typeglobs in modern Perl is create symbol table aliases. This assignment:</p> <pre class="verbatim" data-language="perl">*this = *that;
</pre>
<p>makes $this an alias for $that, @this an alias for @that, %this an alias for %that, &amp;this an alias for &amp;that, etc. Much safer is to use a reference. This:</p> <pre class="verbatim" data-language="perl">local *Here::blue = \$There::green;
</pre>
<p>temporarily makes $Here::blue an alias for $There::green, but doesn't make @Here::blue an alias for @There::green, or %Here::blue an alias for %There::green, etc. See <a href="perlmod#Symbol-Tables">Symbol Tables in perlmod</a> for more examples of this. Strange though this may seem, this is the basis for the whole module import/export system.</p> <p>Another use for typeglobs is to pass filehandles into a function or to create new filehandles. If you need to use a typeglob to save away a filehandle, do it this way:</p> <pre class="verbatim" data-language="perl">$fh = *STDOUT;
</pre>
<p>or perhaps as a real reference, like this:</p> <pre class="verbatim" data-language="perl">$fh = \*STDOUT;
</pre>
<p>See <a href="perlsub">perlsub</a> for examples of using these as indirect filehandles in functions.</p> <p>Typeglobs are also a way to create a local filehandle using the local() operator. These last until their block is exited, but may be passed back. For example:</p> <pre class="verbatim" data-language="perl">sub newopen {
    my $path = shift;
    local  *FH;  # not my!
    open   (FH, $path)          or  return undef;
    return *FH;
}
$fh = newopen('/etc/passwd');
</pre>
<p>Now that we have the <code class="inline"><span class="i">*foo</span>{<span class="w">THING</span>}</code> notation, typeglobs aren't used as much for filehandle manipulations, although they're still needed to pass brand new file and directory handles into or out of functions. That's because <code class="inline"><span class="i">*HANDLE</span>{<span class="w">IO</span>}</code> only works if HANDLE has already been used as a handle. In other words, <code class="inline"><span class="i">*FH</span></code> must be used to create new symbol table entries; <code class="inline"><span class="i">*foo</span>{<span class="w">THING</span>}</code> cannot. When in doubt, use <code class="inline"><span class="i">*FH</span></code> .</p> <p>All functions that are capable of creating filehandles (open(), opendir(), pipe(), socketpair(), sysopen(), socket(), and accept()) automatically create an anonymous filehandle if the handle passed to them is an uninitialized scalar variable. This allows the constructs such as <code class="inline"><a class="l_k" href="functions/open">open</a><span class="s">(</span><a class="l_k" href="functions/my">my</a> <span class="i">$fh</span><span class="cm">,</span> ...<span class="s">)</span></code> and <code class="inline"><a class="l_k" href="functions/open">open</a><span class="s">(</span><a class="l_k" href="functions/local">local</a> <span class="i">$fh</span><span class="cm">,</span>...<span class="s">)</span></code> to be used to create filehandles that will conveniently be closed automatically when the scope ends, provided there are no other references to them. This largely eliminates the need for typeglobs when opening filehandles that must be passed around, as in the following example:</p> <pre class="verbatim" data-language="perl">sub myopen {
    open my $fh, "@_"
         or die "Can't open '@_': $!";
    return $fh;
}

{
    my $f = myopen("&lt;/etc/motd");
    print &lt;$f&gt;;
    # $f implicitly closed here
}
</pre>
<p>Note that if an initialized scalar variable is used instead the result is different: <code class="inline"><a class="l_k" href="functions/my">my</a> <span class="i">$fh</span>=<span class="q">'zzz'</span><span class="sc">;</span> <a class="l_k" href="functions/open">open</a><span class="s">(</span><span class="i">$fh</span><span class="cm">,</span> ...<span class="s">)</span></code> is equivalent to <code class="inline"><a class="l_k" href="functions/open">open</a><span class="s">(</span> <span class="i">*</span>{<span class="q">'zzz'</span>}<span class="cm">,</span> ...<span class="s">)</span></code> . <code class="inline"><a class="l_k" href="functions/use">use</a> <span class="w">strict</span> <span class="q">'refs'</span></code> forbids such practice.</p> <p>Another way to create anonymous filehandles is with the Symbol module or with the IO::Handle module and its ilk. These modules have the advantage of not hiding different types of the same name during the local(). See the bottom of <a href="functions/open">open</a> for an example.</p> <h2 id="SEE-ALSO">SEE ALSO</h2> <p>See <a href="perlvar">perlvar</a> for a description of Perl's built-in variables and a discussion of legal variable names. See <a href="perlref">perlref</a>, <a href="perlsub">perlsub</a>, and <a href="perlmod#Symbol-Tables">Symbol Tables in perlmod</a> for more discussion on typeglobs and the <code class="inline"><span class="i">*foo</span>{<span class="w">THING</span>}</code> syntax.</p>
<div class="_attribution">
  <p class="_attribution-p">
     19932016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/perldata.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/perldata.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
