
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Control.Monad.Cont - Haskell 8 - W3cubDocs</title>
  
  <meta name="description" content="The Continuation monad represents computations in continuation-passing style (CPS). In continuation-passing style function result is not returned, &hellip;">
  <meta name="keywords" content="control, monad, cont, haskell, haskell~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/haskell~8/libraries/mtl-2.2.2/control-monad-cont.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/haskell~8.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/haskell~8/" class="_nav-link" title="" style="margin-left:0;">Haskell 8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _haskell">
				
				
<h1 class="caption">Control.Monad.Cont</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) The University of Glasgow 2001<br>(c) Jeff Newbern 2003-2007<br>(c) Andriy Palamarchuk 2007</td>
</tr>
<tr>
<th>License</th>
<td>BSD-style (see the file LICENSE)</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>experimental</td>
</tr>
<tr>
<th>Portability</th>
<td>portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Safe</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents"><div id="contents-list">
<h4 class="caption" onclick="window.scrollTo(0,0)">Contents</h4>
<ul>
<li><a href="#g:1">MonadCont class</a></li>
<li><a href="#g:2">The Cont monad</a></li>
<li><a href="#g:3">The ContT monad transformer</a></li>
<li><a href="#g:4">Example 1: Simple Continuation Usage</a></li>
<li><a href="#g:5">Example 2: Using <code>callCC</code></a></li>
<li><a href="#g:6">Example 3: Using <code>ContT</code> Monad Transformer</a></li>
</ul>
</div></div>
<div id="description">
<h4 class="caption">Description</h4>
<dl>
<dt>Computation type:</dt>
<dd>Computations which can be interrupted and resumed.</dd>
<dt>Binding strategy:</dt>
<dd>Binding a function to a monadic value creates a new continuation which uses the function as the continuation of the monadic computation.</dd>
<dt>Useful for:</dt>
<dd>Complex control structures, error handling, and creating co-routines.</dd>
<dt>Zero and plus:</dt>
<dd>None.</dd>
<dt>Example type:</dt>
<dd><code><a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r a</code></dd>
</dl>
<p>The Continuation monad represents computations in continuation-passing style (CPS). In continuation-passing style function result is not returned, but instead is passed to another function, received as a parameter (continuation). Computations are built up from sequences of nested continuations, terminated by a final continuation (often <code>id</code>) which produces the final result. Since continuations are functions which represent the future of a computation, manipulation of the continuation functions can achieve complex manipulations of the future of the computation, such as interrupting a computation in the middle, aborting a portion of a computation, restarting a computation, and interleaving execution of computations. The Continuation monad adapts CPS to the structure of a monad.</p>
<p>Before using the Continuation monad, be sure that you have a firm understanding of continuation-passing style and that continuations represent the best solution to your particular design problem. Many algorithms which require continuations in other languages do not require them in Haskell, due to Haskell's lazy semantics. Abuse of the Continuation monad can produce code that is impossible to understand and maintain.</p>
</div>
<a href="#g:1" id="g:1"><h2>MonadCont class</h2></a><p class="src">class <a href="../base-4.13.0.0/control-monad#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:MonadCont" class="def">MonadCont</a> m where <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#MonadCont" class="link">Source</a> </p>
<div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a id="v:callCC" class="def">callCC</a> :: ((a -&gt; m b) -&gt; m a) -&gt; m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
<p><code>callCC</code> (call-with-current-continuation) calls a function with the current continuation as its argument. Provides an escape continuation mechanism for use with Continuation monads. Escape continuations allow to abort the current computation and return a value immediately. They achieve a similar effect to <code><a href="control-monad-error#v:throwError" title="Control.Monad.Error">throwError</a></code> and <code><a href="control-monad-error#v:catchError" title="Control.Monad.Error">catchError</a></code> within an <code><a href="control-monad-error#v:Error" title="Control.Monad.Error">Error</a></code> monad. Advantage of this function over calling <code>return</code> is that it makes the continuation explicit, allowing more flexibility and better control (see examples in <a href="control-monad-cont">Control.Monad.Cont</a>).</p>
<p>The standard idiom used with <code>callCC</code> is to provide a lambda-expression to name the continuation. Then calling the named continuation anywhere within its scope will escape from the computation, even if it is many layers deep within nested computations.</p>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:MonadCont">Instances</h5>
<details id="i:MonadCont" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="../transformers-0.5.6.2/control-monad-trans-maybe#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="../transformers-0.5.6.2/control-monad-trans-maybe#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m b) -&gt; <a href="../transformers-0.5.6.2/control-monad-trans-maybe#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a) -&gt; <a href="../transformers-0.5.6.2/control-monad-trans-maybe#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-list#t:ListT" title="Control.Monad.List">ListT</a> m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-list#t:ListT" title="Control.Monad.List">ListT</a> m b) -&gt; <a href="control-monad-list#t:ListT" title="Control.Monad.List">ListT</a> m a) -&gt; <a href="control-monad-list#t:ListT" title="Control.Monad.List">ListT</a> m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.13.0.0/data-monoid#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-writer-strict#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-writer-strict#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m b) -&gt; <a href="control-monad-writer-strict#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m a) -&gt; <a href="control-monad-writer-strict#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.13.0.0/data-monoid#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-writer-lazy#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-writer-lazy#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m b) -&gt; <a href="control-monad-writer-lazy#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m a) -&gt; <a href="control-monad-writer-lazy#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-state-strict#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-state-strict#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m b) -&gt; <a href="control-monad-state-strict#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m a) -&gt; <a href="control-monad-state-strict#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-state-lazy#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-state-lazy#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m b) -&gt; <a href="control-monad-state-lazy#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m a) -&gt; <a href="control-monad-state-lazy#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-reader#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-reader#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m b) -&gt; <a href="control-monad-reader#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a) -&gt; <a href="control-monad-reader#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="../transformers-0.5.6.2/control-monad-trans-identity#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="../transformers-0.5.6.2/control-monad-trans-identity#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m b) -&gt; <a href="../transformers-0.5.6.2/control-monad-trans-identity#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a) -&gt; <a href="../transformers-0.5.6.2/control-monad-trans-identity#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-except#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m) </td>
<td class="doc"><p><span class="version">Since: mtl-2.2</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-except#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m b) -&gt; <a href="control-monad-except#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a) -&gt; <a href="control-monad-except#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="control-monad-error-class#t:Error" title="Control.Monad.Error.Class">Error</a> e, <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-error#t:ErrorT" title="Control.Monad.Error">ErrorT</a> e m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-error#t:ErrorT" title="Control.Monad.Error">ErrorT</a> e m b) -&gt; <a href="control-monad-error#t:ErrorT" title="Control.Monad.Error">ErrorT</a> e m a) -&gt; <a href="control-monad-error#t:ErrorT" title="Control.Monad.Error">ErrorT</a> e m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.13.0.0/data-monoid#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-rws-strict#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-rws-strict#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m b) -&gt; <a href="control-monad-rws-strict#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m a) -&gt; <a href="control-monad-rws-strict#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.13.0.0/data-monoid#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-rws-lazy#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-rws-lazy#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m b) -&gt; <a href="control-monad-rws-lazy#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m a) -&gt; <a href="control-monad-rws-lazy#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
</table></details>
</div>
<a href="#g:2" id="g:2"><h2>The Cont monad</h2></a><p class="src">type <a id="t:Cont" class="def">Cont</a> r = <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r <a href="../base-4.13.0.0/data-functor-identity#t:Identity" title="Data.Functor.Identity">Identity</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#Cont" class="link">Source</a> </p>
<p>Continuation monad. <code>Cont r a</code> is a CPS ("continuation-passing style") computation that produces an intermediate result of type <code>a</code> within a CPS computation whose final result type is <code>r</code>.</p>
<p>The <code>return</code> function simply creates a continuation which passes the value on.</p>
<p>The <code>&gt;&gt;=</code> operator adds the bound function into the continuation chain.</p>
<p class="src"><a id="v:cont" class="def">cont</a> :: ((a -&gt; r) -&gt; r) -&gt; <a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#cont" class="link">Source</a> </p>
<p>Construct a continuation-passing computation from a function. (The inverse of <code><a href="control-monad-cont#v:runCont" title="Control.Monad.Cont">runCont</a></code>)</p>
<p class="src"><a id="v:runCont" class="def">runCont</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#runCont" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r a</td>
<td class="doc"><p>continuation computation (<code>Cont</code>).</p></td>
</tr>
<tr>
<td class="src">-&gt; (a -&gt; r)</td>
<td class="doc"><p>the final continuation, which produces the final result (often <code><a href="../base-4.13.0.0/data-function#v:id" title="Data.Function">id</a></code>).</p></td>
</tr>
<tr>
<td class="src">-&gt; r</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The result of running a CPS computation with a given final continuation. (The inverse of <code><a href="control-monad-cont#v:cont" title="Control.Monad.Cont">cont</a></code>)</p>
<p class="src"><a id="v:mapCont" class="def">mapCont</a> :: (r -&gt; r) -&gt; <a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r a -&gt; <a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#mapCont" class="link">Source</a> </p>
<p>Apply a function to transform the result of a continuation-passing computation.</p>
<ul><li><pre><a href="control-monad-cont#v:runCont" title="Control.Monad.Cont">runCont</a> (<a href="control-monad-cont#v:mapCont" title="Control.Monad.Cont">mapCont</a> f m) = f . <a href="control-monad-cont#v:runCont" title="Control.Monad.Cont">runCont</a> m</pre></li></ul>
<p class="src"><a id="v:withCont" class="def">withCont</a> :: ((b -&gt; r) -&gt; a -&gt; r) -&gt; <a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r a -&gt; <a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a> r b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#withCont" class="link">Source</a> </p>
<p>Apply a function to transform the continuation passed to a CPS computation.</p>
<ul><li><pre><a href="control-monad-cont#v:runCont" title="Control.Monad.Cont">runCont</a> (<a href="control-monad-cont#v:withCont" title="Control.Monad.Cont">withCont</a> f m) = <a href="control-monad-cont#v:runCont" title="Control.Monad.Cont">runCont</a> m . f</pre></li></ul>
<a href="#g:3" id="g:3"><h2>The ContT monad transformer</h2></a><p class="src">newtype <a id="t:ContT" class="def">ContT</a> (r :: k) (m :: k -&gt; <a href="../base-4.13.0.0/data-kind#t:Type" title="Data.Kind">Type</a>) a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#ContT" class="link">Source</a> </p>
<p>The continuation monad transformer. Can be used to add continuation handling to any type constructor: the <code><a href="../base-4.13.0.0/control-monad#t:Monad" title="Control.Monad">Monad</a></code> instance and most of the operations do not require <code>m</code> to be a monad.</p>
<p><code><a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a></code> is not a functor on the category of monads, and many operations cannot be lifted through it.</p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table><tr>
<td class="src">
<a id="v:ContT" class="def">ContT</a> ((a -&gt; m r) -&gt; m r)</td>
<td class="doc empty"> </td>
</tr></table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:ContT">Instances</h5>
<details id="i:ContT" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="control-monad-reader-class#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r' m =&gt; <a href="control-monad-reader-class#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r' (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadReader:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-reader-class">Control.Monad.Reader.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:ask">ask</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m r' <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Reader-Class.html#ask" class="link">Source</a> </p>
<p class="src"><a href="#v:local">local</a> :: (r' -&gt; r') -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Reader-Class.html#local" class="link">Source</a> </p>
<p class="src"><a href="#v:reader">reader</a> :: (r' -&gt; a) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Reader-Class.html#reader" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-state-class#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="control-monad-state-class#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadState:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-state-class">Control.Monad.State.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:get">get</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m s <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-State-Class.html#get" class="link">Source</a> </p>
<p class="src"><a href="#v:put">put</a> :: s -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-State-Class.html#put" class="link">Source</a> </p>
<p class="src"><a href="#v:state">state</a> :: (s -&gt; (a, s)) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-State-Class.html#state" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../transformers-0.5.6.2/control-monad-trans-class#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadTrans:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.5.6.2/control-monad-trans-cont">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:lift">lift</a> :: <a href="../base-4.13.0.0/control-monad#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Class.html#lift" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.13.0.0/control-monad#t:Monad" title="Control.Monad">Monad</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.5.6.2/control-monad-trans-cont">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; (a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#%3E%3E%3D" class="link">Source</a> </p>
<p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#%3E%3E" class="link">Source</a> </p>
<p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#return" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.13.0.0/data-functor#t:Functor" title="Data.Functor">Functor</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Functor:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.5.6.2/control-monad-trans-cont">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#fmap" class="link">Source</a> </p>
<p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#%3C%24" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.13.0.0/control-monad-fail#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> m =&gt; <a href="../base-4.13.0.0/control-monad-fail#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadFail:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.5.6.2/control-monad-trans-cont">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:fail">fail</a> :: <a href="../base-4.13.0.0/data-string#t:String" title="Data.String">String</a> -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/Control-Monad-Fail.html#fail" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.13.0.0/control-applicative#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Applicative:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.5.6.2/control-monad-trans-cont">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#pure" class="link">Source</a> </p>
<p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m (a -&gt; b) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#%3C%2A%3E" class="link">Source</a> </p>
<p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m c <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#liftA2" class="link">Source</a> </p>
<p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#%2A%3E" class="link">Source</a> </p>
<p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-Base.html#%3C%2A" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.13.0.0/control-monad-io-class#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.13.0.0/control-monad-io-class#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadIO:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.5.6.2/control-monad-trans-cont">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/Control-Monad-IO-Class.html#liftIO" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m) </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadCont:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/src/Control-Monad-Cont-Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
</table></details>
</div>
<p class="src"><a id="v:runContT" class="def">runContT</a> :: <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; (a -&gt; m r) -&gt; m r <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#runContT" class="link">Source</a> </p>
<p class="src"><a id="v:mapContT" class="def">mapContT</a> :: forall k m (r :: k) a. (m r -&gt; m r) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#mapContT" class="link">Source</a> </p>
<p>Apply a function to transform the result of a continuation-passing computation. This has a more restricted type than the <code>map</code> operations for other monad transformers, because <code><a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a></code> does not define a functor in the category of monads.</p>
<ul><li><pre><a href="control-monad-cont#v:runContT" title="Control.Monad.Cont">runContT</a> (<a href="control-monad-cont#v:mapContT" title="Control.Monad.Cont">mapContT</a> f m) = f . <a href="control-monad-cont#v:runContT" title="Control.Monad.Cont">runContT</a> m</pre></li></ul>
<p class="src"><a id="v:withContT" class="def">withContT</a> :: forall k b m (r :: k) a. ((b -&gt; m r) -&gt; a -&gt; m r) -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/transformers-0.5.6.2/src/Control-Monad-Trans-Cont.html#withContT" class="link">Source</a> </p>
<p>Apply a function to transform the continuation passed to a CPS computation.</p>
<ul><li><pre><a href="control-monad-cont#v:runContT" title="Control.Monad.Cont">runContT</a> (<a href="control-monad-cont#v:withContT" title="Control.Monad.Cont">withContT</a> f m) = <a href="control-monad-cont#v:runContT" title="Control.Monad.Cont">runContT</a> m . f</pre></li></ul>
<p class="src">module <a href="../base-4.13.0.0/control-monad">Control.Monad</a></p>
<p class="src">module <a href="control-monad-trans">Control.Monad.Trans</a></p>
<a href="#g:4" id="g:4"><h2>Example 1: Simple Continuation Usage</h2></a><p>Calculating length of a list continuation-style:</p>
<pre>calculateLength :: [a] -&gt; Cont r Int
calculateLength l = return (length l)</pre>
<p>Here we use <code>calculateLength</code> by making it to pass its result to <code>print</code>:</p>
<pre>main = do
  runCont (calculateLength "123") print
  -- result: 3</pre>
<p>It is possible to chain <code><a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a></code> blocks with <code>&gt;&gt;=</code>.</p>
<pre>double :: Int -&gt; Cont r Int
double n = return (n * 2)

main = do
  runCont (calculateLength "123" &gt;&gt;= double) print
  -- result: 6</pre>
<a href="#g:5" id="g:5"><h2>Example 2: Using callCC</h2></a><p>This example gives a taste of how escape continuations work, shows a typical pattern for their usage.</p>
<pre>-- Returns a string depending on the length of the name parameter.
-- If the provided string is empty, returns an error.
-- Otherwise, returns a welcome message.
whatsYourName :: String -&gt; String
whatsYourName name =
  (`runCont` id) $ do                      -- 1
    response &lt;- callCC $ \exit -&gt; do       -- 2
      validateName name exit               -- 3
      return $ "Welcome, " ++ name ++ "!"  -- 4
    return response                        -- 5

validateName name exit = do
  when (null name) (exit "You forgot to tell me your name!")</pre>
<p>Here is what this example does:</p>
<ol>
<li>Runs an anonymous <code><a href="control-monad-cont#t:Cont" title="Control.Monad.Cont">Cont</a></code> block and extracts value from it with <code>(`runCont` id)</code>. Here <code>id</code> is the continuation, passed to the <code>Cont</code> block.</li>
<li>Binds <code>response</code> to the result of the following <code><a href="control-monad-cont#v:callCC" title="Control.Monad.Cont">callCC</a></code> block, binds <code>exit</code> to the continuation.</li>
<li>Validates <code>name</code>. This approach illustrates advantage of using <code><a href="control-monad-cont#v:callCC" title="Control.Monad.Cont">callCC</a></code> over <code>return</code>. We pass the continuation to <code>validateName</code>, and interrupt execution of the <code>Cont</code> block from <em>inside</em> of <code>validateName</code>.</li>
<li>Returns the welcome message from the <code><a href="control-monad-cont#v:callCC" title="Control.Monad.Cont">callCC</a></code> block. This line is not executed if <code>validateName</code> fails.</li>
<li>Returns from the <code>Cont</code> block.</li>
</ol>
<a href="#g:6" id="g:6"><h2>Example 3: Using ContT Monad Transformer</h2></a><p><code><a href="control-monad-cont#t:ContT" title="Control.Monad.Cont">ContT</a></code> can be used to add continuation handling to other monads. Here is an example how to combine it with <code>IO</code> monad:</p>
<pre>import Control.Monad.Cont
import System.IO

main = do
  hSetBuffering stdout NoBuffering
  runContT (callCC askString) reportResult

askString :: (String -&gt; ContT () IO String) -&gt; ContT () IO String
askString next = do
  liftIO $ putStrLn "Please enter a string"
  s &lt;- liftIO $ getLine
  next s

reportResult :: String -&gt; IO ()
reportResult s = do
  putStrLn ("You entered: " ++ s)</pre>
<p>Action <code>askString</code> requests user to enter a string, and passes it to the continuation. <code>askString</code> takes as a parameter a continuation taking a string parameter, and returning <code>IO ()</code>. Compare its signature to <code><a href="control-monad-cont#v:runContT" title="Control.Monad.Cont">runContT</a></code> definition.</p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/Control-Monad-Cont.html" class="_attribution-link">https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/mtl-2.2.2/Control-Monad-Cont.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
