
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>package-lock.json - Npm - W3cubDocs</title>
  
  <meta name="description" content="package-lock.json is automatically generated for any operations where npm modifies either the node_modules tree, or package.json. It describes the &hellip;">
  <meta name="keywords" content="package-lock, json, npm">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/npm/cli/v8/configuring-npm/package-lock-json.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/npm.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/npm/" class="_nav-link" title="" style="margin-left:0;">npm</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _npm">
				
				
<h1 class="Heading-sc-1m35ws5-0 keoAKT">package-lock.json</h1>
<div id="___gatsby">
<div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="BaseStyles-sc-8q0tj8-0 dDtDlN">
<a class="Link-kudw2l-0 gveuDO skip-link__SkipLink-sc-sg54jn-0 jMgpPW" color="white" href="#skip-nav" font-size="1">Skip to content</a><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 flKQDR">
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 ikWwzD nKRZg">

<div height="66" display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 huIPeM">
<div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 ipfyof">
<a style="color:#dddddd;font-weight:600;display:flex;align-items:center" mr="4" theme="[object Object]" color="blue.5" class="Link-kudw2l-0 diA-DKt" href="../../../index">npm Docs</a><div display="none,,,block" class="Box-sc-1b6inku-0 jsZuaw"><div role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-labelledby="downshift-390-label" class="Box-sc-1b6inku-0 Position-gj4o9g-0 ikWwzD pSBmA"><span class="TextInput__Wrapper-sc-156lfck-1 YgOAw dark-text-input__DarkTextInput-sc-1qryvhy-0 TVMTy TextInput-wrapper" width="240"><input type="text" aria-autocomplete="list" aria-labelledby="downshift-390-label" autocomplete="off" value="" id="downshift-390-input" placeholder="Search npm Docs" class="TextInput__Input-sc-156lfck-0 hFmjeq"></span></div></div>
</div>
<div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 fZeRUj">
<div display="none,,,block" class="Box-sc-1b6inku-0 ezMiXD"><div color="gray.2" display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 dbzVDM">
<a href="https://npmjs.com/" display="block" color="inherit" class="Link-kudw2l-0 lfdnZb">npmjs.com</a><a href="https://status.npmjs.com/" display="block" color="inherit" class="Link-kudw2l-0 lfdnZb">Status</a><a href="https://npmjs.com/support/" display="block" color="inherit" class="Link-kudw2l-0 lfdnZb">Support</a>
</div></div>

</div>
</div>
</div>
<div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 layout___StyledFlex-sc-1qhwq3g-0 fnaqwK fNYvIR">
<div display="none,,,block" class="Box-sc-1b6inku-0 ezMiXD"><div height="calc(100vh - 66px)" color="gray.8" class="Box-sc-1b6inku-0 Position-gj4o9g-0 JIaNk dNFflh"><div height="100%" style="overflow:auto" class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 ieiGkZ yoSNH"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL">
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="../../../about-npm">About npm</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="../../../getting-started">Getting started</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="../../../packages-and-modules">Packages and modules</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="../../../integrations">Integrations</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="../../../organizations">Organizations</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="https://docs.npmjs.com/policies">Policies</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH" href="../../../threats-and-mitigations">Threats and Mitigations</a></div></div>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jrqCkM iUKqVA"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 kyXAjL">
<a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__TopLevelLink-sc-kh2ci9-1 VgIlc cYphDH active" href="../../v8">npm CLI</a><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 efOxUO">
<div class="Box-sc-1b6inku-0 ikWwzD"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__SecondLevelLink-sc-kh2ci9-2 VgIlc dhjybN" href="../commands">CLI Commands</a></div>
<div class="Box-sc-1b6inku-0 ikWwzD">
<a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__SecondLevelLink-sc-kh2ci9-2 VgIlc dhjybN active" href="../configuring-npm">Configuring npm</a><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 efOxUO">
<a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__ThirdLevelLink-sc-kh2ci9-3 VgIlc hdOArI" href="install">Install</a><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__ThirdLevelLink-sc-kh2ci9-3 VgIlc hdOArI" href="folders">Folders</a><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__ThirdLevelLink-sc-kh2ci9-3 VgIlc hdOArI" href="npmrc">.npmrc</a><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__ThirdLevelLink-sc-kh2ci9-3 VgIlc hdOArI" href="npm-shrinkwrap-json">npm-shrinkwrap.json</a><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__ThirdLevelLink-sc-kh2ci9-3 VgIlc hdOArI" href="package-json">package.json</a><a aria-current="page" theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__ThirdLevelLink-sc-kh2ci9-3 VgIlc hdOArI active" href="package-lock-json">package-lock.json</a>
</div>
</div>
<div class="Box-sc-1b6inku-0 ikWwzD"><a theme="[object Object]" color="blue.5" class="nav-items__NavLink-sc-kh2ci9-0 nav-items__SecondLevelLink-sc-kh2ci9-2 VgIlc dhjybN" href="../using-npm">Using npm</a></div>
</div>
</div></div>
</div></div></div></div>
<div id="skip-nav" display="grid" class="Box-sc-1b6inku-0 Grid-nhubvi-0 layout___StyledGrid-sc-1qhwq3g-1 eavzgG bBzKJd LAVNr">
<div class="Box-sc-1b6inku-0 layout___StyledBox-sc-1qhwq3g-2 ikWwzD cLOoGd">
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 dKEbPp gwAwKs"><div class="Box-sc-1b6inku-0 ikWwzD"><div class="Box-sc-1b6inku-0 ikWwzD">A manifestation of the manifest</div></div></div>

</div>
<div display="none,,block" class="Box-sc-1b6inku-0 Position-gj4o9g-0 layout___StyledPosition-sc-1qhwq3g-4 ceIGgC dhFgjg ffFUDf">
<span display="inline-block" font-weight="bold" class="Text-sc-1g6etse-0 kfRBiA">Table of contents</span><ul class="Box-sc-1b6inku-0 table-of-contents___StyledBox-sc-167zp2h-0 gATGzQ bFAqS">
<li class="Box-sc-1b6inku-0 SdeyN"><a display="inline-block" href="#description" color="gray.6" class="Link-kudw2l-0 hbtGWO">Description</a></li>
<li class="Box-sc-1b6inku-0 SdeyN"><a display="inline-block" href="#package-lockjson-vs-npm-shrinkwrapjson" color="gray.6" class="Link-kudw2l-0 hbtGWO">package-lock.json vs npm-shrinkwrap.json</a></li>
<li class="Box-sc-1b6inku-0 SdeyN"><a display="inline-block" href="#hidden-lockfiles" color="gray.6" class="Link-kudw2l-0 hbtGWO">Hidden Lockfiles</a></li>
<li class="Box-sc-1b6inku-0 SdeyN"><a display="inline-block" href="#handling-old-lockfiles" color="gray.6" class="Link-kudw2l-0 hbtGWO">Handling Old Lockfiles</a></li>
<li class="Box-sc-1b6inku-0 SdeyN">
<a display="inline-block" href="#file-format" color="gray.6" class="Link-kudw2l-0 hbtGWO">File Format</a><ul class="Box-sc-1b6inku-0 table-of-contents___StyledBox-sc-167zp2h-0 gATGzQ bFAqS">
<li class="Box-sc-1b6inku-0 cuQrRm"><a display="inline-block" href="#name" color="gray.6" class="Link-kudw2l-0 hbtGWO">name</a></li>
<li class="Box-sc-1b6inku-0 cuQrRm"><a display="inline-block" href="#version" color="gray.6" class="Link-kudw2l-0 hbtGWO">version</a></li>
<li class="Box-sc-1b6inku-0 cuQrRm"><a display="inline-block" href="#lockfileversion" color="gray.6" class="Link-kudw2l-0 hbtGWO">lockfileVersion</a></li>
<li class="Box-sc-1b6inku-0 cuQrRm"><a display="inline-block" href="#packages" color="gray.6" class="Link-kudw2l-0 hbtGWO">packages</a></li>
<li class="Box-sc-1b6inku-0 cuQrRm"><a display="inline-block" href="#dependencies" color="gray.6" class="Link-kudw2l-0 hbtGWO">dependencies</a></li>
</ul>
</li>
<li class="Box-sc-1b6inku-0 SdeyN"><a display="inline-block" href="#see-also" color="gray.6" class="Link-kudw2l-0 hbtGWO">See also</a></li>
</ul>
</div>
<div class="Box-sc-1b6inku-0 layout___StyledBox3-sc-1qhwq3g-5 ikWwzD cdcKmh">

<h3 id="description" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH3-sc-w625eb-3 keoAKT dvEqcH jGwhGX Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
Description</h3>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD"><code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package-lock.json</code> is automatically generated for any operations where npm modifies either the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> tree, or <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package.json</code>. It describes the exact tree that was generated, such that subsequent installs are able to generate identical trees, regardless of intermediate dependency updates.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">This file is intended to be committed into source repositories, and serves various purposes:</p>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Describe a single representation of a dependency tree such that teammates, deployments, and continuous integration are guaranteed to install exactly the same dependencies.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Provide a facility for users to "time-travel" to previous states of <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> without having to commit the directory itself.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Facilitate greater visibility of tree changes through readable source control diffs.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Optimize the installation process by allowing npm to skip repeated metadata resolutions for previously-installed packages.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">As of npm v7, lockfiles include enough information to gain a complete picture of the package tree, reducing the need to read <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package.json</code> files, and allowing for significant performance improvements.</p></li>
</ul>
<h3 id="package-lockjson-vs-npm-shrinkwrapjson" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH3-sc-w625eb-3 keoAKT dvEqcH jGwhGX Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package-lock.json</code> vs <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">npm-shrinkwrap.json</code>
</h3>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Both of these files have the same format, and perform similar functions in the root of a project.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">The difference is that <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package-lock.json</code> cannot be published, and it will be ignored if found in any place other than the root project.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">In contrast, <a href="npm-shrinkwrap-json" color="blue.5" class="Link-kudw2l-0 hbMoeF">npm-shrinkwrap.json</a> allows publication, and defines the dependency tree from the point encountered. This is not recommended unless deploying a CLI tool or otherwise using the publication process for producing production packages.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">If both <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package-lock.json</code> and <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">npm-shrinkwrap.json</code> are present in the root of a project, <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">npm-shrinkwrap.json</code> will take precedence and <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package-lock.json</code> will be ignored.</p>
<h3 id="hidden-lockfiles" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH3-sc-w625eb-3 keoAKT dvEqcH jGwhGX Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
Hidden Lockfiles</h3>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">In order to avoid processing the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> folder repeatedly, npm as of v7 uses a "hidden" lockfile present in <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules/.package-lock.json</code>. This contains information about the tree, and is used in lieu of reading the entire <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> hierarchy provided that the following conditions are met:</p>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li>All package folders it references exist in the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> hierarchy.</li>
<li>No package folders exist in the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> hierarchy that are not listed in the lockfile.</li>
<li>The modified time of the file is at least as recent as all of the package folders it references.</li>
</ul>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">That is, the hidden lockfile will only be relevant if it was created as part of the most recent update to the package tree. If another CLI mutates the tree in any way, this will be detected, and the hidden lockfile will be ignored.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Note that it <em>is</em> possible to manually change the <em>contents</em> of a package in such a way that the modified time of the package folder is unaffected. For example, if you add a file to <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules/foo/lib/bar.js</code>, then the modified time on <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules/foo</code> will not reflect this change. If you are manually editing files in <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code>, it is generally best to delete the file at <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules/.package-lock.json</code>.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">As the hidden lockfile is ignored by older npm versions, it does not contain the backwards compatibility affordances present in "normal" lockfiles. That is, it is <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">lockfileVersion: 3</code>, rather than <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">lockfileVersion: 2</code>.</p>
<h3 id="handling-old-lockfiles" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH3-sc-w625eb-3 keoAKT dvEqcH jGwhGX Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
Handling Old Lockfiles</h3>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">When npm detects a lockfile from npm v6 or before during the package installation process, it is automatically updated to fetch missing information from either the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> tree or (in the case of empty <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> trees or very old lockfile formats) the npm registry.</p>
<h3 id="file-format" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH3-sc-w625eb-3 keoAKT dvEqcH jGwhGX Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
File Format</h3>
<h4 id="name" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH4-sc-w625eb-4 keoAKT dvEqcH hODdsm Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">name</code>
</h4>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">The name of the package this is a package-lock for. This will match what's in <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package.json</code>.</p>
<h4 id="version" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH4-sc-w625eb-4 keoAKT dvEqcH hODdsm Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">version</code>
</h4>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">The version of the package this is a package-lock for. This will match what's in <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package.json</code>.</p>
<h4 id="lockfileversion" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH4-sc-w625eb-4 keoAKT dvEqcH hODdsm Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">lockfileVersion</code>
</h4>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">An integer version, starting at <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">1</code> with the version number of this document whose semantics were used when generating this <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package-lock.json</code>.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Note that the file format changed significantly in npm v7 to track information that would have otherwise required looking in <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules</code> or the npm registry. Lockfiles generated by npm v7 will contain <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">lockfileVersion: 2</code>.</p>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li>No version provided: an "ancient" shrinkwrap file from a version of npm prior to npm v5.</li>
<li>
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">1</code>: The lockfile version used by npm v5 and v6.</li>
<li>
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">2</code>: The lockfile version used by npm v7, which is backwards compatible to v1 lockfiles.</li>
<li>
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">3</code>: The lockfile version used by npm v7, <em>without</em> backwards compatibility affordances. This is used for the hidden lockfile at <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">node_modules/.package-lock.json</code>, and will likely be used in a future version of npm, once support for npm v6 is no longer relevant.</li>
</ul>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">npm will always attempt to get whatever data it can out of a lockfile, even if it is not a version that it was designed to support.</p>
<h4 id="packages" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH4-sc-w625eb-4 keoAKT dvEqcH hODdsm Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
<code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">packages</code>
</h4>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">This is an object that maps package locations to an object containing the information about that package.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">The root project is typically listed with a key of <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">""</code>, and all other packages are listed with their relative paths from the root project folder.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Package descriptors have the following fields:</p>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">version: The version found in <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package.json</code></p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">resolved: The place where the package was actually resolved from. In the case of packages fetched from the registry, this will be a url to a tarball. In the case of git dependencies, this will be the full git url with commit sha. In the case of link dependencies, this will be the location of the link target. <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">registry.npmjs.org</code> is a magic value meaning "the currently configured registry".</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">integrity: A <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">sha512</code> or <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">sha1</code> <a href="https://w3c.github.io/webappsec/specs/subresourceintegrity/" color="blue.5" class="Link-kudw2l-0 hbMoeF">Standard Subresource Integrity</a> string for the artifact that was unpacked in this location.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">link: A flag to indicate that this is a symbolic link. If this is present, no other fields are specified, since the link target will also be included in the lockfile.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">dev, optional, devOptional: If the package is strictly part of the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">devDependencies</code> tree, then <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">dev</code> will be true. If it is strictly part of the <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">optionalDependencies</code> tree, then <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">optional</code> will be set. If it is both a <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">dev</code> dependency <em>and</em> an <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">optional</code> dependency of a non-dev dependency, then <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">devOptional</code> will be set. (An <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">optional</code> dependency of a <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">dev</code> dependency will have both <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">dev</code> and <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">optional</code> set.)</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">inBundle: A flag to indicate that the package is a bundled dependency.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">hasInstallScript: A flag to indicate that the package has a <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">preinstall</code>, <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">install</code>, or <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">postinstall</code> script.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">hasShrinkwrap: A flag to indicate that the package has an <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">npm-shrinkwrap.json</code> file.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">bin, license, engines, dependencies, optionalDependencies: fields from <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">package.json</code></p></li>
</ul>
<h4 id="dependencies" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH4-sc-w625eb-4 keoAKT dvEqcH hODdsm Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
dependencies</h4>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Legacy data for supporting versions of npm that use <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">lockfileVersion: 1</code>. This is a mapping of package names to dependency objects. Because the object structure is strictly hierarchical, symbolic link dependencies are somewhat challenging to represent in some cases.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">npm v7 ignores this section entirely if a <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">packages</code> section is present, but does keep it up to date in order to support switching between npm v6 and npm v7.</p>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">Dependency objects have the following fields:</p>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li>
<p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">version: a specifier that varies depending on the nature of the package, and is usable in fetching a new copy of it.</p>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li>bundled dependencies: Regardless of source, this is a version number that is purely for informational purposes.</li>
<li>registry sources: This is a version number. (eg, <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">1.2.3</code>)</li>
<li>git sources: This is a git specifier with resolved committish. (eg, <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">git+https://example.com/foo/bar#115311855adb0789a0466714ed48a1499ffea97e</code>)</li>
<li>http tarball sources: This is the URL of the tarball. (eg, <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">https://example.com/example-1.3.0.tgz</code>)</li>
<li>local tarball sources: This is the file URL of the tarball. (eg <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">file:///opt/storage/example-1.3.0.tgz</code>)</li>
<li>local link sources: This is the file URL of the link. (eg <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">file:libs/our-module</code>)</li>
</ul>
</li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">integrity: A <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">sha512</code> or <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">sha1</code> <a href="https://w3c.github.io/webappsec/specs/subresourceintegrity/" color="blue.5" class="Link-kudw2l-0 hbMoeF">Standard Subresource Integrity</a> string for the artifact that was unpacked in this location. For git dependencies, this is the commit sha.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">resolved: For registry sources this is path of the tarball relative to the registry URL. If the tarball URL isn't on the same server as the registry URL then this is a complete URL. <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">registry.npmjs.org</code> is a magic value meaning "the currently configured registry".</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">bundled: If true, this is the bundled dependency and will be installed by the parent module. When installing, this module will be extracted from the parent module during the extract phase, not installed as a separate dependency.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">dev: If true then this dependency is either a development dependency ONLY of the top level module or a transitive dependency of one. This is false for dependencies that are both a development dependency of the top level and a transitive dependency of a non-development dependency of the top level.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">optional: If true then this dependency is either an optional dependency ONLY of the top level module or a transitive dependency of one. This is false for dependencies that are both an optional dependency of the top level and a transitive dependency of a non-optional dependency of the top level.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">requires: This is a mapping of module name to version. This is a list of everything this module requires, regardless of where it will be installed. The version should match via normal matching rules a dependency either in our <code class="inline-code__InlineCode-sc-m0v2wd-0 cvZQtX">dependencies</code> or in a level higher than us.</p></li>
<li><p class="paragraph__Paragraph-sc-cqjk0l-0 gDjqhD">dependencies: The dependencies of this dependency, exactly as at the top level.</p></li>
</ul>
<h3 id="see-also" class="Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 heading__StyledH3-sc-w625eb-3 keoAKT dvEqcH jGwhGX Heading-sc-1m35ws5-0 heading__StyledHeading-sc-w625eb-0 keoAKT dvEqcH">
See also</h3>
<ul class="list__List-sc-ehvn6t-0 fLsGXk">
<li><a href="../commands/npm-shrinkwrap" color="blue.5" class="Link-kudw2l-0 hbMoeF">npm shrinkwrap</a></li>
<li><a href="npm-shrinkwrap-json" color="blue.5" class="Link-kudw2l-0 hbMoeF">npm-shrinkwrap.json</a></li>
<li><a href="package-json" color="blue.5" class="Link-kudw2l-0 hbMoeF">package.json</a></li>
<li><a href="../commands/npm-install" color="blue.5" class="Link-kudw2l-0 hbMoeF">npm install</a></li>
</ul>
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 fWSmRk lartgG"><div display="grid" class="Box-sc-1b6inku-0 Grid-nhubvi-0 kfLmVf jIKFQx"><a href="https://github.com/npm/cli/edit/v8/docs/content/configuring-npm/package-lock-json.md" color="blue.5" class="Link-kudw2l-0 hbMoeF">Edit this page on GitHub</a></div></div>
</div>
</div>
</div>
</div>
</div></div>

</div>
<div class="_attribution">
  <p class="_attribution-p">
    © npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json" class="_attribution-link">https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
