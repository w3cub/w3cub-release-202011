
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CharsetDecoder - OpenJDK 21 - W3cubDocs</title>
  
  <meta name="description" content="The input byte sequence is provided in a byte buffer or a series of such buffers. The output character sequence is written to a character buffer or &hellip;">
  <meta name="keywords" content="class, charsetdecoder, openjdk, openjdk~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/openjdk~21/java.base/java/nio/charset/charsetdecoder.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/openjdk~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/openjdk~21/" class="_nav-link" title="" style="margin-left:0;">OpenJDK 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _openjdk">
				
				
<h1 title="Class CharsetDecoder" class="title">Class CharsetDecoder</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.nio.charset.CharsetDecoder</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public abstract class CharsetDecoder extends Object</pre> <div class="block">An engine that can transform a sequence of bytes in a specific charset into a sequence of sixteen-bit Unicode characters.  <p> The input byte sequence is provided in a byte buffer or a series of such buffers. The output character sequence is written to a character buffer or a series of such buffers. A decoder should always be used by making the following sequence of method invocations, hereinafter referred to as a <i>decoding operation</i>: </p>
<ol> <li><p> Reset the decoder via the <a href="#reset()"><code>reset</code></a> method, unless it has not been used before; </p></li> <li><p> Invoke the <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method zero or more times, as long as additional input may be available, passing <code>false</code> for the <code>endOfInput</code> argument and filling the input buffer and flushing the output buffer between invocations; </p></li> <li><p> Invoke the <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method one final time, passing <code>true</code> for the <code>endOfInput</code> argument; and then </p></li> <li><p> Invoke the <a href="#flush(java.nio.CharBuffer)"><code>flush</code></a> method so that the decoder can flush any internal state to the output buffer. </p></li> </ol> Each invocation of the <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method will decode as many bytes as possible from the input buffer, writing the resulting characters to the output buffer. The <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method returns when more input is required, when there is not enough room in the output buffer, or when a decoding error has occurred. In each case a <a href="coderresult" title="class in java.nio.charset"><code>CoderResult</code></a> object is returned to describe the reason for termination. An invoker can examine this object and fill the input buffer, flush the output buffer, or attempt to recover from a decoding error, as appropriate, and try again.  <p> There are two general types of decoding errors. If the input byte sequence is not legal for this charset then the input is considered <i>malformed</i>. If the input byte sequence is legal but cannot be mapped to a valid Unicode character then an <i>unmappable character</i> has been encountered.  </p>
<p> How a decoding error is handled depends upon the action requested for that type of error, which is described by an instance of the <a href="codingerroraction" title="class in java.nio.charset"><code>CodingErrorAction</code></a> class. The possible error actions are to <a href="codingerroraction#IGNORE">ignore</a> the erroneous input, <a href="codingerroraction#REPORT">report</a> the error to the invoker via the returned <a href="coderresult" title="class in java.nio.charset"><code>CoderResult</code></a> object, or <a href="codingerroraction#REPLACE">replace</a> the erroneous input with the current value of the replacement string. The replacement has the initial value <code>"\uFFFD"</code>; its value may be changed via the <a href="#replaceWith(java.lang.String)"><code>replaceWith</code></a> method. </p>
<p> The default action for malformed-input and unmappable-character errors is to <a href="codingerroraction#REPORT">report</a> them. The malformed-input error action may be changed via the <a href="#onMalformedInput(java.nio.charset.CodingErrorAction)"><code>onMalformedInput</code></a> method; the unmappable-character action may be changed via the <a href="#onUnmappableCharacter(java.nio.charset.CodingErrorAction)"><code>onUnmappableCharacter</code></a> method. </p>
<p> This class is designed to handle many of the details of the decoding process, including the implementation of error actions. A decoder for a specific charset, which is a concrete subclass of this class, need only implement the abstract <a href="#decodeLoop(java.nio.ByteBuffer,java.nio.CharBuffer)"><code>decodeLoop</code></a> method, which encapsulates the basic decoding loop. A subclass that maintains internal state should, additionally, override the <a href="#implFlush(java.nio.CharBuffer)"><code>implFlush</code></a> and <a href="#implReset()"><code>implReset</code></a> methods. </p>
<p> Instances of this class are not safe for use by multiple concurrent threads. </p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="../bytebuffer" title="class in java.nio"><code>ByteBuffer</code></a></li> <li><a href="../charbuffer" title="class in java.nio"><code>CharBuffer</code></a></li> <li><a href="charset" title="class in java.nio.charset"><code>Charset</code></a></li> <li><a href="charsetencoder" title="class in java.nio.charset"><code>CharsetEncoder</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.nio.charset.Charset,float,float)" class="member-name-link">CharsetDecoder</a><wbr>(<a href="charset" title="class in java.nio.charset">Charset</a> cs,
 float averageCharsPerByte,
 float maxCharsPerByte)</wbr></code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Initializes a new decoder.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                                                      <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>final float</code></td>
<td><code><a href="#averageCharsPerByte()" class="member-name-link">averageCharsPerByte</a>()</code></td>
<td> <div class="block">Returns the average number of characters that will be produced for each byte of input.</div> </td>
</tr>
<tr>
<td><code>final <a href="charset" title="class in java.nio.charset">Charset</a></code></td>
<td><code><a href="#charset()" class="member-name-link">charset</a>()</code></td>
<td> <div class="block">Returns the charset that created this decoder.</div> </td>
</tr>
<tr>
<td><code>final <a href="../charbuffer" title="class in java.nio">CharBuffer</a></code></td>
<td><code><a href="#decode(java.nio.ByteBuffer)" class="member-name-link">decode</a><wbr>(<a href="../bytebuffer" title="class in java.nio">ByteBuffer</a> in)</wbr></code></td>
<td> <div class="block">Convenience method that decodes the remaining content of a single input byte buffer into a newly-allocated character buffer.</div> </td>
</tr>
<tr>
<td><code>final <a href="coderresult" title="class in java.nio.charset">CoderResult</a></code></td>
<td><code><a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)" class="member-name-link">decode</a><wbr>(<a href="../bytebuffer" title="class in java.nio">ByteBuffer</a> in,
 <a href="../charbuffer" title="class in java.nio">CharBuffer</a> out,
 boolean endOfInput)</wbr></code></td>
<td> <div class="block">Decodes as many bytes as possible from the given input buffer, writing the results to the given output buffer.</div> </td>
</tr>
<tr>
<td><code>protected abstract <a href="coderresult" title="class in java.nio.charset">CoderResult</a></code></td>
<td><code><a href="#decodeLoop(java.nio.ByteBuffer,java.nio.CharBuffer)" class="member-name-link">decodeLoop</a><wbr>(<a href="../bytebuffer" title="class in java.nio">ByteBuffer</a> in,
 <a href="../charbuffer" title="class in java.nio">CharBuffer</a> out)</wbr></code></td>
<td> <div class="block">Decodes one or more bytes into one or more characters.</div> </td>
</tr>
<tr>
<td><code><a href="charset" title="class in java.nio.charset">Charset</a></code></td>
<td><code><a href="#detectedCharset()" class="member-name-link">detectedCharset</a>()</code></td>
<td> <div class="block">Retrieves the charset that was detected by this decoder <i>(optional operation)</i>.</div> </td>
</tr>
<tr>
<td><code>final <a href="coderresult" title="class in java.nio.charset">CoderResult</a></code></td>
<td><code><a href="#flush(java.nio.CharBuffer)" class="member-name-link">flush</a><wbr>(<a href="../charbuffer" title="class in java.nio">CharBuffer</a> out)</wbr></code></td>
<td> <div class="block">Flushes this decoder.</div> </td>
</tr>
<tr>
<td><code>protected <a href="coderresult" title="class in java.nio.charset">CoderResult</a></code></td>
<td><code><a href="#implFlush(java.nio.CharBuffer)" class="member-name-link">implFlush</a><wbr>(<a href="../charbuffer" title="class in java.nio">CharBuffer</a> out)</wbr></code></td>
<td> <div class="block">Flushes this decoder.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#implOnMalformedInput(java.nio.charset.CodingErrorAction)" class="member-name-link">implOnMalformedInput</a><wbr>(<a href="codingerroraction" title="class in java.nio.charset">CodingErrorAction</a> newAction)</wbr></code></td>
<td> <div class="block">Reports a change to this decoder's malformed-input action.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#implOnUnmappableCharacter(java.nio.charset.CodingErrorAction)" class="member-name-link">implOnUnmappableCharacter</a><wbr>(<a href="codingerroraction" title="class in java.nio.charset">CodingErrorAction</a> newAction)</wbr></code></td>
<td> <div class="block">Reports a change to this decoder's unmappable-character action.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#implReplaceWith(java.lang.String)" class="member-name-link">implReplaceWith</a><wbr>(<a href="../../lang/string" title="class in java.lang">String</a> newReplacement)</wbr></code></td>
<td> <div class="block">Reports a change to this decoder's replacement value.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#implReset()" class="member-name-link">implReset</a>()</code></td>
<td> <div class="block">Resets this decoder, clearing any charset-specific internal state.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#isAutoDetecting()" class="member-name-link">isAutoDetecting</a>()</code></td>
<td> <div class="block">Tells whether or not this decoder implements an auto-detecting charset.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#isCharsetDetected()" class="member-name-link">isCharsetDetected</a>()</code></td>
<td> <div class="block">Tells whether or not this decoder has yet detected a charset <i>(optional operation)</i>.</div> </td>
</tr>
<tr>
<td><code><a href="codingerroraction" title="class in java.nio.charset">CodingErrorAction</a></code></td>
<td><code><a href="#malformedInputAction()" class="member-name-link">malformedInputAction</a>()</code></td>
<td> <div class="block">Returns this decoder's current action for malformed-input errors.</div> </td>
</tr>
<tr>
<td><code>final float</code></td>
<td><code><a href="#maxCharsPerByte()" class="member-name-link">maxCharsPerByte</a>()</code></td>
<td> <div class="block">Returns the maximum number of characters that will be produced for each byte of input.</div> </td>
</tr>
<tr>
<td><code>final <a href="charsetdecoder" title="class in java.nio.charset">CharsetDecoder</a></code></td>
<td><code><a href="#onMalformedInput(java.nio.charset.CodingErrorAction)" class="member-name-link">onMalformedInput</a><wbr>(<a href="codingerroraction" title="class in java.nio.charset">CodingErrorAction</a> newAction)</wbr></code></td>
<td> <div class="block">Changes this decoder's action for malformed-input errors.</div> </td>
</tr>
<tr>
<td><code>final <a href="charsetdecoder" title="class in java.nio.charset">CharsetDecoder</a></code></td>
<td><code><a href="#onUnmappableCharacter(java.nio.charset.CodingErrorAction)" class="member-name-link">onUnmappableCharacter</a><wbr>(<a href="codingerroraction" title="class in java.nio.charset">CodingErrorAction</a> newAction)</wbr></code></td>
<td> <div class="block">Changes this decoder's action for unmappable-character errors.</div> </td>
</tr>
<tr>
<td><code>final <a href="../../lang/string" title="class in java.lang">String</a></code></td>
<td><code><a href="#replacement()" class="member-name-link">replacement</a>()</code></td>
<td> <div class="block">Returns this decoder's replacement value.</div> </td>
</tr>
<tr>
<td><code>final <a href="charsetdecoder" title="class in java.nio.charset">CharsetDecoder</a></code></td>
<td><code><a href="#replaceWith(java.lang.String)" class="member-name-link">replaceWith</a><wbr>(<a href="../../lang/string" title="class in java.lang">String</a> newReplacement)</wbr></code></td>
<td> <div class="block">Changes this decoder's replacement value.</div> </td>
</tr>
<tr>
<td><code>final <a href="charsetdecoder" title="class in java.nio.charset">CharsetDecoder</a></code></td>
<td><code><a href="#reset()" class="member-name-link">reset</a>()</code></td>
<td> <div class="block">Resets this decoder, clearing any internal state.</div> </td>
</tr>
<tr>
<td><code><a href="codingerroraction" title="class in java.nio.charset">CodingErrorAction</a></code></td>
<td><code><a href="#unmappableCharacterAction()" class="member-name-link">unmappableCharacterAction</a>()</code></td>
<td> <div class="block">Returns this decoder's current action for unmappable-character errors.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../../lang/object#clone()">clone</a>, <a href="../../lang/object#equals(java.lang.Object)">equals</a>, <a href="../../lang/object#finalize()">finalize</a>, <a href="../../lang/object#getClass()">getClass</a>, <a href="../../lang/object#hashCode()">hashCode</a>, <a href="../../lang/object#notify()">notify</a>, <a href="../../lang/object#notifyAll()">notifyAll</a>, <a href="../../lang/object#toString()">toString</a>, <a href="../../lang/object#wait()">wait</a>, <a href="../../lang/object#wait(long)">wait</a>, <a href="../../lang/object#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.nio.charset.Charset,float,float)"> <h3>CharsetDecoder</h3> <pre class="lang-java" data-language="java">protected CharsetDecoder(Charset cs, float averageCharsPerByte, float maxCharsPerByte)</pre> <div class="block">Initializes a new decoder. The new decoder will have the given chars-per-byte values and its replacement will be the string <code>"\uFFFD"</code>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>cs</code> - The charset that created this decoder</dd> <dd>
<code>averageCharsPerByte</code> - A positive float value indicating the expected number of characters that will be produced for each input byte</dd> <dd>
<code>maxCharsPerByte</code> - A positive float value indicating the maximum number of characters that will be produced for each input byte</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - If the preconditions on the parameters do not hold</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="charset()"> <h3>charset</h3> <pre class="lang-java" data-language="java">public final Charset charset()</pre> <div class="block">Returns the charset that created this decoder.</div> <dl class="notes"> <dt>Returns:</dt> <dd>This decoder's charset</dd> </dl> </section><section class="detail" id="replacement()"> <h3>replacement</h3> <pre class="lang-java" data-language="java">public final String replacement()</pre> <div class="block">Returns this decoder's replacement value.</div> <dl class="notes"> <dt>Returns:</dt> <dd>This decoder's current replacement, which is never <code>null</code> and is never empty</dd> </dl> </section><section class="detail" id="replaceWith(java.lang.String)"> <h3>replaceWith</h3> <pre class="lang-java" data-language="java">public final CharsetDecoder replaceWith(String newReplacement)</pre> <div class="block">Changes this decoder's replacement value. <p> This method invokes the <a href="#implReplaceWith(java.lang.String)"><code>implReplaceWith</code></a> method, passing the new replacement, after checking that the new replacement is acceptable. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newReplacement</code> - The new replacement; must not be <code>null</code>, must have non-zero length, and must not be longer than the value returned by the <a href="#maxCharsPerByte()"><code>maxCharsPerByte</code></a> method</dd> <dt>Returns:</dt> <dd>This decoder</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - If the preconditions on the parameter do not hold</dd> </dl> </section><section class="detail" id="implReplaceWith(java.lang.String)"> <h3>implReplaceWith</h3> <pre class="lang-java" data-language="java">protected void implReplaceWith(String newReplacement)</pre> <div class="block">Reports a change to this decoder's replacement value. <p> The default implementation of this method does nothing. This method should be overridden by decoders that require notification of changes to the replacement. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newReplacement</code> - The replacement value</dd> </dl> </section><section class="detail" id="malformedInputAction()"> <h3>malformedInputAction</h3> <pre class="lang-java" data-language="java">public CodingErrorAction malformedInputAction()</pre> <div class="block">Returns this decoder's current action for malformed-input errors.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The current malformed-input action, which is never <code>null</code>
</dd> </dl> </section><section class="detail" id="onMalformedInput(java.nio.charset.CodingErrorAction)"> <h3>onMalformedInput</h3> <pre class="lang-java" data-language="java">public final CharsetDecoder onMalformedInput(CodingErrorAction newAction)</pre> <div class="block">Changes this decoder's action for malformed-input errors. <p> This method invokes the <a href="#implOnMalformedInput(java.nio.charset.CodingErrorAction)"><code>implOnMalformedInput</code></a> method, passing the new action. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newAction</code> - The new action; must not be <code>null</code>
</dd> <dt>Returns:</dt> <dd>This decoder</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - If the precondition on the parameter does not hold</dd> </dl> </section><section class="detail" id="implOnMalformedInput(java.nio.charset.CodingErrorAction)"> <h3>implOnMalformedInput</h3> <pre class="lang-java" data-language="java">protected void implOnMalformedInput(CodingErrorAction newAction)</pre> <div class="block">Reports a change to this decoder's malformed-input action. <p> The default implementation of this method does nothing. This method should be overridden by decoders that require notification of changes to the malformed-input action. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newAction</code> - The new action</dd> </dl> </section><section class="detail" id="unmappableCharacterAction()"> <h3>unmappableCharacterAction</h3> <pre class="lang-java" data-language="java">public CodingErrorAction unmappableCharacterAction()</pre> <div class="block">Returns this decoder's current action for unmappable-character errors.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The current unmappable-character action, which is never <code>null</code>
</dd> </dl> </section><section class="detail" id="onUnmappableCharacter(java.nio.charset.CodingErrorAction)"> <h3>onUnmappableCharacter</h3> <pre class="lang-java" data-language="java">public final CharsetDecoder onUnmappableCharacter(CodingErrorAction newAction)</pre> <div class="block">Changes this decoder's action for unmappable-character errors. <p> This method invokes the <a href="#implOnUnmappableCharacter(java.nio.charset.CodingErrorAction)"><code>implOnUnmappableCharacter</code></a> method, passing the new action. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newAction</code> - The new action; must not be <code>null</code>
</dd> <dt>Returns:</dt> <dd>This decoder</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - If the precondition on the parameter does not hold</dd> </dl> </section><section class="detail" id="implOnUnmappableCharacter(java.nio.charset.CodingErrorAction)"> <h3>implOnUnmappableCharacter</h3> <pre class="lang-java" data-language="java">protected void implOnUnmappableCharacter(CodingErrorAction newAction)</pre> <div class="block">Reports a change to this decoder's unmappable-character action. <p> The default implementation of this method does nothing. This method should be overridden by decoders that require notification of changes to the unmappable-character action. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newAction</code> - The new action</dd> </dl> </section><section class="detail" id="averageCharsPerByte()"> <h3>averageCharsPerByte</h3> <pre class="lang-java" data-language="java">public final float averageCharsPerByte()</pre> <div class="block">Returns the average number of characters that will be produced for each byte of input. This heuristic value may be used to estimate the size of the output buffer required for a given input sequence.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The average number of characters produced per byte of input</dd> </dl> </section><section class="detail" id="maxCharsPerByte()"> <h3>maxCharsPerByte</h3> <pre class="lang-java" data-language="java">public final float maxCharsPerByte()</pre> <div class="block">Returns the maximum number of characters that will be produced for each byte of input. This value may be used to compute the worst-case size of the output buffer required for a given input sequence. This value accounts for any necessary content-independent prefix or suffix characters.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The maximum number of characters that will be produced per byte of input</dd> </dl> </section><section class="detail" id="decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"> <h3>decode</h3> <pre class="lang-java" data-language="java">public final CoderResult decode(ByteBuffer in, CharBuffer out, boolean endOfInput)</pre> <div class="block">Decodes as many bytes as possible from the given input buffer, writing the results to the given output buffer. <p> The buffers are read from, and written to, starting at their current positions. At most <a href="../buffer#remaining()"><code>in.remaining()</code></a> bytes will be read and at most <a href="../buffer#remaining()"><code>out.remaining()</code></a> characters will be written. The buffers' positions will be advanced to reflect the bytes read and the characters written, but their marks and limits will not be modified. </p>
<p> In addition to reading bytes from the input buffer and writing characters to the output buffer, this method returns a <a href="coderresult" title="class in java.nio.charset"><code>CoderResult</code></a> object to describe its reason for termination: </p>
<ul> <li><p> <a href="coderresult#UNDERFLOW"><code>CoderResult.UNDERFLOW</code></a> indicates that as much of the input buffer as possible has been decoded. If there is no further input then the invoker can proceed to the next step of the <a href="#steps">decoding operation</a>. Otherwise this method should be invoked again with further input. </p></li> <li><p> <a href="coderresult#OVERFLOW"><code>CoderResult.OVERFLOW</code></a> indicates that there is insufficient space in the output buffer to decode any more bytes. This method should be invoked again with an output buffer that has more <a href="../buffer#remaining()">remaining</a> characters. This is typically done by draining any decoded characters from the output buffer. </p></li> <li><p> A <a href="coderresult#malformedForLength(int)">malformed-input</a> result indicates that a malformed-input error has been detected. The malformed bytes begin at the input buffer's (possibly incremented) position; the number of malformed bytes may be determined by invoking the result object's <a href="coderresult#length()"><code>length</code></a> method. This case applies only if the <a href="#onMalformedInput(java.nio.charset.CodingErrorAction)">malformed action</a> of this decoder is <a href="codingerroraction#REPORT"><code>CodingErrorAction.REPORT</code></a>; otherwise the malformed input will be ignored or replaced, as requested. </p></li> <li><p> An <a href="coderresult#unmappableForLength(int)">unmappable-character</a> result indicates that an unmappable-character error has been detected. The bytes that decode the unmappable character begin at the input buffer's (possibly incremented) position; the number of such bytes may be determined by invoking the result object's <a href="coderresult#length()"><code>length</code></a> method. This case applies only if the <a href="#onUnmappableCharacter(java.nio.charset.CodingErrorAction)">unmappable action</a> of this decoder is <a href="codingerroraction#REPORT"><code>CodingErrorAction.REPORT</code></a>; otherwise the unmappable character will be ignored or replaced, as requested. </p></li> </ul> In any case, if this method is to be reinvoked in the same decoding operation then care should be taken to preserve any bytes remaining in the input buffer so that they are available to the next invocation. <p> The <code>endOfInput</code> parameter advises this method as to whether the invoker can provide further input beyond that contained in the given input buffer. If there is a possibility of providing additional input then the invoker should pass <code>false</code> for this parameter; if there is no possibility of providing further input then the invoker should pass <code>true</code>. It is not erroneous, and in fact it is quite common, to pass <code>false</code> in one invocation and later discover that no further input was actually available. It is critical, however, that the final invocation of this method in a sequence of invocations always pass <code>true</code> so that any remaining undecoded input will be treated as being malformed. </p>
<p> This method works by invoking the <a href="#decodeLoop(java.nio.ByteBuffer,java.nio.CharBuffer)"><code>decodeLoop</code></a> method, interpreting its results, handling error conditions, and reinvoking it as necessary. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>in</code> - The input byte buffer</dd> <dd>
<code>out</code> - The output character buffer</dd> <dd>
<code>endOfInput</code> - <code>true</code> if, and only if, the invoker can provide no additional input bytes beyond those in the given buffer</dd> <dt>Returns:</dt> <dd>A coder-result object describing the reason for termination</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - If a decoding operation is already in progress and the previous step was an invocation neither of the <a href="#reset()"><code>reset</code></a> method, nor of this method with a value of <code>false</code> for the <code>endOfInput</code> parameter, nor of this method with a value of <code>true</code> for the <code>endOfInput</code> parameter but a return value indicating an incomplete decoding operation</dd> <dd>
<code><a href="codermalfunctionerror" title="class in java.nio.charset">CoderMalfunctionError</a></code> - If an invocation of the decodeLoop method threw an unexpected exception</dd> </dl> </section><section class="detail" id="flush(java.nio.CharBuffer)"> <h3>flush</h3> <pre class="lang-java" data-language="java">public final CoderResult flush(CharBuffer out)</pre> <div class="block">Flushes this decoder. <p> Some decoders maintain internal state and may need to write some final characters to the output buffer once the overall input sequence has been read. </p>
<p> Any additional output is written to the output buffer beginning at its current position. At most <a href="../buffer#remaining()"><code>out.remaining()</code></a> characters will be written. The buffer's position will be advanced appropriately, but its mark and limit will not be modified. </p>
<p> If this method completes successfully then it returns <a href="coderresult#UNDERFLOW"><code>CoderResult.UNDERFLOW</code></a>. If there is insufficient room in the output buffer then it returns <a href="coderresult#OVERFLOW"><code>CoderResult.OVERFLOW</code></a>. If this happens then this method must be invoked again, with an output buffer that has more room, in order to complete the current <a href="#steps">decoding operation</a>. </p>
<p> If this decoder has already been flushed then invoking this method has no effect. </p>
<p> This method invokes the <a href="#implFlush(java.nio.CharBuffer)"><code>implFlush</code></a> method to perform the actual flushing operation. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>out</code> - The output character buffer</dd> <dt>Returns:</dt> <dd>A coder-result object, either <a href="coderresult#UNDERFLOW"><code>CoderResult.UNDERFLOW</code></a> or <a href="coderresult#OVERFLOW"><code>CoderResult.OVERFLOW</code></a>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - If the previous step of the current decoding operation was an invocation neither of the <a href="#flush(java.nio.CharBuffer)"><code>flush</code></a> method nor of the three-argument <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method with a value of <code>true</code> for the <code>endOfInput</code> parameter</dd> </dl> </section><section class="detail" id="implFlush(java.nio.CharBuffer)"> <h3>implFlush</h3> <pre class="lang-java" data-language="java">protected CoderResult implFlush(CharBuffer out)</pre> <div class="block">Flushes this decoder. <p> The default implementation of this method does nothing, and always returns <a href="coderresult#UNDERFLOW"><code>CoderResult.UNDERFLOW</code></a>. This method should be overridden by decoders that may need to write final characters to the output buffer once the entire input sequence has been read. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>out</code> - The output character buffer</dd> <dt>Returns:</dt> <dd>A coder-result object, either <a href="coderresult#UNDERFLOW"><code>CoderResult.UNDERFLOW</code></a> or <a href="coderresult#OVERFLOW"><code>CoderResult.OVERFLOW</code></a>
</dd> </dl> </section><section class="detail" id="reset()"> <h3>reset</h3> <pre class="lang-java" data-language="java">public final CharsetDecoder reset()</pre> <div class="block">Resets this decoder, clearing any internal state. <p> This method resets charset-independent state and also invokes the <a href="#implReset()"><code>implReset</code></a> method in order to perform any charset-specific reset actions. </p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>This decoder</dd> </dl> </section><section class="detail" id="implReset()"> <h3>implReset</h3> <pre class="lang-java" data-language="java">protected void implReset()</pre> <div class="block">Resets this decoder, clearing any charset-specific internal state. <p> The default implementation of this method does nothing. This method should be overridden by decoders that maintain internal state. </p>
</div> </section><section class="detail" id="decodeLoop(java.nio.ByteBuffer,java.nio.CharBuffer)"> <h3>decodeLoop</h3> <pre class="lang-java" data-language="java">protected abstract CoderResult decodeLoop(ByteBuffer in, CharBuffer out)</pre> <div class="block">Decodes one or more bytes into one or more characters. <p> This method encapsulates the basic decoding loop, decoding as many bytes as possible until it either runs out of input, runs out of room in the output buffer, or encounters a decoding error. This method is invoked by the <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method, which handles result interpretation and error recovery. </p>
<p> The buffers are read from, and written to, starting at their current positions. At most <a href="../buffer#remaining()"><code>in.remaining()</code></a> bytes will be read, and at most <a href="../buffer#remaining()"><code>out.remaining()</code></a> characters will be written. The buffers' positions will be advanced to reflect the bytes read and the characters written, but their marks and limits will not be modified. </p>
<p> This method returns a <a href="coderresult" title="class in java.nio.charset"><code>CoderResult</code></a> object to describe its reason for termination, in the same manner as the <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method. Most implementations of this method will handle decoding errors by returning an appropriate result object for interpretation by the <a href="#decode(java.nio.ByteBuffer,java.nio.CharBuffer,boolean)"><code>decode</code></a> method. An optimized implementation may instead examine the relevant error action and implement that action itself. </p>
<p> An implementation of this method may perform arbitrary lookahead by returning <a href="coderresult#UNDERFLOW"><code>CoderResult.UNDERFLOW</code></a> until it receives sufficient input. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>in</code> - The input byte buffer</dd> <dd>
<code>out</code> - The output character buffer</dd> <dt>Returns:</dt> <dd>A coder-result object describing the reason for termination</dd> </dl> </section><section class="detail" id="decode(java.nio.ByteBuffer)"> <h3>decode</h3> <pre class="lang-java" data-language="java">public final CharBuffer decode(ByteBuffer in) throws CharacterCodingException</pre> <div class="block">Convenience method that decodes the remaining content of a single input byte buffer into a newly-allocated character buffer. <p> This method implements an entire <a href="#steps">decoding operation</a>; that is, it resets this decoder, then it decodes the bytes in the given byte buffer, and finally it flushes this decoder. This method should therefore not be invoked if a decoding operation is already in progress. </p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>in</code> - The input byte buffer</dd> <dt>Returns:</dt> <dd>A newly-allocated character buffer containing the result of the decoding operation. The buffer's position will be zero and its limit will follow the last character written.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - If a decoding operation is already in progress</dd> <dd>
<code><a href="malformedinputexception" title="class in java.nio.charset">MalformedInputException</a></code> - If the byte sequence starting at the input buffer's current position is not legal for this charset and the current malformed-input action is <a href="codingerroraction#REPORT"><code>CodingErrorAction.REPORT</code></a>
</dd> <dd>
<code><a href="unmappablecharacterexception" title="class in java.nio.charset">UnmappableCharacterException</a></code> - If the byte sequence starting at the input buffer's current position cannot be mapped to an equivalent character sequence and the current unmappable-character action is <a href="codingerroraction#REPORT"><code>CodingErrorAction.REPORT</code></a>
</dd> <dd>
<code><a href="charactercodingexception" title="class in java.nio.charset">CharacterCodingException</a></code> - <code>MalformedInputException</code> if the byte sequence starting at the input buffer's current position is not legal for this charset and the current malformed-input action is <code>CodingErrorAction.REPORT</code>; <code>UnmappableCharacterException</code> if the byte sequence starting at the input buffer's current position cannot be mapped to an equivalent character sequence and the current unmappable-character action is <code>CodingErrorAction.REPORT</code>
</dd> <dd>
<code><a href="../../lang/outofmemoryerror" title="class in java.lang">OutOfMemoryError</a></code> - If the output character buffer for the requested size of the input byte buffer cannot be allocated</dd> </dl> </section><section class="detail" id="isAutoDetecting()"> <h3>isAutoDetecting</h3> <pre class="lang-java" data-language="java">public boolean isAutoDetecting()</pre> <div class="block">Tells whether or not this decoder implements an auto-detecting charset. <p> The default implementation of this method always returns <code>false</code>; it should be overridden by auto-detecting decoders to return <code>true</code>. </p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>
<code>true</code> if, and only if, this decoder implements an auto-detecting charset</dd> </dl> </section><section class="detail" id="isCharsetDetected()"> <h3>isCharsetDetected</h3> <pre class="lang-java" data-language="java">public boolean isCharsetDetected()</pre> <div class="block">Tells whether or not this decoder has yet detected a charset <i>(optional operation)</i>. <p> If this decoder implements an auto-detecting charset then at a single point during a decoding operation this method may start returning <code>true</code> to indicate that a specific charset has been detected in the input byte sequence. Once this occurs, the <a href="#detectedCharset()"><code>detectedCharset</code></a> method may be invoked to retrieve the detected charset. </p>
<p> That this method returns <code>false</code> does not imply that no bytes have yet been decoded. Some auto-detecting decoders are capable of decoding some, or even all, of an input byte sequence without fixing on a particular charset. </p>
<p> The default implementation of this method always throws an <a href="../../lang/unsupportedoperationexception" title="class in java.lang"><code>UnsupportedOperationException</code></a>; it should be overridden by auto-detecting decoders to return <code>true</code> once the input charset has been determined. </p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>
<code>true</code> if, and only if, this decoder has detected a specific charset</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/unsupportedoperationexception" title="class in java.lang">UnsupportedOperationException</a></code> - If this decoder does not implement an auto-detecting charset</dd> </dl> </section><section class="detail" id="detectedCharset()"> <h3>detectedCharset</h3> <pre class="lang-java" data-language="java">public Charset detectedCharset()</pre> <div class="block">Retrieves the charset that was detected by this decoder <i>(optional operation)</i>. <p> If this decoder implements an auto-detecting charset then this method returns the actual charset once it has been detected. After that point, this method returns the same value for the duration of the current decoding operation. If not enough input bytes have yet been read to determine the actual charset then this method throws an <a href="../../lang/illegalstateexception" title="class in java.lang"><code>IllegalStateException</code></a>. </p>
<p> The default implementation of this method always throws an <a href="../../lang/unsupportedoperationexception" title="class in java.lang"><code>UnsupportedOperationException</code></a>; it should be overridden by auto-detecting decoders to return the appropriate value. </p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>The charset detected by this auto-detecting decoder, or <code>null</code> if the charset has not yet been determined</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - If insufficient bytes have been read to determine a charset</dd> <dd>
<code><a href="../../lang/unsupportedoperationexception" title="class in java.lang">UnsupportedOperationException</a></code> - If this decoder does not implement an auto-detecting charset</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/CharsetDecoder.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/CharsetDecoder.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
