
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>AtomicMarkableReference - OpenJDK 21 - W3cubDocs</title>
  
  <meta name="description" content="Implementation note&#58; This implementation maintains markable references by creating internal objects representing &#34;boxed&#34; [reference, &hellip;">
  <meta name="keywords" content="class, atomicmarkablereference, openjdk, openjdk~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/openjdk~21/java.base/java/util/concurrent/atomic/atomicmarkablereference.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/openjdk~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/openjdk~21/" class="_nav-link" title="" style="margin-left:0;">OpenJDK 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _openjdk">
				
				
<h1 title="Class AtomicMarkableReference" class="title">Class AtomicMarkableReference&lt;V&gt;</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.util.concurrent.atomic.AtomicMarkableReference&lt;V&gt;</div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>Type Parameters:</dt> <dd>
<code>V</code> - The type of object referred to by this reference</dd> </dl>  <pre class="lang-java" data-language="java">public class AtomicMarkableReference&lt;V&gt; extends Object</pre> <div class="block">An <code>AtomicMarkableReference</code> maintains an object reference along with a mark bit, that can be updated atomically. <p>Implementation note: This implementation maintains markable references by creating internal objects representing "boxed" [reference, boolean] pairs.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.5</dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">     <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(V,boolean)" class="member-name-link">AtomicMarkableReference</a><wbr>(<a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> initialRef,
 boolean initialMark)</wbr></code></td>
<td> <div class="block">Creates a new <code>AtomicMarkableReference</code> with the given initial values.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                         <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#attemptMark(V,boolean)" class="member-name-link">attemptMark</a><wbr>(<a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> expectedReference,
 boolean newMark)</wbr></code></td>
<td> <div class="block">Atomically sets the value of the mark to the given update value if the current reference is <code>==</code> to the expected reference.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#compareAndSet(V,V,boolean,boolean)" class="member-name-link">compareAndSet</a><wbr>(<a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> expectedReference,
 <a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> newReference,
 boolean expectedMark,
 boolean newMark)</wbr></code></td>
<td> <div class="block">Atomically sets the value of both the reference and mark to the given update values if the current reference is <code>==</code> to the expected reference and the current mark is equal to the expected mark.</div> </td>
</tr>
<tr>
<td><code><a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a></code></td>
<td><code><a href="#get(boolean%5B%5D)" class="member-name-link">get</a><wbr>(boolean[] markHolder)</wbr></code></td>
<td> <div class="block">Returns the current values of both the reference and the mark.</div> </td>
</tr>
<tr>
<td><code><a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a></code></td>
<td><code><a href="#getReference()" class="member-name-link">getReference</a>()</code></td>
<td> <div class="block">Returns the current value of the reference.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#isMarked()" class="member-name-link">isMarked</a>()</code></td>
<td> <div class="block">Returns the current value of the mark.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#set(V,boolean)" class="member-name-link">set</a><wbr>(<a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> newReference,
 boolean newMark)</wbr></code></td>
<td> <div class="block">Unconditionally sets the value of both the reference and mark.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#weakCompareAndSet(V,V,boolean,boolean)" class="member-name-link">weakCompareAndSet</a><wbr>(<a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> expectedReference,
 <a href="atomicmarkablereference" title="type parameter in AtomicMarkableReference">V</a> newReference,
 boolean expectedMark,
 boolean newMark)</wbr></code></td>
<td> <div class="block">Atomically sets the value of both the reference and mark to the given update values if the current reference is <code>==</code> to the expected reference and the current mark is equal to the expected mark.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../../../lang/object#clone()">clone</a>, <a href="../../../lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../lang/object#finalize()">finalize</a>, <a href="../../../lang/object#getClass()">getClass</a>, <a href="../../../lang/object#hashCode()">hashCode</a>, <a href="../../../lang/object#notify()">notify</a>, <a href="../../../lang/object#notifyAll()">notifyAll</a>, <a href="../../../lang/object#toString()">toString</a>, <a href="../../../lang/object#wait()">wait</a>, <a href="../../../lang/object#wait(long)">wait</a>, <a href="../../../lang/object#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(V,boolean)"> <h3 id="&lt;init&gt;(java.lang.Object,boolean)">AtomicMarkableReference</h3> <pre class="lang-java" data-language="java">public AtomicMarkableReference(V initialRef, boolean initialMark)</pre> <div class="block">Creates a new <code>AtomicMarkableReference</code> with the given initial values.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>initialRef</code> - the initial reference</dd> <dd>
<code>initialMark</code> - the initial mark</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getReference()"> <h3>getReference</h3> <pre class="lang-java" data-language="java">public V getReference()</pre> <div class="block">Returns the current value of the reference.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the current value of the reference</dd> </dl> </section><section class="detail" id="isMarked()"> <h3>isMarked</h3> <pre class="lang-java" data-language="java">public boolean isMarked()</pre> <div class="block">Returns the current value of the mark.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the current value of the mark</dd> </dl> </section><section class="detail" id="get(boolean[])"> <h3>get</h3> <pre class="lang-java" data-language="java">public V get(boolean[] markHolder)</pre> <div class="block">Returns the current values of both the reference and the mark. Typical usage is <code>boolean[1] holder; ref = v.get(holder); </code>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>markHolder</code> - an array of size of at least one. On return, <code>markHolder[0]</code> will hold the value of the mark.</dd> <dt>Returns:</dt> <dd>the current value of the reference</dd> </dl> </section><section class="detail" id="weakCompareAndSet(V,V,boolean,boolean)"> <h3 id="weakCompareAndSet(java.lang.Object,java.lang.Object,boolean,boolean)">weakCompareAndSet</h3> <pre class="lang-java" data-language="java">public boolean weakCompareAndSet(V expectedReference, V newReference, boolean expectedMark, boolean newMark)</pre> <div class="block">Atomically sets the value of both the reference and mark to the given update values if the current reference is <code>==</code> to the expected reference and the current mark is equal to the expected mark. This operation may fail spuriously and does not provide ordering guarantees, so is only rarely an appropriate alternative to <code>compareAndSet</code>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>expectedReference</code> - the expected value of the reference</dd> <dd>
<code>newReference</code> - the new value for the reference</dd> <dd>
<code>expectedMark</code> - the expected value of the mark</dd> <dd>
<code>newMark</code> - the new value for the mark</dd> <dt>Returns:</dt> <dd>
<code>true</code> if successful</dd> </dl> </section><section class="detail" id="compareAndSet(V,V,boolean,boolean)"> <h3 id="compareAndSet(java.lang.Object,java.lang.Object,boolean,boolean)">compareAndSet</h3> <pre class="lang-java" data-language="java">public boolean compareAndSet(V expectedReference, V newReference, boolean expectedMark, boolean newMark)</pre> <div class="block">Atomically sets the value of both the reference and mark to the given update values if the current reference is <code>==</code> to the expected reference and the current mark is equal to the expected mark.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>expectedReference</code> - the expected value of the reference</dd> <dd>
<code>newReference</code> - the new value for the reference</dd> <dd>
<code>expectedMark</code> - the expected value of the mark</dd> <dd>
<code>newMark</code> - the new value for the mark</dd> <dt>Returns:</dt> <dd>
<code>true</code> if successful</dd> </dl> </section><section class="detail" id="set(V,boolean)"> <h3 id="set(java.lang.Object,boolean)">set</h3> <pre class="lang-java" data-language="java">public void set(V newReference, boolean newMark)</pre> <div class="block">Unconditionally sets the value of both the reference and mark.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newReference</code> - the new value for the reference</dd> <dd>
<code>newMark</code> - the new value for the mark</dd> </dl> </section><section class="detail" id="attemptMark(V,boolean)"> <h3 id="attemptMark(java.lang.Object,boolean)">attemptMark</h3> <pre class="lang-java" data-language="java">public boolean attemptMark(V expectedReference, boolean newMark)</pre> <div class="block">Atomically sets the value of the mark to the given update value if the current reference is <code>==</code> to the expected reference. Any given invocation of this operation may fail (return <code>false</code>) spuriously, but repeated invocation when the current value holds the expected value and no other thread is also attempting to set the value will eventually succeed.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>expectedReference</code> - the expected value of the reference</dd> <dd>
<code>newMark</code> - the new value for the mark</dd> <dt>Returns:</dt> <dd>
<code>true</code> if successful</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicMarkableReference.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicMarkableReference.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
