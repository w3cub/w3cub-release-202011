
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ObjectInputStream - OpenJDK 21 - W3cubDocs</title>
  
  <meta name="description" content="Warning&#58; Deserialization of untrusted data is inherently dangerous and should be avoided. Untrusted data should be carefully validated according &hellip;">
  <meta name="keywords" content="class, objectinputstream, openjdk, openjdk~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/openjdk~21/java.base/java/io/objectinputstream.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/openjdk~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/openjdk~21/" class="_nav-link" title="" style="margin-left:0;">OpenJDK 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _openjdk">
				
				
<h1 title="Class ObjectInputStream" class="title">Class ObjectInputStream</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">
<a href="inputstream" title="class in java.io">java.io.InputStream</a> <div class="inheritance">java.io.ObjectInputStream</div> </div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="closeable" title="interface in java.io">Closeable</a></code>, <code><a href="datainput" title="interface in java.io">DataInput</a></code>, <code><a href="objectinput" title="interface in java.io">ObjectInput</a></code>, <code><a href="objectstreamconstants" title="interface in java.io">ObjectStreamConstants</a></code>, <code><a href="../lang/autocloseable" title="interface in java.lang">AutoCloseable</a></code>
</dd> </dl>  <pre class="lang-java" data-language="java">public class ObjectInputStream extends InputStream implements ObjectInput, ObjectStreamConstants</pre> <div class="block">An ObjectInputStream deserializes primitive data and objects previously written using an ObjectOutputStream. <p><strong>Warning: Deserialization of untrusted data is inherently dangerous and should be avoided. Untrusted data should be carefully validated according to the "Serialization and Deserialization" section of the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase21&amp;id=secure_coding_guidelines_javase">Secure Coding Guidelines for Java SE</a>. <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase21&amp;id=serialization_filter_guide">Serialization Filtering</a> describes best practices for defensive use of serial filters. </strong></p> <p>The key to disabling deserialization attacks is to prevent instances of arbitrary classes from being deserialized, thereby preventing the direct or indirect execution of their methods. <a href="objectinputfilter" title="interface in java.io"><code>ObjectInputFilter</code></a> describes how to use filters and <a href="objectinputfilter.config" title="class in java.io"><code>ObjectInputFilter.Config</code></a> describes how to configure the filter and filter factory. Each stream has an optional deserialization filter to check the classes and resource limits during deserialization. The JVM-wide filter factory ensures that a filter can be set on every <a href="objectinputstream" title="class in java.io"><code>ObjectInputStream</code></a> and every object read from the stream can be checked. The <a href="#%3Cinit%3E()">ObjectInputStream constructors</a> invoke the filter factory to select the initial filter which may be updated or replaced by <a href="#setObjectInputFilter(java.io.ObjectInputFilter)"><code>setObjectInputFilter(java.io.ObjectInputFilter)</code></a>. </p>
<p> If an ObjectInputStream has a filter, the <a href="objectinputfilter" title="interface in java.io"><code>ObjectInputFilter</code></a> can check that the classes, array lengths, number of references in the stream, depth, and number of bytes consumed from the input stream are allowed and if not, can terminate deserialization. </p>
<p>ObjectOutputStream and ObjectInputStream can provide an application with persistent storage for graphs of objects when used with a FileOutputStream and FileInputStream respectively. ObjectInputStream is used to recover those objects previously serialized. Other uses include passing objects between hosts using a socket stream or for marshaling and unmarshaling arguments and parameters in a remote communication system. </p>
<p>ObjectInputStream ensures that the types of all objects in the graph created from the stream match the classes present in the Java Virtual Machine. Classes are loaded as required using the standard mechanisms. </p>
<p>Only objects that support the java.io.Serializable or java.io.Externalizable interface can be read from streams. </p>
<p>The method <code>readObject</code> is used to read an object from the stream. Java's safe casting should be used to get the desired type. In Java, strings and arrays are objects and are treated as objects during serialization. When read they need to be cast to the expected type. </p>
<p>Primitive data types can be read from the stream using the appropriate method on DataInput. </p>
<p>The default deserialization mechanism for objects restores the contents of each field to the value and type it had when it was written. Fields declared as transient or static are ignored by the deserialization process. References to other objects cause those objects to be read from the stream as necessary. Graphs of objects are restored correctly using a reference sharing mechanism. New objects are always allocated when deserializing, which prevents existing objects from being overwritten. </p>
<p>Reading an object is analogous to running the constructors of a new object. Memory is allocated for the object and initialized to zero (NULL). No-arg constructors are invoked for the non-serializable classes and then the fields of the serializable classes are restored from the stream starting with the serializable class closest to java.lang.object and finishing with the object's most specific class. </p>
<p>For example to read from a stream as written by the example in <a href="objectoutputstream" title="class in java.io"><code>ObjectOutputStream</code></a>: <br> </p>
<div class="snippet-container">
<button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjwhLS0KIENvcHlyaWdodCAoYykgMjAyMSwgT3JhY2xlIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIERPIE5PVCBBTFRFUiBPUiBSRU1PVkUgQ09QWVJJR0hUIE5PVElDRVMgT1IgVEhJUyBGSUxFIEhFQURFUi4KCiBUaGlzIGNvZGUgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdAogdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIgb25seSwgYXMKIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLiAgT3JhY2xlIGRlc2lnbmF0ZXMgdGhpcwogcGFydGljdWxhciBmaWxlIGFzIHN1YmplY3QgdG8gdGhlICJDbGFzc3BhdGgiIGV4Y2VwdGlvbiBhcyBwcm92aWRlZAogYnkgT3JhY2xlIGluIHRoZSBMSUNFTlNFIGZpbGUgdGhhdCBhY2NvbXBhbmllZCB0aGlzIGNvZGUuCgogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUCiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IKIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogdmVyc2lvbiAyIGZvciBtb3JlIGRldGFpbHMgKGEgY29weSBpcyBpbmNsdWRlZCBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXQKIGFjY29tcGFuaWVkIHRoaXMgY29kZSkuCgogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbgogMiBhbG9uZyB3aXRoIHRoaXMgd29yazsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLAogSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBLgoKIFBsZWFzZSBjb250YWN0IE9yYWNsZSwgNTAwIE9yYWNsZSBQYXJrd2F5LCBSZWR3b29kIFNob3JlcywgQ0EgOTQwNjUgVVNBCiBvciB2aXNpdCB3d3cub3JhY2xlLmNvbSBpZiB5b3UgbmVlZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9yIGhhdmUgYW55CiBxdWVzdGlvbnMuCi0tPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4MCA0NjAiIGZpbGw9IiM1MDUwNTAiPgogIDxwYXRoCiAgICAgZD0iTSAzNDYsOCBIIDEwOCBDIDkwLDggNzUsMjMgNzUsNDEgdiAzMTYgYyAwLDE4IDE1LDMzIDMzLDMzIGggMjM4IGMgMTgsMCAzMywtMTUgMzMsLTMzIFYgNDEgQyAzNzksMjMgMzY0LDggMzQ2LDggWiBtIC04LDM0NCBIIDExNiBjIC0yLDAgLTMsLTEgLTMsLTMgViA0OSBjIDAsLTIgMSwtMyAzLC0zIGggMjIyIGMgMiwwIDMsMSAzLDMgdiAzMDAgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgeiIvPgogIDxwYXRoCiAgICAgZD0ibSAyOTAsMzg5IHYgMjYgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgSCA0OSBjIC0yLDAgLTMsLTEgLTMsLTMgViA5OSBjIDAsLTIgMSwtMyAzLC0zIGggMjcgdiAwIGwgLTVlLTQsLTM4IEggNDEgQyAyMyw1OCA4LDczIDgsOTEgdiAzMzIgYyAxMGUtNCwxOCAxNSwzMyAzMywzMyBoIDI1NCBjIDE4LDAgMzMsLTE1IDMzLC0zMyB2IC0zNCIvPgo8L3N2Zz4K" alt="Copy snippet"></button> <pre class="lang-java" data-language="java"><code class="language-java">    try (FileInputStream fis = new FileInputStream("t.tmp");
         ObjectInputStream ois = new ObjectInputStream(fis)) {
        String label = (String) ois.readObject();
        LocalDateTime dateTime = (LocalDateTime) ois.readObject();
        // Use label and dateTime
    } catch (Exception ex) {
        // handle exception
    }
</code></pre> </div> <p>Classes control how they are serialized by implementing either the java.io.Serializable or java.io.Externalizable interfaces. </p>
<p>Implementing the Serializable interface allows object serialization to save and restore the entire state of the object and it allows classes to evolve between the time the stream is written and the time it is read. It automatically traverses references between objects, saving and restoring entire graphs. </p>
<p>Serializable classes that require special handling during the serialization and deserialization process should implement methods with the following signatures: </p>
<div class="snippet-container">
<button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjwhLS0KIENvcHlyaWdodCAoYykgMjAyMSwgT3JhY2xlIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIERPIE5PVCBBTFRFUiBPUiBSRU1PVkUgQ09QWVJJR0hUIE5PVElDRVMgT1IgVEhJUyBGSUxFIEhFQURFUi4KCiBUaGlzIGNvZGUgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdAogdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIgb25seSwgYXMKIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLiAgT3JhY2xlIGRlc2lnbmF0ZXMgdGhpcwogcGFydGljdWxhciBmaWxlIGFzIHN1YmplY3QgdG8gdGhlICJDbGFzc3BhdGgiIGV4Y2VwdGlvbiBhcyBwcm92aWRlZAogYnkgT3JhY2xlIGluIHRoZSBMSUNFTlNFIGZpbGUgdGhhdCBhY2NvbXBhbmllZCB0aGlzIGNvZGUuCgogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUCiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IKIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogdmVyc2lvbiAyIGZvciBtb3JlIGRldGFpbHMgKGEgY29weSBpcyBpbmNsdWRlZCBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXQKIGFjY29tcGFuaWVkIHRoaXMgY29kZSkuCgogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbgogMiBhbG9uZyB3aXRoIHRoaXMgd29yazsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLAogSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBLgoKIFBsZWFzZSBjb250YWN0IE9yYWNsZSwgNTAwIE9yYWNsZSBQYXJrd2F5LCBSZWR3b29kIFNob3JlcywgQ0EgOTQwNjUgVVNBCiBvciB2aXNpdCB3d3cub3JhY2xlLmNvbSBpZiB5b3UgbmVlZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9yIGhhdmUgYW55CiBxdWVzdGlvbnMuCi0tPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4MCA0NjAiIGZpbGw9IiM1MDUwNTAiPgogIDxwYXRoCiAgICAgZD0iTSAzNDYsOCBIIDEwOCBDIDkwLDggNzUsMjMgNzUsNDEgdiAzMTYgYyAwLDE4IDE1LDMzIDMzLDMzIGggMjM4IGMgMTgsMCAzMywtMTUgMzMsLTMzIFYgNDEgQyAzNzksMjMgMzY0LDggMzQ2LDggWiBtIC04LDM0NCBIIDExNiBjIC0yLDAgLTMsLTEgLTMsLTMgViA0OSBjIDAsLTIgMSwtMyAzLC0zIGggMjIyIGMgMiwwIDMsMSAzLDMgdiAzMDAgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgeiIvPgogIDxwYXRoCiAgICAgZD0ibSAyOTAsMzg5IHYgMjYgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgSCA0OSBjIC0yLDAgLTMsLTEgLTMsLTMgViA5OSBjIDAsLTIgMSwtMyAzLC0zIGggMjcgdiAwIGwgLTVlLTQsLTM4IEggNDEgQyAyMyw1OCA4LDczIDgsOTEgdiAzMzIgYyAxMGUtNCwxOCAxNSwzMyAzMywzMyBoIDI1NCBjIDE4LDAgMzMsLTE1IDMzLC0zMyB2IC0zNCIvPgo8L3N2Zz4K" alt="Copy snippet"></button> <pre class="lang-java" data-language="java"><code class="language-java">    private void writeObject(java.io.ObjectOutputStream stream)
        throws IOException;
    private void readObject(java.io.ObjectInputStream stream)
        throws IOException, ClassNotFoundException;
    private void readObjectNoData()
        throws ObjectStreamException;
</code></pre> </div> <p>The method name, modifiers, return type, and number and type of parameters must match exactly for the method to be used by serialization or deserialization. The methods should only be declared to throw checked exceptions consistent with these signatures. </p>
<p>The readObject method is responsible for reading and restoring the state of the object for its particular class using data written to the stream by the corresponding writeObject method. The method does not need to concern itself with the state belonging to its superclasses or subclasses. State is restored by reading data from the ObjectInputStream for the individual fields and making assignments to the appropriate fields of the object. Reading primitive data types is supported by DataInput. </p>
<p>Any attempt to read object data which exceeds the boundaries of the custom data written by the corresponding writeObject method will cause an OptionalDataException to be thrown with an eof field value of true. Non-object reads which exceed the end of the allotted data will reflect the end of data in the same way that they would indicate the end of the stream: bytewise reads will return -1 as the byte read or number of bytes read, and primitive reads will throw EOFExceptions. If there is no corresponding writeObject method, then the end of default serialized data marks the end of the allotted data. </p>
<p>Primitive and object read calls issued from within a readExternal method behave in the same manner--if the stream is already positioned at the end of data written by the corresponding writeExternal method, object reads will throw OptionalDataExceptions with eof set to true, bytewise reads will return -1, and primitive reads will throw EOFExceptions. Note that this behavior does not hold for streams written with the old <code>ObjectStreamConstants.PROTOCOL_VERSION_1</code> protocol, in which the end of data written by writeExternal methods is not demarcated, and hence cannot be detected. </p>
<p>The readObjectNoData method is responsible for initializing the state of the object for its particular class in the event that the serialization stream does not list the given class as a superclass of the object being deserialized. This may occur in cases where the receiving party uses a different version of the deserialized instance's class than the sending party, and the receiver's version extends classes that are not extended by the sender's version. This may also occur if the serialization stream has been tampered; hence, readObjectNoData is useful for initializing deserialized objects properly despite a "hostile" or incomplete source stream. </p>
<p>Serialization does not read or assign values to the fields of any object that does not implement the java.io.Serializable interface. Subclasses of Objects that are not serializable can be serializable. In this case the non-serializable class must have a no-arg constructor to allow its fields to be initialized. In this case it is the responsibility of the subclass to save and restore the state of the non-serializable class. It is frequently the case that the fields of that class are accessible (public, package, or protected) or that there are get and set methods that can be used to restore the state. </p>
<p>Any exception that occurs while deserializing an object will be caught by the ObjectInputStream and abort the reading process. </p>
<p>Implementing the Externalizable interface allows the object to assume complete control over the contents and format of the object's serialized form. The methods of the Externalizable interface, writeExternal and readExternal, are called to save and restore the objects state. When implemented by a class they can write and read their own state using all of the methods of ObjectOutput and ObjectInput. It is the responsibility of the objects to handle any versioning that occurs. </p>
<p>Enum constants are deserialized differently than ordinary serializable or externalizable objects. The serialized form of an enum constant consists solely of its name; field values of the constant are not transmitted. To deserialize an enum constant, ObjectInputStream reads the constant name from the stream; the deserialized constant is then obtained by calling the static method <code>Enum.valueOf(Class, String)</code> with the enum constant's base type and the received constant name as arguments. Like other serializable or externalizable objects, enum constants can function as the targets of back references appearing subsequently in the serialization stream. The process by which enum constants are deserialized cannot be customized: any class-specific readObject, readObjectNoData, and readResolve methods defined by enum types are ignored during deserialization. Similarly, any serialPersistentFields or serialVersionUID field declarations are also ignored--all enum types have a fixed serialVersionUID of 0L.  </p>
<p>Records are serialized differently than ordinary serializable or externalizable objects. During deserialization the record's canonical constructor is invoked to construct the record object. Certain serialization-related methods, such as readObject and writeObject, are ignored for serializable records. See <a href="https://docs.oracle.com/en/java/javase/21/docs/specs/serialization/serial-arch.html#serialization-of-records"> <cite>Java Object Serialization Specification,</cite> Section 1.13, "Serialization of Records"</a> for additional information.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.1</dd> <dt>External Specifications</dt> <dd> <ul class="tag-list-long"> <li><a href="https://docs.oracle.com/en/java/javase/21/docs/specs/serialization/index.html"><span id="JavaObjectSerializationSpecification" class="search-tag-result">Java Object Serialization Specification</span></a></li> </ul> </dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="datainput" title="interface in java.io"><code>DataInput</code></a></li> <li><a href="objectoutputstream" title="class in java.io"><code>ObjectOutputStream</code></a></li> <li><a href="serializable" title="interface in java.io"><code>Serializable</code></a></li> <li><a href="https://docs.oracle.com/en/java/javase/21/docs/specs/serialization/input.html"> <cite>Java Object Serialization Specification,</cite> Section 3, "Object Input Classes"</a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="nested-class-summary" id="nested-class-summary"> <h2>Nested Class Summary</h2>  <table class="summary-table three-column-summary">       <tr>
<th>Modifier and Type</th>
<th>Class</th>
<th>Description</th>
</tr>
<tr>
<td><code>static class </code></td>
<td><code><a href="objectinputstream.getfield" class="type-name-link" title="class in java.io">ObjectInputStream.GetField</a></code></td>
<td> <div class="block">Provide access to the persistent fields read from the input stream.</div> </td>
</tr>
</table> </section><section class="field-summary" id="field-summary"> <h2>Field Summary</h2> <div class="inherited-list"> <h3 id="fields-inherited-from-class-java.io.ObjectStreamConstants">Fields declared in interface java.io.<a href="objectstreamconstants" title="interface in java.io">ObjectStreamConstants</a>
</h3> <code><a href="objectstreamconstants#baseWireHandle">baseWireHandle</a>, <a href="objectstreamconstants#PROTOCOL_VERSION_1">PROTOCOL_VERSION_1</a>, <a href="objectstreamconstants#PROTOCOL_VERSION_2">PROTOCOL_VERSION_2</a>, <a href="objectstreamconstants#SC_BLOCK_DATA">SC_BLOCK_DATA</a>, <a href="objectstreamconstants#SC_ENUM">SC_ENUM</a>, <a href="objectstreamconstants#SC_EXTERNALIZABLE">SC_EXTERNALIZABLE</a>, <a href="objectstreamconstants#SC_SERIALIZABLE">SC_SERIALIZABLE</a>, <a href="objectstreamconstants#SC_WRITE_METHOD">SC_WRITE_METHOD</a>, <a href="objectstreamconstants#SERIAL_FILTER_PERMISSION">SERIAL_FILTER_PERMISSION</a>, <a href="objectstreamconstants#STREAM_MAGIC">STREAM_MAGIC</a>, <a href="objectstreamconstants#STREAM_VERSION">STREAM_VERSION</a>, <a href="objectstreamconstants#SUBCLASS_IMPLEMENTATION_PERMISSION">SUBCLASS_IMPLEMENTATION_PERMISSION</a>, <a href="objectstreamconstants#SUBSTITUTION_PERMISSION">SUBSTITUTION_PERMISSION</a>, <a href="objectstreamconstants#TC_ARRAY">TC_ARRAY</a>, <a href="objectstreamconstants#TC_BASE">TC_BASE</a>, <a href="objectstreamconstants#TC_BLOCKDATA">TC_BLOCKDATA</a>, <a href="objectstreamconstants#TC_BLOCKDATALONG">TC_BLOCKDATALONG</a>, <a href="objectstreamconstants#TC_CLASS">TC_CLASS</a>, <a href="objectstreamconstants#TC_CLASSDESC">TC_CLASSDESC</a>, <a href="objectstreamconstants#TC_ENDBLOCKDATA">TC_ENDBLOCKDATA</a>, <a href="objectstreamconstants#TC_ENUM">TC_ENUM</a>, <a href="objectstreamconstants#TC_EXCEPTION">TC_EXCEPTION</a>, <a href="objectstreamconstants#TC_LONGSTRING">TC_LONGSTRING</a>, <a href="objectstreamconstants#TC_MAX">TC_MAX</a>, <a href="objectstreamconstants#TC_NULL">TC_NULL</a>, <a href="objectstreamconstants#TC_OBJECT">TC_OBJECT</a>, <a href="objectstreamconstants#TC_PROXYCLASSDESC">TC_PROXYCLASSDESC</a>, <a href="objectstreamconstants#TC_REFERENCE">TC_REFERENCE</a>, <a href="objectstreamconstants#TC_RESET">TC_RESET</a>, <a href="objectstreamconstants#TC_STRING">TC_STRING</a></code>
</div> </section><section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ObjectInputStream</a>()</code></div>   <div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.io.InputStream)" class="member-name-link">ObjectInputStream</a><wbr>(<a href="inputstream" title="class in java.io">InputStream</a> in)</wbr></code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Provide a way for subclasses that are completely reimplementing ObjectInputStream to not have to allocate private data just used by this implementation of ObjectInputStream.</div> </td>
</tr>
<tr>
<td></td>
<td> <div class="block">Creates an ObjectInputStream that reads from the specified InputStream.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                                                                                       <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#available()" class="member-name-link">available</a>()</code></td>
<td> <div class="block">Returns the number of bytes that can be read without blocking.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#close()" class="member-name-link">close</a>()</code></td>
<td> <div class="block">Closes this input stream and releases any system resources associated with the stream.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#defaultReadObject()" class="member-name-link">defaultReadObject</a>()</code></td>
<td> <div class="block">Read the non-static and non-transient fields of the current class from this stream.</div> </td>
</tr>
<tr>
<td><code>protected boolean</code></td>
<td><code><a href="#enableResolveObject(boolean)" class="member-name-link">enableResolveObject</a><wbr>(boolean enable)</wbr></code></td>
<td> <div class="block">Enables the stream to do replacement of objects read from the stream.</div> </td>
</tr>
<tr>
<td><code>final <a href="objectinputfilter" title="interface in java.io">ObjectInputFilter</a></code></td>
<td><code><a href="#getObjectInputFilter()" class="member-name-link">getObjectInputFilter</a>()</code></td>
<td> <div class="block">Returns the deserialization filter for this stream.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#read()" class="member-name-link">read</a>()</code></td>
<td> <div class="block">Reads a byte of data.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#read(byte%5B%5D,int,int)" class="member-name-link">read</a><wbr>(byte[] buf,
 int off,
 int len)</wbr></code></td>
<td> <div class="block">Reads into an array of bytes.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#readBoolean()" class="member-name-link">readBoolean</a>()</code></td>
<td> <div class="block">Reads in a boolean.</div> </td>
</tr>
<tr>
<td><code>byte</code></td>
<td><code><a href="#readByte()" class="member-name-link">readByte</a>()</code></td>
<td> <div class="block">Reads an 8-bit byte.</div> </td>
</tr>
<tr>
<td><code>char</code></td>
<td><code><a href="#readChar()" class="member-name-link">readChar</a>()</code></td>
<td> <div class="block">Reads a 16-bit char.</div> </td>
</tr>
<tr>
<td><code>protected <a href="objectstreamclass" title="class in java.io">ObjectStreamClass</a></code></td>
<td><code><a href="#readClassDescriptor()" class="member-name-link">readClassDescriptor</a>()</code></td>
<td> <div class="block">Read a class descriptor from the serialization stream.</div> </td>
</tr>
<tr>
<td><code>double</code></td>
<td><code><a href="#readDouble()" class="member-name-link">readDouble</a>()</code></td>
<td> <div class="block">Reads a 64-bit double.</div> </td>
</tr>
<tr>
<td><code><a href="objectinputstream.getfield" title="class in java.io">ObjectInputStream.GetField</a></code></td>
<td><code><a href="#readFields()" class="member-name-link">readFields</a>()</code></td>
<td> <div class="block">Reads the persistent fields from the stream and makes them available by name.</div> </td>
</tr>
<tr>
<td><code>float</code></td>
<td><code><a href="#readFloat()" class="member-name-link">readFloat</a>()</code></td>
<td> <div class="block">Reads a 32-bit float.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#readFully(byte%5B%5D)" class="member-name-link">readFully</a><wbr>(byte[] buf)</wbr></code></td>
<td> <div class="block">Reads bytes, blocking until all bytes are read.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#readFully(byte%5B%5D,int,int)" class="member-name-link">readFully</a><wbr>(byte[] buf,
 int off,
 int len)</wbr></code></td>
<td> <div class="block">Reads bytes, blocking until all bytes are read.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#readInt()" class="member-name-link">readInt</a>()</code></td>
<td> <div class="block">Reads a 32-bit int.</div> </td>
</tr>
<tr>
<td><code><a href="../lang/string" title="class in java.lang">String</a></code></td>
<td><code><a href="#readLine()" class="member-name-link">readLine</a>()</code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This method does not properly convert bytes to characters.</div> </div> </td>
</tr>
<tr>
<td><code>long</code></td>
<td><code><a href="#readLong()" class="member-name-link">readLong</a>()</code></td>
<td> <div class="block">Reads a 64-bit long.</div> </td>
</tr>
<tr>
<td><code>final <a href="../lang/object" title="class in java.lang">Object</a></code></td>
<td><code><a href="#readObject()" class="member-name-link">readObject</a>()</code></td>
<td> <div class="block">Read an object from the ObjectInputStream.</div> </td>
</tr>
<tr>
<td><code>protected <a href="../lang/object" title="class in java.lang">Object</a></code></td>
<td><code><a href="#readObjectOverride()" class="member-name-link">readObjectOverride</a>()</code></td>
<td> <div class="block">This method is called by trusted subclasses of ObjectInputStream that constructed ObjectInputStream using the protected no-arg constructor.</div> </td>
</tr>
<tr>
<td><code>short</code></td>
<td><code><a href="#readShort()" class="member-name-link">readShort</a>()</code></td>
<td> <div class="block">Reads a 16-bit short.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#readStreamHeader()" class="member-name-link">readStreamHeader</a>()</code></td>
<td> <div class="block">The readStreamHeader method is provided to allow subclasses to read and verify their own stream headers.</div> </td>
</tr>
<tr>
<td><code><a href="../lang/object" title="class in java.lang">Object</a></code></td>
<td><code><a href="#readUnshared()" class="member-name-link">readUnshared</a>()</code></td>
<td> <div class="block">Reads an "unshared" object from the ObjectInputStream.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#readUnsignedByte()" class="member-name-link">readUnsignedByte</a>()</code></td>
<td> <div class="block">Reads an unsigned 8-bit byte.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#readUnsignedShort()" class="member-name-link">readUnsignedShort</a>()</code></td>
<td> <div class="block">Reads an unsigned 16-bit short.</div> </td>
</tr>
<tr>
<td><code><a href="../lang/string" title="class in java.lang">String</a></code></td>
<td><code><a href="#readUTF()" class="member-name-link">readUTF</a>()</code></td>
<td> <div class="block">Reads a String in <a href="datainput#modified-utf-8">modified UTF-8</a> format.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#registerValidation(java.io.ObjectInputValidation,int)" class="member-name-link">registerValidation</a><wbr>(<a href="objectinputvalidation" title="interface in java.io">ObjectInputValidation</a> obj,
 int prio)</wbr></code></td>
<td> <div class="block">Register an object to be validated before the graph is returned.</div> </td>
</tr>
<tr>
<td><code>protected <a href="../lang/class" title="class in java.lang">Class</a><wbr>&lt;?&gt;</wbr></code></td>
<td><code><a href="#resolveClass(java.io.ObjectStreamClass)" class="member-name-link">resolveClass</a><wbr>(<a href="objectstreamclass" title="class in java.io">ObjectStreamClass</a> desc)</wbr></code></td>
<td> <div class="block">Load the local class equivalent of the specified stream class description.</div> </td>
</tr>
<tr>
<td><code>protected <a href="../lang/object" title="class in java.lang">Object</a></code></td>
<td><code><a href="#resolveObject(java.lang.Object)" class="member-name-link">resolveObject</a><wbr>(<a href="../lang/object" title="class in java.lang">Object</a> obj)</wbr></code></td>
<td> <div class="block">This method will allow trusted subclasses of ObjectInputStream to substitute one object for another during deserialization.</div> </td>
</tr>
<tr>
<td><code>protected <a href="../lang/class" title="class in java.lang">Class</a><wbr>&lt;?&gt;</wbr></code></td>
<td><code><a href="#resolveProxyClass(java.lang.String%5B%5D)" class="member-name-link">resolveProxyClass</a><wbr>(<a href="../lang/string" title="class in java.lang">String</a>[] interfaces)</wbr></code></td>
<td> <div class="block">Returns a proxy class that implements the interfaces named in a proxy class descriptor; subclasses may implement this method to read custom data from the stream along with the descriptors for dynamic proxy classes, allowing them to use an alternate loading mechanism for the interfaces and the proxy class.</div> </td>
</tr>
<tr>
<td><code>final void</code></td>
<td><code><a href="#setObjectInputFilter(java.io.ObjectInputFilter)" class="member-name-link">setObjectInputFilter</a><wbr>(<a href="objectinputfilter" title="interface in java.io">ObjectInputFilter</a> filter)</wbr></code></td>
<td> <div class="block">Set the deserialization filter for the stream.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#skipBytes(int)" class="member-name-link">skipBytes</a><wbr>(int len)</wbr></code></td>
<td> <div class="block">Skips bytes.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.io.InputStream">Methods declared in class java.io.<a href="inputstream" title="class in java.io">InputStream</a>
</h3> <code><a href="inputstream#mark(int)">mark</a>, <a href="inputstream#markSupported()">markSupported</a>, <a href="inputstream#nullInputStream()">nullInputStream</a>, <a href="inputstream#read(byte%5B%5D)">read</a>, <a href="inputstream#readAllBytes()">readAllBytes</a>, <a href="inputstream#readNBytes(byte%5B%5D,int,int)">readNBytes</a>, <a href="inputstream#readNBytes(int)">readNBytes</a>, <a href="inputstream#reset()">reset</a>, <a href="inputstream#skip(long)">skip</a>, <a href="inputstream#skipNBytes(long)">skipNBytes</a>, <a href="inputstream#transferTo(java.io.OutputStream)">transferTo</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../lang/object#clone()">clone</a>, <a href="../lang/object#equals(java.lang.Object)">equals</a>, <a href="../lang/object#finalize()">finalize</a>, <a href="../lang/object#getClass()">getClass</a>, <a href="../lang/object#hashCode()">hashCode</a>, <a href="../lang/object#notify()">notify</a>, <a href="../lang/object#notifyAll()">notifyAll</a>, <a href="../lang/object#toString()">toString</a>, <a href="../lang/object#wait()">wait</a>, <a href="../lang/object#wait(long)">wait</a>, <a href="../lang/object#wait(long,int)">wait</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.io.ObjectInput">Methods declared in interface java.io.<a href="objectinput" title="interface in java.io">ObjectInput</a>
</h3> <code><a href="objectinput#read(byte%5B%5D)">read</a>, <a href="objectinput#skip(long)">skip</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.io.InputStream)"> <h3>ObjectInputStream</h3> <pre class="lang-java" data-language="java">public ObjectInputStream(InputStream in) throws IOException</pre> <div class="block">Creates an ObjectInputStream that reads from the specified InputStream. A serialization stream header is read from the stream and verified. This constructor will block until the corresponding ObjectOutputStream has written and flushed the header. <p>The constructor initializes the deserialization filter to the filter returned by invoking the serial filter factory returned from <a href="objectinputfilter.config#getSerialFilterFactory()"><code>ObjectInputFilter.Config.getSerialFilterFactory()</code></a> with <code>null</code> for the current filter and the <a href="objectinputfilter.config#getSerialFilter()">static JVM-wide filter</a> for the requested filter. If the serial filter or serial filter factory properties are invalid an <a href="../lang/illegalstateexception" title="class in java.lang"><code>IllegalStateException</code></a> is thrown. When the filter factory <code>apply</code> method is invoked it may throw a runtime exception preventing the <code>ObjectInputStream</code> from being constructed. </p>
<p>If a security manager is installed, this constructor will check for the "enableSubclassImplementation" SerializablePermission when invoked directly or indirectly by the constructor of a subclass which overrides the ObjectInputStream.readFields or ObjectInputStream.readUnshared methods.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>in</code> - input stream to read from</dd> <dt>Throws:</dt> <dd>
<code><a href="streamcorruptedexception" title="class in java.io">StreamCorruptedException</a></code> - if the stream header is incorrect</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs while reading stream header</dd> <dd>
<code><a href="../lang/securityexception" title="class in java.lang">SecurityException</a></code> - if untrusted subclass illegally overrides security-sensitive methods</dd> <dd>
<code><a href="../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if the initialization of <a href="objectinputfilter.config" title="class in java.io"><code>ObjectInputFilter.Config</code></a> fails due to invalid serial filter or serial filter factory properties.</dd> <dd>
<code><a href="../lang/nullpointerexception" title="class in java.lang">NullPointerException</a></code> - if <code>in</code> is <code>null</code>
</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#%3Cinit%3E()"><code>ObjectInputStream()</code></a></li> <li><a href="#readFields()"><code>readFields()</code></a></li> <li><a href="objectoutputstream#%3Cinit%3E(java.io.OutputStream)"><code>ObjectOutputStream(OutputStream)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="&lt;init&gt;()"> <h3>ObjectInputStream</h3> <pre class="lang-java" data-language="java">protected ObjectInputStream() throws IOException, SecurityException</pre> <div class="block">Provide a way for subclasses that are completely reimplementing ObjectInputStream to not have to allocate private data just used by this implementation of ObjectInputStream. <p>The constructor initializes the deserialization filter to the filter returned by invoking the serial filter factory returned from <a href="objectinputfilter.config#getSerialFilterFactory()"><code>ObjectInputFilter.Config.getSerialFilterFactory()</code></a> with <code>null</code> for the current filter and the <a href="objectinputfilter.config#getSerialFilter()">static JVM-wide filter</a> for the requested filter. If the serial filter or serial filter factory properties are invalid an <a href="../lang/illegalstateexception" title="class in java.lang"><code>IllegalStateException</code></a> is thrown. When the filter factory <code>apply</code> method is invoked it may throw a runtime exception preventing the <code>ObjectInputStream</code> from being constructed. </p>
<p>If there is a security manager installed, this method first calls the security manager's <code>checkPermission</code> method with the <code>SerializablePermission("enableSubclassImplementation")</code> permission to ensure it's ok to enable subclassing.</p>
</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="../lang/securityexception" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkPermission</code> method denies enabling subclassing.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs while creating this stream</dd> <dd>
<code><a href="../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if the initialization of <a href="objectinputfilter.config" title="class in java.io"><code>ObjectInputFilter.Config</code></a> fails due to invalid serial filter or serial filter factory properties.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager#checkPermission(java.security.Permission)"><code>SecurityManager.checkPermission(java.security.Permission)</code></a></li> <li><a href="serializablepermission" title="class in java.io"><code>SerializablePermission</code></a></li> </ul> </dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="readObject()"> <h3>readObject</h3> <pre class="lang-java" data-language="java">public final Object readObject() throws IOException, ClassNotFoundException</pre> <div class="block">Read an object from the ObjectInputStream. The class of the object, the signature of the class, and the values of the non-transient and non-static fields of the class and all of its supertypes are read. Default deserializing for a class can be overridden using the writeObject and readObject methods. Objects referenced by this object are read transitively so that a complete equivalent graph of objects is reconstructed by readObject. <p>The root object is completely restored when all of its fields and the objects it references are completely restored. At this point the object validation callbacks are executed in order based on their registered priorities. The callbacks are registered by objects (in the readObject special methods) as they are individually restored. </p>
<p>The deserialization filter, when not <code>null</code>, is invoked for each object (regular or class) read to reconstruct the root object. See <a href="#setObjectInputFilter(java.io.ObjectInputFilter)"><code>setObjectInputFilter</code></a> for details. </p>
<p>Exceptions are thrown for problems with the InputStream and for classes that should not be deserialized. All exceptions are fatal to the InputStream and leave it in an indeterminate state; it is up to the caller to ignore or recover the stream state.</p>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="objectinput#readObject()">readObject</a></code> in interface <code><a href="objectinput" title="interface in java.io">ObjectInput</a></code>
</dd> <dt>Returns:</dt> <dd>the object read from the stream</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - Class of a serialized object cannot be found.</dd> <dd>
<code><a href="invalidclassexception" title="class in java.io">InvalidClassException</a></code> - Something is wrong with a class used by deserialization.</dd> <dd>
<code><a href="streamcorruptedexception" title="class in java.io">StreamCorruptedException</a></code> - Control information in the stream is inconsistent.</dd> <dd>
<code><a href="optionaldataexception" title="class in java.io">OptionalDataException</a></code> - Primitive data was found in the stream instead of objects.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - Any of the usual Input/Output related exceptions.</dd> </dl> </section><section class="detail" id="readObjectOverride()"> <h3>readObjectOverride</h3> <pre class="lang-java" data-language="java">protected Object readObjectOverride() throws IOException, ClassNotFoundException</pre> <div class="block">This method is called by trusted subclasses of ObjectInputStream that constructed ObjectInputStream using the protected no-arg constructor. The subclass is expected to provide an override method with the modifier "final".</div> <dl class="notes"> <dt>Returns:</dt> <dd>the Object read from the stream.</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - Class definition of a serialized object cannot be found.</dd> <dd>
<code><a href="optionaldataexception" title="class in java.io">OptionalDataException</a></code> - Primitive data was found in the stream instead of objects.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if I/O errors occurred while reading from the underlying stream</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#%3Cinit%3E()"><code>ObjectInputStream()</code></a></li> <li><a href="#readObject()"><code>readObject()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="readUnshared()"> <h3>readUnshared</h3> <pre class="lang-java" data-language="java">public Object readUnshared() throws IOException, ClassNotFoundException</pre> <div class="block">Reads an "unshared" object from the ObjectInputStream. This method is identical to readObject, except that it prevents subsequent calls to readObject and readUnshared from returning additional references to the deserialized instance obtained via this call. Specifically: <ul> <li>If readUnshared is called to deserialize a back-reference (the stream representation of an object which has been written previously to the stream), an ObjectStreamException will be thrown. </li>
<li>If readUnshared returns successfully, then any subsequent attempts to deserialize back-references to the stream handle deserialized by readUnshared will cause an ObjectStreamException to be thrown. </li>
</ul> Deserializing an object via readUnshared invalidates the stream handle associated with the returned object. Note that this in itself does not always guarantee that the reference returned by readUnshared is unique; the deserialized object may define a readResolve method which returns an object visible to other parties, or readUnshared may return a Class object or enum constant obtainable elsewhere in the stream or through external means. If the deserialized object defines a readResolve method and the invocation of that method returns an array, then readUnshared returns a shallow clone of that array; this guarantees that the returned array object is unique and cannot be obtained a second time from an invocation of readObject or readUnshared on the ObjectInputStream, even if the underlying data stream has been manipulated. <p>The deserialization filter, when not <code>null</code>, is invoked for each object (regular or class) read to reconstruct the root object. See <a href="#setObjectInputFilter(java.io.ObjectInputFilter)"><code>setObjectInputFilter</code></a> for details. </p>
<p>ObjectInputStream subclasses which override this method can only be constructed in security contexts possessing the "enableSubclassImplementation" SerializablePermission; any attempt to instantiate such a subclass without this permission will cause a SecurityException to be thrown.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>reference to deserialized object</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - if class of an object to deserialize cannot be found</dd> <dd>
<code><a href="streamcorruptedexception" title="class in java.io">StreamCorruptedException</a></code> - if control information in the stream is inconsistent</dd> <dd>
<code><a href="objectstreamexception" title="class in java.io">ObjectStreamException</a></code> - if object to deserialize has already appeared in stream</dd> <dd>
<code><a href="optionaldataexception" title="class in java.io">OptionalDataException</a></code> - if primitive data is next in stream</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs during deserialization</dd> <dt>Since:</dt> <dd>1.4</dd> </dl> </section><section class="detail" id="defaultReadObject()"> <h3>defaultReadObject</h3> <pre class="lang-java" data-language="java">public void defaultReadObject() throws IOException, ClassNotFoundException</pre> <div class="block">Read the non-static and non-transient fields of the current class from this stream. This may only be called from the readObject method of the class being deserialized. It will throw the NotActiveException if it is called otherwise.</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - if the class of a serialized object could not be found.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dd>
<code><a href="notactiveexception" title="class in java.io">NotActiveException</a></code> - if the stream is not currently reading objects.</dd> </dl> </section><section class="detail" id="readFields()"> <h3>readFields</h3> <pre class="lang-java" data-language="java">public ObjectInputStream.GetField readFields() throws IOException, ClassNotFoundException</pre> <div class="block">Reads the persistent fields from the stream and makes them available by name.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the <code>GetField</code> object representing the persistent fields of the object being deserialized</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - if the class of a serialized object could not be found.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dd>
<code><a href="notactiveexception" title="class in java.io">NotActiveException</a></code> - if the stream is not currently reading objects.</dd> <dt>Since:</dt> <dd>1.2</dd> </dl> </section><section class="detail" id="registerValidation(java.io.ObjectInputValidation,int)"> <h3>registerValidation</h3> <pre class="lang-java" data-language="java">public void registerValidation(ObjectInputValidation obj, int prio) throws NotActiveException, InvalidObjectException</pre> <div class="block">Register an object to be validated before the graph is returned. While similar to resolveObject these validations are called after the entire graph has been reconstituted. Typically, a readObject method will register the object with the stream so that when all of the objects are restored a final set of validations can be performed.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>obj</code> - the object to receive the validation callback.</dd> <dd>
<code>prio</code> - controls the order of callbacks; zero is a good default. Use higher numbers to be called back earlier, lower numbers for later callbacks. Within a priority, callbacks are processed in no particular order.</dd> <dt>Throws:</dt> <dd>
<code><a href="notactiveexception" title="class in java.io">NotActiveException</a></code> - The stream is not currently reading objects so it is invalid to register a callback.</dd> <dd>
<code><a href="invalidobjectexception" title="class in java.io">InvalidObjectException</a></code> - The validation object is null.</dd> </dl> </section><section class="detail" id="resolveClass(java.io.ObjectStreamClass)"> <h3>resolveClass</h3> <pre class="lang-java" data-language="java">protected Class&lt;?&gt; resolveClass(ObjectStreamClass desc) throws IOException, ClassNotFoundException</pre> <div class="block">Load the local class equivalent of the specified stream class description. Subclasses may implement this method to allow classes to be fetched from an alternate source. <p>The corresponding method in <code>ObjectOutputStream</code> is <code>annotateClass</code>. This method will be invoked only once for each unique class in the stream. This method can be implemented by subclasses to use an alternate loading mechanism but must return a <code>Class</code> object. Once returned, if the class is not an array class, its serialVersionUID is compared to the serialVersionUID of the serialized class, and if there is a mismatch, the deserialization fails and an <a href="invalidclassexception" title="class in java.io"><code>InvalidClassException</code></a> is thrown. </p>
<p>The default implementation of this method in <code>ObjectInputStream</code> returns the result of calling </p>
<div class="snippet-container">
<button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjwhLS0KIENvcHlyaWdodCAoYykgMjAyMSwgT3JhY2xlIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIERPIE5PVCBBTFRFUiBPUiBSRU1PVkUgQ09QWVJJR0hUIE5PVElDRVMgT1IgVEhJUyBGSUxFIEhFQURFUi4KCiBUaGlzIGNvZGUgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdAogdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIgb25seSwgYXMKIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLiAgT3JhY2xlIGRlc2lnbmF0ZXMgdGhpcwogcGFydGljdWxhciBmaWxlIGFzIHN1YmplY3QgdG8gdGhlICJDbGFzc3BhdGgiIGV4Y2VwdGlvbiBhcyBwcm92aWRlZAogYnkgT3JhY2xlIGluIHRoZSBMSUNFTlNFIGZpbGUgdGhhdCBhY2NvbXBhbmllZCB0aGlzIGNvZGUuCgogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUCiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IKIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogdmVyc2lvbiAyIGZvciBtb3JlIGRldGFpbHMgKGEgY29weSBpcyBpbmNsdWRlZCBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXQKIGFjY29tcGFuaWVkIHRoaXMgY29kZSkuCgogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbgogMiBhbG9uZyB3aXRoIHRoaXMgd29yazsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLAogSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBLgoKIFBsZWFzZSBjb250YWN0IE9yYWNsZSwgNTAwIE9yYWNsZSBQYXJrd2F5LCBSZWR3b29kIFNob3JlcywgQ0EgOTQwNjUgVVNBCiBvciB2aXNpdCB3d3cub3JhY2xlLmNvbSBpZiB5b3UgbmVlZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9yIGhhdmUgYW55CiBxdWVzdGlvbnMuCi0tPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4MCA0NjAiIGZpbGw9IiM1MDUwNTAiPgogIDxwYXRoCiAgICAgZD0iTSAzNDYsOCBIIDEwOCBDIDkwLDggNzUsMjMgNzUsNDEgdiAzMTYgYyAwLDE4IDE1LDMzIDMzLDMzIGggMjM4IGMgMTgsMCAzMywtMTUgMzMsLTMzIFYgNDEgQyAzNzksMjMgMzY0LDggMzQ2LDggWiBtIC04LDM0NCBIIDExNiBjIC0yLDAgLTMsLTEgLTMsLTMgViA0OSBjIDAsLTIgMSwtMyAzLC0zIGggMjIyIGMgMiwwIDMsMSAzLDMgdiAzMDAgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgeiIvPgogIDxwYXRoCiAgICAgZD0ibSAyOTAsMzg5IHYgMjYgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgSCA0OSBjIC0yLDAgLTMsLTEgLTMsLTMgViA5OSBjIDAsLTIgMSwtMyAzLC0zIGggMjcgdiAwIGwgLTVlLTQsLTM4IEggNDEgQyAyMyw1OCA4LDczIDgsOTEgdiAzMzIgYyAxMGUtNCwxOCAxNSwzMyAzMywzMyBoIDI1NCBjIDE4LDAgMzMsLTE1IDMzLC0zMyB2IC0zNCIvPgo8L3N2Zz4K" alt="Copy snippet"></button> <pre class="lang-java" data-language="java"><code class="language-java">    Class.forName(desc.getName(), false, loader)
</code></pre> </div> where <code>loader</code> is the first class loader on the current thread's stack (starting from the currently executing method) that is neither the <a href="../lang/classloader#getPlatformClassLoader()">platform class loader</a> nor its ancestor; otherwise, <code>loader</code> is the <em>platform class loader</em>. If this call results in a <code>ClassNotFoundException</code> and the name of the passed <code>ObjectStreamClass</code> instance is the Java language keyword for a primitive type or void, then the <code>Class</code> object representing that primitive type or void will be returned (e.g., an <code>ObjectStreamClass</code> with the name <code>"int"</code> will be resolved to <code>Integer.TYPE</code>). Otherwise, the <code>ClassNotFoundException</code> will be thrown to the caller of this method.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>desc</code> - an instance of class <code>ObjectStreamClass</code>
</dd> <dt>Returns:</dt> <dd>a <code>Class</code> object corresponding to <code>desc</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - any of the usual Input/Output exceptions.</dd> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - if class of a serialized object cannot be found.</dd> </dl> </section><section class="detail" id="resolveProxyClass(java.lang.String[])"> <h3>resolveProxyClass</h3> <pre class="lang-java" data-language="java">protected Class&lt;?&gt; resolveProxyClass(String[] interfaces) throws IOException, ClassNotFoundException</pre> <div class="block">Returns a proxy class that implements the interfaces named in a proxy class descriptor; subclasses may implement this method to read custom data from the stream along with the descriptors for dynamic proxy classes, allowing them to use an alternate loading mechanism for the interfaces and the proxy class. <p>This method is called exactly once for each unique proxy class descriptor in the stream. </p>
<p>The corresponding method in <code>ObjectOutputStream</code> is <code>annotateProxyClass</code>. For a given subclass of <code>ObjectInputStream</code> that overrides this method, the <code>annotateProxyClass</code> method in the corresponding subclass of <code>ObjectOutputStream</code> must write any data or objects read by this method. </p>
<p>The default implementation of this method in <code>ObjectInputStream</code> returns the result of calling <code>Proxy.getProxyClass</code> with the list of <code>Class</code> objects for the interfaces that are named in the <code>interfaces</code> parameter. The <code>Class</code> object for each interface name <code>i</code> is the value returned by calling </p>
<div class="snippet-container">
<button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjwhLS0KIENvcHlyaWdodCAoYykgMjAyMSwgT3JhY2xlIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIERPIE5PVCBBTFRFUiBPUiBSRU1PVkUgQ09QWVJJR0hUIE5PVElDRVMgT1IgVEhJUyBGSUxFIEhFQURFUi4KCiBUaGlzIGNvZGUgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdAogdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIgb25seSwgYXMKIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLiAgT3JhY2xlIGRlc2lnbmF0ZXMgdGhpcwogcGFydGljdWxhciBmaWxlIGFzIHN1YmplY3QgdG8gdGhlICJDbGFzc3BhdGgiIGV4Y2VwdGlvbiBhcyBwcm92aWRlZAogYnkgT3JhY2xlIGluIHRoZSBMSUNFTlNFIGZpbGUgdGhhdCBhY2NvbXBhbmllZCB0aGlzIGNvZGUuCgogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUCiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IKIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogdmVyc2lvbiAyIGZvciBtb3JlIGRldGFpbHMgKGEgY29weSBpcyBpbmNsdWRlZCBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXQKIGFjY29tcGFuaWVkIHRoaXMgY29kZSkuCgogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbgogMiBhbG9uZyB3aXRoIHRoaXMgd29yazsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLAogSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBLgoKIFBsZWFzZSBjb250YWN0IE9yYWNsZSwgNTAwIE9yYWNsZSBQYXJrd2F5LCBSZWR3b29kIFNob3JlcywgQ0EgOTQwNjUgVVNBCiBvciB2aXNpdCB3d3cub3JhY2xlLmNvbSBpZiB5b3UgbmVlZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9yIGhhdmUgYW55CiBxdWVzdGlvbnMuCi0tPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4MCA0NjAiIGZpbGw9IiM1MDUwNTAiPgogIDxwYXRoCiAgICAgZD0iTSAzNDYsOCBIIDEwOCBDIDkwLDggNzUsMjMgNzUsNDEgdiAzMTYgYyAwLDE4IDE1LDMzIDMzLDMzIGggMjM4IGMgMTgsMCAzMywtMTUgMzMsLTMzIFYgNDEgQyAzNzksMjMgMzY0LDggMzQ2LDggWiBtIC04LDM0NCBIIDExNiBjIC0yLDAgLTMsLTEgLTMsLTMgViA0OSBjIDAsLTIgMSwtMyAzLC0zIGggMjIyIGMgMiwwIDMsMSAzLDMgdiAzMDAgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgeiIvPgogIDxwYXRoCiAgICAgZD0ibSAyOTAsMzg5IHYgMjYgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgSCA0OSBjIC0yLDAgLTMsLTEgLTMsLTMgViA5OSBjIDAsLTIgMSwtMyAzLC0zIGggMjcgdiAwIGwgLTVlLTQsLTM4IEggNDEgQyAyMyw1OCA4LDczIDgsOTEgdiAzMzIgYyAxMGUtNCwxOCAxNSwzMyAzMywzMyBoIDI1NCBjIDE4LDAgMzMsLTE1IDMzLC0zMyB2IC0zNCIvPgo8L3N2Zz4K" alt="Copy snippet"></button> <pre class="lang-java" data-language="java"><code class="language-java">    Class.forName(i, false, loader)
</code></pre> </div> where <code>loader</code> is the first class loader on the current thread's stack (starting from the currently executing method) that is neither the <a href="../lang/classloader#getPlatformClassLoader()">platform class loader</a> nor its ancestor; otherwise, <code>loader</code> is the <em>platform class loader</em>. Unless any of the resolved interfaces are non-public, this same value of <code>loader</code> is also the class loader passed to <code>Proxy.getProxyClass</code>; if non-public interfaces are present, their class loader is passed instead (if more than one non-public interface class loader is encountered, an <code>IllegalAccessError</code> is thrown). If <code>Proxy.getProxyClass</code> throws an <code>IllegalArgumentException</code>, <code>resolveProxyClass</code> will throw a <code>ClassNotFoundException</code> containing the <code>IllegalArgumentException</code>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>interfaces</code> - the list of interface names that were deserialized in the proxy class descriptor</dd> <dt>Returns:</dt> <dd>a proxy class for the specified interfaces</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - any exception thrown by the underlying <code>InputStream</code>
</dd> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - if the proxy class or any of the named interfaces could not be found</dd> <dt>Since:</dt> <dd>1.3</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="objectoutputstream#annotateProxyClass(java.lang.Class)"><code>ObjectOutputStream.annotateProxyClass(Class)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="resolveObject(java.lang.Object)"> <h3>resolveObject</h3> <pre class="lang-java" data-language="java">protected Object resolveObject(Object obj) throws IOException</pre> <div class="block">This method will allow trusted subclasses of ObjectInputStream to substitute one object for another during deserialization. Replacing objects is disabled until enableResolveObject is called. The enableResolveObject method checks that the stream requesting to resolve object can be trusted. Every reference to serializable objects is passed to resolveObject. To ensure that the private state of objects is not unintentionally exposed only trusted streams may use resolveObject. <p>This method is called after an object has been read but before it is returned from readObject. The default resolveObject method just returns the same object. </p>
<p>When a subclass is replacing objects it must ensure that the substituted object is compatible with every field where the reference will be stored. Objects whose type is not a subclass of the type of the field or array element abort the deserialization by raising an exception and the object is not be stored. </p>
<p>This method is called only once when each object is first encountered. All subsequent references to the object will be redirected to the new object.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>obj</code> - object to be substituted</dd> <dt>Returns:</dt> <dd>the substituted object</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - Any of the usual Input/Output exceptions.</dd> </dl> </section><section class="detail" id="enableResolveObject(boolean)"> <h3>enableResolveObject</h3> <pre class="lang-java" data-language="java">protected boolean enableResolveObject(boolean enable) throws SecurityException</pre> <div class="block">Enables the stream to do replacement of objects read from the stream. When enabled, the <a href="#resolveObject(java.lang.Object)"><code>resolveObject(java.lang.Object)</code></a> method is called for every object being deserialized. <p>If object replacement is currently not enabled, and <code>enable</code> is true, and there is a security manager installed, this method first calls the security manager's <code>checkPermission</code> method with the <code>SerializablePermission("enableSubstitution")</code> permission to ensure that the caller is permitted to enable the stream to do replacement of objects read from the stream.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>enable</code> - true for enabling use of <code>resolveObject</code> for every object being deserialized</dd> <dt>Returns:</dt> <dd>the previous setting before this method was invoked</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/securityexception" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkPermission</code> method denies enabling the stream to do replacement of objects read from the stream.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager#checkPermission(java.security.Permission)"><code>SecurityManager.checkPermission(java.security.Permission)</code></a></li> <li><a href="serializablepermission" title="class in java.io"><code>SerializablePermission</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="readStreamHeader()"> <h3>readStreamHeader</h3> <pre class="lang-java" data-language="java">protected void readStreamHeader() throws IOException, StreamCorruptedException</pre> <div class="block">The readStreamHeader method is provided to allow subclasses to read and verify their own stream headers. It reads and verifies the magic number and version number.</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if there are I/O errors while reading from the underlying <code>InputStream</code>
</dd> <dd>
<code><a href="streamcorruptedexception" title="class in java.io">StreamCorruptedException</a></code> - if control information in the stream is inconsistent</dd> </dl> </section><section class="detail" id="readClassDescriptor()"> <h3>readClassDescriptor</h3> <pre class="lang-java" data-language="java">protected ObjectStreamClass readClassDescriptor() throws IOException, ClassNotFoundException</pre> <div class="block">Read a class descriptor from the serialization stream. This method is called when the ObjectInputStream expects a class descriptor as the next item in the serialization stream. Subclasses of ObjectInputStream may override this method to read in class descriptors that have been written in non-standard formats (by subclasses of ObjectOutputStream which have overridden the <code>writeClassDescriptor</code> method). By default, this method reads class descriptors according to the format defined in the Object Serialization specification.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the class descriptor read</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If an I/O error has occurred.</dd> <dd>
<code><a href="../lang/classnotfoundexception" title="class in java.lang">ClassNotFoundException</a></code> - If the Class of a serialized object used in the class descriptor representation cannot be found</dd> <dt>Since:</dt> <dd>1.3</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="objectoutputstream#writeClassDescriptor(java.io.ObjectStreamClass)"><code>ObjectOutputStream.writeClassDescriptor(java.io.ObjectStreamClass)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="read()"> <h3>read</h3> <pre class="lang-java" data-language="java">public int read() throws IOException</pre> <div class="block">Reads a byte of data. This method will block if no input is available.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="objectinput#read()">read</a></code> in interface <code><a href="objectinput" title="interface in java.io">ObjectInput</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="inputstream#read()">read</a></code> in class <code><a href="inputstream" title="class in java.io">InputStream</a></code>
</dd> <dt>Returns:</dt> <dd>the byte read, or -1 if the end of the stream is reached.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> </dl> </section><section class="detail" id="read(byte[],int,int)"> <h3>read</h3> <pre class="lang-java" data-language="java">public int read(byte[] buf, int off, int len) throws IOException</pre> <div class="block">Reads into an array of bytes. This method will block until some input is available. Consider using java.io.DataInputStream.readFully to read exactly 'length' bytes.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="objectinput#read(byte%5B%5D,int,int)">read</a></code> in interface <code><a href="objectinput" title="interface in java.io">ObjectInput</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="inputstream#read(byte%5B%5D,int,int)">read</a></code> in class <code><a href="inputstream" title="class in java.io">InputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>buf</code> - the buffer into which the data is read</dd> <dd>
<code>off</code> - the start offset in the destination array <code>buf</code>
</dd> <dd>
<code>len</code> - the maximum number of bytes read</dd> <dt>Returns:</dt> <dd>the total number of bytes read into the buffer, or <code>-1</code> if there is no more data because the end of the stream has been reached.</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/nullpointerexception" title="class in java.lang">NullPointerException</a></code> - if <code>buf</code> is <code>null</code>.</dd> <dd>
<code><a href="../lang/indexoutofboundsexception" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>off</code> is negative, <code>len</code> is negative, or <code>len</code> is greater than <code>buf.length - off</code>.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If an I/O error has occurred.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="datainputstream#readFully(byte%5B%5D,int,int)"><code>DataInputStream.readFully(byte[],int,int)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="available()"> <h3>available</h3> <pre class="lang-java" data-language="java">public int available() throws IOException</pre> <div class="block">Returns the number of bytes that can be read without blocking.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="objectinput#available()">available</a></code> in interface <code><a href="objectinput" title="interface in java.io">ObjectInput</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="inputstream#available()">available</a></code> in class <code><a href="inputstream" title="class in java.io">InputStream</a></code>
</dd> <dt>Returns:</dt> <dd>the number of available bytes.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if there are I/O errors while reading from the underlying <code>InputStream</code>
</dd> </dl> </section><section class="detail" id="close()"> <h3>close</h3> <pre class="lang-java" data-language="java">public void close() throws IOException</pre> <div class="block">Closes this input stream and releases any system resources associated with the stream.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../lang/autocloseable#close()">close</a></code> in interface <code><a href="../lang/autocloseable" title="interface in java.lang">AutoCloseable</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="closeable#close()">close</a></code> in interface <code><a href="closeable" title="interface in java.io">Closeable</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="objectinput#close()">close</a></code> in interface <code><a href="objectinput" title="interface in java.io">ObjectInput</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="inputstream#close()">close</a></code> in class <code><a href="inputstream" title="class in java.io">InputStream</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> </dl> </section><section class="detail" id="readBoolean()"> <h3>readBoolean</h3> <pre class="lang-java" data-language="java">public boolean readBoolean() throws IOException</pre> <div class="block">Reads in a boolean.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readBoolean()">readBoolean</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the boolean read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readByte()"> <h3>readByte</h3> <pre class="lang-java" data-language="java">public byte readByte() throws IOException</pre> <div class="block">Reads an 8-bit byte.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readByte()">readByte</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 8-bit byte read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readUnsignedByte()"> <h3>readUnsignedByte</h3> <pre class="lang-java" data-language="java">public int readUnsignedByte() throws IOException</pre> <div class="block">Reads an unsigned 8-bit byte.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readUnsignedByte()">readUnsignedByte</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 8-bit byte read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readChar()"> <h3>readChar</h3> <pre class="lang-java" data-language="java">public char readChar() throws IOException</pre> <div class="block">Reads a 16-bit char.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readChar()">readChar</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 16-bit char read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readShort()"> <h3>readShort</h3> <pre class="lang-java" data-language="java">public short readShort() throws IOException</pre> <div class="block">Reads a 16-bit short.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readShort()">readShort</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 16-bit short read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readUnsignedShort()"> <h3>readUnsignedShort</h3> <pre class="lang-java" data-language="java">public int readUnsignedShort() throws IOException</pre> <div class="block">Reads an unsigned 16-bit short.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readUnsignedShort()">readUnsignedShort</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 16-bit short read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readInt()"> <h3>readInt</h3> <pre class="lang-java" data-language="java">public int readInt() throws IOException</pre> <div class="block">Reads a 32-bit int.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readInt()">readInt</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 32-bit integer read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readLong()"> <h3>readLong</h3> <pre class="lang-java" data-language="java">public long readLong() throws IOException</pre> <div class="block">Reads a 64-bit long.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readLong()">readLong</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the read 64-bit long.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readFloat()"> <h3>readFloat</h3> <pre class="lang-java" data-language="java">public float readFloat() throws IOException</pre> <div class="block">Reads a 32-bit float.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readFloat()">readFloat</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 32-bit float read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readDouble()"> <h3>readDouble</h3> <pre class="lang-java" data-language="java">public double readDouble() throws IOException</pre> <div class="block">Reads a 64-bit double.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readDouble()">readDouble</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the 64-bit double read.</dd> <dt>Throws:</dt> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readFully(byte[])"> <h3>readFully</h3> <pre class="lang-java" data-language="java">public void readFully(byte[] buf) throws IOException</pre> <div class="block">Reads bytes, blocking until all bytes are read.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readFully(byte%5B%5D)">readFully</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>buf</code> - the buffer into which the data is read</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/nullpointerexception" title="class in java.lang">NullPointerException</a></code> - If <code>buf</code> is <code>null</code>.</dd> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="readFully(byte[],int,int)"> <h3>readFully</h3> <pre class="lang-java" data-language="java">public void readFully(byte[] buf, int off, int len) throws IOException</pre> <div class="block">Reads bytes, blocking until all bytes are read.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readFully(byte%5B%5D,int,int)">readFully</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>buf</code> - the buffer into which the data is read</dd> <dd>
<code>off</code> - the start offset into the data array <code>buf</code>
</dd> <dd>
<code>len</code> - the maximum number of bytes to read</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/nullpointerexception" title="class in java.lang">NullPointerException</a></code> - If <code>buf</code> is <code>null</code>.</dd> <dd>
<code><a href="../lang/indexoutofboundsexception" title="class in java.lang">IndexOutOfBoundsException</a></code> - If <code>off</code> is negative, <code>len</code> is negative, or <code>len</code> is greater than <code>buf.length - off</code>.</dd> <dd>
<code><a href="eofexception" title="class in java.io">EOFException</a></code> - If end of file is reached.</dd> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If other I/O error has occurred.</dd> </dl> </section><section class="detail" id="skipBytes(int)"> <h3>skipBytes</h3> <pre class="lang-java" data-language="java">public int skipBytes(int len) throws IOException</pre> <div class="block">Skips bytes.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#skipBytes(int)">skipBytes</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>len</code> - the number of bytes to be skipped</dd> <dt>Returns:</dt> <dd>the actual number of bytes skipped.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - If an I/O error has occurred.</dd> </dl> </section><section class="detail" id="readLine()"> <h3>readLine</h3> <pre class="lang-java" data-language="java">@Deprecated public String readLine() throws IOException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This method does not properly convert bytes to characters. see DataInputStream for the details and alternatives.</div> </div> <div class="block">Reads in a line that has been terminated by a \n, \r, \r\n or EOF.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readLine()">readLine</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>a String copy of the line.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if there are I/O errors while reading from the underlying <code>InputStream</code>
</dd> </dl> </section><section class="detail" id="readUTF()"> <h3>readUTF</h3> <pre class="lang-java" data-language="java">public String readUTF() throws IOException</pre> <div class="block">Reads a String in <a href="datainput#modified-utf-8">modified UTF-8</a> format.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="datainput#readUTF()">readUTF</a></code> in interface <code><a href="datainput" title="interface in java.io">DataInput</a></code>
</dd> <dt>Returns:</dt> <dd>the String.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception" title="class in java.io">IOException</a></code> - if there are I/O errors while reading from the underlying <code>InputStream</code>
</dd> <dd>
<code><a href="utfdataformatexception" title="class in java.io">UTFDataFormatException</a></code> - if read bytes do not represent a valid modified UTF-8 encoding of a string</dd> </dl> </section><section class="detail" id="getObjectInputFilter()"> <h3>getObjectInputFilter</h3> <pre class="lang-java" data-language="java">public final ObjectInputFilter getObjectInputFilter()</pre> <div class="block">Returns the deserialization filter for this stream. The filter is the result of invoking the <a href="objectinputfilter.config#getSerialFilterFactory()"><code>JVM-wide filter factory</code></a> either by the <a href="#%3Cinit%3E()">constructor</a> or the most recent invocation of <a href="#setObjectInputFilter(java.io.ObjectInputFilter)"><code>setObjectInputFilter</code></a>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the deserialization filter for the stream; may be null</dd> <dt>Since:</dt> <dd>9</dd> </dl> </section><section class="detail" id="setObjectInputFilter(java.io.ObjectInputFilter)"> <h3>setObjectInputFilter</h3> <pre class="lang-java" data-language="java">public final void setObjectInputFilter(ObjectInputFilter filter)</pre> <div class="block">Set the deserialization filter for the stream. The deserialization filter is set to the filter returned by invoking the <a href="objectinputfilter.config#getSerialFilterFactory()">JVM-wide filter factory</a> with the <a href="#getObjectInputFilter()">current filter</a> and the <code>filter</code> parameter. The current filter was set in the <a href="#%3Cinit%3E()">ObjectInputStream constructors</a> by invoking the <a href="objectinputfilter.config#getSerialFilterFactory()">JVM-wide filter factory</a> and may be <code>null</code>. <a href="#setObjectInputFilter(java.io.ObjectInputFilter)">setObjectInputFilter(ObjectInputFilter)</a> This method} can be called once and only once before reading any objects from the stream; for example, by calling <a href="#readObject()"><code>readObject()</code></a> or <a href="#readUnshared()"><code>readUnshared()</code></a>. <p>It is not permitted to replace a <code>non-null</code> filter with a <code>null</code> filter. If the <a href="#getObjectInputFilter()">current filter</a> is <code>non-null</code>, the value returned from the filter factory must be <code>non-null</code>. </p>
<p>The filter's <a href="objectinputfilter#checkInput(java.io.ObjectInputFilter.FilterInfo)"><code>checkInput</code></a> method is called for each class and reference in the stream. The filter can check any or all of the class, the array length, the number of references, the depth of the graph, and the size of the input stream. The depth is the number of nested <a href="#readObject()">readObject</a> calls starting with the reading of the root of the graph being deserialized and the current object being deserialized. The number of references is the cumulative number of objects and references to objects already read from the stream including the current object being read. The filter is invoked only when reading objects from the stream and not for primitives. </p>
<p> If the filter returns <a href="objectinputfilter.status#REJECTED"><code>Status.REJECTED</code></a>, <code>null</code> or throws a <a href="../lang/runtimeexception" title="class in java.lang"><code>RuntimeException</code></a>, the active <code>readObject</code> or <code>readUnshared</code> throws <a href="invalidclassexception" title="class in java.io"><code>InvalidClassException</code></a>, otherwise deserialization continues uninterrupted.</p>
</div> <dl class="notes"> <dt>Implementation Requirements:</dt> <dd>The filter, when not <code>null</code>, is invoked during <a href="#readObject()"><code>readObject</code></a> and <a href="#readUnshared()"><code>readUnshared</code></a> for each object (regular or class) in the stream. Strings are treated as primitives and do not invoke the filter. The filter is called for: <ul> <li>each object reference previously deserialized from the stream (class is <code>null</code>, arrayLength is -1), </li>
<li>each regular class (class is not <code>null</code>, arrayLength is -1), </li>
<li>each interface class explicitly referenced in the stream (it is not called for interfaces implemented by classes in the stream), </li>
<li>each interface of a dynamic proxy and the dynamic proxy class itself (class is not <code>null</code>, arrayLength is -1), </li>
<li>each array is filtered using the array type and length of the array (class is the array type, arrayLength is the requested length), </li>
<li>each object replaced by its class' <code>readResolve</code> method is filtered using the replacement object's class, if not <code>null</code>, and if it is an array, the arrayLength, otherwise -1, </li>
<li>and each object replaced by <a href="#resolveObject(java.lang.Object)"><code>resolveObject</code></a> is filtered using the replacement object's class, if not <code>null</code>, and if it is an array, the arrayLength, otherwise -1. </li>
</ul> When the <a href="objectinputfilter#checkInput(java.io.ObjectInputFilter.FilterInfo)"><code>checkInput</code></a> method is invoked it is given access to the current class, the array length, the current number of references already read from the stream, the depth of nested calls to <a href="#readObject()"><code>readObject</code></a> or <a href="#readUnshared()"><code>readUnshared</code></a>, and the implementation dependent number of bytes consumed from the input stream. <p> Each call to <a href="#readObject()"><code>readObject</code></a> or <a href="#readUnshared()"><code>readUnshared</code></a> increases the depth by 1 before reading an object and decreases by 1 before returning normally or exceptionally. The depth starts at <code>1</code> and increases for each nested object and decrements when each nested call returns. The count of references in the stream starts at <code>1</code> and is increased before reading an object.</p>
</dd> <dt>Parameters:</dt> <dd>
<code>filter</code> - the filter, may be null</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/securityexception" title="class in java.lang">SecurityException</a></code> - if there is security manager and the <code>SerializablePermission("serialFilter")</code> is not granted</dd> <dd>
<code><a href="../lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if an object has been read, if the filter factory returns <code>null</code> when the <a href="#getObjectInputFilter()">current filter</a> is non-null, or if the filter has already been set.</dd> <dt>Since:</dt> <dd>9</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/ObjectInputStream.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/ObjectInputStream.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
