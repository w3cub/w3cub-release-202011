
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>JShell - OpenJDK 21 - W3cubDocs</title>
  
  <meta name="description" content=" An instance of JShell is created with JShell.create(). ">
  <meta name="keywords" content="class, jshell, openjdk, openjdk~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/openjdk~21/jdk.jshell/jdk/jshell/jshell.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/openjdk~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/openjdk~21/" class="_nav-link" title="" style="margin-left:0;">OpenJDK 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _openjdk">
				
				
<h1 title="Class JShell" class="title">Class JShell</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../java.base/java/lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">jdk.jshell.JShell</div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd><code><a href="../../../java.base/java/lang/autocloseable" title="interface in java.lang">AutoCloseable</a></code></dd> </dl>  <pre class="lang-java" data-language="java">public class JShell extends Object implements AutoCloseable</pre> <div class="block">The JShell evaluation state engine. This is the central class in the JShell API. A <code>JShell</code> instance holds the evolving compilation and execution state. The state is changed with the instance methods <a href="#eval(java.lang.String)"><code>eval(String)</code></a>, <a href="#drop(jdk.jshell.Snippet)"><code>drop(Snippet)</code></a> and <a href="#addToClasspath(java.lang.String)"><code>addToClasspath(String)</code></a>. The majority of methods query the state. A <code>JShell</code> instance also allows registering for events with <a href="#onSnippetEvent(java.util.function.Consumer)"><code>onSnippetEvent(Consumer)</code></a> and <a href="#onShutdown(java.util.function.Consumer)"><code>onShutdown(Consumer)</code></a>, which are unregistered with <a href="#unsubscribe(jdk.jshell.JShell.Subscription)"><code>unsubscribe(Subscription)</code></a>. Access to the source analysis utilities is via <a href="#sourceCodeAnalysis()"><code>sourceCodeAnalysis()</code></a>. When complete the instance should be closed to free resources -- <a href="#close()"><code>close()</code></a>. <p> An instance of <code>JShell</code> is created with <code>JShell.create()</code>. </p>
<p> This class is not thread safe, except as noted, all access should be through a single thread.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>9</dd> </dl> </section> <section class="summary"> <section class="nested-class-summary" id="nested-class-summary"> <h2>Nested Class Summary</h2>  <table class="summary-table three-column-summary">          <tr>
<th>Modifier and Type</th>
<th>Class</th>
<th>Description</th>
</tr>
<tr>
<td><code>static class </code></td>
<td><code><a href="jshell.builder" class="type-name-link" title="class in jdk.jshell">JShell.Builder</a></code></td>
<td> <div class="block">Builder for <code>JShell</code> instances.</div> </td>
</tr>
<tr>
<td><code>class </code></td>
<td><code><a href="jshell.subscription" class="type-name-link" title="class in jdk.jshell">JShell.Subscription</a></code></td>
<td> <div class="block">Subscription is a token for referring to subscriptions so they can be <a href="#unsubscribe(jdk.jshell.JShell.Subscription)">unsubscribed</a>.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                                                <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#addToClasspath(java.lang.String)" class="member-name-link">addToClasspath</a><wbr>(<a href="../../../java.base/java/lang/string" title="class in java.lang">String</a> path)</wbr></code></td>
<td> <div class="block">The specified path is added to the end of the classpath used in eval().</div> </td>
</tr>
<tr>
<td><code>static <a href="jshell.builder" title="class in jdk.jshell">JShell.Builder</a></code></td>
<td><code><a href="#builder()" class="member-name-link">builder</a>()</code></td>
<td> <div class="block">Factory method for <code>JShell.Builder</code> which, in-turn, is used for creating instances of <code>JShell</code>.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#close()" class="member-name-link">close</a>()</code></td>
<td> <div class="block">Close this state engine.</div> </td>
</tr>
<tr>
<td><code>static <a href="jshell" title="class in jdk.jshell">JShell</a></code></td>
<td><code><a href="#create()" class="member-name-link">create</a>()</code></td>
<td> <div class="block">Create a new JShell state engine.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="diag" title="class in jdk.jshell">Diag</a>&gt;</wbr></code></td>
<td><code><a href="#diagnostics(jdk.jshell.Snippet)" class="member-name-link">diagnostics</a><wbr>(<a href="snippet" title="class in jdk.jshell">Snippet</a> snippet)</wbr></code></td>
<td> <div class="block">Return the diagnostics of the most recent evaluation of the snippet.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/list" title="interface in java.util">List</a><wbr>&lt;<a href="snippetevent" title="class in jdk.jshell">SnippetEvent</a>&gt;</wbr></code></td>
<td><code><a href="#drop(jdk.jshell.Snippet)" class="member-name-link">drop</a><wbr>(<a href="snippet" title="class in jdk.jshell">Snippet</a> snippet)</wbr></code></td>
<td> <div class="block">Remove a declaration from the state.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/list" title="interface in java.util">List</a><wbr>&lt;<a href="snippetevent" title="class in jdk.jshell">SnippetEvent</a>&gt;</wbr></code></td>
<td><code><a href="#eval(java.lang.String)" class="member-name-link">eval</a><wbr>(<a href="../../../java.base/java/lang/string" title="class in java.lang">String</a> input)</wbr></code></td>
<td> <div class="block">Evaluate the input String, including definition and/or execution, if applicable.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="importsnippet" title="class in jdk.jshell">ImportSnippet</a>&gt;</wbr></code></td>
<td><code><a href="#imports()" class="member-name-link">imports</a>()</code></td>
<td> <div class="block">Returns the active import snippets.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="methodsnippet" title="class in jdk.jshell">MethodSnippet</a>&gt;</wbr></code></td>
<td><code><a href="#methods()" class="member-name-link">methods</a>()</code></td>
<td> <div class="block">Returns the active method snippets.</div> </td>
</tr>
<tr>
<td><code><a href="jshell.subscription" title="class in jdk.jshell">JShell.Subscription</a></code></td>
<td><code><a href="#onShutdown(java.util.function.Consumer)" class="member-name-link">onShutdown</a><wbr>(<a href="../../../java.base/java/util/function/consumer" title="interface in java.util.function">Consumer</a>&lt;<a href="jshell" title="class in jdk.jshell">JShell</a>&gt; listener)</wbr></code></td>
<td> <div class="block">Register a callback to be called when this JShell instance terminates.</div> </td>
</tr>
<tr>
<td><code><a href="jshell.subscription" title="class in jdk.jshell">JShell.Subscription</a></code></td>
<td><code><a href="#onSnippetEvent(java.util.function.Consumer)" class="member-name-link">onSnippetEvent</a><wbr>(<a href="../../../java.base/java/util/function/consumer" title="interface in java.util.function">Consumer</a>&lt;<a href="snippetevent" title="class in jdk.jshell">SnippetEvent</a>&gt; listener)</wbr></code></td>
<td> <div class="block">Register a callback to be called when the Status of a snippet changes.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="snippet" title="class in jdk.jshell">Snippet</a>&gt;</wbr></code></td>
<td><code><a href="#snippets()" class="member-name-link">snippets</a>()</code></td>
<td> <div class="block">Return all snippets.</div> </td>
</tr>
<tr>
<td><code><a href="sourcecodeanalysis" title="class in jdk.jshell">SourceCodeAnalysis</a></code></td>
<td><code><a href="#sourceCodeAnalysis()" class="member-name-link">sourceCodeAnalysis</a>()</code></td>
<td> <div class="block">Access to source code analysis functionality.</div> </td>
</tr>
<tr>
<td><code><a href="snippet.status" title="enum class in jdk.jshell">Snippet.Status</a></code></td>
<td><code><a href="#status(jdk.jshell.Snippet)" class="member-name-link">status</a><wbr>(<a href="snippet" title="class in jdk.jshell">Snippet</a> snippet)</wbr></code></td>
<td> <div class="block">Return the status of the snippet.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#stop()" class="member-name-link">stop</a>()</code></td>
<td> <div class="block">Attempt to stop currently running evaluation.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="typedeclsnippet" title="class in jdk.jshell">TypeDeclSnippet</a>&gt;</wbr></code></td>
<td><code><a href="#types()" class="member-name-link">types</a>()</code></td>
<td> <div class="block">Returns the active type declaration (class, interface, annotation type, and enum) snippets.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="../../../java.base/java/lang/string" title="class in java.lang">String</a>&gt;</wbr></code></td>
<td><code><a href="#unresolvedDependencies(jdk.jshell.DeclarationSnippet)" class="member-name-link">unresolvedDependencies</a><wbr>(<a href="declarationsnippet" title="class in jdk.jshell">DeclarationSnippet</a> snippet)</wbr></code></td>
<td> <div class="block">For <a href="snippet.status#RECOVERABLE_DEFINED"><code>RECOVERABLE_DEFINED</code></a> or <a href="snippet.status#RECOVERABLE_NOT_DEFINED"><code>RECOVERABLE_NOT_DEFINED</code></a> declarations, the names of current unresolved dependencies for the snippet.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#unsubscribe(jdk.jshell.JShell.Subscription)" class="member-name-link">unsubscribe</a><wbr>(<a href="jshell.subscription" title="class in jdk.jshell">JShell.Subscription</a> token)</wbr></code></td>
<td> <div class="block">Cancel a callback subscription.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/util/stream/stream" title="interface in java.util.stream">Stream</a><wbr>&lt;<a href="varsnippet" title="class in jdk.jshell">VarSnippet</a>&gt;</wbr></code></td>
<td><code><a href="#variables()" class="member-name-link">variables</a>()</code></td>
<td> <div class="block">Returns the active variable snippets.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java.base/java/lang/string" title="class in java.lang">String</a></code></td>
<td><code><a href="#varValue(jdk.jshell.VarSnippet)" class="member-name-link">varValue</a><wbr>(<a href="varsnippet" title="class in jdk.jshell">VarSnippet</a> snippet)</wbr></code></td>
<td> <div class="block">Get the current value of a variable.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="create()"> <h3>create</h3> <pre class="lang-java" data-language="java">public static JShell create() throws IllegalStateException</pre> <div class="block">Create a new JShell state engine. That is, create an instance of <code>JShell</code>. <p> Equivalent to <a href="#builder()"><code>JShell.builder()</code></a><a href="jshell.builder#build()"><code>.build()</code></a>.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>an instance of <code>JShell</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if the <code>JShell</code> instance could not be created.</dd> </dl> </section><section class="detail" id="builder()"> <h3>builder</h3> <pre class="lang-java" data-language="java">public static JShell.Builder builder()</pre> <div class="block">Factory method for <code>JShell.Builder</code> which, in-turn, is used for creating instances of <code>JShell</code>. Create a default instance of <code>JShell</code> with <code>JShell.builder().build()</code>. For more construction options see <a href="jshell.builder" title="class in jdk.jshell"><code>JShell.Builder</code></a>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>an instance of <code>Builder</code>.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="jshell.builder" title="class in jdk.jshell"><code>JShell.Builder</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="sourceCodeAnalysis()"> <h3>sourceCodeAnalysis</h3> <pre class="lang-java" data-language="java">public SourceCodeAnalysis sourceCodeAnalysis()</pre> <div class="block">Access to source code analysis functionality. An instance of <code>JShell</code> will always return the same <code>SourceCodeAnalysis</code> instance from <code>sourceCodeAnalysis()</code>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>an instance of <a href="sourcecodeanalysis" title="class in jdk.jshell"><code>SourceCodeAnalysis</code></a> which can be used for source analysis such as completion detection and completion suggestions.</dd> </dl> </section><section class="detail" id="eval(java.lang.String)"> <h3>eval</h3> <pre class="lang-java" data-language="java">public List&lt;SnippetEvent&gt; eval(String input) throws IllegalStateException</pre> <div class="block">Evaluate the input String, including definition and/or execution, if applicable. The input is checked for errors, unless the errors can be deferred (as is the case with some unresolvedDependencies references), errors will abort evaluation. <p> The input should be exactly one complete snippet of source code, that is, one expression, statement, variable declaration, method declaration, class declaration, or import. To break arbitrary input into individual complete snippets, use <a href="sourcecodeanalysis#analyzeCompletion(java.lang.String)"><code>SourceCodeAnalysis.analyzeCompletion(String)</code></a>. </p>
<p> For imports, the import is added. Classes, interfaces. methods, and variables are defined. The initializer of variables, statements, and expressions are executed. The modifiers public, protected, private, static, and final are not allowed on op-level declarations and are ignored with a warning. Synchronized, native, abstract, and default top-level methods are not allowed and are errors. If a previous definition of a declaration is overwritten then there will be an event showing its status changed to OVERWRITTEN, this will not occur for dropped, rejected, or already overwritten declarations. </p>
<p> If execution environment is out of process, as is the default case, then if the evaluated code causes the execution environment to terminate, this <code>JShell</code> instance will be closed but the calling process and VM remain valid.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>input</code> - The input String to evaluate</dd> <dt>Returns:</dt> <dd>the list of events directly or indirectly caused by this evaluation.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="sourcecodeanalysis#analyzeCompletion(java.lang.String)"><code>SourceCodeAnalysis.analyzeCompletion(String)</code></a></li> <li><a href="#onShutdown(java.util.function.Consumer)"><code>onShutdown(java.util.function.Consumer)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="drop(jdk.jshell.Snippet)"> <h3>drop</h3> <pre class="lang-java" data-language="java">public List&lt;SnippetEvent&gt; drop(Snippet snippet) throws IllegalStateException</pre> <div class="block">Remove a declaration from the state. That is, if the snippet is an <a href="snippet.status#isActive()">active</a> <a href="persistentsnippet" title="class in jdk.jshell">persistent</a> snippet, remove the snippet and update the JShell evaluation state accordingly. For all active snippets, change the <a href="#status(jdk.jshell.Snippet)">status</a> to <a href="snippet.status#DROPPED"><code>DROPPED</code></a>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>snippet</code> - The snippet to remove</dd> <dt>Returns:</dt> <dd>The list of events from updating declarations dependent on the dropped snippet.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the snippet is not associated with this <code>JShell</code> instance.</dd> </dl> </section><section class="detail" id="addToClasspath(java.lang.String)"> <h3>addToClasspath</h3> <pre class="lang-java" data-language="java">public void addToClasspath(String path)</pre> <div class="block">The specified path is added to the end of the classpath used in eval(). Note that the unnamed package is not accessible from the package in which <a href="#eval(java.lang.String)"><code>eval(String)</code></a> code is placed.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>path</code> - the path to add to the classpath.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> </dl> </section><section class="detail" id="stop()"> <h3>stop</h3> <pre class="lang-java" data-language="java">public void stop()</pre> <div class="block">Attempt to stop currently running evaluation. When called while the <a href="#eval(java.lang.String)"><code>eval(java.lang.String)</code></a> method is running and the user's code being executed, an attempt will be made to stop user's code. Note that typically this method needs to be called from a different thread than the one running the <code>eval</code> method. <p> If the <a href="#eval(java.lang.String)"><code>eval(java.lang.String)</code></a> method is not running, does nothing. </p>
<p> The attempt to stop the user's code may fail in some case, which may include when the execution is blocked on an I/O operation, or when the user's code is catching the <a href="../../../java.base/java/lang/threaddeath" title="class in java.lang"><code>ThreadDeath</code></a> exception.</p>
</div> </section><section class="detail" id="close()"> <h3>close</h3> <pre class="lang-java" data-language="java">public void close()</pre> <div class="block">Close this state engine. Frees resources. Should be called when this state engine is no longer needed.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../../../java.base/java/lang/autocloseable#close()">close</a></code> in interface <code><a href="../../../java.base/java/lang/autocloseable" title="interface in java.lang">AutoCloseable</a></code>
</dd> </dl> </section><section class="detail" id="snippets()"> <h3>snippets</h3> <pre class="lang-java" data-language="java">public Stream&lt;Snippet&gt; snippets()</pre> <div class="block">Return all snippets.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the snippets for all current snippets in id order.</dd> </dl> </section><section class="detail" id="variables()"> <h3>variables</h3> <pre class="lang-java" data-language="java">public Stream&lt;VarSnippet&gt; variables()</pre> <div class="block">Returns the active variable snippets. This convenience method is equivalent to <code>snippets()</code> filtered for <a href="snippet.status#isActive()"><code>status(snippet).isActive()</code></a> <code>&amp;&amp; snippet.kind() == Kind.VARIABLE</code> and cast to <code>VarSnippet</code>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the active declared variables.</dd> </dl> </section><section class="detail" id="methods()"> <h3>methods</h3> <pre class="lang-java" data-language="java">public Stream&lt;MethodSnippet&gt; methods()</pre> <div class="block">Returns the active method snippets. This convenience method is equivalent to <code>snippets()</code> filtered for <a href="snippet.status#isActive()"><code>status(snippet).isActive()</code></a> <code>&amp;&amp; snippet.kind() == Kind.METHOD</code> and cast to MethodSnippet.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the active declared methods.</dd> </dl> </section><section class="detail" id="types()"> <h3>types</h3> <pre class="lang-java" data-language="java">public Stream&lt;TypeDeclSnippet&gt; types()</pre> <div class="block">Returns the active type declaration (class, interface, annotation type, and enum) snippets. This convenience method is equivalent to <code>snippets()</code> filtered for <a href="snippet.status#isActive()"><code>status(snippet).isActive()</code></a> <code>&amp;&amp; snippet.kind() == Kind.TYPE_DECL</code> and cast to TypeDeclSnippet.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the active declared type declarations.</dd> </dl> </section><section class="detail" id="imports()"> <h3>imports</h3> <pre class="lang-java" data-language="java">public Stream&lt;ImportSnippet&gt; imports()</pre> <div class="block">Returns the active import snippets. This convenience method is equivalent to <code>snippets()</code> filtered for <a href="snippet.status#isActive()"><code>status(snippet).isActive()</code></a> <code>&amp;&amp; snippet.kind() == Kind.IMPORT</code> and cast to ImportSnippet.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the active declared import declarations.</dd> </dl> </section><section class="detail" id="status(jdk.jshell.Snippet)"> <h3>status</h3> <pre class="lang-java" data-language="java">public Snippet.Status status(Snippet snippet)</pre> <div class="block">Return the status of the snippet. This is updated either because of an explicit <code>eval()</code> call or an automatic update triggered by a dependency.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>snippet</code> - the <code>Snippet</code> to look up</dd> <dt>Returns:</dt> <dd>the status corresponding to this snippet</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the snippet is not associated with this <code>JShell</code> instance.</dd> </dl> </section><section class="detail" id="diagnostics(jdk.jshell.Snippet)"> <h3>diagnostics</h3> <pre class="lang-java" data-language="java">public Stream&lt;Diag&gt; diagnostics(Snippet snippet)</pre> <div class="block">Return the diagnostics of the most recent evaluation of the snippet. The evaluation can either because of an explicit <code>eval()</code> call or an automatic update triggered by a dependency.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>snippet</code> - the <code>Snippet</code> to look up</dd> <dt>Returns:</dt> <dd>the diagnostics corresponding to this snippet. This does not include unresolvedDependencies references reported in <code>unresolvedDependencies()</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the snippet is not associated with this <code>JShell</code> instance.</dd> </dl> </section><section class="detail" id="unresolvedDependencies(jdk.jshell.DeclarationSnippet)"> <h3>unresolvedDependencies</h3> <pre class="lang-java" data-language="java">public Stream&lt;String&gt; unresolvedDependencies(DeclarationSnippet snippet)</pre> <div class="block">For <a href="snippet.status#RECOVERABLE_DEFINED"><code>RECOVERABLE_DEFINED</code></a> or <a href="snippet.status#RECOVERABLE_NOT_DEFINED"><code>RECOVERABLE_NOT_DEFINED</code></a> declarations, the names of current unresolved dependencies for the snippet. The returned value of this method, for a given method may change when an <code>eval()</code> or <code>drop()</code> of another snippet causes an update of a dependency.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>snippet</code> - the declaration <code>Snippet</code> to look up</dd> <dt>Returns:</dt> <dd>a stream of symbol names that are currently unresolvedDependencies.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the snippet is not associated with this <code>JShell</code> instance.</dd> </dl> </section><section class="detail" id="varValue(jdk.jshell.VarSnippet)"> <h3>varValue</h3> <pre class="lang-java" data-language="java">public String varValue(VarSnippet snippet) throws IllegalStateException</pre> <div class="block">Get the current value of a variable.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>snippet</code> - the variable Snippet whose value is queried.</dd> <dt>Returns:</dt> <dd>the current value of the variable referenced by snippet.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the snippet is not associated with this <code>JShell</code> instance.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the variable's status is anything but <a href="snippet.status#VALID"><code>Snippet.Status.VALID</code></a>.</dd> </dl> </section><section class="detail" id="onSnippetEvent(java.util.function.Consumer)"> <h3>onSnippetEvent</h3> <pre class="lang-java" data-language="java">public JShell.Subscription onSnippetEvent(Consumer&lt;SnippetEvent&gt; listener) throws IllegalStateException</pre> <div class="block">Register a callback to be called when the Status of a snippet changes. Each call adds a new subscription.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>listener</code> - Action to perform when the Status changes.</dd> <dt>Returns:</dt> <dd>A token which can be used to <a href="#unsubscribe(jdk.jshell.JShell.Subscription)">unsubscribe</a> this subscription.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this <code>JShell</code> instance is closed.</dd> </dl> </section><section class="detail" id="onShutdown(java.util.function.Consumer)"> <h3>onShutdown</h3> <pre class="lang-java" data-language="java">public JShell.Subscription onShutdown(Consumer&lt;JShell&gt; listener) throws IllegalStateException</pre> <div class="block">Register a callback to be called when this JShell instance terminates. This occurs either because the client process has ended (e.g. called System.exit(0)) or the connection has been shutdown, as by close(). Each call adds a new subscription.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>listener</code> - Action to perform when the state terminates.</dd> <dt>Returns:</dt> <dd>A token which can be used to <a href="#unsubscribe(jdk.jshell.JShell.Subscription)">unsubscribe</a> this subscription.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if this JShell instance is closed</dd> </dl> </section><section class="detail" id="unsubscribe(jdk.jshell.JShell.Subscription)"> <h3>unsubscribe</h3> <pre class="lang-java" data-language="java">public void unsubscribe(JShell.Subscription token)</pre> <div class="block">Cancel a callback subscription.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>token</code> - The token corresponding to the subscription to be unsubscribed.</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jshell/jdk/jshell/JShell.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jshell/jdk/jshell/JShell.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
