
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>EventFactory - OpenJDK 21 - W3cubDocs</title>
  
  <meta name="description" content="It&#39;s highly recommended that the event is defined at compile time, if the field layout is known, so the Java Virtual Machine (JVM) can optimize &hellip;">
  <meta name="keywords" content="class, eventfactory, openjdk, openjdk~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/openjdk~21/jdk.jfr/jdk/jfr/eventfactory.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/openjdk~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/openjdk~21/" class="_nav-link" title="" style="margin-left:0;">OpenJDK 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _openjdk">
				
				
<h1 title="Class EventFactory" class="title">Class EventFactory</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../java.base/java/lang/object" title="class in java.lang">java.lang.Object</a> <div class="inheritance">jdk.jfr.EventFactory</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public final class EventFactory extends Object</pre> <div class="block">Class for defining an event at runtime. <p> It's highly recommended that the event is defined at compile time, if the field layout is known, so the Java Virtual Machine (JVM) can optimize the code, possibly remove all instrumentation if Flight Recorder is inactive or if the enabled setting for this event is set to <code>false</code>. </p>
<p> To define an event at compile time, see <a href="event" title="class in jdk.jfr"><code>Event</code></a>. </p>
<p> The following example shows how to implement a dynamic <code>Event</code> class. </p>
<div class="snippet-container">
<button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KCjwhLS0KIENvcHlyaWdodCAoYykgMjAyMSwgT3JhY2xlIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIERPIE5PVCBBTFRFUiBPUiBSRU1PVkUgQ09QWVJJR0hUIE5PVElDRVMgT1IgVEhJUyBGSUxFIEhFQURFUi4KCiBUaGlzIGNvZGUgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdAogdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDIgb25seSwgYXMKIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLiAgT3JhY2xlIGRlc2lnbmF0ZXMgdGhpcwogcGFydGljdWxhciBmaWxlIGFzIHN1YmplY3QgdG8gdGhlICJDbGFzc3BhdGgiIGV4Y2VwdGlvbiBhcyBwcm92aWRlZAogYnkgT3JhY2xlIGluIHRoZSBMSUNFTlNFIGZpbGUgdGhhdCBhY2NvbXBhbmllZCB0aGlzIGNvZGUuCgogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUCiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IKIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogdmVyc2lvbiAyIGZvciBtb3JlIGRldGFpbHMgKGEgY29weSBpcyBpbmNsdWRlZCBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXQKIGFjY29tcGFuaWVkIHRoaXMgY29kZSkuCgogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbgogMiBhbG9uZyB3aXRoIHRoaXMgd29yazsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLAogSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBLgoKIFBsZWFzZSBjb250YWN0IE9yYWNsZSwgNTAwIE9yYWNsZSBQYXJrd2F5LCBSZWR3b29kIFNob3JlcywgQ0EgOTQwNjUgVVNBCiBvciB2aXNpdCB3d3cub3JhY2xlLmNvbSBpZiB5b3UgbmVlZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9yIGhhdmUgYW55CiBxdWVzdGlvbnMuCi0tPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4MCA0NjAiIGZpbGw9IiM1MDUwNTAiPgogIDxwYXRoCiAgICAgZD0iTSAzNDYsOCBIIDEwOCBDIDkwLDggNzUsMjMgNzUsNDEgdiAzMTYgYyAwLDE4IDE1LDMzIDMzLDMzIGggMjM4IGMgMTgsMCAzMywtMTUgMzMsLTMzIFYgNDEgQyAzNzksMjMgMzY0LDggMzQ2LDggWiBtIC04LDM0NCBIIDExNiBjIC0yLDAgLTMsLTEgLTMsLTMgViA0OSBjIDAsLTIgMSwtMyAzLC0zIGggMjIyIGMgMiwwIDMsMSAzLDMgdiAzMDAgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgeiIvPgogIDxwYXRoCiAgICAgZD0ibSAyOTAsMzg5IHYgMjYgaCAxMGUtNCBjIDAsMiAtMSwzIC0zLDMgSCA0OSBjIC0yLDAgLTMsLTEgLTMsLTMgViA5OSBjIDAsLTIgMSwtMyAzLC0zIGggMjcgdiAwIGwgLTVlLTQsLTM4IEggNDEgQyAyMyw1OCA4LDczIDgsOTEgdiAzMzIgYyAxMGUtNCwxOCAxNSwzMyAzMywzMyBoIDI1NCBjIDE4LDAgMzMsLTE1IDMzLC0zMyB2IC0zNCIvPgo8L3N2Zz4K" alt="Copy snippet"></button> <pre class="lang-java" data-language="java"><code class="language-java">List&lt;ValueDescriptor&gt; fields = new ArrayList&lt;&gt;();
List&lt;AnnotationElement&gt; messageAnnotations = Collections.singletonList(new AnnotationElement(Label.class, "Message"));
fields.add(new ValueDescriptor(String.class, "message", messageAnnotations));
List&lt;AnnotationElement&gt; numberAnnotations = Collections.singletonList(new AnnotationElement(Label.class, "Number"));
fields.add(new ValueDescriptor(int.class, "number", numberAnnotations));

String[] category = { "Example", "Getting Started" };
List&lt;AnnotationElement&gt; eventAnnotations = new ArrayList&lt;&gt;();
eventAnnotations.add(new AnnotationElement(Name.class, "com.example.HelloWorld"));
eventAnnotations.add(new AnnotationElement(Label.class, "Hello World"));
eventAnnotations.add(new AnnotationElement(Description.class, "Helps programmer getting started"));
eventAnnotations.add(new AnnotationElement(Category.class, category));

EventFactory f = EventFactory.create(eventAnnotations, fields);

Event event = f.newEvent();
event.set(0, "hello, world!");
event.set(1, 4711);
event.commit();
</code></pre> </div> </div> <dl class="notes"> <dt>Since:</dt> <dd>9</dd> </dl> </section> <section class="summary"> <section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                   <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>static <a href="eventfactory" title="class in jdk.jfr">EventFactory</a></code></td>
<td><code><a href="#create(java.util.List,java.util.List)" class="member-name-link">create</a><wbr>(<a href="../../../java.base/java/util/list" title="interface in java.util">List</a>&lt;<a href="annotationelement" title="class in jdk.jfr">AnnotationElement</a>&gt; annotationElements,
 <a href="../../../java.base/java/util/list" title="interface in java.util">List</a>&lt;<a href="valuedescriptor" title="class in jdk.jfr">ValueDescriptor</a>&gt; fields)</wbr></code></td>
<td> <div class="block">Creates an <code>EventFactory</code> object.</div> </td>
</tr>
<tr>
<td><code><a href="eventtype" title="class in jdk.jfr">EventType</a></code></td>
<td><code><a href="#getEventType()" class="member-name-link">getEventType</a>()</code></td>
<td> <div class="block">Returns the event type that is associated with this event factory.</div> </td>
</tr>
<tr>
<td><code><a href="event" title="class in jdk.jfr">Event</a></code></td>
<td><code><a href="#newEvent()" class="member-name-link">newEvent</a>()</code></td>
<td> <div class="block">Instantiates an event, so it can be populated with data and written to the Flight Recorder system.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#register()" class="member-name-link">register</a>()</code></td>
<td> <div class="block">Registers an unregistered event.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#unregister()" class="member-name-link">unregister</a>()</code></td>
<td> <div class="block">Unregisters the event that is associated with this event factory.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object" title="class in java.lang">Object</a>
</h3> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="create(java.util.List,java.util.List)"> <h3>create</h3> <pre class="lang-java" data-language="java">public static EventFactory create(List&lt;AnnotationElement&gt; annotationElements, List&lt;ValueDescriptor&gt; fields)</pre> <div class="block">Creates an <code>EventFactory</code> object. <p> The order of the value descriptors specifies the index to use when setting event values.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>annotationElements</code> - list of annotation elements that describes the annotations on the event, not <code>null</code>
</dd> <dd>
<code>fields</code> - list of descriptors that describes the fields of the event, not <code>null</code>
</dd> <dt>Returns:</dt> <dd>event factory, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception" title="class in java.lang">IllegalArgumentException</a></code> - if the input is not valid. For example, input might not be valid if the field type or name is not valid in the Java language or an annotation element references a type that can't be found.</dd> <dd>
<code><a href="../../../java.base/java/lang/securityexception" title="class in java.lang">SecurityException</a></code> - if a security manager exists and the caller does not have <code>FlightRecorderPermission("registerEvent")</code>
</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="event#set(int,java.lang.Object)"><code>Event.set(int, Object)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="newEvent()"> <h3>newEvent</h3> <pre class="lang-java" data-language="java">public Event newEvent()</pre> <div class="block">Instantiates an event, so it can be populated with data and written to the Flight Recorder system. <p> Use the <a href="event#set(int,java.lang.Object)"><code>Event.set(int, Object)</code></a> method to set a value.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>an event instance, not <code>null</code>
</dd> </dl> </section><section class="detail" id="getEventType()"> <h3>getEventType</h3> <pre class="lang-java" data-language="java">public EventType getEventType()</pre> <div class="block">Returns the event type that is associated with this event factory.</div> <dl class="notes"> <dt>Returns:</dt> <dd>event type that is associated with this event factory, not <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception" title="class in java.lang">IllegalStateException</a></code> - if the event factory is created with the <code>Registered(false)</code> annotation and the event class is not manually registered before the invocation of this method</dd> </dl> </section><section class="detail" id="register()"> <h3>register</h3> <pre class="lang-java" data-language="java">public void register()</pre> <div class="block">Registers an unregistered event. <p> By default, the event class associated with this event factory is registered when the event factory is created, unless the event has the <a href="registered" title="annotation interface in jdk.jfr"><code>Registered</code></a> annotation. </p>
<p> A registered event class can write data to Flight Recorder and event metadata can be obtained by invoking <a href="flightrecorder#getEventTypes()"><code>FlightRecorder.getEventTypes()</code></a>. </p>
<p> If the event class associated with this event factory is already registered, the call to this method is ignored.</p>
</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/securityexception" title="class in java.lang">SecurityException</a></code> - if a security manager exists and the caller does not have <code>FlightRecorderPermission("registerEvent")</code>
</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="registered" title="annotation interface in jdk.jfr"><code>Registered</code></a></li> <li><a href="flightrecorder#register(java.lang.Class)"><code>FlightRecorder.register(Class)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="unregister()"> <h3>unregister</h3> <pre class="lang-java" data-language="java">public void unregister()</pre> <div class="block">Unregisters the event that is associated with this event factory. <p> A unregistered event class can't write data to Flight Recorder and event metadata can't be obtained by invoking <a href="flightrecorder#getEventTypes()"><code>FlightRecorder.getEventTypes()</code></a>. </p>
<p> If the event class associated with this event factory is not already registered, the call to this method is ignored.</p>
</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/securityexception" title="class in java.lang">SecurityException</a></code> - if a security manager exists and the caller does not have <code>FlightRecorderPermission("registerEvent")</code>
</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="registered" title="annotation interface in jdk.jfr"><code>Registered</code></a></li> <li><a href="flightrecorder#unregister(java.lang.Class)"><code>FlightRecorder.unregister(Class)</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/EventFactory.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/EventFactory.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
