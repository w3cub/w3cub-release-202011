
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Top Level Namespace - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" An IO for reading files from ARGV. ">
  <meta name="keywords" content="top, level, namespace, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/crystal/api/0.35.1/toplevel.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _crystal">
				
				
<h1 class="type-name"> Top Level Namespace </h1> <h2>  Included Modules </h2> <ul class="other-types-list"> <li class="other-type"><a href="spec/expectations">Spec::Expectations</a></li> <li class="other-type"><a href="spec/methods">Spec::Methods</a></li> </ul> <h2>  Extended Modules </h2> <ul class="other-types-list"> <li class="other-type"><a href="spec/expectations">Spec::Expectations</a></li> <li class="other-type"><a href="spec/methods">Spec::Methods</a></li> </ul> <h2>  Defined in: </h2> <h2>  Constant Summary </h2> <dl> <dt class="entry-const" id="ARGF"> <strong>ARGF</strong> = <code>IO::ARGF.new(ARGV, STDIN)</code> </dt> <dd class="entry-const-doc"> <p>An <code><a href="io">IO</a></code> for reading files from <code><a href="toplevel#ARGV">ARGV</a></code>.</p> <p>Usage example:</p> <p><code>program.cr</code>:</p> <pre data-language="crystal">puts ARGF.gets_to_end</pre> <p>A file to read from: (<code>file</code>)</p> <pre data-language="crystal">123</pre> <pre data-language="crystal">$ crystal build program.cr
$ ./program file
123
$ ./program file file
123123
$ # If ARGV is empty, ARGF reads from STDIN instead:
$ echo "hello" | ./program
hello
$ ./program unknown
Unhandled exception: Error opening file with mode 'r': 'unknown': No such file or directory (File::NotFoundError)
...</pre> <p>After a file from <code><a href="toplevel#ARGV">ARGV</a></code> has been read, it's removed from <code><a href="toplevel#ARGV">ARGV</a></code>.</p> <p>You can manipulate <code><a href="toplevel#ARGV">ARGV</a></code> yourself to control what <code><a href="toplevel#ARGF">ARGF</a></code> operates on. If you remove a file from <code><a href="toplevel#ARGV">ARGV</a></code>, it is ignored by <code><a href="toplevel#ARGF">ARGF</a></code>; if you add files to <code><a href="toplevel#ARGV">ARGV</a></code>, <code><a href="toplevel#ARGF">ARGF</a></code> will read from it.</p> <pre data-language="crystal">ARGV.replace ["file1"]
ARGF.gets_to_end # =&gt; Content of file1
ARGV             # =&gt; []
ARGV &lt;&lt; "file2"
ARGF.gets_to_end # =&gt; Content of file2</pre> </dd> <dt class="entry-const" id="ARGV"> <strong>ARGV</strong> = <code>Array.new(ARGC_UNSAFE - 1) do |i|
  String.new(ARGV_UNSAFE[1 + i])
end</code> </dt> <dd class="entry-const-doc"> <p>An array of arguments passed to the program.</p> </dd> <dt class="entry-const" id="PROGRAM_NAME"> <strong>PROGRAM_NAME</strong> = <code>String.new(ARGV_UNSAFE.value)</code> </dt> <dd class="entry-const-doc"> <p>The name, the program was called with.</p> </dd> <dt class="entry-const" id="STDERR"> <strong>STDERR</strong> = <code>IO::FileDescriptor.from_stdio(2)</code> </dt> <dd class="entry-const-doc"> <p>The standard error file descriptor.</p> <p>Typically used to output error messages and diagnostics.</p> <p>At the start of the program STDERR is configured like this:</p> <ul>
<li>if it's a TTY device (like the console) then <code>sync</code> is <code>true</code>, meaning that output will be outputted as soon as it is written to STDERR. This is so users can see real time output data.</li>
<li>if it's not a TTY device (like a file, or because the output was piped to a file) then <code>sync</code> is <code>false</code> but <code>flush_on_newline</code> is <code>true</code>. This is so that if you pipe the output to a file, and, for example, you <code>tail -f</code>, you can see data on a line-per-line basis. This is convenient but slower than with <code>flush_on_newline</code> set to <code>false</code>. If you need a bit more performance and you don't care about near real-time output you can do <code>STDERR.flush_on_newline = false</code>.</li>
</ul> </dd> <dt class="entry-const" id="STDIN"> <strong>STDIN</strong> = <code>IO::FileDescriptor.from_stdio(0)</code> </dt> <dd class="entry-const-doc"> <p>The standard input file descriptor. Contains data piped to the program.</p> </dd> <dt class="entry-const" id="STDOUT"> <strong>STDOUT</strong> = <code>IO::FileDescriptor.from_stdio(1)</code> </dt> <dd class="entry-const-doc"> <p>The standard output file descriptor.</p> <p>Typically used to output data and information.</p> <p>At the start of the program STDOUT is configured like this:</p> <ul>
<li>if it's a TTY device (like the console) then <code>sync</code> is <code>true</code>, meaning that output will be outputted as soon as it is written to STDOUT. This is so users can see real time output data.</li>
<li>if it's not a TTY device (like a file, or because the output was piped to a file) then <code>sync</code> is <code>false</code> but <code>flush_on_newline</code> is <code>true</code>. This is so that if you pipe the output to a file, and, for example, you <code>tail -f</code>, you can see data on a line-per-line basis. This is convenient but slower than with <code>flush_on_newline</code> set to <code>false</code>. If you need a bit more performance and you don't care about near real-time output you can do <code>STDOUT.flush_on_newline = false</code>.</li>
</ul> </dd> </dl> <h2>  Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#%60(command):String-class-method" class="signature"><strong>`</strong>(command) : String</a> <div class="summary"><p>Returns the standard output of executing <em>command</em> in a subshell.</p></div> </li> <li class="entry-summary"> <a href="#abort(message=nil,status=1):NoReturn-class-method" class="signature"><strong>abort</strong>(message = nil, status = 1) : NoReturn</a> <div class="summary"><p>Terminates execution immediately, printing <em>message</em> to <code><a href="toplevel#STDERR">STDERR</a></code> and then calling <code><a href="toplevel#exit(status=0):NoReturn-class-method">exit(status)</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#at_exit(&amp;handler:Int32,Exception?-%3E):Nil-class-method" class="signature"><strong>at_exit</strong>(&amp;handler : Int32, Exception? -&gt; ) : Nil</a> <div class="summary"><p>Registers the given <code><a href="proc">Proc</a></code> for execution when the program exits.</p></div> </li> <li class="entry-summary"> <a href="#caller:Array(String)-class-method" class="signature"><strong>caller</strong> : Array(String)</a> <div class="summary"><p>Returns the current execution stack as an array containing strings usually in the form file:line:column or file:line:column in 'method'.</p></div> </li> <li class="entry-summary"> <a href="#exit(status=0):NoReturn-class-method" class="signature"><strong>exit</strong>(status = 0) : NoReturn</a> <div class="summary"><p>Terminates execution immediately, returning the given status code to the invoking environment.</p></div> </li> <li class="entry-summary"> <a href="#gets(*args,**options)-class-method" class="signature"><strong>gets</strong>(*args, **options)</a> <div class="summary"><p>Reads a line from <code><a href="toplevel#STDIN">STDIN</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#instance_sizeof(type:Class):Int32-class-method" class="signature"><strong>instance_sizeof</strong>(type : Class) : Int32</a> <div class="summary"><p>Returns the instance size of the given class as number of bytes.</p></div> </li> <li class="entry-summary"> <a href="#loop(&amp;)-class-method" class="signature"><strong>loop</strong>(&amp;)</a> <div class="summary"><p>Repeatedly executes the block.</p></div> </li> <li class="entry-summary"> <a href="#main(argc:Int32,argv:Pointer(Pointer(UInt8)))-class-method" class="signature"><strong>main</strong>(argc : Int32, argv : Pointer(Pointer(UInt8)))</a> <div class="summary"><p>Main function that acts as C's main function.</p></div> </li> <li class="entry-summary"> <a href="#offsetof(type:Class,variable):Int32-class-method" class="signature"><strong>offsetof</strong>(type : Class, variable) : Int32</a> <div class="summary"><p>Returns the byte offset of an instance variable in a struct or class type.</p></div> </li> <li class="entry-summary"> <a href="#p(object)-class-method" class="signature"><strong>p</strong>(object)</a> <div class="summary"><p>Inspects <em>object</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code> followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#p(**objects)-class-method" class="signature"><strong>p</strong>(**objects)</a> <div class="summary"><p>Inspects <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#p(*objects)-class-method" class="signature"><strong>p</strong>(*objects)</a> <div class="summary"><p>Inspects each object in <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#pointerof(variable:T):Pointer(T)forallT-class-method" class="signature"><strong>pointerof</strong>(variable : T) : Pointer(T) forall T</a> <div class="summary"><p>Returns a <code><a href="pointer">Pointer</a></code> to the contents of a variable.</p></div> </li> <li class="entry-summary"> <a href="#pp(**objects)-class-method" class="signature"><strong>pp</strong>(**objects)</a> <div class="summary"><p>Pretty prints <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#pp(*objects)-class-method" class="signature"><strong>pp</strong>(*objects)</a> <div class="summary"><p>Pretty prints each object in <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#pp(object)-class-method" class="signature"><strong>pp</strong>(object)</a> <div class="summary"><p>Pretty prints <em>object</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code> followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#print(*objects:_):Nil-class-method" class="signature"><strong>print</strong>(*objects : _) : Nil</a> <div class="summary"><p>Prints objects to <code><a href="toplevel#STDOUT">STDOUT</a></code> and then invokes <code>STDOUT.flush</code>.</p></div> </li> <li class="entry-summary"> <a href="#printf(format_string,args:Array%7CTuple):Nil-class-method" class="signature"><strong>printf</strong>(format_string, args : Array | Tuple) : Nil</a> <div class="summary"><p>Prints a formatted string to <code><a href="toplevel#STDOUT">STDOUT</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#printf(format_string,*args):Nil-class-method" class="signature"><strong>printf</strong>(format_string, *args) : Nil</a> <div class="summary"><p>Prints a formatted string to <code><a href="toplevel#STDOUT">STDOUT</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#puts(*objects):Nil-class-method" class="signature"><strong>puts</strong>(*objects) : Nil</a> <div class="summary"><p>Prints objects to <code><a href="toplevel#STDOUT">STDOUT</a></code>, each followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#raise(message:String):NoReturn-class-method" class="signature"><strong>raise</strong>(message : String) : NoReturn</a> <div class="summary"><p>Raises an Exception with the <em>message</em>.</p></div> </li> <li class="entry-summary"> <a href="#raise(exception:Exception):NoReturn-class-method" class="signature"><strong>raise</strong>(exception : Exception) : NoReturn</a> <div class="summary"><p>Raises the <em>exception</em>.</p></div> </li> <li class="entry-summary"> <a href="#rand-class-method" class="signature"><strong>rand</strong></a> <div class="summary"><p>See <code>Random#rand</code>.</p></div> </li> <li class="entry-summary"> <a href="#rand(x)-class-method" class="signature"><strong>rand</strong>(x)</a> <div class="summary"><p>See <code>Random#rand(x)</code>.</p></div> </li> <li class="entry-summary"> <a href="#read_line(*args,**options)-class-method" class="signature"><strong>read_line</strong>(*args, **options)</a> <div class="summary"><p>Reads a line from <code><a href="toplevel#STDIN">STDIN</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#sizeof(type:Class):Int32-class-method" class="signature"><strong>sizeof</strong>(type : Class) : Int32</a> <div class="summary"><p>Returns the size of the given type as number of bytes.</p></div> </li> <li class="entry-summary"> <a href="#sleep(seconds:Number)-class-method" class="signature"><strong>sleep</strong>(seconds : Number)</a> <div class="summary"><p>Blocks the current fiber for the specified number of seconds.</p></div> </li> <li class="entry-summary"> <a href="#sleep-class-method" class="signature"><strong>sleep</strong></a> <div class="summary"><p>Blocks the current fiber forever.</p></div> </li> <li class="entry-summary"> <a href="#sleep(time:Time::Span)-class-method" class="signature"><strong>sleep</strong>(time : Time::Span)</a> <div class="summary"><p>Blocks the current Fiber for the specified time span.</p></div> </li> <li class="entry-summary"> <a href="#spawn(*,name:String?=nil,same_thread=false,&amp;block)-class-method" class="signature"><strong>spawn</strong>(*, name : String? = nil, same_thread = false, &amp;block)</a> <div class="summary"><p>Spawns a new fiber.</p></div> </li> <li class="entry-summary"> <a href="#sprintf(format_string,args:Array%7CTuple):String-class-method" class="signature"><strong>sprintf</strong>(format_string, args : Array | Tuple) : String</a> <div class="summary"><p>Returns a formatted string.</p></div> </li> <li class="entry-summary"> <a href="#sprintf(format_string,*args):String-class-method" class="signature"><strong>sprintf</strong>(format_string, *args) : String</a> <div class="summary"><p>Returns a formatted string.</p></div> </li> <li class="entry-summary"> <a href="#system(command:String,args=nil):Bool-class-method" class="signature"><strong>system</strong>(command : String, args = nil) : Bool</a> <div class="summary"><p>Executes the given command in a subshell.</p></div> </li> <li class="entry-summary"> <a href="#timeout_select_action(timeout:Time::Span)-class-method" class="signature"><strong>timeout_select_action</strong>(timeout : Time::Span)</a> <div class="summary"><p>Timeout keyword for use in <code>select</code>.</p></div> </li> <li class="entry-summary"> <a href="#typeof(*expression):Class-class-method" class="signature"><strong>typeof</strong>(*expression) : Class</a> <div class="summary"><p>Returns the type of an expression.</p></div> </li> <li class="entry-summary"> <a href="#with_color(color:Symbol)-class-method" class="signature"><strong>with_color</strong>(color : Symbol)</a> <div class="summary">
<p>DEPRECATED Use <code>Colorize.with.fore(color)</code></p> </div> </li> <li class="entry-summary"> <a href="#with_color-class-method" class="signature"><strong>with_color</strong></a> <div class="summary">
<p>DEPRECATED Use <code>Colorize.with</code></p> </div> </li> </ul> <h2>  Macro Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#debugger-macro" class="signature"><strong>debugger</strong></a> </li> <li class="entry-summary"> <a href="#p!(*exps)-macro" class="signature"><strong>p!</strong>(*exps)</a> <div class="summary"><p>Prints a series of expressions together with their inspected values.</p></div> </li> <li class="entry-summary"> <a href="#pp!(*exps)-macro" class="signature"><strong>pp!</strong>(*exps)</a> <div class="summary"><p>Prints a series of expressions together with their pretty printed values.</p></div> </li> <li class="entry-summary"> <a href="#record(name,*properties)-macro" class="signature"><strong>record</strong>(name, *properties)</a> <div class="summary"><p>Defines a <strong><code><a href="struct">Struct</a></code></strong> with the given name and properties.</p></div> </li> <li class="entry-summary"> <a href="#spawn(call,*,name=nil,same_thread=false,&amp;block)-macro" class="signature"><strong>spawn</strong>(call, *, name = nil, same_thread = false, &amp;block)</a> <div class="summary"><p>Spawns a fiber by first creating a <code><a href="proc">Proc</a></code>, passing the <em>call</em>'s expressions to it, and letting the <code><a href="proc">Proc</a></code> finally invoke the <em>call</em>.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from module <code><a href="spec/methods">Spec::Methods</a></code>
</h3> <a href="spec/methods#after_all(&amp;block)-instance-method" class="tooltip"> after_all(&amp;block) after_all</a>, <a href="spec/methods#after_each(&amp;block)-instance-method" class="tooltip"> after_each(&amp;block) after_each</a>, <a href="spec/methods#around_all(&amp;block:ExampleGroup::Procsy-%3E)-instance-method" class="tooltip"> around_all(&amp;block : ExampleGroup::Procsy -&gt; ) around_all</a>, <a href="spec/methods#around_each(&amp;block:Example::Procsy-%3E)-instance-method" class="tooltip"> around_each(&amp;block : Example::Procsy -&gt; ) around_each</a>, <a href="spec/methods#before_all(&amp;block)-instance-method" class="tooltip"> before_all(&amp;block) before_all</a>, <a href="spec/methods#before_each(&amp;block)-instance-method" class="tooltip"> before_each(&amp;block) before_each</a>, <a href="spec/methods#context(description,file=__FILE__,line=__LINE__,end_line=__END_LINE__,focus:Bool=false,tags:String%7CEnumerable(String)%7CNil=nil,&amp;block)-instance-method" class="tooltip"> context(description, file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;block) context</a>, <a href="spec/methods#describe(description,file=__FILE__,line=__LINE__,end_line=__END_LINE__,focus:Bool=false,tags:String%7CEnumerable(String)%7CNil=nil,&amp;block)-instance-method" class="tooltip"> describe(description, file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;block) describe</a>, <a href="spec/methods#fail(msg,file=__FILE__,line=__LINE__)-instance-method" class="tooltip"> fail(msg, file = __FILE__, line = __LINE__) fail</a>, <a href="#" class="tooltip"> it(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;block) it</a>, <a href="#" class="tooltip"> pending(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;)<br>pending(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil) pending</a> <h3>Instance methods inherited from module <code><a href="spec/expectations">Spec::Expectations</a></code>
</h3> <a href="spec/expectations#be(value)-instance-method" class="tooltip"> be(value)<br>be be</a>, <a href="spec/expectations#be_close(expected,delta)-instance-method" class="tooltip"> be_close(expected, delta) be_close</a>, <a href="spec/expectations#be_empty-instance-method" class="tooltip"> be_empty be_empty</a>, <a href="spec/expectations#be_false-instance-method" class="tooltip"> be_false be_false</a>, <a href="spec/expectations#be_falsey-instance-method" class="tooltip"> be_falsey be_falsey</a>, <a href="spec/expectations#be_nil-instance-method" class="tooltip"> be_nil be_nil</a>, <a href="spec/expectations#be_true-instance-method" class="tooltip"> be_true be_true</a>, <a href="spec/expectations#be_truthy-instance-method" class="tooltip"> be_truthy be_truthy</a>, <a href="spec/expectations#contain(expected)-instance-method" class="tooltip"> contain(expected) contain</a>, <a href="spec/expectations#end_with(expected)-instance-method" class="tooltip"> end_with(expected) end_with</a>, <a href="spec/expectations#eq(value)-instance-method" class="tooltip"> eq(value) eq</a>, <a href="spec/expectations#expect_raises(klass:T.class,message:String%7CRegex%7CNil=nil,file=__FILE__,line=__LINE__,&amp;)forallT-instance-method" class="tooltip"> expect_raises(klass : T.class, message : String | Regex | Nil = nil, file = __FILE__, line = __LINE__, &amp;) forall T expect_raises</a>, <a href="spec/expectations#match(value)-instance-method" class="tooltip"> match(value) match</a>, <a href="spec/expectations#start_with(expected)-instance-method" class="tooltip"> start_with(expected) start_with</a> </div> <h2>  Method Detail </h2> <div class="entry-detail" id="`(command):String-class-method"> <h3 class="signature">def <strong>`</strong>(command) : <a href="string">String</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/process.cr#L438" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the standard output of executing <em>command</em> in a subshell. Standard input, and error are inherited. The special <code>$?</code> variable is set to a <code><a href="process/status">Process::Status</a></code> associated with this execution.</p> <p>Example:</p> <pre data-language="crystal">`echo hi` # =&gt; "hi\n"</pre> </div>   </div> <div class="entry-detail" id="abort(message=nil,status=1):NoReturn-class-method"> <h3 class="signature">def <strong>abort</strong>(message = nil, status = 1) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L491" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Terminates execution immediately, printing <em>message</em> to <code><a href="toplevel#STDERR">STDERR</a></code> and then calling <code><a href="toplevel#exit(status=0):NoReturn-class-method">exit(status)</a></code>.</p> </div>   </div> <div class="entry-detail" id="at_exit(&amp;handler:Int32,Exception?-&gt;):Nil-class-method"> <h3 class="signature">def <strong>at_exit</strong>(&amp;handler : <a href="int32">Int32</a>, <a href="exception">Exception</a>? -&gt; ) : <a href="nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L474" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Registers the given <code><a href="proc">Proc</a></code> for execution when the program exits. If multiple handlers are registered, they are executed in reverse order of registration.</p> <pre data-language="crystal">def do_at_exit(str1)
  at_exit { print str1 }
end

at_exit { puts "cruel world" }
do_at_exit("goodbye ")
exit</pre> <p>Produces:</p> <pre data-language="crystal">goodbye cruel world</pre> <p>The exit status code that will be returned by this program is passed to the block as its first argument. In case of any unhandled exception, it is passed as the second argument to the block, if the program terminates normally or <code><a href="toplevel#exit(status=0):NoReturn-class-method">exit(status)</a></code> is called explicitly, then the second argument will be <code>nil</code>.</p> <p>NOTE If <code><a href="toplevel#at_exit(&amp;handler:Int32,Exception?-%3E):Nil-class-method">at_exit</a></code> is called inside an <code><a href="toplevel#at_exit(&amp;handler:Int32,Exception?-%3E):Nil-class-method">at_exit</a></code> handler, it will be called right after the current <code><a href="toplevel#at_exit(&amp;handler:Int32,Exception?-%3E):Nil-class-method">at_exit</a></code> handler ends, and then other handlers will be invoked.</p> </div>   </div> <div class="entry-detail" id="caller:Array(String)-class-method"> <h3 class="signature">def <strong>caller</strong> : <a href="array">Array</a>(<a href="string">String</a>)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/exception/call_stack.cr#L16" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the current execution stack as an array containing strings usually in the form file:line:column or file:line:column in 'method'.</p> </div>   </div> <div class="entry-detail" id="exit(status=0):NoReturn-class-method"> <h3 class="signature">def <strong>exit</strong>(status = 0) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L482" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Terminates execution immediately, returning the given status code to the invoking environment.</p> <p>Registered <code><a href="toplevel#at_exit(&amp;handler:Int32,Exception?-%3E):Nil-class-method">at_exit</a></code> procs are executed.</p> </div>   </div> <div class="entry-detail" id="gets(*args,**options)-class-method"> <h3 class="signature">def <strong>gets</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L110" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a line from <code><a href="toplevel#STDIN">STDIN</a></code>.</p> <p>See also: <code>IO#gets</code>.</p> </div>   </div> <div class="entry-detail" id="instance_sizeof(type:Class):Int32-class-method"> <h3 class="signature">def <strong>instance_sizeof</strong>(type : <a href="class">Class</a>) : <a href="int32">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/docs_pseudo_methods.cr#L61" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the instance size of the given class as number of bytes.</p> <p><em>type</em> must be a constant or <code>typeof()</code> expresion. It cannot be evaluated at runtime.</p> <pre data-language="crystal">instance_sizeof(String)    # =&gt; 16
instance_sizeof(Exception) # =&gt; 48</pre> <p>See <code><a href="toplevel#sizeof(type:Class):Int32-class-method">sizeof</a></code> for determining the size of value types.</p> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="loop(&amp;)-class-method"> <h3 class="signature">def <strong>loop</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L101" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Repeatedly executes the block.</p> <pre data-language="crystal">loop do
  line = gets
  break unless line
  # ...
end</pre> </div>   </div> <div class="entry-detail" id="main(argc:Int32,argv:Pointer(Pointer(UInt8)))-class-method"> <h3 class="signature">def <strong>main</strong>(argc : <a href="int32">Int32</a>, argv : <a href="pointer">Pointer</a>(<a href="pointer">Pointer</a>(<a href="uint8">UInt8</a>)))<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crystal/main.cr#L113" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Main function that acts as C's main function. Invokes <code>Crystal.main</code>.</p> <p>Can be redefined. See <code>Crystal.main</code> for examples.</p> </div>   </div> <div class="entry-detail" id="offsetof(type:Class,variable):Int32-class-method"> <h3 class="signature">def <strong>offsetof</strong>(type : <a href="class">Class</a>, variable) : <a href="int32">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/docs_pseudo_methods.cr#L88" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the byte offset of an instance variable in a struct or class type.</p> <p><em>type</em> must be a constant or <code>typeof()</code> expression. It cannot be evaluated at runtime. <em>variable</em> must be the name of an instance variable of <em>type</em>, prefixed by <code>@</code>.</p> <pre data-language="crystal">offsetof(String, @bytesize)   # =&gt; 4
offsetof(Exception, @message) # =&gt; 8
offsetof(Time, @location)     # =&gt; 16</pre> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="p(object)-class-method"> <h3 class="signature">def <strong>p</strong>(object)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L384" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Inspects <em>object</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code> followed by a newline. Returns <em>object</em>.</p> <p>See also: <code>Object#inspect(io)</code>.</p> </div>   </div> <div class="entry-detail" id="p(**objects)-class-method"> <h3 class="signature">def <strong>p</strong>(**objects)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L409" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Inspects <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <pre data-language="crystal">p foo: 23, bar: 42 # =&gt; {foo: 23, bar: 42}</pre> <p>See <code>Object#inspect(io)</code></p> </div>   </div> <div class="entry-detail" id="p(*objects)-class-method"> <h3 class="signature">def <strong>p</strong>(*objects)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L394" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Inspects each object in <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <p>See also: <code>Object#inspect(io)</code>.</p> </div>   </div> <div class="entry-detail" id="pointerof(variable:T):Pointer(T)forallT-class-method"> <h3 class="signature">def <strong>pointerof</strong>(variable : T) : <a href="pointer">Pointer</a>(T) forall T<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/docs_pseudo_methods.cr#L75" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a <code><a href="pointer">Pointer</a></code> to the contents of a variable.</p> <p><em>variable</em> must be a variable (local, instance, class or library).</p> <pre data-language="crystal">a = 1
ptr = pointerof(a)
ptr.value = 2

a # =&gt; 2</pre> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="pp(**objects)-class-method"> <h3 class="signature">def <strong>pp</strong>(**objects)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L442" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Pretty prints <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <pre data-language="crystal">p foo: 23, bar: 42 # =&gt; {foo: 23, bar: 42}</pre> <p>See <code>Object#pretty_print(pp)</code></p> </div>   </div> <div class="entry-detail" id="pp(*objects)-class-method"> <h3 class="signature">def <strong>pp</strong>(*objects)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L427" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Pretty prints each object in <em>objects</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <p>See also: <code>Object#pretty_print(pp)</code>.</p> </div>   </div> <div class="entry-detail" id="pp(object)-class-method"> <h3 class="signature">def <strong>pp</strong>(object)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L417" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Pretty prints <em>object</em> to <code><a href="toplevel#STDOUT">STDOUT</a></code> followed by a newline. Returns <em>object</em>.</p> <p>See also: <code>Object#pretty_print(pp)</code>.</p> </div>   </div> <div class="entry-detail" id="print(*objects:_):Nil-class-method"> <h3 class="signature">def <strong>print</strong>(*objects : _) : <a href="nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L124" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints objects to <code><a href="toplevel#STDOUT">STDOUT</a></code> and then invokes <code>STDOUT.flush</code>.</p> <p>See also: <code>IO#print</code>.</p> </div>   </div> <div class="entry-detail" id="printf(format_string,args:Array|Tuple):Nil-class-method"> <h3 class="signature">def <strong>printf</strong>(format_string, args : <a href="array">Array</a> | <a href="tuple">Tuple</a>) : <a href="nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L136" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a formatted string to <code><a href="toplevel#STDOUT">STDOUT</a></code>.</p> <p>For details on the format string, see <code><a href="toplevel#sprintf(format_string,args:Array%7CTuple):String-class-method">sprintf</a></code>.</p> </div>   </div> <div class="entry-detail" id="printf(format_string,*args):Nil-class-method"> <h3 class="signature">def <strong>printf</strong>(format_string, *args) : <a href="nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L131" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a formatted string to <code><a href="toplevel#STDOUT">STDOUT</a></code>.</p> <p>For details on the format string, see <code><a href="toplevel#sprintf(format_string,args:Array%7CTuple):String-class-method">sprintf</a></code>.</p> </div>   </div> <div class="entry-detail" id="puts(*objects):Nil-class-method"> <h3 class="signature">def <strong>puts</strong>(*objects) : <a href="nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L376" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints objects to <code><a href="toplevel#STDOUT">STDOUT</a></code>, each followed by a newline.</p> <p>If the string representation of an object ends with a newline, no additional newline is printed for that object.</p> <p>See also: <code>IO#puts</code>.</p> </div>   </div> <div class="entry-detail" id="raise(message:String):NoReturn-class-method"> <h3 class="signature">def <strong>raise</strong>(message : <a href="string">String</a>) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/raise.cr#L228" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Raises an Exception with the <em>message</em>.</p> </div>   </div> <div class="entry-detail" id="raise(exception:Exception):NoReturn-class-method"> <h3 class="signature">def <strong>raise</strong>(exception : <a href="exception">Exception</a>) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/raise.cr#L191" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Raises the <em>exception</em>.</p> <p>This will set the exception's callstack if it hasn't been already. Re-raising a previously catched exception won't replace the callstack.</p> </div>   </div> <div class="entry-detail" id="rand-class-method"> <h3 class="signature">def <strong>rand</strong><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/random.cr#L418" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>See <code>Random#rand</code>.</p> </div>   </div> <div class="entry-detail" id="rand(x)-class-method"> <h3 class="signature">def <strong>rand</strong>(x)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/random.cr#L423" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>See <code>Random#rand(x)</code>.</p> </div>   </div> <div class="entry-detail" id="read_line(*args,**options)-class-method"> <h3 class="signature">def <strong>read_line</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L117" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a line from <code><a href="toplevel#STDIN">STDIN</a></code>.</p> <p>See also: <code>IO#read_line</code>.</p> </div>   </div> <div class="entry-detail" id="sizeof(type:Class):Int32-class-method"> <h3 class="signature">def <strong>sizeof</strong>(type : <a href="class">Class</a>) : <a href="int32">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/docs_pseudo_methods.cr#L48" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the size of the given type as number of bytes.</p> <p><em>type</em> must be a constant or <code>typeof()</code> expression. It cannot be evaluated at runtime.</p> <pre data-language="crystal">sizeof(Int32)        # =&gt; 4
sizeof(Int64)        # =&gt; 8
sizeof(typeof(true)) # =&gt; 1</pre> <p>For <code><a href="reference">Reference</a></code> types, the size is the same as the size of a pointer:</p> <pre data-language="crystal"># On a 64 bits machine
sizeof(Pointer(Int32)) # =&gt; 8
sizeof(String)         # =&gt; 8</pre> <p>This is because a <code><a href="reference">Reference</a></code>'s memory is allocated on the heap and a pointer to it is passed around. The size of a class on the heap can be determined using <code><a href="toplevel#instance_sizeof(type:Class):Int32-class-method">#instance_sizeof</a></code>.</p> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="sleep(seconds:Number)-class-method"> <h3 class="signature">def <strong>sleep</strong>(seconds : <a href="number">Number</a>)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/concurrent.cr#L9" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Blocks the current fiber for the specified number of seconds.</p> <p>While this fiber is waiting this time, other ready-to-execute fibers might start their execution.</p> </div>   </div> <div class="entry-detail" id="sleep-class-method"> <h3 class="signature">def <strong>sleep</strong><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/concurrent.cr#L28" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Blocks the current fiber forever.</p> <p>Meanwhile, other ready-to-execute fibers might start their execution.</p> </div>   </div> <div class="entry-detail" id="sleep(time:Time::Span)-class-method"> <h3 class="signature">def <strong>sleep</strong>(time : <a href="time/span">Time::Span</a>)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/concurrent.cr#L21" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Blocks the current Fiber for the specified time span.</p> <p>While this fiber is waiting this time, other ready-to-execute fibers might start their execution.</p> </div>   </div> <div class="entry-detail" id="spawn(*,name:String?=nil,same_thread=false,&amp;block)-class-method"> <h3 class="signature">def <strong>spawn</strong>(*, name : <a href="string">String</a>? = nil, same_thread = false, &amp;block)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/concurrent.cr#L60" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Spawns a new fiber.</p> <p>The newly created fiber doesn't run as soon as spawned.</p> <p>Example:</p> <pre data-language="crystal"># Write "1" every 1 second and "2" every 2 seconds for 6 seconds.

ch = Channel(Nil).new

spawn do
  6.times do
    sleep 1
    puts 1
  end
  ch.send(nil)
end

spawn do
  3.times do
    sleep 2
    puts 2
  end
  ch.send(nil)
end

2.times { ch.receive }</pre> </div>   </div> <div class="entry-detail" id="sprintf(format_string,args:Array|Tuple):String-class-method"> <h3 class="signature">def <strong>sprintf</strong>(format_string, args : <a href="array">Array</a> | <a href="tuple">Tuple</a>) : <a href="string">String</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L364" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a formatted string. The string is produced according to the <em>format_string</em> with format specifiers being replaced by values from <em>args</em> formatted according to the specifier.</p> <p>Within the format string, any characters other than format specifiers (specifiers beginning with <code>%</code>) are copied to the result.</p> <p>The syntax for a format specifier is:</p> <pre data-language="crystal">%[flags][width][.precision]type</pre> <p>A format specifier consists of a percent sign, followed by optional flags, width, and precision indicators, then terminated with a field type character.</p> <p>The field type controls how the corresponding <code><a href="toplevel#sprintf(format_string,args:Array%7CTuple):String-class-method">sprintf</a></code> argument is to be interpreted, while the flags modify that interpretation.</p> <p>The field type characters are:</p> <pre data-language="crystal">Field | Integer Format
------+------------------------------------------------------------------
  b   | Formats argument as a binary number.
  d   | Formats argument as a decimal number.
  i   | Same as d.
  o   | Formats argument as an octal number.
  x   | Formats argument as a hexadecimal number using lowercase letters.
  X   | Same as x, but uses uppercase letters.

Field | Float Format
------+---------------------------------------------------------------
  e   | Formats floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to e, but uses an uppercase E to indicate
      | the exponent.
  f   | Formats floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Formats a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to g, but use an uppercase E in exponent form.
  a   | Formats floating point argument as [-]0xh.hhhhp[+-]dd,
      | which consists of an optional sign, "0x", fraction part
      | as hexadecimal, "p", and exponential part as decimal.
  A   | Equivalent to a, but uses uppercase X and P.

Field | Other Format
------+------------------------------------------------------------
  c   | Argument is a single character itself.
  s   | Argument is a string to be substituted. If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed. No argument taken.</pre> <p>Flags modify the behavior of the format specifiers:</p> <pre data-language="crystal">Flag     | Applies to    | Meaning
---------+---------------+--------------------------------------------
space    | bdiouxX       | Add a leading space character to
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For o, x, X, b, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+--------------------------------------------
+        | bdiouxX       | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For o, x, X, b, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+--------------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+--------------------------------------------
0 (zero) | bdiouxX       | Pad with zeros, not spaces.
         | aAeEfgG       | For o, x, X, b, radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.</pre> <p>Examples of flags:</p> <p>Decimal number conversion:</p> <pre data-language="crystal">sprintf "%d", 123  # =&gt; "123"
sprintf "%+d", 123 # =&gt; "+123"
sprintf "% d", 123 # =&gt; " 123"</pre> <p>Octal number conversion:</p> <pre data-language="crystal">sprintf "%o", 123   # =&gt; "173"
sprintf "%+o", 123  # =&gt; "+173"
sprintf "%o", -123  # =&gt; "-173"
sprintf "%+o", -123 # =&gt; "-173"</pre> <p>Hexadecimal number conversion:</p> <pre data-language="crystal">sprintf "%x", 123   # =&gt; "7b"
sprintf "%+x", 123  # =&gt; "+7b"
sprintf "%x", -123  # =&gt; "-7b"
sprintf "%+x", -123 # =&gt; "-7b"
sprintf "%#x", 0    # =&gt; "0"
sprintf "% x", 123  # =&gt; " 7b"
sprintf "% x", -123 # =&gt; "-7b"
sprintf "%X", 123   # =&gt; "7B"
sprintf "%#X", -123 # =&gt; "-7B"</pre> <p>Binary number conversion:</p> <pre data-language="crystal">sprintf "%b", 123    # =&gt; "1111011"
sprintf "%+b", 123   # =&gt; "+1111011"
sprintf "%+b", -123  # =&gt; "-1111011"
sprintf "%b", -123   # =&gt; "-1111011"
sprintf "%#b", 0     # =&gt; "0"
sprintf "% b", 123   # =&gt; " 1111011"
sprintf "%+ b", 123  # =&gt; "+ 1111011"
sprintf "% b", -123  # =&gt; "-1111011"
sprintf "%+ b", -123 # =&gt; "-1111011"</pre> <p>Floating point conversion:</p> <pre data-language="crystal">sprintf "%a", 123 # =&gt; "0x1.ecp+6"
sprintf "%A", 123 # =&gt; "0X1.ECP+6"</pre> <p>Exponential form conversion:</p> <pre data-language="crystal">sprintf "%g", 123.4          # =&gt; "123.4"
sprintf "%g", 123.4567       # =&gt; "123.457"
sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%20.8G", 123456789  # =&gt; "       1.2345679E+08"
sprintf "%20.8g", -123456789 # =&gt; "      -1.2345679e+08"
sprintf "%20.8G", -123456789 # =&gt; "      -1.2345679E+08"</pre> <p>The field width is an optional integer, followed optionally by a period and a precision. The width specifies the minimum number of characters that will be written to the result for this field.</p> <p>Examples of width:</p> <pre data-language="crystal">sprintf "%20d", 123   # =&gt; "                 123"
sprintf "%+20d", 123  # =&gt; "                +123"
sprintf "%020d", 123  # =&gt; "00000000000000000123"
sprintf "%+020d", 123 # =&gt; "+0000000000000000123"
sprintf "% 020d", 123 # =&gt; " 0000000000000000123"
sprintf "%-20d", 123  # =&gt; "123                 "
sprintf "%-+20d", 123 # =&gt; "+123                "
sprintf "%- 20d", 123 # =&gt; " 123                "
sprintf "%020x", -123 # =&gt; "00000000000000000-7b"
sprintf "%020X", -123 # =&gt; "00000000000000000-7B"</pre> <p>For numeric fields, the precision controls the number of decimal places displayed.</p> <p>For string fields, the precision determines the maximum number of characters to be copied from the string.</p> <p>Examples of precisions:</p> <p>Precision for <code>d</code>, <code>o</code>, <code>x</code> and <code>b</code> is minimum number of digits:</p> <pre data-language="crystal">sprintf "%20.8d", 123   # =&gt; "                 123"
sprintf "%020.8d", 123  # =&gt; "00000000000000000123"
sprintf "%20.8o", 123   # =&gt; "                 173"
sprintf "%020.8o", 123  # =&gt; "00000000000000000173"
sprintf "%20.8x", 123   # =&gt; "                  7b"
sprintf "%020.8x", 123  # =&gt; "0000000000000000007b"
sprintf "%20.8b", 123   # =&gt; "             1111011"
sprintf "%20.8d", -123  # =&gt; "                -123"
sprintf "%020.8d", -123 # =&gt; "0000000000000000-123"
sprintf "%20.8o", -123  # =&gt; "                -173"
sprintf "%20.8x", -123  # =&gt; "                 -7b"
sprintf "%20.8b", -11   # =&gt; "               -1011"</pre> <p>Precision for <code>e</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8e", 1234.56789 # =&gt; "      1.23456789e+03"</pre> <p>Precision for <code>f</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8f", 1234.56789 # =&gt; "       1234.56789000"</pre> <p>Precision for <code>g</code> is number of significant digits:</p> <pre data-language="crystal">sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%-20.8g", 123456789 # =&gt; "1.2345679e+08       "</pre> <p>Precision for <code>s</code> is maximum number of characters:</p> <pre data-language="crystal">sprintf "%20.8s", "string test" # =&gt; "            string t"</pre> <p>Additional examples:</p> <pre data-language="crystal">sprintf "%d %04x", 123, 123             # =&gt; "123 007b"
sprintf "%08b '%4s'", 123, 123          # =&gt; "01111011 ' 123'"
sprintf "%+g:% g:%-g", 1.23, 1.23, 1.23 # =&gt; "+1.23: 1.23:1.23"</pre> </div>   </div> <div class="entry-detail" id="sprintf(format_string,*args):String-class-method"> <h3 class="signature">def <strong>sprintf</strong>(format_string, *args) : <a href="string">String</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/kernel.cr#L359" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a formatted string. The string is produced according to the <em>format_string</em> with format specifiers being replaced by values from <em>args</em> formatted according to the specifier.</p> <p>Within the format string, any characters other than format specifiers (specifiers beginning with <code>%</code>) are copied to the result.</p> <p>The syntax for a format specifier is:</p> <pre data-language="crystal">%[flags][width][.precision]type</pre> <p>A format specifier consists of a percent sign, followed by optional flags, width, and precision indicators, then terminated with a field type character.</p> <p>The field type controls how the corresponding <code><a href="toplevel#sprintf(format_string,args:Array%7CTuple):String-class-method">sprintf</a></code> argument is to be interpreted, while the flags modify that interpretation.</p> <p>The field type characters are:</p> <pre data-language="crystal">Field | Integer Format
------+------------------------------------------------------------------
  b   | Formats argument as a binary number.
  d   | Formats argument as a decimal number.
  i   | Same as d.
  o   | Formats argument as an octal number.
  x   | Formats argument as a hexadecimal number using lowercase letters.
  X   | Same as x, but uses uppercase letters.

Field | Float Format
------+---------------------------------------------------------------
  e   | Formats floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to e, but uses an uppercase E to indicate
      | the exponent.
  f   | Formats floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Formats a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to g, but use an uppercase E in exponent form.
  a   | Formats floating point argument as [-]0xh.hhhhp[+-]dd,
      | which consists of an optional sign, "0x", fraction part
      | as hexadecimal, "p", and exponential part as decimal.
  A   | Equivalent to a, but uses uppercase X and P.

Field | Other Format
------+------------------------------------------------------------
  c   | Argument is a single character itself.
  s   | Argument is a string to be substituted. If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed. No argument taken.</pre> <p>Flags modify the behavior of the format specifiers:</p> <pre data-language="crystal">Flag     | Applies to    | Meaning
---------+---------------+--------------------------------------------
space    | bdiouxX       | Add a leading space character to
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For o, x, X, b, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+--------------------------------------------
+        | bdiouxX       | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For o, x, X, b, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+--------------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+--------------------------------------------
0 (zero) | bdiouxX       | Pad with zeros, not spaces.
         | aAeEfgG       | For o, x, X, b, radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.</pre> <p>Examples of flags:</p> <p>Decimal number conversion:</p> <pre data-language="crystal">sprintf "%d", 123  # =&gt; "123"
sprintf "%+d", 123 # =&gt; "+123"
sprintf "% d", 123 # =&gt; " 123"</pre> <p>Octal number conversion:</p> <pre data-language="crystal">sprintf "%o", 123   # =&gt; "173"
sprintf "%+o", 123  # =&gt; "+173"
sprintf "%o", -123  # =&gt; "-173"
sprintf "%+o", -123 # =&gt; "-173"</pre> <p>Hexadecimal number conversion:</p> <pre data-language="crystal">sprintf "%x", 123   # =&gt; "7b"
sprintf "%+x", 123  # =&gt; "+7b"
sprintf "%x", -123  # =&gt; "-7b"
sprintf "%+x", -123 # =&gt; "-7b"
sprintf "%#x", 0    # =&gt; "0"
sprintf "% x", 123  # =&gt; " 7b"
sprintf "% x", -123 # =&gt; "-7b"
sprintf "%X", 123   # =&gt; "7B"
sprintf "%#X", -123 # =&gt; "-7B"</pre> <p>Binary number conversion:</p> <pre data-language="crystal">sprintf "%b", 123    # =&gt; "1111011"
sprintf "%+b", 123   # =&gt; "+1111011"
sprintf "%+b", -123  # =&gt; "-1111011"
sprintf "%b", -123   # =&gt; "-1111011"
sprintf "%#b", 0     # =&gt; "0"
sprintf "% b", 123   # =&gt; " 1111011"
sprintf "%+ b", 123  # =&gt; "+ 1111011"
sprintf "% b", -123  # =&gt; "-1111011"
sprintf "%+ b", -123 # =&gt; "-1111011"</pre> <p>Floating point conversion:</p> <pre data-language="crystal">sprintf "%a", 123 # =&gt; "0x1.ecp+6"
sprintf "%A", 123 # =&gt; "0X1.ECP+6"</pre> <p>Exponential form conversion:</p> <pre data-language="crystal">sprintf "%g", 123.4          # =&gt; "123.4"
sprintf "%g", 123.4567       # =&gt; "123.457"
sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%20.8G", 123456789  # =&gt; "       1.2345679E+08"
sprintf "%20.8g", -123456789 # =&gt; "      -1.2345679e+08"
sprintf "%20.8G", -123456789 # =&gt; "      -1.2345679E+08"</pre> <p>The field width is an optional integer, followed optionally by a period and a precision. The width specifies the minimum number of characters that will be written to the result for this field.</p> <p>Examples of width:</p> <pre data-language="crystal">sprintf "%20d", 123   # =&gt; "                 123"
sprintf "%+20d", 123  # =&gt; "                +123"
sprintf "%020d", 123  # =&gt; "00000000000000000123"
sprintf "%+020d", 123 # =&gt; "+0000000000000000123"
sprintf "% 020d", 123 # =&gt; " 0000000000000000123"
sprintf "%-20d", 123  # =&gt; "123                 "
sprintf "%-+20d", 123 # =&gt; "+123                "
sprintf "%- 20d", 123 # =&gt; " 123                "
sprintf "%020x", -123 # =&gt; "00000000000000000-7b"
sprintf "%020X", -123 # =&gt; "00000000000000000-7B"</pre> <p>For numeric fields, the precision controls the number of decimal places displayed.</p> <p>For string fields, the precision determines the maximum number of characters to be copied from the string.</p> <p>Examples of precisions:</p> <p>Precision for <code>d</code>, <code>o</code>, <code>x</code> and <code>b</code> is minimum number of digits:</p> <pre data-language="crystal">sprintf "%20.8d", 123   # =&gt; "                 123"
sprintf "%020.8d", 123  # =&gt; "00000000000000000123"
sprintf "%20.8o", 123   # =&gt; "                 173"
sprintf "%020.8o", 123  # =&gt; "00000000000000000173"
sprintf "%20.8x", 123   # =&gt; "                  7b"
sprintf "%020.8x", 123  # =&gt; "0000000000000000007b"
sprintf "%20.8b", 123   # =&gt; "             1111011"
sprintf "%20.8d", -123  # =&gt; "                -123"
sprintf "%020.8d", -123 # =&gt; "0000000000000000-123"
sprintf "%20.8o", -123  # =&gt; "                -173"
sprintf "%20.8x", -123  # =&gt; "                 -7b"
sprintf "%20.8b", -11   # =&gt; "               -1011"</pre> <p>Precision for <code>e</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8e", 1234.56789 # =&gt; "      1.23456789e+03"</pre> <p>Precision for <code>f</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8f", 1234.56789 # =&gt; "       1234.56789000"</pre> <p>Precision for <code>g</code> is number of significant digits:</p> <pre data-language="crystal">sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%-20.8g", 123456789 # =&gt; "1.2345679e+08       "</pre> <p>Precision for <code>s</code> is maximum number of characters:</p> <pre data-language="crystal">sprintf "%20.8s", "string test" # =&gt; "            string t"</pre> <p>Additional examples:</p> <pre data-language="crystal">sprintf "%d %04x", 123, 123             # =&gt; "123 007b"
sprintf "%08b '%4s'", 123, 123          # =&gt; "01111011 ' 123'"
sprintf "%+g:% g:%-g", 1.23, 1.23, 1.23 # =&gt; "+1.23: 1.23:1.23"</pre> </div>   </div> <div class="entry-detail" id="system(command:String,args=nil):Bool-class-method"> <h3 class="signature">def <strong>system</strong>(command : <a href="string">String</a>, args = nil) : <a href="bool">Bool</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/process.cr#L423" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Executes the given command in a subshell. Standard input, output and error are inherited. Returns <code>true</code> if the command gives zero exit code, <code>false</code> otherwise. The special <code>$?</code> variable is set to a <code><a href="process/status">Process::Status</a></code> associated with this execution.</p> <p>If <em>command</em> contains no spaces and <em>args</em> is given, it will become its argument list.</p> <p>If <em>command</em> contains spaces and <em>args</em> is given, <em>command</em> must include <code>"${@}"</code> (including the quotes) to receive the argument list.</p> <p>No shell interpretation is done in <em>args</em>.</p> <p>Example:</p> <pre data-language="crystal">system("echo *")</pre> <p>Produces:</p> <pre data-language="crystal">LICENSE shard.yml Readme.md spec src</pre> </div>   </div> <div class="entry-detail" id="timeout_select_action(timeout:Time::Span)-class-method"> <h3 class="signature">def <strong>timeout_select_action</strong>(timeout : <a href="time/span">Time::Span</a>)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/channel.cr#L746" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Timeout keyword for use in <code>select</code>.</p> <pre data-language="crystal">select
when x = ch.receive
  puts "got #{x}"
when timeout(1.seconds)
  puts "timeout"
end</pre> <p>NOTE It won't trigger if the <code>select</code> has an <code>else</code> case (i.e.: a non-blocking select).</p> <p>NOTE Using negative amounts will cause the timeout to not trigger.</p> </div>   </div> <div class="entry-detail" id="typeof(*expression):Class-class-method"> <h3 class="signature">def <strong>typeof</strong>(*expression) : <a href="class">Class</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/docs_pseudo_methods.cr#L23" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the type of an expression.</p> <pre data-language="crystal">typeof(1) # =&gt; Int32</pre> <p>It accepts multiple arguments, and the result is the union of the expression types:</p> <pre data-language="crystal">typeof(1, "a", 'a') # =&gt; (Int32 | String | Char)</pre> <p>The expressions passed as arguments to <code><a href="toplevel#typeof(*expression):Class-class-method">typeof</a></code> do not evaluate. The compiler only analyzes their return type.</p> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="with_color(color:Symbol)-class-method"> <h3 class="signature">def <strong>with_color</strong>(color : <a href="symbol">Symbol</a>)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/colorize.cr#L159" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>DEPRECATED Use <code>Colorize.with.fore(color)</code></p> </div>   </div> <div class="entry-detail" id="with_color-class-method"> <h3 class="signature">def <strong>with_color</strong><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/colorize.cr#L154" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>DEPRECATED Use <code>Colorize.with</code></p> </div>   </div> <h2>  Macro Detail </h2> <div class="entry-detail" id="debugger-macro"> <h3 class="signature">macro <strong>debugger</strong><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/intrinsics.cr#L173" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="p!(*exps)-macro"> <h3 class="signature">macro <strong>p!</strong>(*exps)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/macros.cr#L166" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a series of expressions together with their inspected values. Useful for print style debugging.</p> <pre data-language="crystal">a = 1
p! a # =&gt; "a # =&gt; 1"

p! [1, 2, 3].map(&amp;.to_s) # =&gt; "[1, 2, 3].map(&amp;.to_s) # =&gt; ["1", "2", "3"]"</pre> <p>See also: <code><a href="toplevel#p(**objects)-class-method">p</a></code>, <code>Object#inspect</code>.</p> </div>   </div> <div class="entry-detail" id="pp!(*exps)-macro"> <h3 class="signature">macro <strong>pp!</strong>(*exps)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/macros.cr#L132" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a series of expressions together with their pretty printed values. Useful for print style debugging.</p> <pre data-language="crystal">a = 1
pp! a # =&gt; "a # =&gt; 1"

pp! [1, 2, 3].map(&amp;.to_s) # =&gt; "[1, 2, 3].map(&amp;.to_s) # =&gt; ["1", "2", "3"]"</pre> <p>See also: <code><a href="toplevel#pp(**objects)-class-method">pp</a></code>, <code>Object#pretty_inspect</code>.</p> </div>   </div> <div class="entry-detail" id="record(name,*properties)-macro"> <h3 class="signature">macro <strong>record</strong>(name, *properties)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/macros.cr#L60" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Defines a <strong><code><a href="struct">Struct</a></code></strong> with the given name and properties.</p> <p>The generated struct has a constructor with the given properties in the same order as declared. The struct only provides getters, not setters, making it immutable by default.</p> <p>The properties can be type declarations or assignments.</p> <p>You can pass a block to this macro, that will be inserted inside the struct definition.</p> <pre data-language="crystal">record Point, x : Int32, y : Int32

Point.new 1, 2 # =&gt; #&lt;Point(@x=1, @y=2)&gt;</pre> <p>An example with the block version:</p> <pre data-language="crystal">record Person, first_name : String, last_name : String do
  def full_name
    "#{first_name} #{last_name}"
  end
end

person = Person.new "John", "Doe"
person.full_name # =&gt; "John Doe"</pre> <p>An example with type declarations and default values:</p> <pre data-language="crystal">record Point, x : Int32 = 0, y : Int32 = 0

Point.new      # =&gt; #&lt;Point(@x=0, @y=0)&gt;
Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> <p>An example with assignments (in this case the compiler must be able to infer the types from the default values):</p> <pre data-language="crystal">record Point, x = 0, y = 0

Point.new      # =&gt; #&lt;Point(@x=0, @y=0)&gt;
Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> <p>This macro also provides a <code>copy_with</code> method which returns a copy of the record with the provided properties altered.</p> <pre data-language="crystal">record Point, x = 0, y = 0

p = Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;
p.copy_with x: 3   # =&gt; #&lt;Point(@x=3, @y=2)&gt;
p                  # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> </div>   </div> <div class="entry-detail" id="spawn(call,*,name=nil,same_thread=false,&amp;block)-macro"> <h3 class="signature">macro <strong>spawn</strong>(call, *, name = nil, same_thread = false, &amp;block)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/concurrent.cr#L99" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Spawns a fiber by first creating a <code><a href="proc">Proc</a></code>, passing the <em>call</em>'s expressions to it, and letting the <code><a href="proc">Proc</a></code> finally invoke the <em>call</em>.</p> <p>Compare this:</p> <pre data-language="crystal">i = 0
while i &lt; 5
  spawn { print(i) }
  i += 1
end
Fiber.yield
# Output: 55555</pre> <p>To this:</p> <pre data-language="crystal">i = 0
while i &lt; 5
  spawn print(i)
  i += 1
end
Fiber.yield
# Output: 01234</pre> <p>This is because in the first case all spawned fibers refer to the same local variable, while in the second example copies of <em>i</em> are passed to a <code><a href="proc">Proc</a></code> that eventually invokes the call.</p> </div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
     20122020 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/0.35.1/toplevel.html" class="_attribution-link">https://crystal-lang.org/api/0.35.1/toplevel.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
