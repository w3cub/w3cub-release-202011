
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>AuthComponent (Class) - CakePHP 4.4 - W3cubDocs</title>
  
  <meta name="description" content=" Authentication control component class. ">
  <meta name="keywords" content="class, authcomponent, cakephp, cakephp~4.4">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cakephp~4.4/class-cake.controller.component.authcomponent.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/cakephp~4.4.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~4.4/" class="_nav-link" title="" style="margin-left:0;">CakePHP 4.4</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1> Class <div class="deprecated" style="display: inline">AuthComponent</div>  </h1> <div class="description"> <p>Authentication control component class.</p> <p>Binds access control with user authentication and session management.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.controller.component">Cake\Controller\Component</a><br> <b style="color: #be0000">Deprecated:</b> 4.0.0 Use the cakephp/authentication and cakephp/authorization plugins instead.<br> <b>See:</b> https://github.com/cakephp/authentication<br> <b>See:</b> https://github.com/cakephp/authorization<br> <b>Link:</b> https://book.cakephp.org/4/en/controllers/components/authentication.html<br> </div> <div class="section"> <h2>Constants</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>ALL</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'all'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Constant for 'all'</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>QUERY_STRING_REDIRECT</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'redirect'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>The query string key used for remembering the referred page when getting redirected to login.</p> </div> </li> </ul> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24Flash">$Flash</a> <span class="attributes"> <span class="label">public</span> <span class="label annotation">@property</span> </span> </div> <div class="property-type"><code>Cake\Controller\Component\FlashComponent</code></div>  </li> <li class="clearfix"> <div class="name"> <a href="#%24RequestHandler">$RequestHandler</a> <span class="attributes"> <span class="label">public</span> <span class="label annotation">@property</span> </span> </div> <div class="property-type"><code>Cake\Controller\Component\RequestHandlerComponent</code></div>  </li> <li class="clearfix"> <div class="name"> <a href="#%24_authenticateObjects">$_authenticateObjects</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>arrayCake\Auth\BaseAuthenticate&gt;</code></div> <div class="description"> <p>Objects that will be used for authentication checks.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_authenticationProvider">$_authenticationProvider</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Auth\BaseAuthenticate|null</code></div> <div class="description"> <p>The instance of the Authenticate provider that was used for successfully logging in the current user after calling <code>login()</code> in the same request</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_authorizationProvider">$_authorizationProvider</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Auth\BaseAuthorize|null</code></div> <div class="description"> <p>The instance of the Authorize provider that was used to grant access to the current user to the URL they are requesting.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_authorizeObjects">$_authorizeObjects</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>arrayCake\Auth\BaseAuthorize&gt;</code></div> <div class="description"> <p>Objects that will be used for authorization checks.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_componentMap">$_componentMap</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, array&gt;</code></div> <div class="description"> <p>A component lookup table used to lazy load component objects.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Default config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_eventClass">$_eventClass</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Default class name for new event objects.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_eventManager">$_eventManager</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Event\EventManagerInterface|null</code></div> <div class="description"> <p>Instance of the Cake\Event\EventManager this object is using to dispatch inner events.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_registry">$_registry</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Controller\ComponentRegistry</code></div> <div class="description"> <p>Component registry class used to lazy load components.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_storage">$_storage</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Auth\Storage\StorageInterface|null</code></div> <div class="description"> <p>Storage object.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24allowedActions">$allowedActions</a> <span class="attributes"> <span class="label">public</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>Controller actions for which user validation is not required.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24components">$components</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Other components utilized by AuthComponent</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__debugInfo()">__debugInfo()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__get()">__get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Magic accessor for backward compatibility for property <code>$sessionKey</code>.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__set()">__set()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Magic setter for backward compatibility for property <code>$sessionKey</code>.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configDelete()">_configDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configRead()">_configRead()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configWrite()">_configWrite()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Writes a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_getUrlToRedirectBackTo()">_getUrlToRedirectBackTo()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Returns the URL to redirect back to or / if not possible.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_getUser()">_getUser()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Similar to AuthComponent::user() except if user is not found in configured storage, connected authentication objects will have their getUser() methods called.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_isAllowed()">_isAllowed()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Checks whether current action is accessible without authentication.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_isLoginAction()">_isLoginAction()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Normalizes config <code>loginAction</code> and checks if current request URL is same as login action.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_loginActionRedirectUrl()">_loginActionRedirectUrl()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Returns the URL of the login action to redirect to.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_setDefaults()">_setDefaults()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Sets defaults for configs.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_unauthenticated()">_unauthenticated()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Handles unauthenticated access attempt. First the <code>unauthenticated()</code> method of the last authenticator in the chain will be called. The authenticator can handle sending response or redirection as appropriate and return <code>true</code> to indicate no further action is necessary. If authenticator returns null this method redirects user to login action.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_unauthorized()">_unauthorized()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Handle unauthorized access attempt</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#allow()">allow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Takes a list of actions in the current controller for which authentication is not required, or no parameters to allow all actions.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#authCheck()">authCheck()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Main execution method, handles initial authentication check and redirection of invalid users.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#authenticationProvider()">authenticationProvider()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>If login was called during this request and the user was successfully authenticated, this function will return the instance of the authentication object that was used for logging the user in.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#authorizationProvider()">authorizationProvider()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>If there was any authorization processing for the current request, this function will return the instance of the Authorization object that granted access to the user to the current address.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configShallow()">configShallow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#constructAuthenticate()">constructAuthenticate()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Loads the configured authentication objects.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#constructAuthorize()">constructAuthorize()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Loads the authorization objects configured.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deny()">deny()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Removes items from the list of allowed/no authentication required actions.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#dispatchEvent()">dispatchEvent()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Wrapper for creating and dispatching events.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#flash()">flash()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set a flash message. Uses the Flash component with values from <code>flash</code> config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getAuthenticate()">getAuthenticate()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Getter for authenticate objects. Will return a particular authenticate object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getAuthorize()">getAuthorize()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Getter for authorize objects. Will return a particular authorize object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getController()">getController()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the controller this component is bound to.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getEventManager()">getEventManager()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the Cake\Event\EventManager manager instance for this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#identify()">identify()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Use the configured authentication adapters, and attempt to identify the user by credentials contained in $request.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#implementedEvents()">implementedEvents()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Events supported by this component.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#initialize()">initialize()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Initialize properties.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isAuthorized()">isAuthorized()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check if the provided user is authorized for the request.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#log()">log()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Convenience method to write a message to Log. See Log::write() for more information on writing to logs.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#logout()">logout()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Log a user out.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#redirectUrl()">redirectUrl()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the URL a user should be redirected to upon login.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setEventManager()">setEventManager()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the Cake\Event\EventManagerInterface instance for this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setUser()">setUser()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set provided user info to storage as logged in user.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#startup()">startup()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Callback for Controller.startup event.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#storage()">storage()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get/set user record storage object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#user()">user()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the current user from storage.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(Cake\Controller\ComponentRegistry $registry, array&lt;string, mixed&gt; $config = [])</pre> <div class="description detailed"> <p>Constructor</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\ComponentRegistry</code> <var>$registry</var> </dt> <dd><p>A component registry this component can use to lazy load its components.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>Array of configuration settings.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__debugInfo()"> __debugInfo()   <span class="label">public</span> </h3> <pre data-language="php">__debugInfo(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__get()"> __get()   <span class="label">public</span> </h3> <pre data-language="php">__get(string $name): mixed</pre> <div class="description detailed"> <p>Magic accessor for backward compatibility for property <code>$sessionKey</code>.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Property name</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__set()"> __set()   <span class="label">public</span> </h3> <pre data-language="php">__set(string $name, mixed $value): void</pre> <div class="description detailed"> <p>Magic setter for backward compatibility for property <code>$sessionKey</code>.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Property name.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete()"> _configDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_configDelete(string $key): void</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead()"> _configRead()   <span class="label">protected</span> </h3> <pre data-language="php">_configRead(string|null $key): mixed</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite()"> _configWrite()   <span class="label">protected</span> </h3> <pre data-language="php">_configWrite(array&lt;string, mixed&gt;|string $key, mixed $value, string|bool $merge = false): void</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>string|bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getUrlToRedirectBackTo()"> _getUrlToRedirectBackTo()   <span class="label">protected</span> </h3> <pre data-language="php">_getUrlToRedirectBackTo(): string</pre> <div class="description detailed"> <p>Returns the URL to redirect back to or / if not possible.</p> <p>This method takes the referrer into account if the request is not of type GET.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getUser()"> _getUser()   <span class="label">protected</span> </h3> <pre data-language="php">_getUser(): bool</pre> <div class="description detailed"> <p>Similar to AuthComponent::user() except if user is not found in configured storage, connected authentication objects will have their getUser() methods called.</p> <p>This lets stateless authentication methods function correctly.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_isAllowed()"> _isAllowed()   <span class="label">protected</span> </h3> <pre data-language="php">_isAllowed(Cake\Controller\Controller $controller): bool</pre> <div class="description detailed"> <p>Checks whether current action is accessible without authentication.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\Controller</code> <var>$controller</var> </dt> <dd><p>A reference to the instantiating controller object</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_isLoginAction()"> _isLoginAction()   <span class="label">protected</span> </h3> <pre data-language="php">_isLoginAction(Cake\Controller\Controller $controller): bool</pre> <div class="description detailed"> <p>Normalizes config <code>loginAction</code> and checks if current request URL is same as login action.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\Controller</code> <var>$controller</var> </dt> <dd><p>A reference to the controller object.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_loginActionRedirectUrl()"> _loginActionRedirectUrl()   <span class="label">protected</span> </h3> <pre data-language="php">_loginActionRedirectUrl(): array|string</pre> <div class="description detailed"> <p>Returns the URL of the login action to redirect to.</p> <p>This includes the redirect query string if applicable.</p> <h4>Returns</h4> <div class="list"> <code>array|string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_setDefaults()"> _setDefaults()   <span class="label">protected</span> </h3> <pre data-language="php">_setDefaults(): void</pre> <div class="description detailed"> <p>Sets defaults for configs.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_unauthenticated()"> _unauthenticated()   <span class="label">protected</span> </h3> <pre data-language="php">_unauthenticated(Cake\Controller\Controller $controller): Cake\Http\Response|null</pre> <div class="description detailed"> <p>Handles unauthenticated access attempt. First the <code>unauthenticated()</code> method of the last authenticator in the chain will be called. The authenticator can handle sending response or redirection as appropriate and return <code>true</code> to indicate no further action is necessary. If authenticator returns null this method redirects user to login action.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\Controller</code> <var>$controller</var> </dt> <dd><p>A reference to the controller object.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Http\Response|null</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_unauthorized()"> _unauthorized()   <span class="label">protected</span> </h3> <pre data-language="php">_unauthorized(Cake\Controller\Controller $controller): Cake\Http\Response|null</pre> <div class="description detailed"> <p>Handle unauthorized access attempt</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\Controller</code> <var>$controller</var> </dt> <dd><p>A reference to the controller object</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Http\Response|null</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Http\Exception\ForbiddenException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="allow()"> allow()   <span class="label">public</span> </h3> <pre data-language="php">allow(array&lt;string&gt;|string|null $actions = null): void</pre> <div class="description detailed"> <p>Takes a list of actions in the current controller for which authentication is not required, or no parameters to allow all actions.</p> <p>You can use allow with either an array or a simple string.</p> <pre data-language="php">$this-&gt;Auth-&gt;allow('view');
$this-&gt;Auth-&gt;allow(['edit', 'add']);</pre> <p>or to allow all actions</p> <pre data-language="php">$this-&gt;Auth-&gt;allow();</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string|null</code> <var>$actions</var> <span class="label">optional</span> </dt> <dd><p>Controller action name or array of actions</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/controllers/components/authentication.html#making-actions-public<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="authCheck()"> authCheck()   <span class="label">public</span> </h3> <pre data-language="php">authCheck(Cake\Event\EventInterface $event): Cake\Http\Response|null</pre> <div class="description detailed"> <p>Main execution method, handles initial authentication check and redirection of invalid users.</p> <p>The auth check is done when event name is same as the one configured in <code>checkAuthIn</code> config.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>Event instance.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Http\Response|null</code><br> </div> <h4>Throws</h4> <div class="list"> <code>ReflectionException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="authenticationProvider()"> authenticationProvider()   <span class="label">public</span> </h3> <pre data-language="php">authenticationProvider(): Cake\Auth\BaseAuthenticate|null</pre> <div class="description detailed"> <p>If login was called during this request and the user was successfully authenticated, this function will return the instance of the authentication object that was used for logging the user in.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Auth\BaseAuthenticate|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="authorizationProvider()"> authorizationProvider()   <span class="label">public</span> </h3> <pre data-language="php">authorizationProvider(): Cake\Auth\BaseAuthorize|null</pre> <div class="description detailed"> <p>If there was any authorization processing for the current request, this function will return the instance of the Authorization object that granted access to the user to the current address.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Auth\BaseAuthorize|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow()"> configShallow()   <span class="label">public</span> </h3> <pre data-language="php">configShallow(array&lt;string, mixed&gt;|string $key, mixed|null $value = null): $this</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="constructAuthenticate()"> constructAuthenticate()   <span class="label">public</span> </h3> <pre data-language="php">constructAuthenticate(): array&lt;string, object&gt;|null</pre> <div class="description detailed"> <p>Loads the configured authentication objects.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, object&gt;|null</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="constructAuthorize()"> constructAuthorize()   <span class="label">public</span> </h3> <pre data-language="php">constructAuthorize(): array|null</pre> <div class="description detailed"> <p>Loads the authorization objects configured.</p> <h4>Returns</h4> <div class="list"> <code>array|null</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deny()"> deny()   <span class="label">public</span> </h3> <pre data-language="php">deny(array&lt;string&gt;|string|null $actions = null): void</pre> <div class="description detailed"> <p>Removes items from the list of allowed/no authentication required actions.</p> <p>You can use deny with either an array or a simple string.</p> <pre data-language="php">$this-&gt;Auth-&gt;deny('view');
$this-&gt;Auth-&gt;deny(['edit', 'add']);</pre> <p>or</p> <pre data-language="php">$this-&gt;Auth-&gt;deny();</pre> <p>to remove all items from the allowed list</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string|null</code> <var>$actions</var> <span class="label">optional</span> </dt> <dd><p>Controller action name or array of actions</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Controller\Component\AuthComponent::allow() </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/controllers/components/authentication.html#making-actions-require-authorization<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="dispatchEvent()"> dispatchEvent()   <span class="label">public</span> </h3> <pre data-language="php">dispatchEvent(string $name, array|null $data = null, object|null $subject = null): Cake\Event\EventInterface</pre> <div class="description detailed"> <p>Wrapper for creating and dispatching events.</p> <p>Returns a dispatched event.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Name of the event.</p></dd> <dt> <code>array|null</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>Any value you wish to be transported with this event to it can be read by listeners.</p></dd> <dt> <code>object|null</code> <var>$subject</var> <span class="label">optional</span> </dt> <dd><p>The object that this event applies to ($this by default).</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="flash()"> flash()   <span class="label">public</span> </h3> <pre data-language="php">flash(string|false $message): void</pre> <div class="description detailed"> <p>Set a flash message. Uses the Flash component with values from <code>flash</code> config.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|false</code> <var>$message</var> </dt> <dd><p>The message to set. False to skip.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getAuthenticate()"> getAuthenticate()   <span class="label">public</span> </h3> <pre data-language="php">getAuthenticate(string $alias): Cake\Auth\BaseAuthenticate|null</pre> <div class="description detailed"> <p>Getter for authenticate objects. Will return a particular authenticate object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$alias</var> </dt> <dd><p>Alias for the authenticate object</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Auth\BaseAuthenticate|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getAuthorize()"> getAuthorize()   <span class="label">public</span> </h3> <pre data-language="php">getAuthorize(string $alias): Cake\Auth\BaseAuthorize|null</pre> <div class="description detailed"> <p>Getter for authorize objects. Will return a particular authorize object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$alias</var> </dt> <dd><p>Alias for the authorize object</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Auth\BaseAuthorize|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> </h3> <pre data-language="php">getConfig(string|null $key = null, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getController()"> getController()   <span class="label">public</span> </h3> <pre data-language="php">getController(): Cake\Controller\Controller</pre> <div class="description detailed"> <p>Get the controller this component is bound to.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Controller\Controller</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getEventManager()"> getEventManager()   <span class="label">public</span> </h3> <pre data-language="php">getEventManager(): Cake\Event\EventManagerInterface</pre> <div class="description detailed"> <p>Returns the Cake\Event\EventManager manager instance for this object.</p> <p>You can use this instance to register any new listeners or callbacks to the object events, or create your own events and trigger them at will.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventManagerInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="identify()"> identify()   <span class="label">public</span> </h3> <pre data-language="php">identify(): array|false</pre> <div class="description detailed"> <p>Use the configured authentication adapters, and attempt to identify the user by credentials contained in $request.</p> <p>Triggers <code>Auth.afterIdentify</code> event which the authenticate classes can listen to.</p> <h4>Returns</h4> <div class="list"> <code>array|false</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="implementedEvents()"> implementedEvents()   <span class="label">public</span> </h3> <pre data-language="php">implementedEvents(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Events supported by this component.</p> <p>Uses Conventions to map controller events to standard component callback method names. By defining one of the callback methods a component is assumed to be interested in the related event.</p> <p>Override this method if you need to add non-conventional event listeners. Or if you want components to listen to non-standard events.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="initialize()"> initialize()   <span class="label">public</span> </h3> <pre data-language="php">initialize(array&lt;string, mixed&gt; $config): void</pre> <div class="description detailed"> <p>Initialize properties.</p> <p>Implement this method to avoid having to overwrite the constructor and call parent.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> </dt> <dd><p>The config data.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isAuthorized()"> isAuthorized()   <span class="label">public</span> </h3> <pre data-language="php">isAuthorized(ArrayAccess|array|null $user = null, Cake\Http\ServerRequest|null $request = null): bool</pre> <div class="description detailed"> <p>Check if the provided user is authorized for the request.</p> <p>Uses the configured Authorization adapters to check whether a user is authorized. Each adapter will be checked in sequence, if any of them return true, then the user will be authorized for the request.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>ArrayAccess|array|null</code> <var>$user</var> <span class="label">optional</span> </dt> <dd><p>The user to check the authorization of. If empty the user fetched from storage will be used.</p></dd> <dt> <code>Cake\Http\ServerRequest|null</code> <var>$request</var> <span class="label">optional</span> </dt> <dd><p>The request to authenticate for. If empty, the current request will be used.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="log()"> log()   <span class="label">public</span> </h3> <pre data-language="php">log(string $message, string|int $level = LogLevel::ERROR, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to write a message to Log. See Log::write() for more information on writing to logs.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>Log message.</p></dd> <dt> <code>string|int</code> <var>$level</var> <span class="label">optional</span> </dt> <dd><p>Error level.</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional log data relevant to this message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="logout()"> logout()   <span class="label">public</span> </h3> <pre data-language="php">logout(): string</pre> <div class="description detailed"> <p>Log a user out.</p> <p>Returns the logout action to redirect to. Triggers the <code>Auth.logout</code> event which the authenticate classes can listen for and perform custom logout logic.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/controllers/components/authentication.html#logging-users-out<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="redirectUrl()"> redirectUrl()   <span class="label">public</span> </h3> <pre data-language="php">redirectUrl(array|string|null $url = null): string</pre> <div class="description detailed"> <p>Get the URL a user should be redirected to upon login.</p> <p>Pass a URL in to set the destination a user should be redirected to upon logging in.</p> <p>If no parameter is passed, gets the authentication redirect URL. The URL returned is as per following rules:</p> <ul> <li>Returns the normalized redirect URL from storage if it is present and for the same domain the current app is running on. <ul> <li>If there is no URL returned from storage and there is a config <code>loginRedirect</code>, the <code>loginRedirect</code> value is returned.</li> <li>If there is no session and no <code>loginRedirect</code>, / is returned.</li> </ul>
</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string|null</code> <var>$url</var> <span class="label">optional</span> </dt> <dd><p>Optional URL to write as the login redirect URL.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, mixed|null $value = null, bool $merge = true): $this</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setEventManager()"> setEventManager()   <span class="label">public</span> </h3> <pre data-language="php">setEventManager(Cake\Event\EventManagerInterface $eventManager): $this</pre> <div class="description detailed"> <p>Returns the Cake\Event\EventManagerInterface instance for this object.</p> <p>You can use this instance to register any new listeners or callbacks to the object events, or create your own events and trigger them at will.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventManagerInterface</code> <var>$eventManager</var> </dt> <dd><p>the eventManager to set</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setUser()"> setUser()   <span class="label">public</span> </h3> <pre data-language="php">setUser(ArrayAccess|array $user): void</pre> <div class="description detailed"> <p>Set provided user info to storage as logged in user.</p> <p>The storage class is configured using <code>storage</code> config key or passing instance to AuthComponent::storage().</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>ArrayAccess|array</code> <var>$user</var> </dt> <dd><p>User data.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/controllers/components/authentication.html#identifying-users-and-logging-them-in<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="startup()"> startup()   <span class="label">public</span> </h3> <pre data-language="php">startup(Cake\Event\EventInterface $event): Cake\Http\Response|null</pre> <div class="description detailed"> <p>Callback for Controller.startup event.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>Event instance.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Http\Response|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="storage()"> storage()   <span class="label">public</span> </h3> <pre data-language="php">storage(Cake\Auth\Storage\StorageInterface|null $storage = null): Cake\Auth\Storage\StorageInterface|null</pre> <div class="description detailed"> <p>Get/set user record storage object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Auth\Storage\StorageInterface|null</code> <var>$storage</var> <span class="label">optional</span> </dt> <dd><p>Sets provided object as storage or if null returns configured storage object.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Auth\Storage\StorageInterface|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="user()"> user()   <span class="label">public</span> </h3> <pre data-language="php">user(string|null $key = null): mixed|null</pre> <div class="description detailed"> <p>Get the current user from storage.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Field to retrieve. Leave null to get entire User record.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed|null</code><br> </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/controllers/components/authentication.html#accessing-the-logged-in-user<br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$Flash"> <var>$Flash</var>   <span class="label">public</span> <span class="label annotation">@property</span> </h3> <div class="description detailed"> <h4>Type</h4> <div class="list"> <code>Cake\Controller\Component\FlashComponent</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$RequestHandler"> <var>$RequestHandler</var>   <span class="label">public</span> <span class="label annotation">@property</span> </h3> <div class="description detailed"> <h4>Type</h4> <div class="list"> <code>Cake\Controller\Component\RequestHandlerComponent</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_authenticateObjects"> <var>$_authenticateObjects</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Objects that will be used for authentication checks.</p> <h4>Type</h4> <div class="list"> <code>arrayCake\Auth\BaseAuthenticate&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_authenticationProvider"> <var>$_authenticationProvider</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The instance of the Authenticate provider that was used for successfully logging in the current user after calling <code>login()</code> in the same request</p> <h4>Type</h4> <div class="list"> <code>Cake\Auth\BaseAuthenticate|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_authorizationProvider"> <var>$_authorizationProvider</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The instance of the Authorize provider that was used to grant access to the current user to the URL they are requesting.</p> <h4>Type</h4> <div class="list"> <code>Cake\Auth\BaseAuthorize|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_authorizeObjects"> <var>$_authorizeObjects</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Objects that will be used for authorization checks.</p> <h4>Type</h4> <div class="list"> <code>arrayCake\Auth\BaseAuthorize&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_componentMap"> <var>$_componentMap</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>A component lookup table used to lazy load component objects.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, array&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default config</p> <ul> <li>
<code>authenticate</code> - An array of authentication objects to use for authenticating users. You can configure multiple adapters and they will be checked sequentially when users are identified.</li> </ul> <pre data-language="php">$this-&gt;Auth-&gt;setConfig('authenticate', [
     'Form' =&gt; [
        'userModel' =&gt; 'Users.Users'
     ]
  ]);</pre> <p>Using the class name without 'Authenticate' as the key, you can pass in an array of config for each authentication object. Additionally, you can define config that should be set to all authentications objects using the 'all' key:</p> <pre data-language="php">$this-&gt;Auth-&gt;setConfig('authenticate', [
      AuthComponent::ALL =&gt; [
         'userModel' =&gt; 'Users.Users',
         'scope' =&gt; ['Users.active' =&gt; 1]
     ],
    'Form',
    'Basic'
  ]);</pre> <ul> <li>
<code>authorize</code> - An array of authorization objects to use for authorizing users. You can configure multiple adapters and they will be checked sequentially when authorization checks are done.</li> </ul> <pre data-language="php">$this-&gt;Auth-&gt;setConfig('authorize', [
     'Crud' =&gt; [
         'actionPath' =&gt; 'controllers/'
     ]
  ]);</pre> <p>Using the class name without 'Authorize' as the key, you can pass in an array of config for each authorization object. Additionally you can define config that should be set to all authorization objects using the AuthComponent::ALL key:</p> <pre data-language="php">$this-&gt;Auth-&gt;setConfig('authorize', [
     AuthComponent::ALL =&gt; [
         'actionPath' =&gt; 'controllers/'
     ],
     'Crud',
     'CustomAuth'
  ]);</pre> <ul> <li> <p><code>flash</code> - Settings to use when Auth needs to do a flash message with FlashComponent::set(). Available keys are:</p> </li> <li> <p><code>key</code> - The message domain to use for flashes generated by this component, defaults to 'auth'.</p> <ul> <li>
<code>element</code> - Flash element to use, defaults to 'default'.</li> <li>
<code>params</code> - The array of additional params to use, defaults to ['class' =&gt; 'error']</li> </ul> </li> <li> <p><code>loginAction</code> - A URL (defined as a string or array) to the controller action that handles logins. Defaults to <code>/users/login</code>.</p> </li> <li> <p><code>loginRedirect</code> - Normally, if a user is redirected to the <code>loginAction</code> page, the location they were redirected from will be stored in the session so that they can be redirected back after a successful login. If this session value is not set, redirectUrl() method will return the URL specified in <code>loginRedirect</code>.</p> </li> <li> <p><code>logoutRedirect</code> - The default action to redirect to after the user is logged out. While AuthComponent does not handle post-logout redirection, a redirect URL will be returned from <code>AuthComponent::logout()</code>. Defaults to <code>loginAction</code>.</p> </li> <li> <p><code>authError</code> - Error to display when user attempts to access an object or action to which they do not have access.</p> </li> <li> <p><code>unauthorizedRedirect</code> - Controls handling of unauthorized access.</p> </li> <li> <p>For default value <code>true</code> unauthorized user is redirected to the referrer URL or <code>$loginRedirect</code> or '/'.</p> <ul> <li>If set to a string or array the value is used as a URL to redirect to.</li> <li>If set to false a <code>ForbiddenException</code> exception is thrown instead of redirecting.</li> </ul> </li> <li> <p><code>storage</code> - Storage class to use for persisting user record. When using stateless authenticator you should set this to 'Memory'. Defaults to 'Session'.</p> </li> <li> <p><code>checkAuthIn</code> - Name of event for which initial auth checks should be done. Defaults to 'Controller.startup'. You can set it to 'Controller.initialize' if you want the check to be done before controller's beforeFilter() is run.</p> </li> </ul> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_eventClass"> <var>$_eventClass</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default class name for new event objects.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_eventManager"> <var>$_eventManager</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Instance of the Cake\Event\EventManager this object is using to dispatch inner events.</p> <h4>Type</h4> <div class="list"> <code>Cake\Event\EventManagerInterface|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_registry"> <var>$_registry</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Component registry class used to lazy load components.</p> <h4>Type</h4> <div class="list"> <code>Cake\Controller\ComponentRegistry</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_storage"> <var>$_storage</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Storage object.</p> <h4>Type</h4> <div class="list"> <code>Cake\Auth\Storage\StorageInterface|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$allowedActions"> <var>$allowedActions</var>   <span class="label">public</span> </h3> <div class="description detailed"> <p>Controller actions for which user validation is not required.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$components"> <var>$components</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Other components utilized by AuthComponent</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
     2005present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Controller.Component.AuthComponent.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Controller.Component.AuthComponent.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
