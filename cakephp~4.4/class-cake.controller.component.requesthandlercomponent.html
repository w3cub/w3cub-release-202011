
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>RequestHandlerComponent (Class) - CakePHP 4.4 - W3cubDocs</title>
  
  <meta name="description" content=" Request object handling for alternative HTTP requests. ">
  <meta name="keywords" content="class, requesthandlercomponent, cakephp, cakephp~4.4">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cakephp~4.4/class-cake.controller.component.requesthandlercomponent.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/cakephp~4.4.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~4.4/" class="_nav-link" title="" style="margin-left:0;">CakePHP 4.4</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1> Class <div class="deprecated" style="display: inline">RequestHandlerComponent</div>  </h1> <div class="description"> <p>Request object handling for alternative HTTP requests.</p> <p>This Component checks for requests for different content types like JSON, XML, XMLHttpRequest(AJAX) and configures the response object and view builder accordingly.</p> <p>It can also check for HTTP caching headers like <code>Last-Modified</code>, <code>If-Modified-Since</code> etc. and return a response accordingly.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.controller.component">Cake\Controller\Component</a><br> <b style="color: #be0000">Deprecated:</b> 4.4.0 See the 4.4 migration guide for how to upgrade. https://book.cakephp.org/4/en/appendices/4-4-migration-guide.html#requesthandlercomponent<br> <b>Link:</b> https://book.cakephp.org/4/en/controllers/components/request-handling.html<br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_componentMap">$_componentMap</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, array&gt;</code></div> <div class="description"> <p>A component lookup table used to lazy load component objects.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Default config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_registry">$_registry</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Controller\ComponentRegistry</code></div> <div class="description"> <p>Component registry class used to lazy load components.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_renderType">$_renderType</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>The template type to use when rendering the given content type.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24components">$components</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Other Components this component uses.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24ext">$ext</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>Contains the file extension parsed out by the Router</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor. Parses the accepted content types accepted by the client using HTTP_ACCEPT</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__debugInfo()">__debugInfo()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__get()">__get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Magic method for lazy loading $components.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configDelete()">_configDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configRead()">_configRead()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configWrite()">_configWrite()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Writes a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_setExtension()">_setExtension()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Set the extension based on the <code>Accept</code> header or URL extension.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#accepts()">accepts()</a> <span class="label">public</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Determines which content types the client accepts. Acceptance is based on the file extension parsed by the Router (if present), and by the HTTP_ACCEPT header. Unlike {@link \Cake\Http\ServerRequest::accepts()} this method deals entirely with mapped content types.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#beforeRender()">beforeRender()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks if the response can be considered different according to the request headers, and the caching response headers. If it was not modified, then the render process is skipped. And the client will get a blank response with a "304 Not Modified" header.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configShallow()">configShallow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getController()">getController()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the controller this component is bound to.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#implementedEvents()">implementedEvents()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Events supported by this component.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#initialize()">initialize()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor hook method.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#log()">log()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Convenience method to write a message to Log. See Log::write() for more information on writing to logs.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#mapAlias()">mapAlias()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Maps a content type alias back to its mime-type(s)</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#prefers()">prefers()</a> <span class="label">public</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Determines which content-types the client prefers. If no parameters are given, the single content-type that the client most likely prefers is returned. If $type is an array, the first item in the array that the client accepts is returned. Preference is determined primarily by the file extension parsed by the Router if provided, and secondarily by the list of content-types provided in HTTP_ACCEPT.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#renderAs()">renderAs()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets either the view class if one exists or the layout and template path of the view. The names of these are derived from the $type input parameter.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#requestedWith()">requestedWith()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Determines the content type of the data the client has sent (i.e. in a POST request)</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#respondAs()">respondAs()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the response header based on type map index name. This wraps several methods available on {@link \Cake\Http\Response}. It also allows you to use Content-Type aliases.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#startup()">startup()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>The startup method of the RequestHandler enables several automatic behaviors related to the detection of certain properties of the HTTP request, including:</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(Cake\Controller\ComponentRegistry $registry, array&lt;string, mixed&gt; $config = [])</pre> <div class="description detailed"> <p>Constructor. Parses the accepted content types accepted by the client using HTTP_ACCEPT</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\ComponentRegistry</code> <var>$registry</var> </dt> <dd><p>ComponentRegistry object.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>Array of config.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__debugInfo()"> __debugInfo()   <span class="label">public</span> </h3> <pre data-language="php">__debugInfo(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__get()"> __get()   <span class="label">public</span> </h3> <pre data-language="php">__get(string $name): Cake\Controller\Component|null</pre> <div class="description detailed"> <p>Magic method for lazy loading $components.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Name of component to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Controller\Component|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete()"> _configDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_configDelete(string $key): void</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead()"> _configRead()   <span class="label">protected</span> </h3> <pre data-language="php">_configRead(string|null $key): mixed</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite()"> _configWrite()   <span class="label">protected</span> </h3> <pre data-language="php">_configWrite(array&lt;string, mixed&gt;|string $key, mixed $value, string|bool $merge = false): void</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>string|bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_setExtension()"> _setExtension()   <span class="label">protected</span> </h3> <pre data-language="php">_setExtension(Cake\Http\ServerRequest $request, Cake\Http\Response $response): void</pre> <div class="description detailed"> <p>Set the extension based on the <code>Accept</code> header or URL extension.</p> <p>Compares the accepted types and configured extensions. If there is one common type, that is assigned as the ext/content type for the response. The type with the highest weight will be set. If the highest weight has more than one type matching the extensions, the order in which extensions are specified determines which type will be set.</p> <p>If html is one of the preferred types, no content type will be set, this is to avoid issues with browsers that prefer HTML and several other content types.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Http\ServerRequest</code> <var>$request</var> </dt> <dd><p>The request instance.</p></dd> <dt> <code>Cake\Http\Response</code> <var>$response</var> </dt> <dd><p>The response instance.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="accepts()"> accepts()   <span class="label">public</span> </h3> <pre data-language="php">accepts(array&lt;string&gt;|string|null $type = null): array|bool|string|null</pre> <div class="description detailed"> <p>Determines which content types the client accepts. Acceptance is based on the file extension parsed by the Router (if present), and by the HTTP_ACCEPT header. Unlike {@link \Cake\Http\ServerRequest::accepts()} this method deals entirely with mapped content types.</p> <p>Usage:</p> <pre data-language="php">$this-&gt;RequestHandler-&gt;accepts(['xml', 'html', 'json']);</pre> <p>Returns true if the client accepts any of the supplied types.</p> <pre data-language="php">$this-&gt;RequestHandler-&gt;accepts('xml');</pre> <p>Returns true if the client accepts XML.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>Can be null (or no parameter), a string type name, or an array of types</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|bool|string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="beforeRender()"> beforeRender()   <span class="label">public</span> </h3> <pre data-language="php">beforeRender(Cake\Event\EventInterface $event): void</pre> <div class="description detailed"> <p>Checks if the response can be considered different according to the request headers, and the caching response headers. If it was not modified, then the render process is skipped. And the client will get a blank response with a "304 Not Modified" header.</p> <ul> <li>If Router::extensions() is enabled, the layout and template type are switched based on the parsed extension or <code>Accept</code> header. For example, if <code>controller/action.xml</code> is requested, the view path becomes <code>templates/Controller/xml/action.php</code>. Also, if <code>controller/action</code> is requested with <code>Accept: application/xml</code> in the headers the view path will become <code>templates/Controller/xml/action.php</code>. Layout and template types will only switch to mime-types recognized by \Cake\Http\Response. If you need to declare additional mime-types, you can do so using {@link \Cake\Http\Response::setTypeMap()} in your controller's beforeFilter() method.</li> <li>If a helper with the same name as the extension exists, it is added to the controller.</li> <li>If the extension is of a type that RequestHandler understands, it will set that Content-type in the response header.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>The Controller.beforeRender event.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Http\Exception\NotFoundException</code><br> If invoked extension is not configured. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow()"> configShallow()   <span class="label">public</span> </h3> <pre data-language="php">configShallow(array&lt;string, mixed&gt;|string $key, mixed|null $value = null): $this</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> </h3> <pre data-language="php">getConfig(string|null $key = null, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getController()"> getController()   <span class="label">public</span> </h3> <pre data-language="php">getController(): Cake\Controller\Controller</pre> <div class="description detailed"> <p>Get the controller this component is bound to.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Controller\Controller</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="implementedEvents()"> implementedEvents()   <span class="label">public</span> </h3> <pre data-language="php">implementedEvents(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Events supported by this component.</p> <p>Uses Conventions to map controller events to standard component callback method names. By defining one of the callback methods a component is assumed to be interested in the related event.</p> <p>Override this method if you need to add non-conventional event listeners. Or if you want components to listen to non-standard events.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="initialize()"> initialize()   <span class="label">public</span> </h3> <pre data-language="php">initialize(array&lt;string, mixed&gt; $config): void</pre> <div class="description detailed"> <p>Constructor hook method.</p> <p>Implement this method to avoid having to overwrite the constructor and call parent.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> </dt> <dd><p>The configuration settings provided to this component.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="log()"> log()   <span class="label">public</span> </h3> <pre data-language="php">log(string $message, string|int $level = LogLevel::ERROR, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to write a message to Log. See Log::write() for more information on writing to logs.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>Log message.</p></dd> <dt> <code>string|int</code> <var>$level</var> <span class="label">optional</span> </dt> <dd><p>Error level.</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional log data relevant to this message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="mapAlias()"> mapAlias()   <span class="label">public</span> </h3> <pre data-language="php">mapAlias(array|string $alias): array|string|null</pre> <div class="description detailed"> <p>Maps a content type alias back to its mime-type(s)</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$alias</var> </dt> <dd><p>String alias to convert back into a content type. Or an array of aliases to map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="prefers()"> prefers()   <span class="label">public</span> </h3> <pre data-language="php">prefers(array&lt;string&gt;|string|null $type = null): string|bool|null</pre> <div class="description detailed"> <p>Determines which content-types the client prefers. If no parameters are given, the single content-type that the client most likely prefers is returned. If $type is an array, the first item in the array that the client accepts is returned. Preference is determined primarily by the file extension parsed by the Router if provided, and secondarily by the list of content-types provided in HTTP_ACCEPT.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>An optional array of 'friendly' content-type names, i.e. 'html', 'xml', 'js', etc.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|bool|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="renderAs()"> renderAs()   <span class="label">public</span> </h3> <pre data-language="php">renderAs(Cake\Controller\Controller $controller, string $type, array&lt;string, mixed&gt; $options = []): void</pre> <div class="description detailed"> <p>Sets either the view class if one exists or the layout and template path of the view. The names of these are derived from the $type input parameter.</p> <h3>Usage:</h3> <p>Render the response as an 'ajax' response.</p> <pre data-language="php">$this-&gt;RequestHandler-&gt;renderAs($this, 'ajax');</pre> <p>Render the response as an XML file and force the result as a file download.</p> <pre data-language="php">$this-&gt;RequestHandler-&gt;renderAs($this, 'xml', ['attachment' =&gt; 'myfile.xml'];</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Controller\Controller</code> <var>$controller</var> </dt> <dd><p>A reference to a controller object</p></dd> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>Type of response to send (e.g: 'ajax')</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Array of options to use</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Controller\Component\RequestHandlerComponent::respondAs() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="requestedWith()"> requestedWith()   <span class="label">public</span> </h3> <pre data-language="php">requestedWith(array&lt;string&gt;|string|null $type = null): mixed</pre> <div class="description detailed"> <p>Determines the content type of the data the client has sent (i.e. in a POST request)</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>Can be null (or no parameter), a string type name, or an array of types</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="respondAs()"> respondAs()   <span class="label">public</span> </h3> <pre data-language="php">respondAs(string $type, array&lt;string, mixed&gt; $options = []): bool</pre> <div class="description detailed"> <p>Sets the response header based on type map index name. This wraps several methods available on {@link \Cake\Http\Response}. It also allows you to use Content-Type aliases.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>Friendly type name, i.e. 'html' or 'xml', or a full content-type, like 'application/x-shockwave'.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>If $type is a friendly type name that is associated with more than one type of content, $index is used to select which content-type to use.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, mixed|null $value = null, bool $merge = true): $this</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="startup()"> startup()   <span class="label">public</span> </h3> <pre data-language="php">startup(Cake\Event\EventInterface $event): void</pre> <div class="description detailed"> <p>The startup method of the RequestHandler enables several automatic behaviors related to the detection of certain properties of the HTTP request, including:</p> <p>If the XML data is POSTed, the data is parsed into an XML object, which is assigned to the $data property of the controller, which can then be saved to a model object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>The startup event that was fired.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_componentMap"> <var>$_componentMap</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>A component lookup table used to lazy load component objects.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, array&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default config</p> <p>These are merged with user-provided config when the component is used.</p> <ul> <li>
<code>checkHttpCache</code> - Whether to check for HTTP cache. Default <code>true</code>.</li> <li>
<code>viewClassMap</code> - Mapping between type and view classes. If undefined JSON, XML, and AJAX will be mapped. Defining any types will omit the defaults.</li> </ul> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_registry"> <var>$_registry</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Component registry class used to lazy load components.</p> <h4>Type</h4> <div class="list"> <code>Cake\Controller\ComponentRegistry</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_renderType"> <var>$_renderType</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The template type to use when rendering the given content type.</p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$components"> <var>$components</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Other Components this component uses.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$ext"> <var>$ext</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Contains the file extension parsed out by the Router</p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Controller.Component.RequestHandlerComponent.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Controller.Component.RequestHandlerComponent.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
