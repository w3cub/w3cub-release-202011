
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>HTTP Client - Handle Request Errors - Angular - W3cubDocs</title>
  
  <meta name="description" content=" If the request fails on the server, HttpClient returns an error object instead of a successful response. ">
  <meta name="keywords" content="http, client, handle, request, errors, angular">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/angular/guide/http-handle-request-errors.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/angular.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular/" class="_nav-link" title="" style="margin-left:0;">Angular</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="http-client---handle-request-errors">HTTP client - Handle request errors</h1> <p>If the request fails on the server, <code><a href="../api/common/http/httpclient" class="code-anchor">HttpClient</a></code> returns an <em>error</em> object instead of a successful response.</p> <p>The same service that performs your server transactions should also perform error inspection, interpretation, and resolution.</p> <p>When an error occurs, you can obtain details of what failed to inform your user. In some cases, you might also automatically <a href="http-handle-request-errors#retry">retry the request</a>.</p>  <h2 id="getting-error-details">Getting error details</h2> <p>An app should give the user useful feedback when data access fails. A raw error object is not particularly useful as feedback. In addition to detecting that an error has occurred, you need to get error details and use those details to compose a user-friendly response.</p> <p>Two types of errors can occur.</p> <ul> <li> <p>The server backend might reject the request, returning an HTTP response with a status code such as 404 or 500. These are error <em>responses</em>.</p> </li> <li> <p>Something could go wrong on the client-side such as a network error that prevents the request from completing successfully or an exception thrown in an RxJS operator. These errors have <code>status</code> set to <code>0</code> and the <code>error</code> property contains a <code>ProgressEvent</code> object, whose <code>type</code> might provide further information.</p> </li> </ul> <p><code><a href="../api/common/http/httpclient" class="code-anchor">HttpClient</a></code> captures both kinds of errors in its <code><a href="../api/common/http/httperrorresponse" class="code-anchor">HttpErrorResponse</a></code>. Inspect that response to identify the error's cause.</p> <p>The following example defines an error handler in the previously defined ConfigService.</p> <pre header="app/config/config.service.ts (handleError)" data-language="typescript">private handleError(error: HttpErrorResponse) {
  if (error.status === 0) {
    // A client-side or network error occurred. Handle it accordingly.
    console.error('An error occurred:', error.error);
  } else {
    // The backend returned an unsuccessful response code.
    // The response body may contain clues as to what went wrong.
    console.error(
      `Backend returned code ${error.status}, body was: `, error.error);
  }
  // Return an observable with a user-facing error message.
  return throwError(() =&gt; new Error('Something bad happened; please try again later.'));
}</pre> <p>The handler returns an RxJS <code>ErrorObservable</code> with a user-friendly error message. The following code updates the <code>getConfig()</code> method, using a <a href="pipes" title="Pipes guide">pipe</a> to send all observables returned by the <code><a href="../api/common/http/httpclient#get" class="code-anchor">HttpClient.get()</a></code> call to the error handler.</p> <pre header="app/config/config.service.ts (getConfig v.3 with error handler)" data-language="typescript">getConfig() {
  return this.http.get&lt;Config&gt;(this.configUrl)
    .pipe(
      catchError(this.handleError)
    );
}</pre>  <h2 id="retrying-a-failed-request">Retrying a failed request</h2> <p>Sometimes the error is transient and goes away automatically if you try again. For example, network interruptions are common in mobile scenarios, and trying again can produce a successful result.</p> <p>The <a href="rx-library">RxJS library</a> offers several <em>retry</em> operators. For example, the <code>retry()</code> operator automatically re-subscribes to a failed <code>Observable</code> a specified number of times. <em>Re-subscribing</em> to the result of an <code><a href="../api/common/http/httpclient" class="code-anchor">HttpClient</a></code> method call has the effect of reissuing the HTTP request.</p> <p>The following example shows how to pipe a failed request to the <code>retry()</code> operator before passing it to the error handler.</p> <pre header="app/config/config.service.ts (getConfig with retry)" data-language="typescript">getConfig() {
  return this.http.get&lt;Config&gt;(this.configUrl)
    .pipe(
      retry(3), // retry a failed request up to 3 times
      catchError(this.handleError) // then handle the error
    );
}</pre> <h2 id="sending-data-to-a-server">Sending data to a server</h2> <p>In addition to fetching data from a server, <code><a href="../api/common/http/httpclient" class="code-anchor">HttpClient</a></code> supports other HTTP methods such as PUT, POST, and DELETE, which you can use to modify the remote data.</p> <p>The sample app for this guide includes an abridged version of the "Tour of Heroes" example that fetches heroes and enables users to add, delete, and update them. The following sections show examples of the data-update methods from the sample's <code>HeroesService</code>.</p> <div class="reviewed">Last reviewed on Mon Feb 27 2023</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/http-handle-request-errors" class="_attribution-link">https://angular.io/guide/http-handle-request-errors</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
