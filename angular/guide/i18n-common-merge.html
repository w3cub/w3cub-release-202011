
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Merge Translations Into the Application - Angular - W3cubDocs</title>
  
  <meta name="description" content=" To merge the completed translations into your project, complete the following actions ">
  <meta name="keywords" content="merge, translations, into, application, angular">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/angular/guide/i18n-common-merge.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/angular.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular/" class="_nav-link" title="" style="margin-left:0;">Angular</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="merge-translations-into-the-application">Merge translations into the application</h1> <p>To merge the completed translations into your project, complete the following actions</p> <ol> <li>Use the <a href="cli" title="CLI Overview and Command Reference | Angular">Angular CLI</a> to build a copy of the distributable files of your project</li> <li>Use the <code>"localize"</code> option to replace all of the i18n messages with the valid translations and build a localized variant application. A variant application is a complete a copy of the distributable files of your application translated for a single locale.</li> </ol> <p>After you merge the translations, serve each distributable copy of the application using server-side language detection or different subdirectories.</p> <blockquote class="alert is-helpful"> <p>For more information about how to serve each distributable copy of the application, see <a href="i18n-common-deploy" title="Deploy multiple locales | Angular">deploying multiple locales</a>.</p> </blockquote> <p>For a compile-time translation of the application, the build process uses <a href="glossary#ahead-of-time-aot-compilation" title="ahead-of-time (AOT) compilation - Glossary | Angular">ahead-of-time (AOT) compilation</a> to produce a small, fast, ready-to-run application.</p> <blockquote class="alert is-helpful"> <p>For a detailed explanation of the build process, see <a href="build" title="Building and serving Angular apps | Angular">Building and serving Angular apps</a>. The build process works for translation files in the <code>.xlf</code> format or in another format that Angular understands, such as <code>.xtb</code>. For more information about translation file formats used by Angular, see <a href="i18n-common-translation-files#change-the-source-language-file-format" title="Change the source language file format - Work with translation files | Angular">Change the source language file format</a></p> </blockquote> <p>To build a separate distributable copy of the application for each locale, <a href="i18n-common-merge#define-locales-in-the-build-configuration" title="Define locales in the build configuration - Merge translations into the application | Angular">define the locales in the build configuration</a> in the <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file of your project.</p> <p>This method shortens the build process by removing the requirement to perform a full application build for each locale.</p> <p>To <a href="i18n-common-merge#generate-application-variants-for-each-locale" title="Generate application variants for each locale - Merge translations into the application | Angular">generate application variants for each locale</a>, use the <code>"localize"</code> option in the <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file. Also, to <a href="i18n-common-merge#build-from-the-command-line" title="Build from the command line - Merge translations into the application | Angular">build from the command line</a>, use the <a href="cli/build" title="ng build | CLI | Angular"><code>build</code></a> <a href="cli" title="CLI Overview and Command Reference | Angular">Angular CLI</a> command with the <code>--localize</code> option.</p> <blockquote class="alert is-helpful"> <p>Optionally, <a href="i18n-common-merge#apply-specific-build-options-for-just-one-locale" title="Apply specific build options for just one locale - Merge translations into the application | Angular">apply specific build options for just one locale</a> for a custom locale configuration.</p> </blockquote> <h2 id="define-locales-in-the-build-configuration">Define locales in the build configuration</h2> <p>Use the <code>i18n</code> project option in the <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file of your project to define locales for a project.</p> <p>The following sub-options identify the source language and tell the compiler where to find supported translations for the project.</p> <table> <thead> <tr> <th align="left">Suboption</th> <th align="left">Details</th> </tr> </thead> <tbody> <tr> <td align="left"><code>sourceLocale</code></td> <td align="left">The locale you use within the application source code (<code>en-US</code> by default)</td> </tr> <tr> <td align="left"><code>locales</code></td> <td align="left">A map of locale identifiers to translation files</td> </tr> </tbody> </table> <h3 id="angularjson-for-en-us-and-fr-example">
<code>angular.json</code> for <code>en-US</code> and <code>fr</code> example</h3> <p>For example, the following excerpt of an <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file sets the source locale to <code>en-US</code> and provides the path to the French (<code>fr</code>) locale translation file.</p> <pre header="angular.json" data-language="json">"projects": {
    "angular.io-example": {
      // ...
      "i18n": {
        "sourceLocale": "en-US",
        "locales": {
          "fr": {
            "translation": "src/locale/messages.fr.xlf",
            // ...
          }
        }
      },
      "architect": {
        // ...
      }
    }
  }
}</pre> <h2 id="generate-application-variants-for-each-locale">Generate application variants for each locale</h2> <p>To use your locale definition in the build configuration, use the <code>"localize"</code> option in the <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file to tell the CLI which locales to generate for the build configuration.</p> <ul> <li>Set <code>"localize"</code> to <code>true</code> for all the locales previously defined in the build configuration.</li> <li>Set <code>"localize"</code> to an array of a subset of the previously defined locale identifiers to build only those locale versions.</li> <li>Set <code>"localize"</code> to <code>false</code> to disable localization and not generate any locale-specific versions.</li> </ul> <blockquote class="alert is-helpful"> <p><strong>NOTE</strong>:  <a href="glossary#ahead-of-time-aot-compilation" title="ahead-of-time (AOT) compilation - Glossary | Angular">Ahead-of-time (AOT) compilation</a> is required to localize component templates.</p> <p>If you changed this setting, set <code>"aot"</code> to <code>true</code> in order to use AOT.</p> </blockquote> <blockquote class="alert is-helpful"> <p>Due to the deployment complexities of i18n and the need to minimize rebuild time, the development server only supports localizing a single locale at a time. If you set the <code>"localize"</code> option to <code>true</code>, define more than one locale, and use <code>ng serve</code>; then an error occurs. If you want to develop against a specific locale, set the <code>"localize"</code> option to a specific locale. For example, for French (<code>fr</code>), specify <code>"localize": ["fr"]</code>.</p> </blockquote> <p>The CLI loads and registers the locale data, places each generated version in a locale-specific directory to keep it separate from other locale versions, and puts the directories within the configured <code>outputPath</code> for the project. For each application variant the <code>lang</code> attribute of the <code>html</code> element is set to the locale. The CLI also adjusts the HTML base HREF for each version of the application by adding the locale to the configured <code>baseHref</code>.</p> <p>Set the <code>"localize"</code> property as a shared configuration to effectively inherit for all the configurations. Also, set the property to override other configurations.</p> <h3 id="angularjson-include-all-locales-from-build-example">
<code>angular.json</code> include all locales from build example</h3> <p>The following example displays the <code>"localize"</code> option set to <code>true</code> in the <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file, so that all locales defined in the build configuration are built.</p> <pre header="angular.json" data-language="json">"build": {
  "builder": "@angular-devkit/build-angular:browser",
  "options": {
    "localize": true,
    // ...
  },</pre> <h2 id="build-from-the-command-line">Build from the command line</h2> <p>Also, use the <code>--localize</code> option with the <a href="cli/build" title="ng build | CLI | Angular"><code>ng build</code></a> command and your existing <code>production</code> configuration. The CLI builds all locales defined in the build configuration. If you set the locales in build configuration, it is similar to when you set the <code>"localize"</code> option to <code>true</code>.</p> <blockquote class="alert is-helpful"> <p>For more information about how to set the locales, see <a href="i18n-common-merge#generate-application-variants-for-each-locale" title="Generate application variants for each locale - Merge translations into the application | Angular">Generate application variants for each locale</a>.</p> </blockquote> <pre>ng build --localize</pre> <h2 id="apply-specific-build-options-for-just-one-locale">Apply specific build options for just one locale</h2> <p>To apply specific build options to only one locale, specify a single locale to create a custom locale-specific configuration.</p> <blockquote class="alert is-important"> <p>Use the <a href="cli" title="CLI Overview and Command Reference | Angular">Angular CLI</a> development server (<code>ng serve</code>) with only a single locale.</p> </blockquote> <h3 id="build-for-french-example">build for French example</h3> <p>The following example displays a custom locale-specific configuration using a single locale.</p> <pre header="angular.json" data-language="json">"build": {
    // ...
    "configurations": {
      // ...
      "fr": {
        "localize": ["fr"]
      }
    },
    // ...
  },
  "serve": {
    "builder": "@angular-devkit/build-angular:dev-server",
    "configurations": {
      // ...
      "fr": {
        "browserTarget": "angular.io-example:build:development,fr"
      }
    },
    // ...
  },
  // ...
}</pre> <p>Pass this configuration to the <code>ng serve</code> or <code>ng build</code> commands. The following code example displays how to serve the French language file.</p> <pre>ng serve --configuration=fr</pre> <p>For production builds, use configuration composition to run both configurations.</p> <pre>ng build --configuration=production,fr</pre> <pre header="angular.json" data-language="json">"architect": {
  "build": {
    "builder": "@angular-devkit/build-angular:browser",
    "options": {
      // ...
    },
    "configurations": {
      // ...
      "fr": {
        "localize": ["fr"]
      }
    },
    // ...
  },
  "serve": {
    "builder": "@angular-devkit/build-angular:dev-server",
    "configurations": {
      "production": {
        "browserTarget": "angular.io-example:build:production"
      },
      // ...
      "fr": {
        "browserTarget": "angular.io-example:build:development,fr"
      }
    },
    // ...
  },
  // ...
}</pre> <h2 id="report-missing-translations">Report missing translations</h2> <p>When a translation is missing, the build succeeds but generates a warning such as <code>Missing translation for message "{translation_text}"</code>. To configure the level of warning that is generated by the Angular compiler, specify one of the following levels.</p> <table> <thead> <tr> <th align="left">Warning level</th> <th align="left">Details</th> <th align="left">Output</th> </tr> </thead> <tbody> <tr> <td align="left"><code>error</code></td> <td align="left">Throw an error and the build fails</td> <td align="left">n/a</td> </tr> <tr> <td align="left"><code>ignore</code></td> <td align="left">Do nothing</td> <td align="left">n/a</td> </tr> <tr> <td align="left"><code>warning</code></td> <td align="left">Displays the default warning in the console or shell</td> <td align="left"><code>Missing translation for message "{translation_text}"</code></td> </tr> </tbody> </table> <p>Specify the warning level in the <code>options</code> section for the <code>build</code> target of your <a href="workspace-config" title="Angular workspace configuration | Angular"><code>angular.json</code></a> workspace build configuration file.</p> <h3 id="angularjson-error-warning-example">
<code>angular.json</code> <code>error</code> warning example</h3> <p>The following example displays how to set the warning level to <code>error</code>.</p> <pre header="angular.json" data-language="json">"build": {
  "builder": "@angular-devkit/build-angular:browser",
  "options": {
    // ...
    "i18nMissingTranslation": "error"
  },</pre> <blockquote class="alert is-helpful"> <p>When you compile your Angular project into an Angular application, the instances of the <code>i18n</code> attribute are replaced with instances of the <a href="../api/localize/init/%24localize" title="$localize | init - localize - API | Angular"><code>$localize</code></a> tagged message string. This means that your Angular application is translated after compilation. This also means that you can create localized versions of your Angular application without re-compiling your entire Angular project for each locale.</p> <p>When you translate your Angular application, the <em>translation transformation</em> replaces and reorders the parts (static strings and expressions) of the template literal string with strings from a collection of translations. For more information, see <a href="../api/localize/init/%24localize" title="$localize | init - localize - API | Angular"><code>$localize</code></a>.</p> <blockquote class="alert is-helpful"> <p><strong>tldr;</strong></p> <p>Compile once, then translate for each locale.</p> </blockquote> </blockquote> <h2 id="whats-next">What's next</h2> <ul> <li><a href="i18n-common-deploy" title="Deploy multiple locales | Angular">Deploy multiple locales</a></li> </ul>    <div class="reviewed">Last reviewed on Mon Feb 28 2022</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/i18n-common-merge" class="_attribution-link">https://angular.io/guide/i18n-common-merge</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
