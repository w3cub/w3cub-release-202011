
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>HTTP&#58; Make a JSONP Request - Angular - W3cubDocs</title>
  
  <meta name="description" content="“JSON with Padding” (JSONP) is a method to deceive a web browser into carrying out requests with a &#60;script&#62; tag that uses the SRC attribute &hellip;">
  <meta name="keywords" content="http, make, jsonp, request, angular">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/angular/guide/http-make-jsonp-request.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/angular.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular/" class="_nav-link" title="" style="margin-left:0;">Angular</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="http-make-a-jsonp-request">HTTP: Make a JSONP request</h1> <p>“JSON with Padding” (JSONP) is a method to deceive a web browser into carrying out requests with a <code>&lt;script&gt;</code> tag that uses the SRC attribute to make a special API request.</p> <p>Apps can use the <code><a href="../api/common/http/httpclient" class="code-anchor">HttpClient</a></code> to make <a href="https://en.wikipedia.org/wiki/JSONP">JSONP</a> requests across domains when a server doesn't support <a href="https://developer.mozilla.org/docs/Web/HTTP/CORS">CORS protocol</a>.</p> <p>Angular JSONP requests return an <code>Observable</code>. Follow the pattern for subscribing to observables and use the RxJS <code>map</code> operator to transform the response before using the <a href="../api/common/asyncpipe">async pipe</a> to manage the results.</p> <p>In Angular, use JSONP by including <code><a href="../api/common/http/httpclientjsonpmodule" class="code-anchor">HttpClientJsonpModule</a></code> in the <code><a href="../api/core/ngmodule" class="code-anchor">NgModule</a></code> imports. In the following example, the <code>searchHeroes()</code> method uses a JSONP request to query for heroes whose names contain the search term.</p> <pre format="typescript" data-language="typescript">/* GET heroes whose name contains search term */
searchHeroes(term: string): Observable {
  term = term.trim();

  const heroesURL = `${this.heroesURL}?${term}`;
  return this.http.jsonp(heroesUrl, 'callback').pipe(
      catchError(this.handleError('searchHeroes', [])) // then handle the error
    );
}</pre> <p>This request passes the <code>heroesURL</code> as the first parameter and the callback function name as the second parameter. The response is wrapped in the callback function, which takes the observables returned by the JSONP method and pipes them through to the error handler.</p> <h2 id="request-non-json-data">Request non-JSON data</h2> <p>Not all APIs return JSON data. In this next example, a <code>DownloaderService</code> method reads a text file from the server and logs the file contents, before returning those contents to the caller as an <code>Observable&lt;string&gt;</code>.</p> <pre header="app/downloader/downloader.service.ts (getTextFile)" data-language="typescript">getTextFile(filename: string) {
  // The Observable returned by get() is of type Observable&lt;string&gt;
  // because a text response was specified.
  // There's no need to pass a &lt;string&gt; type parameter to get().
  return this.http.get(filename, {responseType: 'text'})
    .pipe(
      tap( // Log the result or error
      {
        next: (data) =&gt; this.log(filename, data),
        error: (error) =&gt; this.logError(filename, error)
      }
      )
    );
}</pre> <p><code><a href="../api/common/http/httpclient#get" class="code-anchor">HttpClient.get()</a></code> returns a string rather than the default JSON because of the <code>responseType</code> option.</p> <p>The RxJS <code>tap</code> operator lets the code inspect both success and error values passing through the observable without disturbing them.</p> <p>A <code>download()</code> method in the <code>DownloaderComponent</code> initiates the request by subscribing to the service method.</p> <pre header="app/downloader/downloader.component.ts (download)" data-language="typescript">download() {
  this.downloaderService.getTextFile('assets/textfile.txt')
    .subscribe(results =&gt; this.contents = results);
}</pre>  <div class="reviewed">Last reviewed on Thu Nov 03 2022</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/http-make-jsonp-request" class="_attribution-link">https://angular.io/guide/http-make-jsonp-request</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
