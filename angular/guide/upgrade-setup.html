
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Setup for Upgrading From AngularJS - Angular - W3cubDocs</title>
  
  <meta name="description" content="Audience&#58; Use this guide only in the context of Upgrading from AngularJS or Upgrading for Performance. Those Upgrade guides refer to this Setup &hellip;">
  <meta name="keywords" content="setup, for, upgrading, from, angularjs, angular">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/angular/guide/upgrade-setup.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/angular.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular/" class="_nav-link" title="" style="margin-left:0;">Angular</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="setup-for-upgrading-from-angularjs">Setup for upgrading from AngularJS</h1>  <blockquote class="alert is-critical"> <p><strong>Audience:</strong> Use this guide <strong>only</strong> in the context of <a href="upgrade" title="Upgrading from AngularJS to Angular">Upgrading from AngularJS</a> or <a href="upgrade-performance" title="Upgrading for Performance">Upgrading for Performance</a>. Those Upgrade guides refer to this Setup guide for information about using the <a href="https://github.com/angular/quickstart" title="Deprecated Angular QuickStart GitHub repository">deprecated QuickStart GitHub repository</a>, which was created prior to the current Angular <a href="cli" title="CLI Overview">CLI</a>.</p> <p><strong>For all other scenarios,</strong> see the current instructions in <a href="setup-local" title="Setting up for Local Development">Setting up the Local Environment and Workspace</a>.</p> </blockquote>  <p>This guide describes how to develop locally on your own machine. Setting up a new project on your machine is quick and easy with the <a href="https://github.com/angular/quickstart" title="Install the github QuickStart repo">QuickStart seed on github</a>.</p> <p><strong>Prerequisite:</strong> Make sure you have <a href="setup-local#prerequisites" title="Angular prerequisites">Node.js® and npm installed</a>.</p>  <h2 id="clone">Clone</h2> <p>Perform the <em>clone-to-launch</em> steps with these terminal commands.</p> <pre data-language="sh">git clone https://github.com/angular/quickstart.git quickstart
  cd quickstart
  npm install</pre>  <h2 id="download">Download</h2> <p><a href="https://github.com/angular/quickstart/archive/master.zip" title="Download the QuickStart seed repository">Download the QuickStart seed</a> and unzip it into your project folder. Then perform the remaining steps with these terminal commands.</p> <pre data-language="sh">cd quickstart
  npm install</pre>  <h2 id="delete-non-essential-files-optional">Delete <code>non-essential</code> files (optional)</h2> <p>You can quickly delete the <em>non-essential</em> files that concern testing and QuickStart repository maintenance (<strong><em>including all git-related artifacts</em></strong> such as the <code>.git</code> folder and <code>.gitignore</code>!).</p> <blockquote class="alert is-important"> <p>Do this only in the beginning to avoid accidentally deleting your own tests and git setup!</p> </blockquote> <p>Open a terminal window in the project folder and enter the following commands for your environment:</p> <h3 id="osx-bash">OS/X (bash)</h3> <pre data-language="sh">xargs rm -rf &lt; non-essential-files.osx.txt
  rm src/app/*.spec*.ts
  rm non-essential-files.osx.txt</pre> <h3 id="windows">Windows</h3> <pre data-language="sh">for /f %i in (non-essential-files.txt) do del %i /F /S /Q
  rd .git /s /q
  rd e2e /s /q</pre> <h2 id="update-dependency-versions">Update dependency versions</h2> <p>Since the quickstart repository is deprecated, it is no longer updated and you need some additional steps to use the latest Angular.</p> <ol> <li> <p>Remove the obsolete <code>@angular/<a href="../api/common/http" class="code-anchor">http</a></code> package (both from <code>package.json &gt; dependencies</code> and <code>src/systemjs.config.js &gt; SystemJS.config() &gt; map</code>).</p> </li> <li> <p>Install the latest versions of the Angular framework packages by running:</p> <pre data-language="sh">npm install --save @angular/common@latest @angular/compiler@latest @angular/core@latest @angular/forms@latest @angular/platform-browser@latest @angular/platform-browser-dynamic@latest @angular/router@latest</pre> </li> <li> <p>Install the latest versions of other packages used by Angular (RxJS, TypeScript, Zone.js) by running:</p> <pre data-language="sh">npm install --save rxjs@latest zone.js@latest
npm install --save-dev typescript@latest</pre> </li> <li> <p>Install the <code>systemjs-plugin-babel</code> package. This will later be used to load the Angular framework files, which are in ES2015 format, using SystemJS.</p> <pre data-language="sh">npm install --save systemjs-plugin-babel@latest</pre> </li> <li> <p>In order to be able to load the latest Angular framework packages (in ES2015 format) correctly, replace the relevant entries in <code>src/systemjs.config.js</code>:</p> 
<pre s="" data-language="js">System.config({
  /* . . . */
  map: {
    /* . . . */
    '@angular/core': 'npm:@angular/core/fesm2015/core.mjs',
    '@angular/common': 'npm:@angular/common/fesm2015/common.mjs',
    '@angular/common/http': 'npm:@angular/common/fesm2015/http.mjs',
    '@angular/compiler': 'npm:@angular/compiler/fesm2015/compiler.mjs',
    '@angular/platform-browser': 'npm:@angular/platform-browser/fesm2015/platform-browser.mjs',
    '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.mjs',
    '@angular/router': 'npm:@angular/router/fesm2015/router.mjs',
    '@angular/router/upgrade': 'npm:@angular/router/fesm2015/upgrade.mjs',
    '@angular/forms': 'npm:@angular/forms/fesm2015/forms.mjs',
    /* . . . */
  },
  /* . . . */
});</pre> </li> <li> <p>In order to be able to load the latest RxJS package correctly, replace the relevant entries in <code>src/systemjs.config.js</code>:</p> 
<pre s="" data-language="js">System.config({
  /* . . . */
  map: {
    /* . . . */
    'rxjs': 'npm:rxjs/dist/cjs',
    'rxjs/operators': 'npm:rxjs/dist/cjs/operators',
    /* . . . */
  },
  /* . . . */
  packages: {
    /* . . . */
    'rxjs': {
      defaultExtension: 'js',
      format: 'cjs',
      main: 'index.js'
    },
    'rxjs/operators': {
      defaultExtension: 'js',
      format: 'cjs',
      main: 'index.js'
    },
    /* . . . */
  }
});</pre> </li> <li> <p>In order to be able to load the <code>tslib</code> package (which is required for files transpiled by TypeScript), add the following entry to <code>src/systemjs.config.js</code>:</p> 
<pre s="" data-language="js">System.config({
  /* . . . */
  map: {
    /* . . . */
    'tslib': 'npm:tslib/tslib.js',
    /* . . . */
  },
  /* . . . */
});</pre> </li> <li> <p>In order for SystemJS to be able to load the ES2015 Angular files correctly, add the following entries to <code>src/systemjs.config.js</code>:</p> 
<pre s="" data-language="js">System.config({
  /* . . . */
  map: {
    /* . . . */
    'plugin-babel': 'npm:systemjs-plugin-babel/plugin-babel.js',
    'systemjs-babel-build': 'npm:systemjs-plugin-babel/systemjs-babel-browser.js'
  },

  transpiler: 'plugin-babel',
  /* . . . */
  packages: {
    /* . . . */
    'meta': {
      '*.mjs': {
        babelOptions: {
          es2015: false
        }
      }
    }
  }
});</pre> </li> <li> <p>Finally, in order to prevent TypeScript typecheck errors for dependencies, add the following entry to <code>src/tsconfig.json</code>:</p> <pre data-language="json">{
  "compilerOptions": {
    "skipLibCheck": true,
    // ...
  }
}</pre> </li> </ol> <p>With that, you can now run <code>npm start</code> and have the application built and served. Once built, the application will be automatically opened in a new browser tab and it will be automatically reloaded when you make changes to the source code.</p>  <h2 id="whats-in-the-quickstart-seed">What's in the QuickStart seed?</h2> <p>The <strong>QuickStart seed</strong> provides a basic QuickStart playground application and other files necessary for local development. Consequently, there are many files in the project folder on your machine, most of which you can <a href="file-structure">learn about later</a>.</p> <blockquote class="alert is-helpful"> <p><strong>Reminder:</strong> The "QuickStart seed" example was created prior to the Angular CLI, so there are some differences between what is described here and an Angular CLI application.</p> </blockquote>  <p>Focus on the following three TypeScript (<code>.ts</code>) files in the <strong><code>/src</code></strong> folder.</p> <pre>src
  app
    app.component.ts
    app.module.ts
  main.ts</pre> <code-tabs> <pre header="src/app/app.component.ts" data-language="typescript">import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  template: `&lt;h1&gt;Hello {{name}}&lt;/h1&gt;`
})
export class AppComponent { name = 'Angular'; }</pre> <pre header="src/app/app.module.ts" data-language="typescript">import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';

@NgModule({
  imports:      [ BrowserModule ],
  declarations: [ AppComponent ],
  bootstrap:    [ AppComponent ]
})
export class AppModule { }</pre> <pre header="src/main.ts" data-language="typescript">import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import { AppModule } from './app/app.module';

platformBrowserDynamic().bootstrapModule(AppModule);</pre> </code-tabs> <p>All guides and cookbooks have <em>at least these core files</em>. Each file has a distinct purpose and evolves independently as the application grows.</p> <p>Files outside <code>src/</code> concern building, deploying, and testing your application. They include configuration files and external dependencies.</p> <p>Files inside <code>src/</code> "belong" to your application. Add new Typescript, HTML and CSS files inside the <code>src/</code> directory, most of them inside <code>src/app</code>, unless told to do otherwise.</p> <p>The following are all in <code>src/</code></p>  <table> <colgroup>
<col width="20%"> <col width="80%"> </colgroup>
<tbody>
<tr> <th> File </th> <th> Purpose </th> </tr> <tr> <td> <code>app/app.component.ts</code> </td> <td> <p> Defines the same <code>AppComponent</code> as the one in the QuickStart playground. It is the <strong>root</strong> component of what will become a tree of nested components as the application evolves.</p> </td> </tr> <tr> <td> <code>app/app.module.ts</code> </td> <td> <p> Defines <code>AppModule</code>, the <a href="bootstrapping" title="AppModule: the root module">root module</a> that tells Angular how to assemble the application. When initially created, it declares only the <code>AppComponent</code>. Over time, you add more components to declare.</p> </td> </tr> <tr> <td> <code>main.ts</code> </td> <td> <p> Compiles the application with the <a href="glossary#jit">JIT compiler</a> and <a href="bootstrapping">bootstraps</a> the application's main module (<code>AppModule</code>) to run in the browser. The JIT compiler is a reasonable choice during the development of most projects and it's the only viable choice for a sample running in a <em>live-coding</em> environment such as Stackblitz. Alternative <a href="aot-compiler">compilation</a>, <a href="build">build</a>, and <a href="deployment">deployment</a> options are available.</p> </td> </tr> </tbody>
</table> <h2 id="appendix-test-using-fakeasyncwaitforasync">Appendix: Test using <code><a href="../api/core/testing/fakeasync" class="code-anchor">fakeAsync</a>()/<a href="../api/core/testing/waitforasync" class="code-anchor">waitForAsync</a>()</code>
</h2> <p>If you use the <code><a href="../api/core/testing/fakeasync" class="code-anchor">fakeAsync</a>()/<a href="../api/core/testing/waitforasync" class="code-anchor">waitForAsync</a>()</code> helper functions to run unit tests (for details, read the <a href="testing-components-scenarios#fake-async">Testing guide</a>), you need to import <code>zone.js/testing</code> in your test setup file.</p> <blockquote class="alert is-important"> If you create project with `Angular/CLI`, it is already imported in `src/test.ts`. </blockquote> <p>And in the earlier versions of <code>Angular</code>, the following files were imported or added in your html file:</p> <pre>import 'zone.js/plugins/long-stack-trace-zone';
import 'zone.js/plugins/proxy';
import 'zone.js/plugins/sync-test';
import 'zone.js/plugins/jasmine-patch';
import 'zone.js/plugins/async-test';
import 'zone.js/plugins/fake-async-test';</pre> <p>You can still load those files separately, but the order is important, you must import <code>proxy</code> before <code>sync-test</code>, <code>async-test</code>, <code>fake-async-test</code> and <code>jasmine-patch</code>. And you also need to import <code>sync-test</code> before <code>jasmine-patch</code>, so it is recommended to just import <code>zone-testing</code> instead of loading those separated files.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2021 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/upgrade-setup" class="_attribution-link">https://angular.io/guide/upgrade-setup</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
