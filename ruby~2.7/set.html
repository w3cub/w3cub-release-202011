
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Set - Ruby 2.7 - W3cubDocs</title>
  
  <meta name="description" content="Set implements a collection of unordered values with no duplicates. This is a hybrid of Array&#39;s intuitive inter-operation facilities and Hash&# &hellip;">
  <meta name="keywords" content="class, set, ruby, ruby~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ruby~2.7/set.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/ruby~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~2.7/" class="_nav-link" title="" style="margin-left:0;">Ruby 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-Set" class="class"> class Set </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="object">Object</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="enumerable">Enumerable</a></dd>
</dl> <section class="description"> <p><a href="set"><code>Set</code></a> implements a collection of unordered values with no duplicates. This is a hybrid of Array's intuitive inter-operation facilities and Hash's fast lookup.</p> <p><a href="set"><code>Set</code></a> is easy to use with <a href="enumerable"><code>Enumerable</code></a> objects (implementing <code>each</code>). Most of the initializer methods and binary operators accept generic <a href="enumerable"><code>Enumerable</code></a> objects besides sets and arrays. An <a href="enumerable"><code>Enumerable</code></a> object can be converted to <a href="set"><code>Set</code></a> using the <code>to_set</code> method.</p> <p><a href="set"><code>Set</code></a> uses <a href="hash"><code>Hash</code></a> as storage, so you must note the following points:</p> <ul>
<li> <p>Equality of elements is determined according to <a href="object#method-i-eql-3F"><code>Object#eql?</code></a> and <a href="object#method-i-hash"><code>Object#hash</code></a>. Use <a href="set#method-i-compare_by_identity"><code>Set#compare_by_identity</code></a> to make a set compare its elements by their identity.</p> </li>
<li> <p><a href="set"><code>Set</code></a> assumes that the identity of each element does not change while it is stored. Modifying an element of a set will render the set to an unreliable state.</p> </li>
<li> <p>When a string is to be stored, a frozen copy of the string is stored instead unless the original string is already frozen.</p> </li>
</ul> <h2 id="class-Set-label-Comparison">Comparison</h2> <p>The comparison operators &lt;, &gt;, &lt;=, and &gt;= are implemented as shorthand for the {proper_,}{subset?,superset?} methods. However, the &lt;=&gt; operator is intentionally left out because not every pair of sets is comparable ({x, y} vs. {x, z} for example).</p> <h2 id="class-Set-label-Example">Example</h2> <pre class="ruby" data-language="ruby">require 'set'
s1 = Set[1, 2]                        #=&gt; #&lt;Set: {1, 2}&gt;
s2 = [1, 2].to_set                    #=&gt; #&lt;Set: {1, 2}&gt;
s1 == s2                              #=&gt; true
s1.add("foo")                         #=&gt; #&lt;Set: {1, 2, "foo"}&gt;
s1.merge([2, 6])                      #=&gt; #&lt;Set: {1, 2, "foo", 6}&gt;
s1.subset?(s2)                        #=&gt; false
s2.subset?(s1)                        #=&gt; true
</pre> <h2 id="class-Set-label-Contact">Contact</h2> <pre>- Akinori MUSHA &lt;knu@iDaemons.org&gt; (current maintainer)</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-5B-5D"> <span class="method-name">[]</span><span class="method-args">(*ary)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 78
def self.[](*ary)
  new(ary)
end</pre> </div> <p>Creates a new set containing the given objects.</p> <pre class="ruby" data-language="ruby">Set[1, 2]                   # =&gt; #&lt;Set: {1, 2}&gt;
Set[1, 2, 1]                # =&gt; #&lt;Set: {1, 2}&gt;
Set[1, 'c', :s]             # =&gt; #&lt;Set: {1, "c", :s}&gt;
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-json_create"> <span class="method-name">json_create</span><span class="method-args">(object)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="json_create-source"> <pre class="ruby" data-language="ruby"># File ext/json/lib/json/add/set.rb, line 10
def self.json_create(object)
  new object['a']
end</pre> </div> <p>Import a <a href="json"><code>JSON</code></a> Marshalled object.</p> <p>method used for <a href="json"><code>JSON</code></a> marshalling support.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(enum = nil) { |o| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 93
def initialize(enum = nil, &amp;block) # :yields: o
  @hash ||= Hash.new(false)

  enum.nil? and return

  if block
    do_with_enum(enum) { |o| add(block[o]) }
  else
    merge(enum)
  end
end</pre> </div> <p>Creates a new set containing the elements of the given enumerable object.</p> <p>If a block is given, the elements of enum are preprocessed by the given block.</p> <pre class="ruby" data-language="ruby">Set.new([1, 2])                       #=&gt; #&lt;Set: {1, 2}&gt;
Set.new([1, 2, 1])                    #=&gt; #&lt;Set: {1, 2}&gt;
Set.new([1, 'c', :s])                 #=&gt; #&lt;Set: {1, "c", :s}&gt;
Set.new(1..5)                         #=&gt; #&lt;Set: {1, 2, 3, 4, 5}&gt;
Set.new([1, 2, 3]) { |x| x * x }      #=&gt; #&lt;Set: {1, 4, 9}&gt;
</pre>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-26"> <span class="method-name">&amp;</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="26-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 465
def &amp;(enum)
  n = self.class.new
  do_with_enum(enum) { |o| n.add(o) if include?(o) }
  n
end</pre> </div> <p>Returns a new set containing elements common to the set and the given enumerable object.</p> <pre class="ruby" data-language="ruby">Set[1, 3, 5] &amp; Set[3, 2, 1]             #=&gt; #&lt;Set: {3, 1}&gt;
Set['a', 'b', 'z'] &amp; ['a', 'b', 'c']    #=&gt; #&lt;Set: {"a", "b"}&gt;
</pre>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-intersection">intersection</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-2B"> <span class="method-name">+</span><span class="method-args">(enum)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-7C">|</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2D"> <span class="method-name">-</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2D-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 455
def -(enum)
  dup.subtract(enum)
end</pre> </div> <p>Returns a new set built by duplicating the set, removing every element that appears in the given enumerable object.</p> <pre class="ruby" data-language="ruby">Set[1, 3, 5] - Set[1, 5]                #=&gt; #&lt;Set: {3}&gt;
Set['a', 'b', 'z'] - ['a', 'c']         #=&gt; #&lt;Set: {"b", "z"}&gt;
</pre>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-difference">difference</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3C"> <span class="method-name">&lt;</span><span class="method-args">(set)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-proper_subset-3F">proper_subset?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3C-3C"> <span class="method-name">&lt;&lt;</span><span class="method-args">(o)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-add">add</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3C-3D"> <span class="method-name">&lt;=</span><span class="method-args">(set)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-subset-3F">subset?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="3D-3D-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 491
def ==(other)
  if self.equal?(other)
    true
  elsif other.instance_of?(self.class)
    @hash == other.instance_variable_get(:@hash)
  elsif other.is_a?(Set) &amp;&amp; self.size == other.size
    other.all? { |o| @hash.include?(o) }
  else
    false
  end
end</pre> </div> <p>Returns true if two sets are equal. The equality of each couple of elements is defined according to <a href="object#method-i-eql-3F"><code>Object#eql?</code></a>.</p> <pre class="ruby" data-language="ruby">Set[1, 2] == Set[2, 1]                       #=&gt; true
Set[1, 3, 5] == Set[1, 5]                    #=&gt; false
Set['a', 'b', 'c'] == Set['a', 'c', 'b']     #=&gt; true
Set['a', 'b', 'c'] == ['a', 'c', 'b']        #=&gt; false
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3D-3D-3D"> <span class="method-name">===</span><span class="method-args">(o)</span> </div> <div class="method-description"> <p>Returns true if the given object is a member of the set, and false otherwise.</p> <p>Used in case statements:</p> <pre class="ruby" data-language="ruby">require 'set'

case :apple
when Set[:potato, :carrot]
  "vegetable"
when Set[:apple, :banana]
  "fruit"
end
# =&gt; "fruit"
</pre> <p>Or by itself:</p> <pre class="ruby" data-language="ruby">Set[1, 2, 3] === 2   #=&gt; true
Set[1, 2, 3] === 4   #=&gt; false
</pre> </div> <div class="aliases"> Alias for: <a href="set#method-i-include-3F">include?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3E"> <span class="method-name">&gt;</span><span class="method-args">(set)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-proper_superset-3F">proper_superset?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3E-3D"> <span class="method-name">&gt;=</span><span class="method-args">(set)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-superset-3F">superset?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-5E"> <span class="method-name">^</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5E-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 478
def ^(enum)
  n = Set.new(enum)
  each { |o| n.add(o) unless n.delete?(o) }
  n
end</pre> </div> <p>Returns a new set containing elements exclusive between the set and the given enumerable object. (set ^ enum) is equivalent to ((set | enum) - (set &amp; enum)).</p> <pre class="ruby" data-language="ruby">Set[1, 2] ^ Set[2, 3]                   #=&gt; #&lt;Set: {3, 1}&gt;
Set[1, 'b', 'c'] ^ ['b', 'd']           #=&gt; #&lt;Set: {"d", 1, "c"}&gt;
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-add"> <span class="method-name">add</span><span class="method-args">(o)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="add-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 338
def add(o)
  @hash[o] = true
  self
end</pre> </div> <p>Adds the given object to the set and returns self. Use <code>merge</code> to add many elements at once.</p> <pre class="ruby" data-language="ruby">Set[1, 2].add(3)                    #=&gt; #&lt;Set: {1, 2, 3}&gt;
Set[1, 2].add([3, 4])               #=&gt; #&lt;Set: {1, 2, [3, 4]}&gt;
Set[1, 2].add(2)                    #=&gt; #&lt;Set: {1, 2}&gt;
</pre>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-3C-3C">&lt;&lt;</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-add-3F"> <span class="method-name">add?</span><span class="method-args">(o)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="add-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 350
def add?(o)
  add(o) unless include?(o)
end</pre> </div> <p>Adds the given object to the set and returns self. If the object is already in the set, returns nil.</p> <pre class="ruby" data-language="ruby">Set[1, 2].add?(3)                    #=&gt; #&lt;Set: {1, 2, 3}&gt;
Set[1, 2].add?([3, 4])               #=&gt; #&lt;Set: {1, 2, [3, 4]}&gt;
Set[1, 2].add?(2)                    #=&gt; nil
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-as_json"> <span class="method-name">as_json</span><span class="method-args">(*)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="as_json-source"> <pre class="ruby" data-language="ruby"># File ext/json/lib/json/add/set.rb, line 17
def as_json(*)
  {
    JSON.create_id =&gt; self.class.name,
    'a'            =&gt; to_a,
  }
end</pre> </div> <p><a href="marshal"><code>Marshal</code></a> the object to <a href="json"><code>JSON</code></a>.</p> <p>method used for <a href="json"><code>JSON</code></a> marshalling support.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-classify"> <span class="method-name">classify</span><span class="method-args">() { |o| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="classify-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 560
def classify # :yields: o
  block_given? or return enum_for(__method__) { size }

  h = {}

  each { |i|
    (h[yield(i)] ||= self.class.new).add(i)
  }

  h
end</pre> </div> <p>Classifies the set by the return value of the given block and returns a hash of {value =&gt; set of elements} pairs. The block is called once for each element of the set, passing the element as parameter.</p> <pre class="ruby" data-language="ruby">require 'set'
files = Set.new(Dir.glob("*.rb"))
hash = files.classify { |f| File.mtime(f).year }
hash       #=&gt; {2000=&gt;#&lt;Set: {"a.rb", "b.rb"}&gt;,
           #    2001=&gt;#&lt;Set: {"c.rb", "d.rb", "e.rb"}&gt;,
           #    2002=&gt;#&lt;Set: {"f.rb"}&gt;}
</pre> <p>Returns an enumerator if no block is given.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-clear"> <span class="method-name">clear</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="clear-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 166
def clear
  @hash.clear
  self
end</pre> </div> <p>Removes all elements and returns self.</p> <pre class="ruby" data-language="ruby">set = Set[1, 'c', :s]             #=&gt; #&lt;Set: {1, "c", :s}&gt;
set.clear                         #=&gt; #&lt;Set: {}&gt;
set                               #=&gt; #&lt;Set: {}&gt;
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-collect-21"> <span class="method-name">collect!</span><span class="method-args">() { |o| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="collect-21-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 391
def collect!
  block_given? or return enum_for(__method__) { size }
  set = self.class.new
  each { |o| set &lt;&lt; yield(o) }
  replace(set)
end</pre> </div> <p>Replaces the elements with ones returned by collect(). Returns an enumerator if no block is given.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-map-21">map!</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-compare_by_identity"> <span class="method-name">compare_by_identity</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="compare_by_identity-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 107
def compare_by_identity
  if @hash.respond_to?(:compare_by_identity)
    @hash.compare_by_identity
    self
  else
    raise NotImplementedError, "#{self.class.name}\##{__method__} is not implemented"
  end
end</pre> </div> <p>Makes the set compare its elements by their identity and returns self. This method may not be supported by all subclasses of <a href="set"><code>Set</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-compare_by_identity-3F"> <span class="method-name">compare_by_identity?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="compare_by_identity-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 118
def compare_by_identity?
  @hash.respond_to?(:compare_by_identity?) &amp;&amp; @hash.compare_by_identity?
end</pre> </div> <p>Returns true if the set will compare its elements by their identity. Also see <a href="set#method-i-compare_by_identity"><code>Set#compare_by_identity</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-delete"> <span class="method-name">delete</span><span class="method-args">(o)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="delete-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 356
def delete(o)
  @hash.delete(o)
  self
end</pre> </div> <p>Deletes the given object from the set and returns self. Use <code>subtract</code> to delete many items at once.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-delete-3F"> <span class="method-name">delete?</span><span class="method-args">(o)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="delete-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 363
def delete?(o)
  delete(o) if include?(o)
end</pre> </div> <p>Deletes the given object from the set and returns self. If the object is not in the set, returns nil.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-delete_if"> <span class="method-name">delete_if</span><span class="method-args">() { |o| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="delete_if-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 370
def delete_if
  block_given? or return enum_for(__method__) { size }
  # @hash.delete_if should be faster, but using it breaks the order
  # of enumeration in subclasses.
  select { |o| yield o }.each { |o| @hash.delete(o) }
  self
end</pre> </div> <p>Deletes every element of the set for which block evaluates to true, and returns self. Returns an enumerator if no block is given.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-difference"> <span class="method-name">difference</span><span class="method-args">(enum)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-2D">-</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-disjoint-3F"> <span class="method-name">disjoint?</span><span class="method-args">(set)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="disjoint-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 319
def disjoint?(set)
  !intersect?(set)
end</pre> </div> <p>Returns true if the set and the given set have no element in common. This method is the opposite of <code>intersect?</code>.</p> <pre class="ruby" data-language="ruby">Set[1, 2, 3].disjoint? Set[3, 4]   #=&gt; false
Set[1, 2, 3].disjoint? Set[4, 5]   #=&gt; true
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-divide"> <span class="method-name">divide</span><span class="method-args">(&amp;func)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="divide-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 588
def divide(&amp;func)
  func or return enum_for(__method__) { size }

  if func.arity == 2
    require 'tsort'

    class &lt;&lt; dig = {}         # :nodoc:
      include TSort

      alias tsort_each_node each_key
      def tsort_each_child(node, &amp;block)
        fetch(node).each(&amp;block)
      end
    end

    each { |u|
      dig[u] = a = []
      each{ |v| func.call(u, v) and a &lt;&lt; v }
    }

    set = Set.new()
    dig.each_strongly_connected_component { |css|
      set.add(self.class.new(css))
    }
    set
  else
    Set.new(classify(&amp;func).values)
  end
end</pre> </div> <p>Divides the set into a set of subsets according to the commonality defined by the given block.</p> <p>If the arity of the block is 2, elements o1 and o2 are in common if block.call(o1, o2) is true. Otherwise, elements o1 and o2 are in common if block.call(o1) == block.call(o2).</p> <pre class="ruby" data-language="ruby">require 'set'
numbers = Set[1, 3, 4, 6, 9, 10, 11]
set = numbers.divide { |i,j| (i - j).abs == 1 }
set        #=&gt; #&lt;Set: {#&lt;Set: {1}&gt;,
           #           #&lt;Set: {11, 9, 10}&gt;,
           #           #&lt;Set: {3, 4}&gt;,
           #           #&lt;Set: {6}&gt;}&gt;
</pre> <p>Returns an enumerator if no block is given.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each"> <span class="method-name">each</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 326
def each(&amp;block)
  block or return enum_for(__method__) { size }
  @hash.each_key(&amp;block)
  self
end</pre> </div> <p>Calls the given block once for each element in the set, passing the element as parameter. Returns an enumerator if no block is given.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-empty-3F"> <span class="method-name">empty?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="empty-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 157
def empty?
  @hash.empty?
end</pre> </div> <p>Returns true if the set contains no elements.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-filter-21"> <span class="method-name">filter!</span><span class="method-args">(&amp;block)</span> </div> <div class="method-description"> <p>Equivalent to <a href="set#method-i-select-21"><code>Set#select!</code></a></p> </div> <div class="aliases"> Alias for: <a href="set#method-i-select-21">select!</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-flatten"> <span class="method-name">flatten</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="flatten-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 227
def flatten
  self.class.new.flatten_merge(self)
end</pre> </div> <p>Returns a new set that is a copy of the set, flattening each containing set recursively.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-flatten-21"> <span class="method-name">flatten!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="flatten-21-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 233
def flatten!
  replace(flatten()) if any? { |e| e.is_a?(Set) }
end</pre> </div> <p>Equivalent to <a href="set#method-i-flatten"><code>Set#flatten</code></a>, but replaces the receiver with the result in place. Returns nil if no modifications were made.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-include-3F"> <span class="method-name">include?</span><span class="method-args">(o)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="include-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 243
def include?(o)
  @hash[o]
end</pre> </div> <p>Returns true if the set contains the given object.</p> <p>Note that <code>include?</code> and <code>member?</code> do not test member equality using <code>==</code> as do other Enumerables.</p> <p>See also <a href="enumerable#method-i-include-3F"><code>Enumerable#include?</code></a></p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-member-3F">member?</a>, <a href="set#method-i-3D-3D-3D">===</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-initialize_clone"> <span class="method-name">initialize_clone</span><span class="method-args">(orig)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="initialize_clone-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 140
def initialize_clone(orig)
  super
  @hash = orig.instance_variable_get(:@hash).clone
end</pre> </div> <p>Clone internal hash.</p> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-initialize_dup"> <span class="method-name">initialize_dup</span><span class="method-args">(orig)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="initialize_dup-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 134
def initialize_dup(orig)
  super
  @hash = orig.instance_variable_get(:@hash).dup
end</pre> </div> <p>Dup internal hash.</p> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 622
def inspect
  ids = (Thread.current[InspectKey] ||= [])

  if ids.include?(object_id)
    return sprintf('#&lt;%s: {...}&gt;', self.class.name)
  end

  ids &lt;&lt; object_id
  begin
    return sprintf('#&lt;%s: {%s}&gt;', self.class, to_a.inspect[1..-2])
  ensure
    ids.pop
  end
end</pre> </div> <p>Returns a string containing a human-readable representation of the set (“#&lt;Set: {element1, element2, …}&gt;”).</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-to_s">to_s</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-intersect-3F"> <span class="method-name">intersect?</span><span class="method-args">(set)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="intersect-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 305
def intersect?(set)
  set.is_a?(Set) or raise ArgumentError, "value must be a set"
  if size &lt; set.size
    any? { |o| set.include?(o) }
  else
    set.any? { |o| include?(o) }
  end
end</pre> </div> <p>Returns true if the set and the given set have at least one element in common.</p> <pre class="ruby" data-language="ruby">Set[1, 2, 3].intersect? Set[4, 5]   #=&gt; false
Set[1, 2, 3].intersect? Set[3, 4]   #=&gt; true
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-intersection"> <span class="method-name">intersection</span><span class="method-args">(enum)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-26">&amp;</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-keep_if"> <span class="method-name">keep_if</span><span class="method-args">() { |o| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="keep_if-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 381
def keep_if
  block_given? or return enum_for(__method__) { size }
  # @hash.keep_if should be faster, but using it breaks the order of
  # enumeration in subclasses.
  reject { |o| yield o }.each { |o| @hash.delete(o) }
  self
end</pre> </div> <p>Deletes every element of the set for which block evaluates to false, and returns self. Returns an enumerator if no block is given.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-length"> <span class="method-name">length</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-size">size</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-map-21"> <span class="method-name">map!</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-collect-21">collect!</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-member-3F"> <span class="method-name">member?</span><span class="method-args">(o)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-include-3F">include?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-merge"> <span class="method-name">merge</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="merge-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 422
def merge(enum)
  if enum.instance_of?(self.class)
    @hash.update(enum.instance_variable_get(:@hash))
  else
    do_with_enum(enum) { |o| add(o) }
  end

  self
end</pre> </div> <p>Merges the elements of the given enumerable object to the set and returns self.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-proper_subset-3F"> <span class="method-name">proper_subset?</span><span class="method-args">(set)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="proper_subset-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 288
def proper_subset?(set)
  case
  when set.instance_of?(self.class) &amp;&amp; @hash.respond_to?(:&lt;)
    @hash &lt; set.instance_variable_get(:@hash)
  when set.is_a?(Set)
    size &lt; set.size &amp;&amp; all? { |o| set.include?(o) }
  else
    raise ArgumentError, "value must be a set"
  end
end</pre> </div> <p>Returns true if the set is a proper subset of the given set.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-3C">&lt;</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-proper_superset-3F"> <span class="method-name">proper_superset?</span><span class="method-args">(set)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="proper_superset-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 262
def proper_superset?(set)
  case
  when set.instance_of?(self.class) &amp;&amp; @hash.respond_to?(:&gt;)
    @hash &gt; set.instance_variable_get(:@hash)
  when set.is_a?(Set)
    size &gt; set.size &amp;&amp; set.all? { |o| include?(o) }
  else
    raise ArgumentError, "value must be a set"
  end
end</pre> </div> <p>Returns true if the set is a proper superset of the given set.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-3E">&gt;</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reject-21"> <span class="method-name">reject!</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reject-21-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 401
def reject!(&amp;block)
  block or return enum_for(__method__) { size }
  n = size
  delete_if(&amp;block)
  self if size != n
end</pre> </div> <p>Equivalent to <a href="set#method-i-delete_if"><code>Set#delete_if</code></a>, but returns nil if no changes were made. Returns an enumerator if no block is given.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-replace"> <span class="method-name">replace</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="replace-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 177
def replace(enum)
  if enum.instance_of?(self.class)
    @hash.replace(enum.instance_variable_get(:@hash))
    self
  else
    do_with_enum(enum)  # make sure enum is enumerable before calling clear
    clear
    merge(enum)
  end
end</pre> </div> <p>Replaces the contents of the set with the contents of the given enumerable object and returns self.</p> <pre class="ruby" data-language="ruby">set = Set[1, 'c', :s]             #=&gt; #&lt;Set: {1, "c", :s}&gt;
set.replace([1, 2])               #=&gt; #&lt;Set: {1, 2}&gt;
set                               #=&gt; #&lt;Set: {1, 2}&gt;
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reset"> <span class="method-name">reset</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reset-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 516
def reset
  if @hash.respond_to?(:rehash)
    @hash.rehash # This should perform frozenness check.
  else
    raise FrozenError, "can't modify frozen #{self.class.name}" if frozen?
  end
  self
end</pre> </div> <p>Resets the internal state after modification to existing elements and returns self.</p> <p>Elements will be reindexed and deduplicated.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-select-21"> <span class="method-name">select!</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="select-21-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 410
def select!(&amp;block)
  block or return enum_for(__method__) { size }
  n = size
  keep_if(&amp;block)
  self if size != n
end</pre> </div> <p>Equivalent to <a href="set#method-i-keep_if"><code>Set#keep_if</code></a>, but returns nil if no changes were made. Returns an enumerator if no block is given.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-filter-21">filter!</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-size"> <span class="method-name">size</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="size-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 151
def size
  @hash.size
end</pre> </div> <p>Returns the number of elements.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-length">length</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-subset-3F"> <span class="method-name">subset?</span><span class="method-args">(set)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="subset-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 275
def subset?(set)
  case
  when set.instance_of?(self.class) &amp;&amp; @hash.respond_to?(:&lt;=)
    @hash &lt;= set.instance_variable_get(:@hash)
  when set.is_a?(Set)
    size &lt;= set.size &amp;&amp; all? { |o| set.include?(o) }
  else
    raise ArgumentError, "value must be a set"
  end
end</pre> </div> <p>Returns true if the set is a subset of the given set.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-3C-3D">&lt;=</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-subtract"> <span class="method-name">subtract</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="subtract-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 434
def subtract(enum)
  do_with_enum(enum) { |o| delete(o) }
  self
end</pre> </div> <p>Deletes every element that appears in the given enumerable object and returns self.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-superset-3F"> <span class="method-name">superset?</span><span class="method-args">(set)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="superset-3F-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 249
def superset?(set)
  case
  when set.instance_of?(self.class) &amp;&amp; @hash.respond_to?(:&gt;=)
    @hash &gt;= set.instance_variable_get(:@hash)
  when set.is_a?(Set)
    size &gt;= set.size &amp;&amp; set.all? { |o| include?(o) }
  else
    raise ArgumentError, "value must be a set"
  end
end</pre> </div> <p>Returns true if the set is a superset of the given set.</p>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-3E-3D">&gt;=</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_a"> <span class="method-name">to_a</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_a-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 192
def to_a
  @hash.keys
end</pre> </div> <p>Converts the set to an array. The order of elements is uncertain.</p> <pre class="ruby" data-language="ruby">Set[1, 2].to_a                    #=&gt; [1, 2]
Set[1, 'c', :s].to_a              #=&gt; [1, "c", :s]
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_json"> <span class="method-name">to_json</span><span class="method-args">(*args)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_json-source"> <pre class="ruby" data-language="ruby"># File ext/json/lib/json/add/set.rb, line 25
def to_json(*args)
  as_json.to_json(*args)
end</pre> </div> <p>return the <a href="json"><code>JSON</code></a> value</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-to_s"> <span class="method-name">to_s</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-inspect">inspect</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_set"> <span class="method-name">to_set</span><span class="method-args">(klass = Set, *args, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_set-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 201
def to_set(klass = Set, *args, &amp;block)
  return self if instance_of?(Set) &amp;&amp; klass == Set &amp;&amp; block.nil? &amp;&amp; args.empty?
  klass.new(self, *args, &amp;block)
end</pre> </div> <p>Returns self if no arguments are given. Otherwise, converts the set to another with klass.new(self, *args, &amp;block).</p> <p>In subclasses, returns klass.new(self, *args, &amp;block) unless overridden.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-union"> <span class="method-name">union</span><span class="method-args">(enum)</span> </div>  <div class="aliases"> Alias for: <a href="set#method-i-7C">|</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-7C"> <span class="method-name">|</span><span class="method-args">(enum)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="7C-source"> <pre class="ruby" data-language="ruby"># File lib/set.rb, line 444
def |(enum)
  dup.merge(enum)
end</pre> </div> <p>Returns a new set built by merging the set and the elements of the given enumerable object.</p> <pre class="ruby" data-language="ruby">Set[1, 2, 3] | Set[2, 4, 5]         #=&gt; #&lt;Set: {1, 2, 3, 4, 5}&gt;
Set[1, 5, 'z'] | (1..6)             #=&gt; #&lt;Set: {1, 5, "z", 2, 3, 4, 6}&gt;
</pre>  </div> <div class="aliases"> Also aliased as: <a href="set#method-i-2B">+</a>, <a href="set#method-i-union">union</a> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2017 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
