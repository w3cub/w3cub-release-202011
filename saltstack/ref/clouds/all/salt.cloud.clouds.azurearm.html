
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>cloud.clouds.azurearm - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2016.11.0. ">
  <meta name="keywords" content="salt, cloud, clouds, azurearm, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/clouds/all/salt.cloud.clouds.azurearm.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.cloud.clouds.azurearm</h1> <div class="section" id="azure-arm-cloud-module"> <h2>Azure ARM Cloud Module</h2> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.11.0.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2019.2.0.</span></p> </div> <p>The Azure ARM cloud module is used to control access to Microsoft Azure Resource Manager</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">
<ul class="first simple"> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure">azure</a> &gt;= 2.0.0rc6</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-common">azure-common</a> &gt;= 1.1.4</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-mgmt">azure-mgmt</a> &gt;= 0.30.0rc6</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-mgmt-compute">azure-mgmt-compute</a> &gt;= 0.33.0</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-mgmt-network">azure-mgmt-network</a> &gt;= 0.30.0rc6</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-mgmt-resource">azure-mgmt-resource</a> &gt;= 0.30.0</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-mgmt-storage">azure-mgmt-storage</a> &gt;= 0.30.0rc6</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-mgmt-web">azure-mgmt-web</a> &gt;= 0.30.0rc6</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/azure-storage">azure-storage</a> &gt;= 0.32.0</li> <li>
<a class="reference external" href="https://pypi.python.org/pypi/msrestazure">msrestazure</a> &gt;= 0.4.21</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">configuration:</th>
<td class="field-body">
<p class="first">Required provider parameters:</p> <dl class="docutils"> <dt>if using username and password:</dt> <dd>
<ul class="first last simple"> <li><code class="docutils literal notranslate"><span class="pre">subscription_id</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">username</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">password</span></code></li> </ul> </dd> <dt>if using a service principal:</dt> <dd>
<ul class="first last simple"> <li><code class="docutils literal notranslate"><span class="pre">subscription_id</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">tenant</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">client_id</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">secret</span></code></li> </ul> </dd> </dl> <p>Optional provider parameters:</p> <dl class="last docutils"> <dt>
<strong>cloud_environment</strong>: Used to point the cloud driver to different API endpoints, such as Azure GovCloud. Possible values:</dt> <dd>
<ul class="first last simple"> <li>
<code class="docutils literal notranslate"><span class="pre">AZURE_PUBLIC_CLOUD</span></code> (default)</li> <li><code class="docutils literal notranslate"><span class="pre">AZURE_CHINA_CLOUD</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">AZURE_US_GOV_CLOUD</span></code></li> <li><code class="docutils literal notranslate"><span class="pre">AZURE_GERMAN_CLOUD</span></code></li> <li>HTTP base URL for a custom endpoint, such as Azure Stack. The <code class="docutils literal notranslate"><span class="pre">/metadata/endpoints</span></code> path will be added to the URL.</li> </ul> </dd> <dt>
<strong>userdata</strong> and <strong>userdata_file</strong>:</dt> <dd>
<p class="first last">Azure Resource Manager uses a separate VirtualMachineExtension object to pass userdata scripts to the virtual machine. Arbitrary shell commands can be passed via the <code class="docutils literal notranslate"><span class="pre">userdata</span></code> parameter, or via a file local to the Salt Cloud system using the <code class="docutils literal notranslate"><span class="pre">userdata_file</span></code> parameter. Note that the local file is not treated as a script by the extension, so "one-liners" probably work best. If greater functionality is desired, a web-hosted script file can be specified via <code class="docutils literal notranslate"><span class="pre">userdata_file:</span> <span class="pre">https://raw.githubusercontent.com/account/repo/master/azure-script.py</span></code>, which will be executed on the system after VM creation. For Windows systems, script files ending in <code class="docutils literal notranslate"><span class="pre">.ps1</span></code> will be executed with <code class="docutils literal notranslate"><span class="pre">powershell.exe</span></code>. The <code class="docutils literal notranslate"><span class="pre">userdata</span></code> parameter takes precedence over the <code class="docutils literal notranslate"><span class="pre">userdata_file</span></code> parameter when creating the custom script extension.</p> </dd> <dt>
<strong>win_installer</strong>:</dt> <dd>
<p class="first last">This parameter, which holds the local path to the Salt Minion installer package, is used to determine if the virtual machine type will be "Windows". Only set this parameter on profiles which install Windows operating systems.</p> </dd> </dl> </td> </tr> </tbody> </table> <p>Example <code class="docutils literal notranslate"><span class="pre">/etc/salt/cloud.providers</span></code> or <code class="docutils literal notranslate"><span class="pre">/etc/salt/cloud.providers.d/azure.conf</span></code> configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-azure-config with username and password:
  driver: azurearm
  subscription_id: 3287abc8-f98a-c678-3bde-326766fd3617
  username: larry
  password: 123pass

Or my-azure-config with service principal:
  driver: azurearm
  subscription_id: 3287abc8-f98a-c678-3bde-326766fd3617
  tenant: ABCDEFAB-1234-ABCD-1234-ABCDEFABCDEF
  client_id: ABCDEFAB-1234-ABCD-1234-ABCDEFABCDEF
  secret: XXXXXXXXXXXXXXXXXXXXXXXX
  cloud_environment: AZURE_US_GOV_CLOUD

  The Service Principal can be created with the new Azure CLI (https://github.com/Azure/azure-cli) with:
  az ad sp create-for-rbac -n "http://&lt;yourappname&gt;" --role &lt;role&gt; --scopes &lt;scope&gt;
  For example, this creates a service principal with 'owner' role for the whole subscription:
  az ad sp create-for-rbac -n "http://mysaltapp" --role owner --scopes /subscriptions/3287abc8-f98a-c678-3bde-326766fd3617

  *Note: review the details of Service Principals. Owner role is more than you normally need, and you can restrict
  scope to a resource group or individual resources.</pre> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.avail_images"> salt.cloud.clouds.azurearm.avail_images(call=None)</h3> <dd>
<p>Return a dict of all available images on the provider</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.avail_locations"> salt.cloud.clouds.azurearm.avail_locations(call=None)</h3> <dd>
<p>Return a dict of all available regions.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.avail_sizes"> salt.cloud.clouds.azurearm.avail_sizes(call=None)</h3> <dd>
<p>Return a list of sizes available from the provider</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.create"> salt.cloud.clouds.azurearm.create(vm_)</h3> <dd>
<p>Create a single VM from a data dict.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.create_network_interface"> salt.cloud.clouds.azurearm.create_network_interface(call=None, kwargs=None)</h3> <dd>
<p>Create a network interface.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.create_or_update_vmextension"> salt.cloud.clouds.azurearm.create_or_update_vmextension(call=None, kwargs=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2019.2.0.</span></p> </div> <p>Create or update a VM extension object "inside" of a VM object.</p> <dl class="docutils"> <dt>required kwargs:</dt> <dd>
<div class="first last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">extension_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myvmextension</span>
<span class="nt">virtual_machine_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myvm</span>
<span class="nt">settings</span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt">"commandToExecute"</span><span class="p">:</span> <span class="s">"hostname"</span><span class="p p-Indicator">}</span>
</pre></div> </div> </dd> <dt>optional kwargs:</dt> <dd>
<div class="first last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">resource_group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt; inferred from cloud configs &gt;</span>
<span class="nt">location</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt; inferred from cloud configs &gt;</span>
<span class="nt">publisher</span><span class="p">:</span> <span class="nt">&lt; default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Microsoft.Azure.Extensions &gt;</span>
<span class="nt">virtual_machine_extension_type</span><span class="p">:</span> <span class="nt">&lt; default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CustomScript &gt;</span>
<span class="nt">type_handler_version</span><span class="p">:</span> <span class="nt">&lt; default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2.0 &gt;</span>
<span class="nt">auto_upgrade_minor_version</span><span class="p">:</span> <span class="nt">&lt; default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True &gt;</span>
<span class="nt">protected_settings</span><span class="p">:</span> <span class="nt">&lt; default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None &gt;</span>
</pre></div> </div> </dd> </dl> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.delete_blob"> salt.cloud.clouds.azurearm.delete_blob(call=None, kwargs=None)</h3> <dd>
<p>Delete a blob from a container.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.delete_interface"> salt.cloud.clouds.azurearm.delete_interface(call=None, kwargs=None)</h3> <dd>
<p>Delete a network interface.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.delete_managed_disk"> salt.cloud.clouds.azurearm.delete_managed_disk(call=None, kwargs=None)</h3> <dd>
<p>Delete a managed disk from a resource group.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.destroy"> salt.cloud.clouds.azurearm.destroy(name, call=None, kwargs=None)</h3> <dd>
<p>Destroy a VM.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -d myminion
salt-cloud -a destroy myminion service_name=myservice</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.get_api_versions"> salt.cloud.clouds.azurearm.get_api_versions(call=None, kwargs=None)</h3> <dd>
<p>Get a resource type api versions</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.get_configured_provider"> salt.cloud.clouds.azurearm.get_configured_provider()</h3> <dd>
<p>Return the first configured provider instance.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.get_conn"> salt.cloud.clouds.azurearm.get_conn(client_type)</h3> <dd>
<p>Return a connection object for a client type.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.get_dependencies"> salt.cloud.clouds.azurearm.get_dependencies()</h3> <dd>
<p>Warn if dependencies aren't met.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.get_location"> salt.cloud.clouds.azurearm.get_location(call=None, kwargs=None)</h3> <dd>
<p>Return the location that is configured for this provider</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.get_resource_by_id"> salt.cloud.clouds.azurearm.get_resource_by_id(resource_id, api_version, extract_value=None)</h3> <dd>
<p>Get an AzureARM resource by id</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_blobs"> salt.cloud.clouds.azurearm.list_blobs(call=None, kwargs=None)</h3> <dd>
<p>List blobs.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_nodes"> salt.cloud.clouds.azurearm.list_nodes(call=None)</h3> <dd>
<p>List VMs on this Azure account</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_nodes_full"> salt.cloud.clouds.azurearm.list_nodes_full(call=None)</h3> <dd>
<p>List all VMs on the subscription with full information</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_resource_groups"> salt.cloud.clouds.azurearm.list_resource_groups(call=None)</h3> <dd>
<p>List resource groups associated with the subscription</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_storage_accounts"> salt.cloud.clouds.azurearm.list_storage_accounts(call=None)</h3> <dd>
<p>List storage accounts within the subscription.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_subnets"> salt.cloud.clouds.azurearm.list_subnets(call=None, kwargs=None)</h3> <dd>
<p>List subnets in a virtual network.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.list_virtual_networks"> salt.cloud.clouds.azurearm.list_virtual_networks(call=None, kwargs=None)</h3> <dd>
<p>List virtual networks.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.request_instance"> salt.cloud.clouds.azurearm.request_instance(vm_)</h3> <dd>
<p>Request a VM from Azure.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.show_instance"> salt.cloud.clouds.azurearm.show_instance(name, call=None)</h3> <dd>
<p>Show the details from AzureARM concerning an instance</p> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.start"> salt.cloud.clouds.azurearm.start(name, call=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2019.2.0.</span></p> </div> <p>Start a VM</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a start myminion</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.cloud.clouds.azurearm.stop"> salt.cloud.clouds.azurearm.stop(name, call=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2019.2.0.</span></p> </div> <p>Stop (deallocate) a VM</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a stop myminion</pre> </dd>
</dl> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/clouds/all/salt.cloud.clouds.azurearm.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/clouds/all/salt.cloud.clouds.azurearm.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
