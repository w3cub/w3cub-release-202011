
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.win_wua - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Module for managing Windows Updates using the Windows Update Agent. ">
  <meta name="keywords" content="salt, modules, win, wua, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.win_wua.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.win_wua</h1> <p>Module for managing Windows Updates using the Windows Update Agent.</p> <p>List updates on the system using the following functions:</p> <ul class="simple"> <li><a class="reference internal" href="#salt.modules.win_wua.available" title="salt.modules.win_wua.available"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.available</span></code></a></li> <li><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.list</span></code></li> </ul> <p>This is an easy way to find additional information about updates available to to the system, such as the GUID, KB number, or description.</p> <p>Once you have the GUID or a KB number for the update you can get information about the update, download, install, or uninstall it using these functions:</p> <ul class="simple"> <li><a class="reference internal" href="#salt.modules.win_wua.get" title="salt.modules.win_wua.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.get</span></code></a></li> <li><a class="reference internal" href="#salt.modules.win_wua.download" title="salt.modules.win_wua.download"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.download</span></code></a></li> <li><a class="reference internal" href="#salt.modules.win_wua.install" title="salt.modules.win_wua.install"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.install</span></code></a></li> <li><a class="reference internal" href="#salt.modules.win_wua.uninstall" title="salt.modules.win_wua.uninstall"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.uninstall</span></code></a></li> </ul> <p>The get function expects a name in the form of a GUID, KB, or Title and should return information about a single update. The other functions accept either a single item or a list of items for downloading/installing/uninstalling a specific list of items.</p> <p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.list</span></code> and <a class="reference internal" href="#salt.modules.win_wua.get" title="salt.modules.win_wua.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.get</span></code></a> functions are utility functions. In addition to returning information about updates they can also download and install updates by setting <code class="docutils literal notranslate"><span class="pre">download=True</span></code> or <code class="docutils literal notranslate"><span class="pre">install=True</span></code>. So, with py:func:<cite>win_wua.list &lt;salt.modules.win_wua.list_&gt;</cite> for example, you could run the function with the filters you want to see what is available. Then just add <code class="docutils literal notranslate"><span class="pre">install=True</span></code> to install everything on that list.</p> <p>If you want to download, install, or uninstall specific updates, use <a class="reference internal" href="#salt.modules.win_wua.download" title="salt.modules.win_wua.download"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.download</span></code></a>, <a class="reference internal" href="#salt.modules.win_wua.install" title="salt.modules.win_wua.install"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.install</span></code></a>, or <a class="reference internal" href="#salt.modules.win_wua.uninstall" title="salt.modules.win_wua.uninstall"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.uninstall</span></code></a>. To update your system with the latest updates use <code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.list</span></code> and set <code class="docutils literal notranslate"><span class="pre">install=True</span></code></p> <p>You can also adjust the Windows Update settings using the <a class="reference internal" href="#salt.modules.win_wua.set_wu_settings" title="salt.modules.win_wua.set_wu_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">win_wua.set_wu_settings</span></code></a> function. This function is only supported on the following operating systems:</p> <ul class="simple"> <li>Windows Vista / Server 2008</li> <li>Windows 7 / Server 2008R2</li> <li>Windows 8 / Server 2012</li> <li>Windows 8.1 / Server 2012R2</li> </ul> <p>As of Windows 10 and Windows Server 2016, the ability to modify the Windows Update settings has been restricted. The settings can be modified in the Local Group Policy using the <code class="docutils literal notranslate"><span class="pre">lgpo</span></code> module.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2015.8.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">salt.utils.win_update</td> </tr> </tbody> </table> <dl class="function"> <h3 id="salt.modules.win_wua.available"> salt.modules.win_wua.available(software=True, drivers=True, summary=False, skip_installed=True, skip_hidden=True, skip_mandatory=False, skip_reboot=False, categories=None, severities=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <p>List updates that match the passed criteria. This allows for more filter options than <a class="reference internal" href="#salt.modules.win_wua.list" title="salt.modules.win_wua.list"><code class="xref py py-func docutils literal notranslate"><span class="pre">list()</span></code></a>. Good for finding a specific GUID or KB.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>software</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Include software updates in the results (default is True)</li> <li>
<strong>drivers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Include driver updates in the results (default is True)</li> <li>
<strong>summary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- <ul> <li>True: Return a summary of updates available for each category.</li> <li>False (default): Return a detailed list of available updates.</li> </ul> </li> <li>
<strong>skip_installed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Skip updates that are already installed. Default is False.</li> <li>
<strong>skip_hidden</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Skip updates that have been hidden. Default is True.</li> <li>
<strong>skip_mandatory</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Skip mandatory updates. Default is False.</li> <li>
<strong>skip_reboot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Skip updates that require a reboot. Default is False.</li> <li>
<strong>categories</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- <p>Specify the categories to list. Must be passed as a list. All categories returned by default.</p> <p>Categories include the following:</p> <ul> <li>Critical Updates</li> <li>Definition Updates</li> <li>Drivers (make sure you set drivers=True)</li> <li>Feature Packs</li> <li>Security Updates</li> <li>Update Rollups</li> <li>Updates</li> <li>Update Rollups</li> <li>Windows 7</li> <li>Windows 8.1</li> <li>Windows 8.1 drivers</li> <li>Windows 8.1 and later drivers</li> <li>Windows Defender</li> </ul> </li> <li>
<strong>severities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- <p>Specify the severities to include. Must be passed as a list. All severities returned by default.</p> <p>Severities include the following:</p> <ul> <li>Critical</li> <li>Important</li> </ul> </li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<p>Returns a dict containing either a summary or a list of updates:</p> <pre class="highlight-cfg notranslate" data-language="cfg">List of Updates:
{'&lt;GUID&gt;': {'Title': &lt;title&gt;,
            'KB': &lt;KB&gt;,
            'GUID': &lt;the globally unique identifier for the update&gt;
            'Description': &lt;description&gt;,
            'Downloaded': &lt;has the update been downloaded&gt;,
            'Installed': &lt;has the update been installed&gt;,
            'Mandatory': &lt;is the update mandatory&gt;,
            'UserInput': &lt;is user input required&gt;,
            'EULAAccepted': &lt;has the EULA been accepted&gt;,
            'Severity': &lt;update severity&gt;,
            'NeedsReboot': &lt;is the update installed and awaiting reboot&gt;,
            'RebootBehavior': &lt;will the update require a reboot&gt;,
            'Categories': [ '&lt;category 1&gt;',
                            '&lt;category 2&gt;',
                            ...]
            }
}

Summary of Updates:
{'Total': &lt;total number of updates returned&gt;,
 'Available': &lt;updates that are not downloaded or installed&gt;,
 'Downloaded': &lt;updates that are downloaded but not installed&gt;,
 'Installed': &lt;updates installed (usually 0 unless installed=True)&gt;,
 'Categories': { &lt;category 1&gt;: &lt;total for that category&gt;,
                 &lt;category 2&gt;: &lt;total for category 2&gt;,
                 ... }
}</pre> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash"># Normal Usage (list all software updates)
salt '*' win_wua.available

# List all updates with categories of Critical Updates and Drivers
salt '*' win_wua.available categories=["Critical Updates","Drivers"]

# List all Critical Security Updates
salt '*' win_wua.available categories=["Security Updates"] severities=["Critical"]

# List all updates with a severity of Critical
salt '*' win_wua.available severities=["Critical"]

# A summary of all available updates
salt '*' win_wua.available summary=True

# A summary of all Feature Packs and Windows 8.1 Updates
salt '*' win_wua.available categories=["Feature Packs","Windows 8.1"] summary=True</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.download"> salt.modules.win_wua.download(names)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <p>Downloads updates that match the list of passed identifiers. It's easier to use this function by using list_updates and setting install=True.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- A single update or a list of updates to download. This can be any combination of GUIDs, KB numbers, or names. GUIDs or KBs are preferred.</td> </tr> </tbody> </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">An error will be raised if there are more results than there are items in the names parameter</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary containing the details about the downloaded updates</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash"># Normal Usage
salt '*' win_wua.download names=['12345678-abcd-1234-abcd-1234567890ab', 'KB2131233']</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.get"> salt.modules.win_wua.get(name, download=False, install=False)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <p>Returns details for the named update</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the update you're searching for. This can be the GUID, a KB number, or any part of the name of the update. GUIDs and KBs are preferred. Run <code class="docutils literal notranslate"><span class="pre">list</span></code> to get the GUID for the update you're looking for.</li> <li>
<strong>download</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Download the update returned by this function. Run this function first to see if the update exists, then set <code class="docutils literal notranslate"><span class="pre">download=True</span></code> to download the update.</li> <li>
<strong>install</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Install the update returned by this function. Run this function first to see if the update exists, then set <code class="docutils literal notranslate"><span class="pre">install=True</span></code> to install the update.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<p>Returns a dict containing a list of updates that match the name if download and install are both set to False. Should usually be a single update, but can return multiple if a partial name is given.</p> <p>If download or install is set to true it will return the results of the operation.</p> <pre class="highlight-cfg notranslate" data-language="cfg">List of Updates:
{'&lt;GUID&gt;': {'Title': &lt;title&gt;,
            'KB': &lt;KB&gt;,
            'GUID': &lt;the globally unique identifier for the update&gt;
            'Description': &lt;description&gt;,
            'Downloaded': &lt;has the update been downloaded&gt;,
            'Installed': &lt;has the update been installed&gt;,
            'Mandatory': &lt;is the update mandatory&gt;,
            'UserInput': &lt;is user input required&gt;,
            'EULAAccepted': &lt;has the EULA been accepted&gt;,
            'Severity': &lt;update severity&gt;,
            'NeedsReboot': &lt;is the update installed and awaiting reboot&gt;,
            'RebootBehavior': &lt;will the update require a reboot&gt;,
            'Categories': [ '&lt;category 1&gt;',
                            '&lt;category 2&gt;',
                            ...]
            }
}</pre> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash"># Recommended Usage using GUID without braces
# Use this to find the status of a specific update
salt '*' win_wua.get 12345678-abcd-1234-abcd-1234567890ab

# Use the following if you don't know the GUID:

# Using a KB number
# Not all updates have an associated KB
salt '*' win_wua.get KB3030298

# Using part or all of the name of the update
# Could possibly return multiple results
# Not all updates have an associated KB
salt '*' win_wua.get 'Microsoft Camera Codec Pack'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.get_needs_reboot"> salt.modules.win_wua.get_needs_reboot()</h3> <dd>
<p>Determines if the system needs to be rebooted.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">True if the system requires a reboot, otherwise False</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' win_wua.get_needs_reboot</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.get_wu_settings"> salt.modules.win_wua.get_wu_settings()</h3> <dd>
<p>Get current Windows Update settings.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary of Windows Update settings:<dl class="docutils"> <dt>Featured Updates:</dt> <dd>Boolean value that indicates whether to display notifications for featured updates.</dd> <dt>Group Policy Required (Read-only):</dt> <dd>Boolean value that indicates whether Group Policy requires the Automatic Updates service.</dd> <dt>Microsoft Update:</dt> <dd>Boolean value that indicates whether to turn on Microsoft Update for other Microsoft Products</dd> <dt>Needs Reboot:</dt> <dd>Boolean value that indicates whether the machine is in a reboot pending state.</dd> <dt>Non Admins Elevated:</dt> <dd>Boolean value that indicates whether non-administrators can perform some update-related actions without administrator approval.</dd> <dt>Notification Level:</dt> <dd>
<dl class="first last docutils"> <dt>Number 1 to 4 indicating the update level:</dt> <dd>
<ol class="first last arabic simple"> <li>Never check for updates</li> <li>Check for updates but let me choose whether to download and install them</li> <li>Download updates but let me choose whether to install them</li> <li>Install updates automatically</li> </ol> </dd> </dl> </dd> <dt>Read Only (Read-only):</dt> <dd>Boolean value that indicates whether the Automatic Update settings are read-only.</dd> <dt>Recommended Updates:</dt> <dd>Boolean value that indicates whether to include optional or recommended updates when a search for updates and installation of updates is performed.</dd> <dt>Scheduled Day:</dt> <dd>Days of the week on which Automatic Updates installs or uninstalls updates.</dd> <dt>Scheduled Time:</dt> <dd>Time at which Automatic Updates installs or uninstalls updates.</dd> </dl> </td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' win_wua.get_wu_settings</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.install"> salt.modules.win_wua.install(names)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <p>Installs updates that match the list of identifiers. It may be easier to use the list_updates function and set install=True.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- A single update or a list of updates to install. This can be any combination of GUIDs, KB numbers, or names. GUIDs or KBs are preferred.</td> </tr> </tbody> </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">An error will be raised if there are more results than there are items in the names parameter</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary containing the details about the installed updates</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash"># Normal Usage
salt '*' win_wua.install KB12323211</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.list"> salt.modules.win_wua.list(software=True, drivers=False, summary=False, skip_installed=True, categories=None, severities=None, download=False, install=False)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <p>Returns a detailed list of available updates or a summary. If download or install is True the same list will be downloaded and/or installed.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>software</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Include software updates in the results (default is True)</li> <li>
<strong>drivers</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Include driver updates in the results (default is False)</li> <li>
<strong>summary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- <ul> <li>True: Return a summary of updates available for each category.</li> <li>False (default): Return a detailed list of available updates.</li> </ul> </li> <li>
<strong>skip_installed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Skip installed updates in the results (default is False)</li> <li>
<strong>download</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- (Overrides reporting functionality) Download the list of updates returned by this function. Run this function first with <code class="docutils literal notranslate"><span class="pre">download=False</span></code> to see what will be downloaded, then set <code class="docutils literal notranslate"><span class="pre">download=True</span></code> to download the updates.</li> <li>
<strong>install</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- (Overrides reporting functionality) Install the list of updates returned by this function. Run this function first with <code class="docutils literal notranslate"><span class="pre">install=False</span></code> to see what will be installed, then set <code class="docutils literal notranslate"><span class="pre">install=True</span></code> to install the updates.</li> <li>
<strong>categories</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- <p>Specify the categories to list. Must be passed as a list. All categories returned by default.</p> <p>Categories include the following:</p> <ul> <li>Critical Updates</li> <li>Definition Updates</li> <li>Drivers (make sure you set drivers=True)</li> <li>Feature Packs</li> <li>Security Updates</li> <li>Update Rollups</li> <li>Updates</li> <li>Update Rollups</li> <li>Windows 7</li> <li>Windows 8.1</li> <li>Windows 8.1 drivers</li> <li>Windows 8.1 and later drivers</li> <li>Windows Defender</li> </ul> </li> <li>
<strong>severities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- <p>Specify the severities to include. Must be passed as a list. All severities returned by default.</p> <p>Severities include the following:</p> <ul> <li>Critical</li> <li>Important</li> </ul> </li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<p>Returns a dict containing either a summary or a list of updates:</p> <pre class="highlight-cfg notranslate" data-language="cfg">List of Updates:
{'&lt;GUID&gt;': {'Title': &lt;title&gt;,
            'KB': &lt;KB&gt;,
            'GUID': &lt;the globally unique identifier for the update&gt;
            'Description': &lt;description&gt;,
            'Downloaded': &lt;has the update been downloaded&gt;,
            'Installed': &lt;has the update been installed&gt;,
            'Mandatory': &lt;is the update mandatory&gt;,
            'UserInput': &lt;is user input required&gt;,
            'EULAAccepted': &lt;has the EULA been accepted&gt;,
            'Severity': &lt;update severity&gt;,
            'NeedsReboot': &lt;is the update installed and awaiting reboot&gt;,
            'RebootBehavior': &lt;will the update require a reboot&gt;,
            'Categories': [ '&lt;category 1&gt;',
                            '&lt;category 2&gt;',
                            ...]
            }
}

Summary of Updates:
{'Total': &lt;total number of updates returned&gt;,
 'Available': &lt;updates that are not downloaded or installed&gt;,
 'Downloaded': &lt;updates that are downloaded but not installed&gt;,
 'Installed': &lt;updates installed (usually 0 unless installed=True)&gt;,
 'Categories': { &lt;category 1&gt;: &lt;total for that category&gt;,
                 &lt;category 2&gt;: &lt;total for category 2&gt;,
                 ... }
}</pre> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash"># Normal Usage (list all software updates)
salt '*' win_wua.list

# List all updates with categories of Critical Updates and Drivers
salt '*' win_wua.list categories=['Critical Updates','Drivers']

# List all Critical Security Updates
salt '*' win_wua.list categories=['Security Updates'] severities=['Critical']

# List all updates with a severity of Critical
salt '*' win_wua.list severities=['Critical']

# A summary of all available updates
salt '*' win_wua.list summary=True

# A summary of all Feature Packs and Windows 8.1 Updates
salt '*' win_wua.list categories=['Feature Packs','Windows 8.1'] summary=True</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.set_wu_settings"> salt.modules.win_wua.set_wu_settings(level=None, recommended=None, featured=None, elevated=None, msupdate=None, day=None, time=None)</h3> <dd>
<p>Change Windows Update settings. If no parameters are passed, the current value will be returned.</p> <dl class="docutils"> <dt>Supported:</dt> <dd>
<ul class="first last simple"> <li>Windows Vista / Server 2008</li> <li>Windows 7 / Server 2008R2</li> <li>Windows 8 / Server 2012</li> <li>Windows 8.1 / Server 2012R2</li> </ul> </dd> </dl> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- <p>Number from 1 to 4 indicating the update level:</p> <ol class="arabic"> <li>Never check for updates</li> <li>Check for updates but let me choose whether to download and install them</li> <li>Download updates but let me choose whether to install them</li> <li>Install updates automatically</li> </ol> </li> <li>
<strong>recommended</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Boolean value that indicates whether to include optional or recommended updates when a search for updates and installation of updates is performed.</li> <li>
<strong>featured</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Boolean value that indicates whether to display notifications for featured updates.</li> <li>
<strong>elevated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Boolean value that indicates whether non-administrators can perform some update-related actions without administrator approval.</li> <li>
<strong>msupdate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Boolean value that indicates whether to turn on Microsoft Update for other Microsoft products</li> <li>
<strong>day</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>Days of the week on which Automatic Updates installs or uninstalls updates. Accepted values:</p> <ul> <li>Everyday</li> <li>Monday</li> <li>Tuesday</li> <li>Wednesday</li> <li>Thursday</li> <li>Friday</li> <li>Saturday</li> </ul> </li> <li>
<strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Time at which Automatic Updates installs or uninstalls updates. Must be in the ##:## 24hr format, eg. 3:00 PM would be 15:00. Must be in 1 hour increments.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Returns a dictionary containing the results.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' win_wua.set_wu_settings level=4 recommended=True featured=False</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_wua.uninstall"> salt.modules.win_wua.uninstall(names)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <p>Uninstall updates.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- A single update or a list of updates to uninstall. This can be any combination of GUIDs, KB numbers, or names. GUIDs or KBs are preferred.</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary containing the details about the uninstalled updates</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash"># Normal Usage
salt '*' win_wua.uninstall KB3121212

# As a list
salt '*' win_wua.uninstall guid=['12345678-abcd-1234-abcd-1234567890ab', 'KB1231231']</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_wua.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_wua.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
