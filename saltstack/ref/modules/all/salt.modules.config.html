
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.config - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Return config information ">
  <meta name="keywords" content="salt, modules, config, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.config.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.config</h1> <p>Return config information</p> <dl class="function"> <h3 id="salt.modules.config.backup_mode"> salt.modules.config.backup_mode(backup='')</h3> <dd>
<p>Return the backup mode</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.backup_mode</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.dot_vals"> salt.modules.config.dot_vals(value)</h3> <dd>
<p>Pass in a configuration value that should be preceded by the module name and a dot, this will return a list of all read key/value pairs</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.dot_vals host</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.gather_bootstrap_script"> salt.modules.config.gather_bootstrap_script(bootstrap=None)</h3> <dd>
<p>Download the salt-bootstrap script, and return its location</p> <dl class="docutils"> <dt>bootstrap</dt> <dd>URL of alternate bootstrap script</dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.gather_bootstrap_script</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.get"> salt.modules.config.get(key, default='', delimiter=':', merge=None, omit_opts=False, omit_pillar=False, omit_master=False, omit_grains=False)</h3> <dd>
<p>Attempt to retrieve the named value from the minion config file, pillar, grains or the master config. If the named value is not available, return the value specified by <code class="docutils literal notranslate"><span class="pre">default</span></code>. If not specified, the default is an empty string.</p> <p>Values can also be retrieved from nested dictionaries. Assume the below data structure:</p> <pre class="highlight-python notranslate" data-language="python">{'pkg': {'apache': 'httpd'}}</pre> <p>To retrieve the value associated with the <code class="docutils literal notranslate"><span class="pre">apache</span></code> key, in the sub-dictionary corresponding to the <code class="docutils literal notranslate"><span class="pre">pkg</span></code> key, the following command can be used:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion config.get pkg:apache</pre> <p>The <code class="docutils literal notranslate"><span class="pre">:</span></code> (colon) is used to represent a nested dictionary level.</p> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2015.5.0: </span>The <code class="docutils literal notranslate"><span class="pre">delimiter</span></code> argument was added, to allow delimiters other than <code class="docutils literal notranslate"><span class="pre">:</span></code> to be used.</p> </div> <p>This function traverses these data stores in this order, returning the first match found:</p> <ul class="simple"> <li>Minion configuration</li> <li>Minion's grains</li> <li>Minion's pillar data</li> <li>Master configuration (requires <code class="xref std std-conf_minion docutils literal notranslate"><span class="pre">pillar_opts</span></code> to be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> in Minion config file in order to work)</li> </ul> <p>This means that if there is a value that is going to be the same for the majority of minions, it can be configured in the Master config file, and then overridden using the grains, pillar, or Minion config file.</p> <p>Adding config options to the Master or Minion configuration file is easy:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-config-option: value
cafe-menu:
  - egg and bacon
  - egg sausage and bacon
  - egg and spam
  - egg bacon and spam
  - egg bacon sausage and spam
  - spam bacon sausage and spam
  - spam egg spam spam bacon and spam
  - spam sausage spam spam bacon spam tomato and spam</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Minion configuration options built into Salt (like those defined <a class="reference internal" href="https://docs.saltstack.com/en/latest/ref/configuration/minion.html#configuration-salt-minion"><span class="std std-ref">here</span></a>) will <em>always</em> be defined in the Minion configuration and thus <em>cannot be overridden by grains or pillar data</em>. However, additional (user-defined) configuration options (as in the above example) will not be in the Minion configuration by default and thus can be overridden using grains/pillar data by leaving the option out of the minion config file.</p> </div> <p><strong>Arguments</strong></p> <dl class="docutils"> <dt>delimiter</dt> <dd>
<div class="first versionadded"> <p><span class="versionmodified">New in version 2015.5.0.</span></p> </div> <p class="last">Override the delimiter used to separate nested levels of a data structure.</p> </dd> <dt>merge</dt> <dd>
<div class="first versionadded"> <p><span class="versionmodified">New in version 2015.5.0.</span></p> </div> <p>If passed, this parameter will change the behavior of the function so that, instead of traversing each data store above in order and returning the first match, the data stores are first merged together and then searched. The pillar data is merged into the master config data, then the grains are merged, followed by the Minion config data. The resulting data structure is then searched for a match. This allows for configurations to be more flexible.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The merging described above does not mean that grain data will end up in the Minion's pillar data, or pillar data will end up in the master config data, etc. The data is just combined for the purposes of searching an amalgam of the different data stores.</p> </div> <p>The supported merge strategies are as follows:</p> <ul class="last"> <li>
<p class="first"><strong>recurse</strong> - If a key exists in both dictionaries, and the new value is not a dictionary, it is replaced. Otherwise, the sub-dictionaries are merged together into a single dictionary, recursively on down, following the same criteria. For example:</p> <pre class="highlight-python notranslate" data-language="python">&gt;&gt;&gt; dict1 = {'foo': {'bar': 1, 'qux': True},
             'hosts': ['a', 'b', 'c'],
             'only_x': None}
&gt;&gt;&gt; dict2 = {'foo': {'baz': 2, 'qux': False},
             'hosts': ['d', 'e', 'f'],
             'only_y': None}
&gt;&gt;&gt; merged
{'foo': {'bar': 1, 'baz': 2, 'qux': False},
 'hosts': ['d', 'e', 'f'],
 'only_dict1': None,
 'only_dict2': None}</pre> </li> <li>
<p class="first"><strong>overwrite</strong> - If a key exists in the top level of both dictionaries, the new value completely overwrites the old. For example:</p> <pre class="highlight-python notranslate" data-language="python">&gt;&gt;&gt; dict1 = {'foo': {'bar': 1, 'qux': True},
             'hosts': ['a', 'b', 'c'],
             'only_x': None}
&gt;&gt;&gt; dict2 = {'foo': {'baz': 2, 'qux': False},
             'hosts': ['d', 'e', 'f'],
             'only_y': None}
&gt;&gt;&gt; merged
{'foo': {'baz': 2, 'qux': False},
 'hosts': ['d', 'e', 'f'],
 'only_dict1': None,
 'only_dict2': None}</pre> </li> </ul> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.get pkg:apache
salt '*' config.get lxc.container_profile:centos merge=recurse</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.items"> salt.modules.config.items()</h3> <dd>
<p>Return the complete config from the currently running minion process. This includes defaults for values not set in the config file.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.items</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.manage_mode"> salt.modules.config.manage_mode(mode)</h3> <dd>
<p>Return a mode value, normalized to a string</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.manage_mode</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.merge"> salt.modules.config.merge(value, default='', omit_opts=False, omit_master=False, omit_pillar=False)</h3> <dd>
<p>Retrieves an option based on key, merging all matches.</p> <p>Same as <code class="docutils literal notranslate"><span class="pre">option()</span></code> except that it merges all matches, rather than taking the first match.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.merge schedule</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.option"> salt.modules.config.option(value, default='', omit_opts=False, omit_master=False, omit_pillar=False)</h3> <dd>
<p>Pass in a generic option and receive the value that will be assigned</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.option redis.host</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.config.valid_fileproto"> salt.modules.config.valid_fileproto(uri)</h3> <dd>
<p>Returns a boolean value based on whether or not the URI passed has a valid remote file protocol designation</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' config.valid_fileproto salt://path/to/file</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.config.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.config.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
