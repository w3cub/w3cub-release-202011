
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.system - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Support for reboot, shutdown, etc on POSIX-like systems. ">
  <meta name="keywords" content="salt, modules, system, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.system.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.system</h1> <p>Support for reboot, shutdown, etc on POSIX-like systems.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If you have configured a wrapper such as <code class="docutils literal notranslate"><span class="pre">molly-guard</span></code> to intercept <em>interactive</em> shutdown commands, be aware that calling <code class="docutils literal notranslate"><span class="pre">system.halt</span></code>, <code class="docutils literal notranslate"><span class="pre">system.poweroff</span></code>, <code class="docutils literal notranslate"><span class="pre">system.reboot</span></code>, and <code class="docutils literal notranslate"><span class="pre">system.shutdown</span></code> with <code class="docutils literal notranslate"><span class="pre">salt-call</span></code> will hang indefinitely while the wrapper script waits for user input. Calling them with <code class="docutils literal notranslate"><span class="pre">salt</span></code> will work as expected.</p> </div> <dl class="function"> <h3 id="salt.modules.system.get_computer_desc"> salt.modules.system.get_computer_desc()</h3> <dd>
<p>Get PRETTY_HOSTNAME value stored in /etc/machine-info If this file doesn't exist or the variable doesn't exist return False.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">Value of PRETTY_HOSTNAME if this does not exist False.</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_computer_desc</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.get_computer_name"> salt.modules.system.get_computer_name()</h3> <dd>
<p>Get hostname.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' network.get_hostname</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.get_reboot_required_witnessed"> salt.modules.system.get_reboot_required_witnessed()</h3> <dd>
<p>Determine if at any time during the current boot session the salt minion witnessed an event indicating that a reboot is required.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if the a reboot request was witnessed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_reboot_required_witnessed</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.get_system_date"> salt.modules.system.get_system_date(utc_offset=None)</h3> <dd>
<p>Get the system date</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>utc_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The utc offset in 4 digit (+0600) format with an optional sign (+/-). Will default to None which will use the local timezone. To set the time based off of UTC use "'+0000'". Note: if being passed through the command line will need to be quoted twice to allow negative offsets.</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">Returns the system date.</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_system_date</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.get_system_date_time"> salt.modules.system.get_system_date_time(utc_offset=None)</h3> <dd>
<p>Get the system date/time.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>utc_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The utc offset in 4 digit (+0600) format with an optional sign (+/-). Will default to None which will use the local timezone. To set the time based off of UTC use "'+0000'". Note: if being passed through the command line will need to be quoted twice to allow negative offsets.</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">Returns the system time in YYYY-MM-DD hh:mm:ss format.</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_system_date_time "'-0500'"</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.get_system_time"> salt.modules.system.get_system_time(utc_offset=None)</h3> <dd>
<p>Get the system time.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>utc_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The utc offset in 4 digit (+0600) format with an optional sign (+/-). Will default to None which will use the local timezone. To set the time based off of UTC use "'+0000'". Note: if being passed through the command line will need to be quoted twice to allow negative offsets.</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">Returns the system time in HH:MM:SS AM/PM format.</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_system_time</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.halt"> salt.modules.system.halt()</h3> <dd>
<p>Halt a running system</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.halt</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.has_settable_hwclock"> salt.modules.system.has_settable_hwclock()</h3> <dd>
<p>Returns True if the system has a hardware clock capable of being set from software.</p> <p>CLI Example:</p> <p>salt '*' system.has_settable_hwclock</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.init"> salt.modules.system.init(runlevel)</h3> <dd>
<p>Change the system runlevel on sysV compatible systems</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.init 3</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.poweroff"> salt.modules.system.poweroff()</h3> <dd>
<p>Poweroff a running system</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.poweroff</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.reboot"> salt.modules.system.reboot(at_time=None)</h3> <dd>
<p>Reboot the system</p> <dl class="docutils"> <dt>at_time</dt> <dd>The wait time in minutes before the system will be rebooted.</dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.reboot</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.set_computer_desc"> salt.modules.system.set_computer_desc(desc)</h3> <dd>
<p>Set PRETTY_HOSTNAME value stored in /etc/machine-info This will create the file if it does not exist. If it is unable to create or modify this file returns False.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>desc</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The computer description</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">False on failure. True if successful.</td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_computer_desc "Michael's laptop"</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.set_computer_name"> salt.modules.system.set_computer_name(hostname)</h3> <dd>
<p>Modify hostname.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_computer_name master.saltstack.com</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.set_reboot_required_witnessed"> salt.modules.system.set_reboot_required_witnessed()</h3> <dd>
<p>This function is used to remember that an event indicating that a reboot is required was witnessed. This function writes to a temporary filesystem so the event gets cleared upon reboot.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>
</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_reboot_required_witnessed</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.set_system_date"> salt.modules.system.set_system_date(newdate, utc_offset=None)</h3> <dd>
<p>Set the system date. Use &lt;mm-dd-yy&gt; format for the date.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>newdate</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The date to set. Can be any of the following formats:</p> <ul class="simple"> <li>YYYY-MM-DD</li> <li>MM-DD-YYYY</li> <li>MM-DD-YY</li> <li>MM/DD/YYYY</li> <li>MM/DD/YY</li> <li>YYYY/MM/DD</li> </ul> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_system_date '03-28-13'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.set_system_date_time"> salt.modules.system.set_system_date_time(years=None, months=None, days=None, hours=None, minutes=None, seconds=None, utc_offset=None)</h3> <dd>
<p>Set the system date and time. Each argument is an element of the date, but not required. If an element is not passed, the current system value for that element will be used. For example, if you don't pass the year, the current system year will be used. (Used by set_system_date and set_system_time)</p> <p>Updates hardware clock, if present, in addition to software (kernel) clock.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>years</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Years digit, ie: 2015</li> <li>
<strong>months</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Months digit: 1 - 12</li> <li>
<strong>days</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Days digit: 1 - 31</li> <li>
<strong>hours</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Hours digit: 0 - 23</li> <li>
<strong>minutes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Minutes digit: 0 - 59</li> <li>
<strong>seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- Seconds digit: 0 - 59</li> <li>
<strong>utc_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The utc offset in 4 digit (+0600) format with an optional sign (+/-). Will default to None which will use the local timezone. To set the time based off of UTC use "'+0000'". Note: if being passed through the command line will need to be quoted twice to allow negative offsets.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful. Otherwise False.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_system_date_time 2015 5 12 11 37 53 "'-0500'"</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.set_system_time"> salt.modules.system.set_system_time(newtime, utc_offset=None)</h3> <dd>
<p>Set the system time.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>newtime</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The time to set. Can be any of the following formats. - HH:MM:SS AM/PM - HH:MM AM/PM - HH:MM:SS (24 hour) - HH:MM (24 hour)</p> <p>Note that the salt command line parser parses the date/time before we obtain the argument (preventing us from doing utc) Therefore the argument must be passed in as a string. Meaning you may have to quote the text twice from the command line.</p> </li> <li>
<strong>utc_offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The utc offset in 4 digit (+0600) format with an optional sign (+/-). Will default to None which will use the local timezone. To set the time based off of UTC use "'+0000'". Note: if being passed through the command line will need to be quoted twice to allow negative offsets.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Returns True if successful. Otherwise False.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_system_time "'11:20'"</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.system.shutdown"> salt.modules.system.shutdown(at_time=None)</h3> <dd>
<p>Shutdown a running system</p> <dl class="docutils"> <dt>at_time</dt> <dd>The wait time in minutes before the system will be shutdown.</dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.shutdown 5</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.system.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.system.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
