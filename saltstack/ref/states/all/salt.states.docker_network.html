
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>states.docker_network - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Management of Docker networks ">
  <meta name="keywords" content="salt, states, docker, network, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/states/all/salt.states.docker_network.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.states.docker_network</h1> <p>Management of Docker networks</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">
<a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a> Python module</td> </tr> </tbody> </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>Older releases of the Python bindings for Docker were called <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a> in PyPI. All releases of <a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a>, and releases of <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a> &gt;= 1.6.0 are supported. These python bindings can easily be installed using <a class="reference internal" href="../../modules/all/salt.modules.pip#salt.modules.pip.install" title="salt.modules.pip.install"><code class="xref py py-func docutils literal notranslate"><span class="pre">pip.install</span></code></a>:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion pip.install docker</pre> <p>To upgrade from <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a> to <a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a>, you must first uninstall <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a>, and then install <a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a>:</p> <div class="last highlight-bash notranslate">
<div class="highlight"><pre>salt myminion pip.uninstall docker-py
salt myminion pip.install docker
</pre></div> </div> </div> <p>These states were moved from the <code class="xref py py-mod docutils literal notranslate"><span class="pre">docker</span></code> state module (formerly called <strong>dockerng</strong>) in the 2017.7.0 release.</p> <dl class="function"> <h3 id="salt.states.docker_network.absent"> salt.states.docker_network.absent(name)</h3> <dd>
<p>Ensure that a network is absent.</p> <dl class="docutils"> <dt>name</dt> <dd>Name of the network</dd> </dl> <p>Usage Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">network_foo:
  docker_network.absent</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.states.docker_network.present"> salt.states.docker_network.present(name, skip_translate=None, ignore_collisions=False, validate_ip_addrs=True, containers=None, reconnect=True, **kwargs)</h3> <dd>
<div class="versionchanged"> <p><span class="versionmodified">Changed in version 2018.3.0: </span>Support added for network configuration options other than <code class="docutils literal notranslate"><span class="pre">driver</span></code> and <code class="docutils literal notranslate"><span class="pre">driver_opts</span></code>, as well as IPAM configuration.</p> </div> <p>Ensure that a network is present</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This state supports all arguments for network and IPAM pool configuration which are available for the release of docker-py installed on the minion. For that reason, the arguments described below in the <a class="reference internal" href="#salt-states-docker-network-present-netconf"><span class="std std-ref">NETWORK CONFIGURATION</span></a> and <a class="reference internal" href="#salt-states-docker-network-present-ipam"><span class="std std-ref">IP ADDRESS MANAGEMENT (IPAM)</span></a> sections may not accurately reflect what is available on the minion. The <a class="reference internal" href="../../modules/all/salt.modules.dockermod#salt.modules.dockermod.get_client_args" title="salt.modules.dockermod.get_client_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">docker.get_client_args</span></code></a> function can be used to check the available arguments for the installed version of docker-py (they are found in the <code class="docutils literal notranslate"><span class="pre">network_config</span></code> and <code class="docutils literal notranslate"><span class="pre">ipam_config</span></code> sections of the return data), but Salt will not prevent a user from attempting to use an argument which is unsupported in the release of Docker which is installed. In those cases, network creation be attempted but will fail.</p> </div> <dl class="docutils"> <dt>name</dt> <dd>Network name</dd> <dt>skip_translate</dt> <dd>
<p class="first">This function translates Salt SLS input into the format which docker-py expects. However, in the event that Salt's translation logic fails (due to potential changes in the Docker Remote API, or to bugs in the translation code), this argument can be used to exert granular control over which arguments are translated and which are not.</p> <p>Pass this argument as a comma-separated list (or Python list) of arguments, and translation for each passed argument name will be skipped. Alternatively, pass <code class="docutils literal notranslate"><span class="pre">True</span></code> and <em>all</em> translation will be skipped.</p> <p>Skipping tranlsation allows for arguments to be formatted directly in the format which docker-py expects. This allows for API changes and other issues to be more easily worked around. See the following links for more information:</p> <ul class="simple"> <li><a class="reference external" href="http://docker-py.readthedocs.io/en/stable/api.html#docker.api.container.ContainerApiMixin.create_container">docker-py Low-level API</a></li> <li><a class="reference external" href="https://docs.docker.com/engine/api/v1.33/#operation/ContainerCreate">Docker Engine API</a></li> </ul> <div class="last versionadded"> <p><span class="versionmodified">New in version 2018.3.0.</span></p> </div> </dd> </dl> <dl class="docutils"> <dt>ignore_collisions <span class="classifier-delimiter">:</span> <span class="classifier">False</span>
</dt> <dd>
<p class="first">Since many of docker-py's arguments differ in name from their CLI counterparts (with which most Docker users are more familiar), Salt detects usage of these and aliases them to the docker-py version of that argument. However, if both the alias and the docker-py version of the same argument (e.g. <code class="docutils literal notranslate"><span class="pre">options</span></code> and <code class="docutils literal notranslate"><span class="pre">driver_opts</span></code>) are used, an error will be raised. Set this argument to <code class="docutils literal notranslate"><span class="pre">True</span></code> to suppress these errors and keep the docker-py version of the argument.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2018.3.0.</span></p> </div> </dd> <dt>validate_ip_addrs <span class="classifier-delimiter">:</span> <span class="classifier">True</span>
</dt> <dd>
<p class="first">For parameters which accept IP addresses/subnets as input, validation will be performed. To disable, set this to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2018.3.0.</span></p> </div> </dd> <dt>containers</dt> <dd>
<p class="first">A list of containers which should be connected to this network.</p> <div class="last admonition note"> <p class="first admonition-title">Note</p> <p>As of the 2018.3.0 release, this is not the recommended way of managing a container's membership in a network, for a couple reasons:</p> <ol class="arabic simple"> <li>It does not support setting static IPs, aliases, or links in the container's IP configuration.</li> <li>If a <a class="reference internal" href="salt.states.docker_container#salt.states.docker_container.running" title="salt.states.docker_container.running"><code class="xref py py-func docutils literal notranslate"><span class="pre">docker_container.running</span></code></a> state replaces a container, it will not be reconnected to the network until the <code class="docutils literal notranslate"><span class="pre">docker_network.present</span></code> state is run again. Since containers often have <code class="docutils literal notranslate"><span class="pre">require</span></code> requisites to ensure that the network is present, this means that the <code class="docutils literal notranslate"><span class="pre">docker_network.present</span></code> state ends up being run <em>before</em> the <a class="reference internal" href="salt.states.docker_container#salt.states.docker_container.running" title="salt.states.docker_container.running"><code class="xref py py-func docutils literal notranslate"><span class="pre">docker_container.running</span></code></a>, leaving the container unattached at the end of the Salt run.</li> </ol> <p class="last">For these reasons, it is recommended to use <a class="reference internal" href="salt.states.docker_container#salt-states-docker-container-network-management"><span class="std std-ref">docker_container.running's network management support</span></a>.</p> </div> </dd> <dt>reconnect <span class="classifier-delimiter">:</span> <span class="classifier">True</span>
</dt> <dd>
<p class="first">If <code class="docutils literal notranslate"><span class="pre">containers</span></code> is not used, and the network is replaced, then Salt will keep track of the containers which were connected to the network and reconnect them to the network after it is replaced. Salt will first attempt to reconnect using the same IP the container had before the network was replaced. If that fails (for instance, if the network was replaced because the subnet was modified), then the container will be reconnected without an explicit IP address, and its IP will be assigned by Docker.</p> <p>Set this option to <code class="docutils literal notranslate"><span class="pre">False</span></code> to keep Salt from trying to reconnect containers. This can be useful in some cases when <a class="reference internal" href="salt.states.docker_container#salt-states-docker-container-network-management"><span class="std std-ref">managing static IPs in docker_container.running</span></a>. For instance, if a network's subnet is modified, it is likely that the static IP will need to be updated in the <code class="docutils literal notranslate"><span class="pre">docker_container.running</span></code> state as well. When the network is replaced, the initial reconnect attempt would fail, and the container would be reconnected with an automatically-assigned IP address. Then, when the <code class="docutils literal notranslate"><span class="pre">docker_container.running</span></code> state executes, it would disconnect the network <em>again</em> and reconnect using the new static IP. Disabling the reconnect behavior in these cases would prevent the unnecessary extra reconnection.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2018.3.0.</span></p> </div> </dd> </dl> <p id="salt-states-docker-network-present-netconf"><strong>NETWORK CONFIGURATION ARGUMENTS</strong></p> <dl class="docutils"> <dt>driver</dt> <dd>
<p class="first">Network driver</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">driver</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">macvlan</span>
</pre></div> </div> </dd> <dt>driver_opts (or <em>driver_opt</em>, or <em>options</em>)</dt> <dd>
<p class="first">Options for the network driver. Either a dictionary of option names and values or a Python list of strings in the format <code class="docutils literal notranslate"><span class="pre">varname=value</span></code>. The below three examples are equivalent:</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - driver: macvlan
    - driver_opts: macvlan_mode=bridge,parent=eth0</pre> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - driver: macvlan
    - driver_opts:
      - macvlan_mode=bridge
      - parent=eth0</pre> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - driver: macvlan
    - driver_opts:
      - macvlan_mode: bridge
      - parent: eth0</pre> <p>The options can also simply be passed as a dictionary, though this can be error-prone due to some <a class="reference internal" href="https://docs.saltstack.com/en/latest/topics/troubleshooting/yaml_idiosyncrasies.html#yaml-idiosyncrasies"><span class="std std-ref">idiosyncrasies</span></a> with how PyYAML loads nested data structures:</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">driver</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">macvlan</span>
    <span class="p p-Indicator">-</span> <span class="nt">driver_opts</span><span class="p">:</span>
        <span class="nt">macvlan_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bridge</span>
        <span class="nt">parent</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eth0</span>
</pre></div> </div> </dd> <dt>check_duplicate <span class="classifier-delimiter">:</span> <span class="classifier">True</span>
</dt> <dd>
<p class="first">If <code class="docutils literal notranslate"><span class="pre">True</span></code>, checks for networks with duplicate names. Since networks are primarily keyed based on a random ID and not on the name, and network name is strictly a user-friendly alias to the network which is uniquely identified using ID, there is no guaranteed way to check for duplicates. This option providess a best effort, checking for any networks which have the same name, but it is not guaranteed to catch all name collisions.</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">check_duplicate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div> </div> </dd> <dt>internal <span class="classifier-delimiter">:</span> <span class="classifier">False</span>
</dt> <dd>
<p class="first">If <code class="docutils literal notranslate"><span class="pre">True</span></code>, restricts external access to the network</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">internal</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div> </div> </dd> <dt>labels</dt> <dd>
<p class="first">Add metadata to the network. Labels can be set both with and without values, and labels with values can be passed either as <code class="docutils literal notranslate"><span class="pre">key=value</span></code> or <code class="docutils literal notranslate"><span class="pre">key:</span> <span class="pre">value</span></code> pairs. For example, while the below would be very confusing to read, it is technically valid, and demonstrates the different ways in which labels can be passed:</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - labels:
      - foo
      - bar=baz
      - hello: world</pre> <p>The labels can also simply be passed as a YAML dictionary, though this can be error-prone due to some <a class="reference internal" href="https://docs.saltstack.com/en/latest/topics/troubleshooting/yaml_idiosyncrasies.html#yaml-idiosyncrasies"><span class="std std-ref">idiosyncrasies</span></a> with how PyYAML loads nested data structures:</p> <pre class="highlight-yaml notranslate" data-language="yaml">foo:
  docker_network.present:
    - labels:
        foo: ''
        bar: baz
        hello: world</pre> <div class="last versionchanged"> <p><span class="versionmodified">Changed in version 2018.3.0: </span>Methods for specifying labels can now be mixed. Earlier releases required either labels with or without values.</p> </div> </dd> <dt>enable_ipv6 (or <em>ipv6</em>) <span class="classifier-delimiter">:</span> <span class="classifier">False</span>
</dt> <dd>
<p class="first">Enable IPv6 on the network</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - enable_ipv6: True</pre> <div class="last admonition note"> <p class="first admonition-title">Note</p> <p class="last">While it should go without saying, this argument must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to <a class="reference internal" href="#salt-states-docker-network-present-ipam"><span class="std std-ref">configure an IPv6 subnet</span></a>. Also, if this option is turned on without an IPv6 subnet explicitly configured, you will get an error unless you have set up a fixed IPv6 subnet. Consult the <a class="reference external" href="https://docs.docker.com/v17.09/engine/userguide/networking/default_network/ipv6/">Docker IPv6 docs</a> for information on how to do this.</p> </div> </dd> <dt>attachable <span class="classifier-delimiter">:</span> <span class="classifier">False</span>
</dt> <dd>
<p class="first">If <code class="docutils literal notranslate"><span class="pre">True</span></code>, and the network is in the global scope, non-service containers on worker nodes will be able to connect to the network.</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - attachable: True</pre> <div class="last admonition note"> <p class="first admonition-title">Note</p> <p class="last">This option cannot be reliably managed on CentOS 7. This is because while support for this option was added in API version 1.24, its value was not added to the inpsect results until API version 1.26. The version of Docker which is available for CentOS 7 runs API version 1.24, meaning that while Salt can pass this argument to the API, it has no way of knowing the value of this config option in an existing Docker network.</p> </div> </dd> <dt>scope</dt> <dd>
<p class="first">Specify the network's scope (<code class="docutils literal notranslate"><span class="pre">local</span></code>, <code class="docutils literal notranslate"><span class="pre">global</span></code> or <code class="docutils literal notranslate"><span class="pre">swarm</span></code>)</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">scope</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
</pre></div> </div> </dd> <dt>ingress <span class="classifier-delimiter">:</span> <span class="classifier">False</span>
</dt> <dd>
<p class="first">If <code class="docutils literal notranslate"><span class="pre">True</span></code>, create an ingress network which provides the routing-mesh in swarm mode</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">ingress</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div> </div> </dd> </dl> <p id="salt-states-docker-network-present-ipam"><strong>IP ADDRESS MANAGEMENT (IPAM)</strong></p> <p>This state supports networks with either IPv4, or both IPv4 and IPv6. If configuring IPv4, then you can pass the <a class="reference internal" href="#salt-states-docker-network-present-ipam-pool-arguments"><span class="std std-ref">IPAM pool arguments</span></a> below as individual arguments. However, if configuring IPv4 and IPv6, the arguments must be passed as a list of dictionaries, in the <code class="docutils literal notranslate"><span class="pre">ipam_pools</span></code> argument (click <a class="reference internal" href="#salt-states-docker-network-present-ipam-examples"><span class="std std-ref">here</span></a> for some examples). <a class="reference external" href="http://docker-py.readthedocs.io/en/stable/api.html#docker.types.IPAMPool">These docs</a> also have more information on these arguments.</p> <p><em>IPAM ARGUMENTS</em></p> <dl class="docutils"> <dt>ipam_driver</dt> <dd>
<p class="first">IPAM driver to use, if different from the default one</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">ipam_driver</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
</pre></div> </div> </dd> <dt>ipam_opts</dt> <dd>
<p class="first">Options for the IPAM driver. Either a dictionary of option names and values or a Python list of strings in the format <code class="docutils literal notranslate"><span class="pre">varname=value</span></code>. The below three examples are equivalent:</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - ipam_driver: foo
    - ipam_opts: foo=bar,baz=qux</pre> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - ipam_driver: foo
    - ipam_opts:
      - foo=bar
      - baz=qux</pre> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - ipam_driver: foo
    - ipam_opts:
      - foo: bar
      - baz: qux</pre> <p>The options can also simply be passed as a dictionary, though this can be error-prone due to some <a class="reference internal" href="https://docs.saltstack.com/en/latest/topics/troubleshooting/yaml_idiosyncrasies.html#yaml-idiosyncrasies"><span class="std std-ref">idiosyncrasies</span></a> with how PyYAML loads nested data structures:</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">mynet</span><span class="p">:</span>
  <span class="nt">docker_network.present</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">ipam_driver</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">macvlan</span>
    <span class="p p-Indicator">-</span> <span class="nt">ipam_opts</span><span class="p">:</span>
        <span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
        <span class="nt">baz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">qux</span>
</pre></div> </div> </dd> </dl> <p id="salt-states-docker-network-present-ipam-pool-arguments"><em>IPAM POOL ARGUMENTS</em></p> <dl class="docutils"> <dt>subnet</dt> <dd>Subnet in CIDR format that represents a network segment</dd> <dt>iprange (or <em>ip_range</em>)</dt> <dd>
<p class="first">Allocate container IP from a sub-range within the subnet</p> <p class="last">Subnet in CIDR format that represents a network segment</p> </dd> <dt>gateway</dt> <dd>IPv4 or IPv6 gateway for the master subnet</dd> <dt>aux_addresses (or <em>aux_address</em>)</dt> <dd>A dictionary of mapping container names to IP addresses which should be allocated for them should they connect to the network. Either a dictionary of option names and values or a Python list of strings in the format <code class="docutils literal notranslate"><span class="pre">host=ipaddr</span></code>.</dd> </dl> <p id="salt-states-docker-network-present-ipam-examples"><em>IPAM CONFIGURATION EXAMPLES</em></p> <p>Below is an example of an IPv4-only network (keep in mind that <code class="docutils literal notranslate"><span class="pre">subnet</span></code> is the only required argument).</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - subnet: 10.0.20.0/24
    - iprange: 10.0.20.128/25
    - gateway: 10.0.20.254
    - aux_addresses:
      - foo.bar.tld: 10.0.20.50
      - hello.world.tld: 10.0.20.51</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The <code class="docutils literal notranslate"><span class="pre">aux_addresses</span></code> can be passed differently, in the same way that <code class="docutils literal notranslate"><span class="pre">driver_opts</span></code> and <code class="docutils literal notranslate"><span class="pre">ipam_opts</span></code> can.</p> </div> <p>This same network could also be configured this way:</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - ipam_pools:
      - subnet: 10.0.20.0/24
        iprange: 10.0.20.128/25
        gateway: 10.0.20.254
        aux_addresses:
          foo.bar.tld: 10.0.20.50
          hello.world.tld: 10.0.20.51</pre> <p>Here is an example of a mixed IPv4/IPv6 subnet.</p> <pre class="highlight-yaml notranslate" data-language="yaml">mynet:
  docker_network.present:
    - ipam_pools:
      - subnet: 10.0.20.0/24
        gateway: 10.0.20.1
      - subnet: fe3f:2180:26:1::/123
        gateway: fe3f:2180:26:1::1</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/states/all/salt.states.docker_network.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/states/all/salt.states.docker_network.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
