
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Notifications - Laravel 8 - W3cubDocs</title>
  
  <meta name="description" content="In addition to support for sending email, Laravel provides support for sending notifications across a variety of delivery channels, including mail, &hellip;">
  <meta name="keywords" content="notifications, laravel, laravel~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/laravel~8/docs/8.x/notifications.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/laravel~8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/laravel~8/" class="_nav-link" title="" style="margin-left:0;">Laravel 8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _laravel">
				
				
<section class="docs_main"> <h1>Notifications</h1> <ul> <li><a href="#introduction">Introduction</a></li> <li><a href="#creating-notifications">Creating Notifications</a></li> <li>
<a href="#sending-notifications">Sending Notifications</a> <ul> <li><a href="#using-the-notifiable-trait">Using The Notifiable Trait</a></li> <li><a href="#using-the-notification-facade">Using The Notification Facade</a></li> <li><a href="#specifying-delivery-channels">Specifying Delivery Channels</a></li> <li><a href="#queueing-notifications">Queueing Notifications</a></li> <li><a href="#on-demand-notifications">On-Demand Notifications</a></li> </ul>
</li> <li>
<a href="#mail-notifications">Mail Notifications</a> <ul> <li><a href="#formatting-mail-messages">Formatting Mail Messages</a></li> <li><a href="#customizing-the-sender">Customizing The Sender</a></li> <li><a href="#customizing-the-recipient">Customizing The Recipient</a></li> <li><a href="#customizing-the-subject">Customizing The Subject</a></li> <li><a href="#customizing-the-mailer">Customizing The Mailer</a></li> <li><a href="#customizing-the-templates">Customizing The Templates</a></li> <li><a href="#mail-attachments">Attachments</a></li> <li><a href="#previewing-mail-notifications">Previewing Mail Notifications</a></li> </ul>
</li> <li>
<a href="#markdown-mail-notifications">Markdown Mail Notifications</a> <ul> <li><a href="#generating-the-message">Generating The Message</a></li> <li><a href="#writing-the-message">Writing The Message</a></li> <li><a href="#customizing-the-components">Customizing The Components</a></li> </ul>
</li> <li>
<a href="#database-notifications">Database Notifications</a> <ul> <li><a href="#database-prerequisites">Prerequisites</a></li> <li><a href="#formatting-database-notifications">Formatting Database Notifications</a></li> <li><a href="#accessing-the-notifications">Accessing The Notifications</a></li> <li><a href="#marking-notifications-as-read">Marking Notifications As Read</a></li> </ul>
</li> <li>
<a href="#broadcast-notifications">Broadcast Notifications</a> <ul> <li><a href="#broadcast-prerequisites">Prerequisites</a></li> <li><a href="#formatting-broadcast-notifications">Formatting Broadcast Notifications</a></li> <li><a href="#listening-for-notifications">Listening For Notifications</a></li> </ul>
</li> <li>
<a href="#sms-notifications">SMS Notifications</a> <ul> <li><a href="#sms-prerequisites">Prerequisites</a></li> <li><a href="#formatting-sms-notifications">Formatting SMS Notifications</a></li> <li><a href="#formatting-shortcode-notifications">Formatting Shortcode Notifications</a></li> <li><a href="#customizing-the-from-number">Customizing The "From" Number</a></li> <li><a href="#routing-sms-notifications">Routing SMS Notifications</a></li> </ul>
</li> <li>
<a href="#slack-notifications">Slack Notifications</a> <ul> <li><a href="#slack-prerequisites">Prerequisites</a></li> <li><a href="#formatting-slack-notifications">Formatting Slack Notifications</a></li> <li><a href="#slack-attachments">Slack Attachments</a></li> <li><a href="#routing-slack-notifications">Routing Slack Notifications</a></li> </ul>
</li> <li><a href="#localizing-notifications">Localizing Notifications</a></li> <li><a href="#notification-events">Notification Events</a></li> <li><a href="#custom-channels">Custom Channels</a></li> </ul>  <h2 id="introduction">Introduction</h2> <p>In addition to support for <a href="mail">sending email</a>, Laravel provides support for sending notifications across a variety of delivery channels, including mail, SMS (via <a href="https://www.vonage.com/communications-apis/">Vonage</a>, formerly known as Nexmo), and <a href="https://slack.com">Slack</a>. Notifications may also be stored in a database so they may be displayed in your web interface.</p> <p>Typically, notifications should be short, informational messages that notify users of something that occurred in your application. For example, if you are writing a billing application, you might send an "Invoice Paid" notification to your users via the email and SMS channels.</p>  <h2 id="creating-notifications">Creating Notifications</h2> <p>In Laravel, each notification is represented by a single class (typically stored in the <code>app/Notifications</code> directory). Don't worry if you don't see this directory in your application, it will be created for you when you run the <code>make:notification</code> Artisan command:</p> <pre data-language="php">php artisan make:notification InvoicePaid</pre> <p>This command will place a fresh notification class in your <code>app/Notifications</code> directory. Each notification class contains a <code>via</code> method and a variable number of message building methods (such as <code>toMail</code> or <code>toDatabase</code>) that convert the notification to a message optimized for that particular channel.</p>  <h2 id="sending-notifications">Sending Notifications</h2>  <h3 id="using-the-notifiable-trait">Using The Notifiable Trait</h3> <p>Notifications may be sent in two ways: using the <code>notify</code> method of the <code>Notifiable</code> trait or using the <code>Notification</code> <a href="facades">facade</a>. First, let's explore using the trait:</p> <pre data-language="php">&lt;?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use Notifiable;
}</pre> <p>This trait is utilized by the default <code>App\Models\User</code> model and contains one method that may be used to send notifications: <code>notify</code>. The <code>notify</code> method expects to receive a notification instance:</p> <pre data-language="php">use App\Notifications\InvoicePaid;

$user-&gt;notify(new InvoicePaid($invoice));</pre> <blockquote class="tip"> <p>Remember, you may use the <code>Illuminate\Notifications\Notifiable</code> trait on any of your models. You are not limited to only including it on your <code>User</code> model.</p> </blockquote>  <h3 id="using-the-notification-facade">Using The Notification Facade</h3> <p>Alternatively, you may send notifications via the <code>Notification</code> <a href="facades">facade</a>. This is useful primarily when you need to send a notification to multiple notifiable entities such as a collection of users. To send notifications using the facade, pass all of the notifiable entities and the notification instance to the <code>send</code> method:</p> <pre data-language="php">Notification::send($users, new InvoicePaid($invoice));</pre>  <h3 id="specifying-delivery-channels">Specifying Delivery Channels</h3> <p>Every notification class has a <code>via</code> method that determines on which channels the notification will be delivered. Notifications may be sent on the <code>mail</code>, <code>database</code>, <code>broadcast</code>, <code>nexmo</code>, and <code>slack</code> channels.</p> <blockquote class="tip"> <p>If you would like to use other delivery channels such as Telegram or Pusher, check out the community driven <a href="http://laravel-notification-channels.com">Laravel Notification Channels website</a>.</p> </blockquote> <p>The <code>via</code> method receives a <code>$notifiable</code> instance, which will be an instance of the class to which the notification is being sent. You may use <code>$notifiable</code> to determine which channels the notification should be delivered on:</p> <pre data-language="php">/**
 * Get the notification's delivery channels.
 *
 * @param  mixed  $notifiable
 * @return array
 */
public function via($notifiable)
{
    return $notifiable-&gt;prefers_sms ? ['nexmo'] : ['mail', 'database'];
}</pre>  <h3 id="queueing-notifications">Queueing Notifications</h3> <blockquote> <p>Before queueing notifications you should configure your queue and <a href="queues">start a worker</a>.</p> </blockquote> <p>Sending notifications can take time, especially if the channel needs an external API call to deliver the notification. To speed up your application's response time, let your notification be queued by adding the <code>ShouldQueue</code> interface and <code>Queueable</code> trait to your class. The interface and trait are already imported for all notifications generated using <code>make:notification</code>, so you may immediately add them to your notification class:</p> <pre data-language="php">&lt;?php

namespace App\Notifications;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Notification;

class InvoicePaid extends Notification implements ShouldQueue
{
    use Queueable;

    // ...
}</pre> <p>Once the <code>ShouldQueue</code> interface has been added to your notification, you may send the notification like normal. Laravel will detect the <code>ShouldQueue</code> interface on the class and automatically queue the delivery of the notification:</p> <pre data-language="php">$user-&gt;notify(new InvoicePaid($invoice));</pre> <p>If you would like to delay the delivery of the notification, you may chain the <code>delay</code> method onto your notification instantiation:</p> <pre data-language="php">$when = now()-&gt;addMinutes(10);

$user-&gt;notify((new InvoicePaid($invoice))-&gt;delay($when));</pre>  <h4 id="customizing-notification-channel-queues">Customizing Notification Channel Queues</h4> <p>If you would like to specify a specific queue that should be used for each notification channel supported by the notification, you may define a <code>viaQueues</code> method on your notification. This method should return an array of channel name / queue name pairs:</p> <pre data-language="php">/**
 * Determine which queues should be used for each notification channel.
 *
 * @return array
 */
public function viaQueues()
{
    return [
        'mail' =&gt; 'mail-queue',
        'slack' =&gt; 'slack-queue',
    ];
}</pre>  <h3 id="on-demand-notifications">On-Demand Notifications</h3> <p>Sometimes you may need to send a notification to someone who is not stored as a "user" of your application. Using the <code>Notification::route</code> facade method, you may specify ad-hoc notification routing information before sending the notification:</p> <pre data-language="php">Notification::route('mail', 'taylor@example.com')
            -&gt;route('nexmo', '5555555555')
            -&gt;route('slack', 'https://hooks.slack.com/services/...')
            -&gt;notify(new InvoicePaid($invoice));</pre>  <h2 id="mail-notifications">Mail Notifications</h2>  <h3 id="formatting-mail-messages">Formatting Mail Messages</h3> <p>If a notification supports being sent as an email, you should define a <code>toMail</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return an <code>Illuminate\Notifications\Messages\MailMessage</code> instance. Mail messages may contain lines of text as well as a "call to action". Let's take a look at an example <code>toMail</code> method:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    $url = url('/invoice/'.$this-&gt;invoice-&gt;id);

    return (new MailMessage)
                -&gt;greeting('Hello!')
                -&gt;line('One of your invoices has been paid!')
                -&gt;action('View Invoice', $url)
                -&gt;line('Thank you for using our application!');
}</pre> <blockquote class="tip"> <p>Note we are using <code>$this-&gt;invoice-&gt;id</code> in our <code>toMail</code> method. You may pass any data your notification needs to generate its message into the notification's constructor.</p> </blockquote> <p>In this example, we register a greeting, a line of text, a call to action, and then another line of text. These methods provided by the <code>MailMessage</code> object make it simple and fast to format small transactional emails. The mail channel will then translate the message components into a nice, responsive HTML email template with a plain-text counterpart. Here is an example of an email generated by the <code>mail</code> channel:</p> <img src="https://laravel.com/img/docs/notification-example-2.png"> <blockquote class="tip"> <p>When sending mail notifications, be sure to set the <code>name</code> value in your <code>config/app.php</code> configuration file. This value will be used in the header and footer of your mail notification messages.</p> </blockquote>  <h4 id="other-notification-formatting-options">Other Notification Formatting Options</h4> <p>Instead of defining the "lines" of text in the notification class, you may use the <code>view</code> method to specify a custom template that should be used to render the notification email:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)-&gt;view(
        'emails.name', ['invoice' =&gt; $this-&gt;invoice]
    );
}</pre> <p>You may specify a plain-text view for the mail message by passing the view name as the second element of an array that is given to the <code>view</code> method of the <code>MailMessage</code>:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)-&gt;view(
        ['emails.name.html', 'emails.name.plain'],
        ['invoice' =&gt; $this-&gt;invoice]
    );
}</pre> <p>In addition, you may return a full <a href="mail">mailable object</a> from the <code>toMail</code> method:</p> <pre data-language="php">use App\Mail\InvoicePaid as Mailable;

/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return Mailable
 */
public function toMail($notifiable)
{
    return (new Mailable($this-&gt;invoice))-&gt;to($notifiable-&gt;email);
}</pre>  <h4 id="error-messages">Error Messages</h4> <p>Some notifications inform users of errors, such as a failed invoice payment. You may indicate that a mail message is regarding an error by calling the <code>error</code> method when building your message. When using the <code>error</code> method on a mail message, the call to action button will be red instead of blue:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Message
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;error()
                -&gt;subject('Notification Subject')
                -&gt;line('...');
}</pre>  <h3 id="customizing-the-sender">Customizing The Sender</h3> <p>By default, the email's sender / from address is defined in the <code>config/mail.php</code> configuration file. However, you may specify the from address for a specific notification using the <code>from</code> method:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;from('test@example.com', 'Example')
                -&gt;line('...');
}</pre>  <h3 id="customizing-the-recipient">Customizing The Recipient</h3> <p>When sending notifications via the <code>mail</code> channel, the notification system will automatically look for an <code>email</code> property on your notifiable entity. You may customize which email address is used to deliver the notification by defining a <code>routeNotificationForMail</code> method on the entity:</p> <pre data-language="php">&lt;?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use Notifiable;

    /**
     * Route notifications for the mail channel.
     *
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return array|string
     */
    public function routeNotificationForMail($notification)
    {
        // Return email address only...
        return $this-&gt;email_address;

        // Return name and email address...
        return [$this-&gt;email_address =&gt; $this-&gt;name];
    }
}</pre>  <h3 id="customizing-the-subject">Customizing The Subject</h3> <p>By default, the email's subject is the class name of the notification formatted to "title case". So, if your notification class is named <code>InvoicePaid</code>, the email's subject will be <code>Invoice Paid</code>. If you would like to specify an explicit subject for the message, you may call the <code>subject</code> method when building your message:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;subject('Notification Subject')
                -&gt;line('...');
}</pre>  <h3 id="customizing-the-mailer">Customizing The Mailer</h3> <p>By default, the email notification will be sent using the default driver defined in the <code>config/mail.php</code> configuration file. However, you may specify a different mailer at runtime by calling the <code>mailer</code> method when building your message:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;mailer('postmark')
                -&gt;line('...');
}</pre>  <h3 id="customizing-the-templates">Customizing The Templates</h3> <p>You can modify the HTML and plain-text template used by mail notifications by publishing the notification package's resources. After running this command, the mail notification templates will be located in the <code>resources/views/vendor/notifications</code> directory:</p> <pre data-language="php">php artisan vendor:publish --tag=laravel-notifications</pre>  <h3 id="mail-attachments">Attachments</h3> <p>To add attachments to an email notification, use the <code>attach</code> method while building your message. The <code>attach</code> method accepts the full (absolute) path to the file as its first argument:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;greeting('Hello!')
                -&gt;attach('/path/to/file');
}</pre> <p>When attaching files to a message, you may also specify the display name and / or MIME type by passing an <code>array</code> as the second argument to the <code>attach</code> method:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;greeting('Hello!')
                -&gt;attach('/path/to/file', [
                    'as' =&gt; 'name.pdf',
                    'mime' =&gt; 'application/pdf',
                ]);
}</pre> <blockquote class="tip"> <p>Unlike attaching files in mailable objects, you may not attach a file directly from the storage disk using <code>attachFromStorage</code>. You should rather use the <code>attach</code> method with an absolute path to the file on the storage disk. Alternatively, you could return a <a href="mail#generating-mailables">mailable</a> from the <code>toMail</code> method.</p> </blockquote>  <h4 id="raw-data-attachments">Raw Data Attachments</h4> <p>The <code>attachData</code> method may be used to attach a raw string of bytes as an attachment:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;greeting('Hello!')
                -&gt;attachData($this-&gt;pdf, 'name.pdf', [
                    'mime' =&gt; 'application/pdf',
                ]);
}</pre>  <h3 id="previewing-mail-notifications">Previewing Mail Notifications</h3> <p>When designing a mail notification template, it is convenient to quickly preview the rendered mail message in your browser like a typical Blade template. For this reason, Laravel allows you to return any mail message generated by a mail notification directly from a route Closure or controller. When a <code>MailMessage</code> is returned, it will be rendered and displayed in the browser, allowing you to quickly preview its design without needing to send it to an actual email address:</p> <pre data-language="php">Route::get('mail', function () {
    $invoice = App\Invoice::find(1);

    return (new App\Notifications\InvoicePaid($invoice))
                -&gt;toMail($invoice-&gt;user);
});</pre>  <h2 id="markdown-mail-notifications">Markdown Mail Notifications</h2> <p>Markdown mail notifications allow you to take advantage of the pre-built templates of mail notifications, while giving you more freedom to write longer, customized messages. Since the messages are written in Markdown, Laravel is able to render beautiful, responsive HTML templates for the messages while also automatically generating a plain-text counterpart.</p>  <h3 id="generating-the-message">Generating The Message</h3> <p>To generate a notification with a corresponding Markdown template, you may use the <code>--markdown</code> option of the <code>make:notification</code> Artisan command:</p> <pre data-language="php">php artisan make:notification InvoicePaid --markdown=mail.invoice.paid</pre> <p>Like all other mail notifications, notifications that use Markdown templates should define a <code>toMail</code> method on their notification class. However, instead of using the <code>line</code> and <code>action</code> methods to construct the notification, use the <code>markdown</code> method to specify the name of the Markdown template that should be used:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    $url = url('/invoice/'.$this-&gt;invoice-&gt;id);

    return (new MailMessage)
                -&gt;subject('Invoice Paid')
                -&gt;markdown('mail.invoice.paid', ['url' =&gt; $url]);
}</pre>  <h3 id="writing-the-message">Writing The Message</h3> <p>Markdown mail notifications use a combination of Blade components and Markdown syntax which allow you to easily construct notifications while leveraging Laravel's pre-crafted notification components:</p> <pre data-language="php">@component('mail::message')
# Invoice Paid

Your invoice has been paid!

@component('mail::button', ['url' =&gt; $url])
View Invoice
@endcomponent

Thanks,&lt;br&gt;
{{ config('app.name') }}
@endcomponent</pre>  <h4 id="button-component">Button Component</h4> <p>The button component renders a centered button link. The component accepts two arguments, a <code>url</code> and an optional <code>color</code>. Supported colors are <code>blue</code>, <code>green</code>, and <code>red</code>. You may add as many button components to a notification as you wish:</p> <pre data-language="php">@component('mail::button', ['url' =&gt; $url, 'color' =&gt; 'green'])
View Invoice
@endcomponent</pre>  <h4 id="panel-component">Panel Component</h4> <p>The panel component renders the given block of text in a panel that has a slightly different background color than the rest of the notification. This allows you to draw attention to a given block of text:</p> <pre data-language="php">@component('mail::panel')
This is the panel content.
@endcomponent</pre>  <h4 id="table-component">Table Component</h4> <p>The table component allows you to transform a Markdown table into an HTML table. The component accepts the Markdown table as its content. Table column alignment is supported using the default Markdown table alignment syntax:</p> <pre data-language="php">@component('mail::table')
| Laravel       | Table         | Example  |
| ------------- |:-------------:| --------:|
| Col 2 is      | Centered      | $10      |
| Col 3 is      | Right-Aligned | $20      |
@endcomponent</pre>  <h3 id="customizing-the-components">Customizing The Components</h3> <p>You may export all of the Markdown notification components to your own application for customization. To export the components, use the <code>vendor:publish</code> Artisan command to publish the <code>laravel-mail</code> asset tag:</p> <pre data-language="php">php artisan vendor:publish --tag=laravel-mail</pre> <p>This command will publish the Markdown mail components to the <code>resources/views/vendor/mail</code> directory. The <code>mail</code> directory will contain an <code>html</code> and a <code>text</code> directory, each containing their respective representations of every available component. You are free to customize these components however you like.</p>  <h4 id="customizing-the-css">Customizing The CSS</h4> <p>After exporting the components, the <code>resources/views/vendor/mail/html/themes</code> directory will contain a <code>default.css</code> file. You may customize the CSS in this file and your styles will automatically be in-lined within the HTML representations of your Markdown notifications.</p> <p>If you would like to build an entirely new theme for Laravel's Markdown components, you may place a CSS file within the <code>html/themes</code> directory. After naming and saving your CSS file, update the <code>theme</code> option of the <code>mail</code> configuration file to match the name of your new theme.</p> <p>To customize the theme for an individual notification, you may call the <code>theme</code> method while building the notification's mail message. The <code>theme</code> method accepts the name of the theme that should be used when sending the notification:</p> <pre data-language="php">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */
public function toMail($notifiable)
{
    return (new MailMessage)
                -&gt;theme('invoice')
                -&gt;subject('Invoice Paid')
                -&gt;markdown('mail.invoice.paid', ['url' =&gt; $url]);
}</pre>  <h2 id="database-notifications">Database Notifications</h2>  <h3 id="database-prerequisites">Prerequisites</h3> <p>The <code>database</code> notification channel stores the notification information in a database table. This table will contain information such as the notification type as well as custom JSON data that describes the notification.</p> <p>You can query the table to display the notifications in your application's user interface. But, before you can do that, you will need to create a database table to hold your notifications. You may use the <code>notifications:table</code> command to generate a migration with the proper table schema:</p> <pre data-language="php">php artisan notifications:table

php artisan migrate</pre>  <h3 id="formatting-database-notifications">Formatting Database Notifications</h3> <p>If a notification supports being stored in a database table, you should define a <code>toDatabase</code> or <code>toArray</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a plain PHP array. The returned array will be encoded as JSON and stored in the <code>data</code> column of your <code>notifications</code> table. Let's take a look at an example <code>toArray</code> method:</p> <pre data-language="php">/**
 * Get the array representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return array
 */
public function toArray($notifiable)
{
    return [
        'invoice_id' =&gt; $this-&gt;invoice-&gt;id,
        'amount' =&gt; $this-&gt;invoice-&gt;amount,
    ];
}</pre>  <h4 id="todatabase-vs-toarray">
<code>toDatabase</code> Vs. <code>toArray</code>
</h4> <p>The <code>toArray</code> method is also used by the <code>broadcast</code> channel to determine which data to broadcast to your JavaScript client. If you would like to have two different array representations for the <code>database</code> and <code>broadcast</code> channels, you should define a <code>toDatabase</code> method instead of a <code>toArray</code> method.</p>  <h3 id="accessing-the-notifications">Accessing The Notifications</h3> <p>Once notifications are stored in the database, you need a convenient way to access them from your notifiable entities. The <code>Illuminate\Notifications\Notifiable</code> trait, which is included on Laravel's default <code>App\Models\User</code> model, includes a <code>notifications</code> Eloquent relationship that returns the notifications for the entity. To fetch notifications, you may access this method like any other Eloquent relationship. By default, notifications will be sorted by the <code>created_at</code> timestamp:</p> <pre data-language="php">$user = App\Models\User::find(1);

foreach ($user-&gt;notifications as $notification) {
    echo $notification-&gt;type;
}</pre> <p>If you want to retrieve only the "unread" notifications, you may use the <code>unreadNotifications</code> relationship. Again, these notifications will be sorted by the <code>created_at</code> timestamp:</p> <pre data-language="php">$user = App\Models\User::find(1);

foreach ($user-&gt;unreadNotifications as $notification) {
    echo $notification-&gt;type;
}</pre> <blockquote class="tip"> <p>To access your notifications from your JavaScript client, you should define a notification controller for your application which returns the notifications for a notifiable entity, such as the current user. You may then make an HTTP request to that controller's URI from your JavaScript client.</p> </blockquote>  <h3 id="marking-notifications-as-read">Marking Notifications As Read</h3> <p>Typically, you will want to mark a notification as "read" when a user views it. The <code>Illuminate\Notifications\Notifiable</code> trait provides a <code>markAsRead</code> method, which updates the <code>read_at</code> column on the notification's database record:</p> <pre data-language="php">$user = App\Models\User::find(1);

foreach ($user-&gt;unreadNotifications as $notification) {
    $notification-&gt;markAsRead();
}</pre> <p>However, instead of looping through each notification, you may use the <code>markAsRead</code> method directly on a collection of notifications:</p> <pre data-language="php">$user-&gt;unreadNotifications-&gt;markAsRead();</pre> <p>You may also use a mass-update query to mark all of the notifications as read without retrieving them from the database:</p> <pre data-language="php">$user = App\Models\User::find(1);

$user-&gt;unreadNotifications()-&gt;update(['read_at' =&gt; now()]);</pre> <p>You may <code>delete</code> the notifications to remove them from the table entirely:</p> <pre data-language="php">$user-&gt;notifications()-&gt;delete();</pre>  <h2 id="broadcast-notifications">Broadcast Notifications</h2>  <h3 id="broadcast-prerequisites">Prerequisites</h3> <p>Before broadcasting notifications, you should configure and be familiar with Laravel's <a href="broadcasting">event broadcasting</a> services. Event broadcasting provides a way to react to server-side fired Laravel events from your JavaScript client.</p>  <h3 id="formatting-broadcast-notifications">Formatting Broadcast Notifications</h3> <p>The <code>broadcast</code> channel broadcasts notifications using Laravel's <a href="broadcasting">event broadcasting</a> services, allowing your JavaScript client to catch notifications in realtime. If a notification supports broadcasting, you can define a <code>toBroadcast</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return a <code>BroadcastMessage</code> instance. If the <code>toBroadcast</code> method does not exist, the <code>toArray</code> method will be used to gather the data that should be broadcast. The returned data will be encoded as JSON and broadcast to your JavaScript client. Let's take a look at an example <code>toBroadcast</code> method:</p> <pre data-language="php">use Illuminate\Notifications\Messages\BroadcastMessage;

/**
 * Get the broadcastable representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return BroadcastMessage
 */
public function toBroadcast($notifiable)
{
    return new BroadcastMessage([
        'invoice_id' =&gt; $this-&gt;invoice-&gt;id,
        'amount' =&gt; $this-&gt;invoice-&gt;amount,
    ]);
}</pre>  <h4 id="broadcast-queue-configuration">Broadcast Queue Configuration</h4> <p>All broadcast notifications are queued for broadcasting. If you would like to configure the queue connection or queue name that is used to queue the broadcast operation, you may use the <code>onConnection</code> and <code>onQueue</code> methods of the <code>BroadcastMessage</code>:</p> <pre data-language="php">return (new BroadcastMessage($data))
                -&gt;onConnection('sqs')
                -&gt;onQueue('broadcasts');</pre>  <h4 id="customizing-the-notification-type">Customizing The Notification Type</h4> <p>In addition to the data you specify, all broadcast notifications also have a <code>type</code> field containing the full class name of the notification. If you would like to customize the notification <code>type</code> that is provided to your JavaScript client, you may define a <code>broadcastType</code> method on the notification class:</p> <pre data-language="php">use Illuminate\Notifications\Messages\BroadcastMessage;

/**
 * Get the type of the notification being broadcast.
 *
 * @return string
 */
public function broadcastType()
{
    return 'broadcast.message';
}</pre>  <h3 id="listening-for-notifications">Listening For Notifications</h3> <p>Notifications will broadcast on a private channel formatted using a <code>{notifiable}.{id}</code> convention. So, if you are sending a notification to an <code>App\Models\User</code> instance with an ID of <code>1</code>, the notification will be broadcast on the <code>App.Models.User.1</code> private channel. When using <a href="broadcasting">Laravel Echo</a>, you may easily listen for notifications on a channel using the <code>notification</code> helper method:</p> <pre data-language="php">Echo.private('App.Models.User.' + userId)
    .notification((notification) =&gt; {
        console.log(notification.type);
    });</pre>  <h4 id="customizing-the-notification-channel">Customizing The Notification Channel</h4> <p>If you would like to customize which channels a notifiable entity receives its broadcast notifications on, you may define a <code>receivesBroadcastNotificationsOn</code> method on the notifiable entity:</p> <pre data-language="php">&lt;?php

namespace App\Models;

use Illuminate\Broadcasting\PrivateChannel;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use Notifiable;

    /**
     * The channels the user receives notification broadcasts on.
     *
     * @return string
     */
    public function receivesBroadcastNotificationsOn()
    {
        return 'users.'.$this-&gt;id;
    }
}</pre>  <h2 id="sms-notifications">SMS Notifications</h2>  <h3 id="sms-prerequisites">Prerequisites</h3> <p>Sending SMS notifications in Laravel is powered by <a href="https://www.nexmo.com/">Nexmo</a>. Before you can send notifications via Nexmo, you need to install the <code>laravel/nexmo-notification-channel</code> Composer package:</p> <pre data-language="php">composer require laravel/nexmo-notification-channel</pre> <p>This will also install the <a href="https://github.com/Nexmo/nexmo-laravel"><code>nexmo/laravel</code></a> package. This package includes <a href="https://github.com/Nexmo/nexmo-laravel/blob/master/config/nexmo.php">its own configuration file</a>. You can use the <code>NEXMO_KEY</code> and <code>NEXMO_SECRET</code> environment variables to set your Nexmo public and secret key.</p> <p>Next, you will need to add a configuration option to your <code>config/services.php</code> configuration file. You may copy the example configuration below to get started:</p> <pre data-language="php">'nexmo' =&gt; [
    'sms_from' =&gt; '15556666666',
],</pre> <p>The <code>sms_from</code> option is the phone number that your SMS messages will be sent from. You should generate a phone number for your application in the Nexmo control panel.</p>  <h3 id="formatting-sms-notifications">Formatting SMS Notifications</h3> <p>If a notification supports being sent as an SMS, you should define a <code>toNexmo</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return an <code>Illuminate\Notifications\Messages\NexmoMessage</code> instance:</p> <pre data-language="php">/**
 * Get the Nexmo / SMS representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return NexmoMessage
 */
public function toNexmo($notifiable)
{
    return (new NexmoMessage)
                -&gt;content('Your SMS message content');
}</pre>  <h3 id="formatting-shortcode-notifications">Formatting Shortcode Notifications</h3> <p>Laravel also supports sending shortcode notifications, which are pre-defined message templates in your Nexmo account. You may specify the type of notification (<code>alert</code>, <code>2fa</code>, or <code>marketing</code>), as well as the custom values that will populate the template:</p> <pre data-language="php">/**
 * Get the Nexmo / Shortcode representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return array
 */
public function toShortcode($notifiable)
{
    return [
        'type' =&gt; 'alert',
        'custom' =&gt; [
            'code' =&gt; 'ABC123',
        ];
    ];
}</pre> <blockquote class="tip"> <p>Like <a href="#routing-sms-notifications">routing SMS Notifications</a>, you should implement the <code>routeNotificationForShortcode</code> method on your notifiable model.</p> </blockquote>  <h4 id="unicode-content">Unicode Content</h4> <p>If your SMS message will contain unicode characters, you should call the <code>unicode</code> method when constructing the <code>NexmoMessage</code> instance:</p> <pre data-language="php">/**
 * Get the Nexmo / SMS representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return NexmoMessage
 */
public function toNexmo($notifiable)
{
    return (new NexmoMessage)
                -&gt;content('Your unicode message')
                -&gt;unicode();
}</pre>  <h3 id="customizing-the-from-number">Customizing The "From" Number</h3> <p>If you would like to send some notifications from a phone number that is different from the phone number specified in your <code>config/services.php</code> file, you may use the <code>from</code> method on a <code>NexmoMessage</code> instance:</p> <pre data-language="php">/**
 * Get the Nexmo / SMS representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return NexmoMessage
 */
public function toNexmo($notifiable)
{
    return (new NexmoMessage)
                -&gt;content('Your SMS message content')
                -&gt;from('15554443333');
}</pre>  <h3 id="routing-sms-notifications">Routing SMS Notifications</h3> <p>To route Nexmo notifications to the proper phone number, define a <code>routeNotificationForNexmo</code> method on your notifiable entity:</p> <pre data-language="php">&lt;?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use Notifiable;

    /**
     * Route notifications for the Nexmo channel.
     *
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return string
     */
    public function routeNotificationForNexmo($notification)
    {
        return $this-&gt;phone_number;
    }
}</pre>  <h2 id="slack-notifications">Slack Notifications</h2>  <h3 id="slack-prerequisites">Prerequisites</h3> <p>Before you can send notifications via Slack, you must install the notification channel via Composer:</p> <pre data-language="php">composer require laravel/slack-notification-channel</pre> <p>You will also need to configure an <a href="https://slack.com/apps/A0F7XDUAZ-incoming-webhooks">"Incoming Webhook"</a> integration for your Slack team. This integration will provide you with a URL you may use when <a href="#routing-slack-notifications">routing Slack notifications</a>.</p>  <h3 id="formatting-slack-notifications">Formatting Slack Notifications</h3> <p>If a notification supports being sent as a Slack message, you should define a <code>toSlack</code> method on the notification class. This method will receive a <code>$notifiable</code> entity and should return an <code>Illuminate\Notifications\Messages\SlackMessage</code> instance. Slack messages may contain text content as well as an "attachment" that formats additional text or an array of fields. Let's take a look at a basic <code>toSlack</code> example:</p> <pre data-language="php">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */
public function toSlack($notifiable)
{
    return (new SlackMessage)
                -&gt;content('One of your invoices has been paid!');
}</pre>  <h4 id="customizing-the-sender-recipient">Customizing The Sender &amp; Recipient</h4> <p>You may use the <code>from</code> and <code>to</code> methods to customize the sender and recipient. The <code>from</code> method accepts a username and emoji identifier, while the <code>to</code> method accepts a channel or username:</p> <pre data-language="php">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */
public function toSlack($notifiable)
{
    return (new SlackMessage)
                -&gt;from('Ghost', ':ghost:')
                -&gt;to('#other')
                -&gt;content('This will be sent to #other');
}</pre> <p>You may also use an image as your logo instead of an emoji:</p> <pre data-language="php">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */
public function toSlack($notifiable)
{
    return (new SlackMessage)
                -&gt;from('Laravel')
                -&gt;image('https://laravel.com/img/favicon/favicon.ico')
                -&gt;content('This will display the Laravel logo next to the message');
}</pre>  <h3 id="slack-attachments">Slack Attachments</h3> <p>You may also add "attachments" to Slack messages. Attachments provide richer formatting options than simple text messages. In this example, we will send an error notification about an exception that occurred in an application, including a link to view more details about the exception:</p> <pre data-language="php">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */
public function toSlack($notifiable)
{
    $url = url('/exceptions/'.$this-&gt;exception-&gt;id);

    return (new SlackMessage)
                -&gt;error()
                -&gt;content('Whoops! Something went wrong.')
                -&gt;attachment(function ($attachment) use ($url) {
                    $attachment-&gt;title('Exception: File Not Found', $url)
                               -&gt;content('File [background.jpg] was not found.');
                });
}</pre> <p>Attachments also allow you to specify an array of data that should be presented to the user. The given data will be presented in a table-style format for easy reading:</p> <pre data-language="php">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */
public function toSlack($notifiable)
{
    $url = url('/invoices/'.$this-&gt;invoice-&gt;id);

    return (new SlackMessage)
                -&gt;success()
                -&gt;content('One of your invoices has been paid!')
                -&gt;attachment(function ($attachment) use ($url) {
                    $attachment-&gt;title('Invoice 1322', $url)
                               -&gt;fields([
                                    'Title' =&gt; 'Server Expenses',
                                    'Amount' =&gt; '$1,234',
                                    'Via' =&gt; 'American Express',
                                    'Was Overdue' =&gt; ':-1:',
                                ]);
                });
}</pre>  <h4 id="markdown-attachment-content">Markdown Attachment Content</h4> <p>If some of your attachment fields contain Markdown, you may use the <code>markdown</code> method to instruct Slack to parse and display the given attachment fields as Markdown formatted text. The values accepted by this method are: <code>pretext</code>, <code>text</code>, and / or <code>fields</code>. For more information about Slack attachment formatting, check out the <a href="https://api.slack.com/docs/message-formatting#message_formatting">Slack API documentation</a>:</p> <pre data-language="php">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */
public function toSlack($notifiable)
{
    $url = url('/exceptions/'.$this-&gt;exception-&gt;id);

    return (new SlackMessage)
                -&gt;error()
                -&gt;content('Whoops! Something went wrong.')
                -&gt;attachment(function ($attachment) use ($url) {
                    $attachment-&gt;title('Exception: File Not Found', $url)
                               -&gt;content('File [background.jpg] was *not found*.')
                               -&gt;markdown(['text']);
                });
}</pre>  <h3 id="routing-slack-notifications">Routing Slack Notifications</h3> <p>To route Slack notifications to the proper location, define a <code>routeNotificationForSlack</code> method on your notifiable entity. This should return the webhook URL to which the notification should be delivered. Webhook URLs may be generated by adding an "Incoming Webhook" service to your Slack team:</p> <pre data-language="php">&lt;?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use Notifiable;

    /**
     * Route notifications for the Slack channel.
     *
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return string
     */
    public function routeNotificationForSlack($notification)
    {
        return 'https://hooks.slack.com/services/...';
    }
}</pre>  <h2 id="localizing-notifications">Localizing Notifications</h2> <p>Laravel allows you to send notifications in a locale other than the current language, and will even remember this locale if the notification is queued.</p> <p>To accomplish this, the <code>Illuminate\Notifications\Notification</code> class offers a <code>locale</code> method to set the desired language. The application will change into this locale when the notification is being formatted and then revert back to the previous locale when formatting is complete:</p> <pre data-language="php">$user-&gt;notify((new InvoicePaid($invoice))-&gt;locale('es'));</pre> <p>Localization of multiple notifiable entries may also be achieved via the <code>Notification</code> facade:</p> <pre data-language="php">Notification::locale('es')-&gt;send($users, new InvoicePaid($invoice));</pre>  <h3 id="user-preferred-locales">User Preferred Locales</h3> <p>Sometimes, applications store each user's preferred locale. By implementing the <code>HasLocalePreference</code> contract on your notifiable model, you may instruct Laravel to use this stored locale when sending a notification:</p> <pre data-language="php">use Illuminate\Contracts\Translation\HasLocalePreference;

class User extends Model implements HasLocalePreference
{
    /**
     * Get the user's preferred locale.
     *
     * @return string
     */
    public function preferredLocale()
    {
        return $this-&gt;locale;
    }
}</pre> <p>Once you have implemented the interface, Laravel will automatically use the preferred locale when sending notifications and mailables to the model. Therefore, there is no need to call the <code>locale</code> method when using this interface:</p> <pre data-language="php">$user-&gt;notify(new InvoicePaid($invoice));</pre>  <h2 id="notification-events">Notification Events</h2> <p>When a notification is sent, the <code>Illuminate\Notifications\Events\NotificationSent</code> event is fired by the notification system. This contains the "notifiable" entity and the notification instance itself. You may register listeners for this event in your <code>EventServiceProvider</code>:</p> <pre data-language="php">/**
 * The event listener mappings for the application.
 *
 * @var array
 */
protected $listen = [
    'Illuminate\Notifications\Events\NotificationSent' =&gt; [
        'App\Listeners\LogNotification',
    ],
];</pre> <blockquote class="tip"> <p>After registering listeners in your <code>EventServiceProvider</code>, use the <code>event:generate</code> Artisan command to quickly generate listener classes.</p> </blockquote> <p>Within an event listener, you may access the <code>notifiable</code>, <code>notification</code>, and <code>channel</code> properties on the event to learn more about the notification recipient or the notification itself:</p> <pre data-language="php">/**
 * Handle the event.
 *
 * @param  NotificationSent  $event
 * @return void
 */
public function handle(NotificationSent $event)
{
    // $event-&gt;channel
    // $event-&gt;notifiable
    // $event-&gt;notification
    // $event-&gt;response
}</pre>  <h2 id="custom-channels">Custom Channels</h2> <p>Laravel ships with a handful of notification channels, but you may want to write your own drivers to deliver notifications via other channels. Laravel makes it simple. To get started, define a class that contains a <code>send</code> method. The method should receive two arguments: a <code>$notifiable</code> and a <code>$notification</code>:</p> <pre data-language="php">&lt;?php

namespace App\Channels;

use Illuminate\Notifications\Notification;

class VoiceChannel
{
    /**
     * Send the given notification.
     *
     * @param  mixed  $notifiable
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return void
     */
    public function send($notifiable, Notification $notification)
    {
        $message = $notification-&gt;toVoice($notifiable);

        // Send notification to the $notifiable instance...
    }
}</pre> <p>Once your notification channel class has been defined, you may return the class name from the <code>via</code> method of any of your notifications:</p> <pre data-language="php">&lt;?php

namespace App\Notifications;

use App\Channels\Messages\VoiceMessage;
use App\Channels\VoiceChannel;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Notification;

class InvoicePaid extends Notification
{
    use Queueable;

    /**
     * Get the notification channels.
     *
     * @param  mixed  $notifiable
     * @return array|string
     */
    public function via($notifiable)
    {
        return [VoiceChannel::class];
    }

    /**
     * Get the voice representation of the notification.
     *
     * @param  mixed  $notifiable
     * @return VoiceMessage
     */
    public function toVoice($notifiable)
    {
        // ...
    }
}</pre> </section><div class="_attribution">
  <p class="_attribution-p">
     Taylor Otwell<br>Licensed under the MIT License.<br>Laravel is a trademark of Taylor Otwell.<br>
    <a href="https://laravel.com/docs/8.x/notifications" class="_attribution-link">https://laravel.com/docs/8.x/notifications</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
