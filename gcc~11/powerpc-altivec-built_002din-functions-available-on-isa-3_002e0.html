
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>6.60.23.4. PowerPC AltiVec Built-in Functions Available on ISA 3.0 - GCC 11 - W3cubDocs</title>
  
  <meta name="description" content="The following additional built-in functions are also available for the PowerPC family of processors, starting with ISA 3.0 (-mcpu&#61;power9) or &hellip;">
  <meta name="keywords" content="powerpc, altivec, built-in, functions, available, on, isa, gcc, gcc~11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/gcc~11/powerpc-altivec-built_002din-functions-available-on-isa-3_002e0.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/gcc~11.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gcc~11/" class="_nav-link" title="" style="margin-left:0;">GCC 11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="subsubsection" id="PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e0-1">6.60.23.4 PowerPC AltiVec Built-in Functions Available on ISA 3.0</h1> <p>The following additional built-in functions are also available for the PowerPC family of processors, starting with ISA 3.0 (<samp>-mcpu=power9</samp>) or later. </p> <p>Only instructions excluded from the PVIPR are listed here. </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">unsigned int scalar_extract_exp (double source);
unsigned long long int scalar_extract_exp (__ieee128 source);

unsigned long long int scalar_extract_sig (double source);
unsigned __int128 scalar_extract_sig (__ieee128 source);

double scalar_insert_exp (unsigned long long int significand,
                          unsigned long long int exponent);
double scalar_insert_exp (double significand, unsigned long long int exponent);

ieee_128 scalar_insert_exp (unsigned __int128 significand,
                            unsigned long long int exponent);
ieee_128 scalar_insert_exp (ieee_128 significand, unsigned long long int exponent);

int scalar_cmp_exp_gt (double arg1, double arg2);
int scalar_cmp_exp_lt (double arg1, double arg2);
int scalar_cmp_exp_eq (double arg1, double arg2);
int scalar_cmp_exp_unordered (double arg1, double arg2);

bool scalar_test_data_class (float source, const int condition);
bool scalar_test_data_class (double source, const int condition);
bool scalar_test_data_class (__ieee128 source, const int condition);

bool scalar_test_neg (float source);
bool scalar_test_neg (double source);
bool scalar_test_neg (__ieee128 source);</pre>
</div> <p>The <code>scalar_extract_exp</code> and <code>scalar_extract_sig</code> functions require a 64-bit environment supporting ISA 3.0 or later. The <code>scalar_extract_exp</code> and <code>scalar_extract_sig</code> built-in functions return the significand and the biased exponent value respectively of their <code>source</code> arguments. When supplied with a 64-bit <code>source</code> argument, the result returned by <code>scalar_extract_sig</code> has the <code>0x0010000000000000</code> bit set if the function’s <code>source</code> argument is in normalized form. Otherwise, this bit is set to 0. When supplied with a 128-bit <code>source</code> argument, the <code>0x00010000000000000000000000000000</code> bit of the result is treated similarly. Note that the sign of the significand is not represented in the result returned from the <code>scalar_extract_sig</code> function. Use the <code>scalar_test_neg</code> function to test the sign of its <code>double</code> argument. </p> <p>The <code>scalar_insert_exp</code> functions require a 64-bit environment supporting ISA 3.0 or later. When supplied with a 64-bit first argument, the <code>scalar_insert_exp</code> built-in function returns a double-precision floating point value that is constructed by assembling the values of its <code>significand</code> and <code>exponent</code> arguments. The sign of the result is copied from the most significant bit of the <code>significand</code> argument. The significand and exponent components of the result are composed of the least significant 11 bits of the <code>exponent</code> argument and the least significant 52 bits of the <code>significand</code> argument respectively. </p> <p>When supplied with a 128-bit first argument, the <code>scalar_insert_exp</code> built-in function returns a quad-precision ieee floating point value. The sign bit of the result is copied from the most significant bit of the <code>significand</code> argument. The significand and exponent components of the result are composed of the least significant 15 bits of the <code>exponent</code> argument and the least significant 112 bits of the <code>significand</code> argument respectively. </p> <p>The <code>scalar_cmp_exp_gt</code>, <code>scalar_cmp_exp_lt</code>, <code>scalar_cmp_exp_eq</code>, and <code>scalar_cmp_exp_unordered</code> built-in functions return a non-zero value if <code>arg1</code> is greater than, less than, equal to, or not comparable to <code>arg2</code> respectively. The arguments are not comparable if one or the other equals NaN (not a number). </p> <p>The <code>scalar_test_data_class</code> built-in function returns 1 if any of the condition tests enabled by the value of the <code>condition</code> variable are true, and 0 otherwise. The <code>condition</code> argument must be a compile-time constant integer with value not exceeding 127. The <code>condition</code> argument is encoded as a bitmask with each bit enabling the testing of a different condition, as characterized by the following: </p>
<div class="smallexample"> <pre class="smallexample" data-language="cpp">0x40    Test for NaN
0x20    Test for +Infinity
0x10    Test for -Infinity
0x08    Test for +Zero
0x04    Test for -Zero
0x02    Test for +Denormal
0x01    Test for -Denormal</pre>
</div> <p>The <code>scalar_test_neg</code> built-in function returns 1 if its <code>source</code> argument holds a negative value, 0 otherwise. </p> <p>The following built-in functions are also available for the PowerPC family of processors, starting with ISA 3.0 or later (<samp>-mcpu=power9</samp>). These string functions are described separately in order to group the descriptions closer to the function prototypes. </p> <p>Only functions excluded from the PVIPR are listed here. </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">int vec_all_nez (vector signed char, vector signed char);
int vec_all_nez (vector unsigned char, vector unsigned char);
int vec_all_nez (vector signed short, vector signed short);
int vec_all_nez (vector unsigned short, vector unsigned short);
int vec_all_nez (vector signed int, vector signed int);
int vec_all_nez (vector unsigned int, vector unsigned int);

int vec_any_eqz (vector signed char, vector signed char);
int vec_any_eqz (vector unsigned char, vector unsigned char);
int vec_any_eqz (vector signed short, vector signed short);
int vec_any_eqz (vector unsigned short, vector unsigned short);
int vec_any_eqz (vector signed int, vector signed int);
int vec_any_eqz (vector unsigned int, vector unsigned int);

signed char vec_xlx (unsigned int index, vector signed char data);
unsigned char vec_xlx (unsigned int index, vector unsigned char data);
signed short vec_xlx (unsigned int index, vector signed short data);
unsigned short vec_xlx (unsigned int index, vector unsigned short data);
signed int vec_xlx (unsigned int index, vector signed int data);
unsigned int vec_xlx (unsigned int index, vector unsigned int data);
float vec_xlx (unsigned int index, vector float data);

signed char vec_xrx (unsigned int index, vector signed char data);
unsigned char vec_xrx (unsigned int index, vector unsigned char data);
signed short vec_xrx (unsigned int index, vector signed short data);
unsigned short vec_xrx (unsigned int index, vector unsigned short data);
signed int vec_xrx (unsigned int index, vector signed int data);
unsigned int vec_xrx (unsigned int index, vector unsigned int data);
float vec_xrx (unsigned int index, vector float data);</pre>
</div> <p>The <code>vec_all_nez</code>, <code>vec_any_eqz</code>, and <code>vec_cmpnez</code> perform pairwise comparisons between the elements at the same positions within their two vector arguments. The <code>vec_all_nez</code> function returns a non-zero value if and only if all pairwise comparisons are not equal and no element of either vector argument contains a zero. The <code>vec_any_eqz</code> function returns a non-zero value if and only if at least one pairwise comparison is equal or if at least one element of either vector argument contains a zero. The <code>vec_cmpnez</code> function returns a vector of the same type as its two arguments, within which each element consists of all ones to denote that either the corresponding elements of the incoming arguments are not equal or that at least one of the corresponding elements contains zero. Otherwise, the element of the returned vector contains all zeros. </p> <p>The <code>vec_xlx</code> and <code>vec_xrx</code> functions extract the single element selected by the <code>index</code> argument from the vector represented by the <code>data</code> argument. The <code>index</code> argument always specifies a byte offset, regardless of the size of the vector element. With <code>vec_xlx</code>, <code>index</code> is the offset of the first byte of the element to be extracted. With <code>vec_xrx</code>, <code>index</code> represents the last byte of the element to be extracted, measured from the right end of the vector. In other words, the last byte of the element to be extracted is found at position <code>(15 - index)</code>. There is no requirement that <code>index</code> be a multiple of the vector element size. However, if the size of the vector element added to <code>index</code> is greater than 15, the content of the returned value is undefined. </p> <p>The following functions are also available if the ISA 3.0 instruction set additions (<samp>-mcpu=power9</samp>) are available. </p> <p>Only functions excluded from the PVIPR are listed here. </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">vector long long vec_vctz (vector long long);
vector unsigned long long vec_vctz (vector unsigned long long);
vector int vec_vctz (vector int);
vector unsigned int vec_vctz (vector int);
vector short vec_vctz (vector short);
vector unsigned short vec_vctz (vector unsigned short);
vector signed char vec_vctz (vector signed char);
vector unsigned char vec_vctz (vector unsigned char);

vector signed char vec_vctzb (vector signed char);
vector unsigned char vec_vctzb (vector unsigned char);

vector long long vec_vctzd (vector long long);
vector unsigned long long vec_vctzd (vector unsigned long long);

vector short vec_vctzh (vector short);
vector unsigned short vec_vctzh (vector unsigned short);

vector int vec_vctzw (vector int);
vector unsigned int vec_vctzw (vector int);

vector int vec_vprtyb (vector int);
vector unsigned int vec_vprtyb (vector unsigned int);
vector long long vec_vprtyb (vector long long);
vector unsigned long long vec_vprtyb (vector unsigned long long);

vector int vec_vprtybw (vector int);
vector unsigned int vec_vprtybw (vector unsigned int);

vector long long vec_vprtybd (vector long long);
vector unsigned long long vec_vprtybd (vector unsigned long long);</pre>
</div> <p>On 64-bit targets, if the ISA 3.0 additions (<samp>-mcpu=power9</samp>) are available: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">vector long vec_vprtyb (vector long);
vector unsigned long vec_vprtyb (vector unsigned long);
vector __int128 vec_vprtyb (vector __int128);
vector __uint128 vec_vprtyb (vector __uint128);

vector long vec_vprtybd (vector long);
vector unsigned long vec_vprtybd (vector unsigned long);

vector __int128 vec_vprtybq (vector __int128);
vector __uint128 vec_vprtybd (vector __uint128);</pre>
</div> <p>The following built-in functions are available for the PowerPC family of processors, starting with ISA 3.0 or later (<samp>-mcpu=power9</samp>). </p> <p>Only functions excluded from the PVIPR are listed here. </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">__vector unsigned char
vec_absdb (__vector unsigned char arg1, __vector unsigned char arg2);
__vector unsigned short
vec_absdh (__vector unsigned short arg1, __vector unsigned short arg2);
__vector unsigned int
vec_absdw (__vector unsigned int arg1, __vector unsigned int arg2);</pre>
</div> <p>The <code>vec_absd</code>, <code>vec_absdb</code>, <code>vec_absdh</code>, and <code>vec_absdw</code> built-in functions each computes the absolute differences of the pairs of vector elements supplied in its two vector arguments, placing the absolute differences into the corresponding elements of the vector result. </p> <p>The following built-in functions are available for the PowerPC family of processors, starting with ISA 3.0 or later (<samp>-mcpu=power9</samp>): </p>
<div class="smallexample"> <pre class="smallexample" data-language="cpp">vector unsigned int vec_vrlnm (vector unsigned int, vector unsigned int);
vector unsigned long long vec_vrlnm (vector unsigned long long,
                                     vector unsigned long long);</pre>
</div> <p>The result of <code>vec_vrlnm</code> is obtained by rotating each element of the first argument vector left and ANDing it with a mask. The second argument vector contains the mask beginning in bits 11:15, the mask end in bits 19:23, and the shift count in bits 27:31, of each element. </p> <p>If the cryptographic instructions are enabled (<samp>-mcrypto</samp> or <samp>-mcpu=power8</samp>), the following builtins are enabled. </p> <p>Only functions excluded from the PVIPR are listed here. </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">vector unsigned long long __builtin_crypto_vsbox (vector unsigned long long);

vector unsigned long long __builtin_crypto_vcipher (vector unsigned long long,
                                                    vector unsigned long long);

vector unsigned long long __builtin_crypto_vcipherlast
                                     (vector unsigned long long,
                                      vector unsigned long long);

vector unsigned long long __builtin_crypto_vncipher (vector unsigned long long,
                                                     vector unsigned long long);

vector unsigned long long __builtin_crypto_vncipherlast (vector unsigned long long,
                                                         vector unsigned long long);

vector unsigned char __builtin_crypto_vpermxor (vector unsigned char,
                                                vector unsigned char,
                                                vector unsigned char);

vector unsigned short __builtin_crypto_vpermxor (vector unsigned short,
                                                 vector unsigned short,
                                                 vector unsigned short);

vector unsigned int __builtin_crypto_vpermxor (vector unsigned int,
                                               vector unsigned int,
                                               vector unsigned int);

vector unsigned long long __builtin_crypto_vpermxor (vector unsigned long long,
                                                     vector unsigned long long,
                                                     vector unsigned long long);

vector unsigned char __builtin_crypto_vpmsumb (vector unsigned char,
                                               vector unsigned char);

vector unsigned short __builtin_crypto_vpmsumh (vector unsigned short,
                                                vector unsigned short);

vector unsigned int __builtin_crypto_vpmsumw (vector unsigned int,
                                              vector unsigned int);

vector unsigned long long __builtin_crypto_vpmsumd (vector unsigned long long,
                                                    vector unsigned long long);

vector unsigned long long __builtin_crypto_vshasigmad (vector unsigned long long,
                                                       int, int);

vector unsigned int __builtin_crypto_vshasigmaw (vector unsigned int, int, int);</pre>
</div> <p>The second argument to <var>__builtin_crypto_vshasigmad</var> and <var>__builtin_crypto_vshasigmaw</var> must be a constant integer that is 0 or 1. The third argument to these built-in functions must be a constant integer in the range of 0 to 15. </p>  <p class="header"> </p>
<p> Next: <a href="powerpc-altivec-built_002din-functions-available-on-isa-3_002e1#PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e1" accesskey="n" rel="next">PowerPC AltiVec Built-in Functions Available on ISA 3.1</a>, Previous: <a href="powerpc-altivec-built_002din-functions-available-on-isa-2_002e07#PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-2_002e07" accesskey="p" rel="prev">PowerPC AltiVec Built-in Functions Available on ISA 2.07</a>, Up: <a href="powerpc-altivec_002fvsx-built_002din-functions#PowerPC-AltiVec_002fVSX-Built_002din-Functions" accesskey="u" rel="up">PowerPC AltiVec/VSX Built-in Functions</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-11.1.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> <div class="_attribution">
  <p class="_attribution-p">
    © Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-11.1.0/gcc/PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e0.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-11.1.0/gcc/PowerPC-AltiVec-Built_002din-Functions-Available-on-ISA-3_002e0.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
