
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Django Utils - Django 1.11 - W3cubDocs</title>
  
  <meta name="description" content="This document covers all stable modules in django.utils. Most of the modules in django.utils are designed for internal use and only the following &hellip;">
  <meta name="keywords" content="django, utils, django~1.11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/django~1.11/ref/utils.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/django~1.11.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/django~1.11/" class="_nav-link" title="" style="margin-left:0;">Django 1.11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="django-utils">Django Utils</h1> <p id="s-module-django.utils">This document covers all stable modules in <code>django.utils</code>. Most of the modules in <code>django.utils</code> are designed for internal use and only the following parts can be considered stable and thus backwards compatible as per the <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/internals/release-process/#internal-release-deprecation-policy"><span class="std std-ref">internal release deprecation policy</span></a>.</p>  <h2 id="django-utils-cache"><code>django.utils.cache</code></h2> <p id="s-module-django.utils.cache">This module contains helper functions for controlling caching. It does so by managing the <code>Vary</code> header of responses. It includes functions to patch the header of response objects directly and decorators that change functions to do that header-patching themselves.</p> <p>For information on the <code>Vary</code> header, see <a class="rfc reference external" href="https://tools.ietf.org/html/rfc7231.html#section-7.1.4" id="index-0"><strong>RFC 7231#section-7.1.4</strong></a>.</p> <p>Essentially, the <code>Vary</code> HTTP header defines which headers a cache should take into account when building its cache key. Requests with the same path but different header content for headers named in <code>Vary</code> need to get different cache keys to prevent delivery of wrong content.</p> <p>For example, <a class="reference internal" href="../topics/i18n/index"><span class="doc">internationalization</span></a> middleware would need to distinguish caches by the <code>Accept-language</code> header.</p> <dl class="function"> <dt id="django.utils.cache.patch_cache_control">
<code>patch_cache_control(response, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#patch_cache_control"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>This function patches the <code>Cache-Control</code> header by adding all keyword arguments to it. The transformation is as follows:</p> <ul class="simple"> <li>All keyword parameter names are turned to lowercase, and underscores are converted to hyphens.</li> <li>If the value of a parameter is <code>True</code> (exactly <code>True</code>, not just a true value), only the parameter name is added to the header.</li> <li>All other parameters are added with their value, after applying <code>str()</code> to it.</li> </ul> </dd>
</dl> <dl class="function"> <dt id="django.utils.cache.get_max_age">
<code>get_max_age(response)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#get_max_age"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the max-age from the response Cache-Control header as an integer (or <code>None</code> if it wasn’t found or wasn’t an integer).</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.cache.patch_response_headers">
<code>patch_response_headers(response, cache_timeout=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#patch_response_headers"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Adds some useful headers to the given <code>HttpResponse</code> object:</p> <ul class="simple"> <li><code>ETag</code></li> <li><code>Expires</code></li> <li><code>Cache-Control</code></li> </ul> <p>Each header is only added if it isn’t already set.</p> <p><code>cache_timeout</code> is in seconds. The <a class="reference internal" href="settings#std:setting-CACHE_MIDDLEWARE_SECONDS"><code>CACHE_MIDDLEWARE_SECONDS</code></a> setting is used by default.</p> <div class="versionchanged"> <span class="title">Changed in Django 1.11:</span> <p>In older versions, the <code>Last-Modified</code> header was also set.</p> </div> <div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.11: </span>Since the <code>USE_ETAGS</code> setting is deprecated, this function won’t set the <code>ETag</code> header when the deprecation ends in Django 2.1.</p> </div> </dd>
</dl> <dl class="function"> <dt id="django.utils.cache.add_never_cache_headers">
<code>add_never_cache_headers(response)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#add_never_cache_headers"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Adds a <code>Cache-Control: max-age=0, no-cache, no-store, must-revalidate</code> header to a response to indicate that a page should never be cached.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.cache.patch_vary_headers">
<code>patch_vary_headers(response, newheaders)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#patch_vary_headers"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Adds (or updates) the <code>Vary</code> header in the given <code>HttpResponse</code> object. <code>newheaders</code> is a list of header names that should be in <code>Vary</code>. Existing headers in <code>Vary</code> aren’t removed.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.cache.get_cache_key">
<code>get_cache_key(request, key_prefix=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#get_cache_key"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a cache key based on the request path. It can be used in the request phase because it pulls the list of headers to take into account from the global path registry and uses those to build a cache key to check against.</p> <p>If there is no headerlist stored, the page needs to be rebuilt, so this function returns <code>None</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.cache.learn_cache_key">
<code>learn_cache_key(request, response, cache_timeout=None, key_prefix=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/cache/#learn_cache_key"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Learns what headers to take into account for some request path from the response object. It stores those headers in a global path registry so that later access to that path will know what headers to take into account without building the response object itself. The headers are named in the <code>Vary</code> header of the response, but we want to prevent response generation.</p> <p>The list of headers to use for cache key generation is stored in the same cache as the pages themselves. If the cache ages some data out of the cache, this just means that we have to build the response once to get at the Vary header and so at the list of headers to use for the cache key.</p> </dd>
</dl>   <h2 id="django-utils-dateparse"><code>django.utils.dateparse</code></h2> <p id="s-module-django.utils.dateparse">The functions defined in this module share the following properties:</p> <ul class="simple"> <li>They raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><code>ValueError</code></a> if their input is well formatted but isn’t a valid date or time.</li> <li>They return <code>None</code> if it isn’t well formatted at all.</li> <li>They accept up to picosecond resolution in input, but they truncate it to microseconds, since that’s what Python supports.</li> </ul> <dl class="function"> <dt id="django.utils.dateparse.parse_date">
<code>parse_date(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/dateparse/#parse_date"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.8)"><code>datetime.date</code></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.dateparse.parse_time">
<code>parse_time(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/dateparse/#parse_time"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.8)"><code>datetime.time</code></a>.</p> <p>UTC offsets aren’t supported; if <code>value</code> describes one, the result is <code>None</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.dateparse.parse_datetime">
<code>parse_datetime(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/dateparse/#parse_datetime"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime.datetime</code></a>.</p> <p>UTC offsets are supported; if <code>value</code> describes one, the result’s <code>tzinfo</code> attribute is a <a class="reference internal" href="#django.utils.timezone.FixedOffset" title="django.utils.timezone.FixedOffset"><code>FixedOffset</code></a> instance.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.dateparse.parse_duration">
<code>parse_duration(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/dateparse/#parse_duration"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Parses a string and returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.8)"><code>datetime.timedelta</code></a>.</p> <p>Expects data in the format <code>"DD HH:MM:SS.uuuuuu"</code> or as specified by ISO 8601 (e.g. <code>P4DT1H15M20S</code> which is equivalent to <code>4 1:15:20</code>).</p> </dd>
</dl>   <h2 id="django-utils-decorators"><code>django.utils.decorators</code></h2> <dl class="function" id="s-module-django.utils.decorators"> <dt id="django.utils.decorators.method_decorator">
<code>method_decorator(decorator, name='')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/decorators/#method_decorator"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Converts a function decorator into a method decorator. It can be used to decorate methods or classes; in the latter case, <code>name</code> is the name of the method to be decorated and is required.</p> <p><code>decorator</code> may also be a list or tuple of functions. They are wrapped in reverse order so that the call order is the order in which the functions appear in the list/tuple.</p> <p>See <a class="reference internal" href="../topics/class-based-views/intro#id1"><span class="std std-ref">decorating class based views</span></a> for example usage.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.decorators.decorator_from_middleware">
<code>decorator_from_middleware(middleware_class)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/decorators/#decorator_from_middleware"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Given a middleware class, returns a view decorator. This lets you use middleware functionality on a per-view basis. The middleware is created with no params passed.</p> <p>It assumes middleware that’s compatible with the old style of Django 1.9 and earlier (having methods like <code>process_request()</code>, <code>process_exception()</code>, and <code>process_response()</code>).</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.decorators.decorator_from_middleware_with_args">
<code>decorator_from_middleware_with_args(middleware_class)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/decorators/#decorator_from_middleware_with_args"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Like <code>decorator_from_middleware</code>, but returns a function that accepts the arguments to be passed to the middleware_class. For example, the <a class="reference internal" href="../topics/cache#django.views.decorators.cache.cache_page" title="django.views.decorators.cache.cache_page"><code>cache_page()</code></a> decorator is created from the <code>CacheMiddleware</code> like this:</p> <pre data-language="python">cache_page = decorator_from_middleware_with_args(CacheMiddleware)

@cache_page(3600)
def my_view(request):
    pass
</pre> </dd>
</dl>   <h2 id="django-utils-encoding"><code>django.utils.encoding</code></h2> <dl class="function" id="s-module-django.utils.encoding"> <dt id="django.utils.encoding.python_2_unicode_compatible">
<code>python_2_unicode_compatible()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/six/#python_2_unicode_compatible"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A decorator that defines <code>__unicode__</code> and <code>__str__</code> methods under Python 2. Under Python 3 it does nothing.</p> <p>To support Python 2 and 3 with a single code base, define a <code>__str__</code> method returning text (use <code>six.text_type()</code> if you’re doing some casting) and apply this decorator to the class.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.smart_text">
<code>smart_text(s, encoding='utf-8', strings_only=False, errors='strict')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#smart_text"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a text object representing <code>s</code> – <code>unicode</code> on Python 2 and <code>str</code> on Python 3. Treats bytestrings using the <code>encoding</code> codec.</p> <p>If <code>strings_only</code> is <code>True</code>, don’t convert (some) non-string-like objects.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.smart_unicode">
<code>smart_unicode(s, encoding='utf-8', strings_only=False, errors='strict')</code> </dt> <dd>
<p>Historical name of <a class="reference internal" href="#django.utils.encoding.smart_text" title="django.utils.encoding.smart_text"><code>smart_text()</code></a>. Only available under Python 2.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.is_protected_type">
<code>is_protected_type(obj)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#is_protected_type"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Determine if the object instance is of a protected type.</p> <p>Objects of protected types are preserved as-is when passed to <code>force_text(strings_only=True)</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.force_text">
<code>force_text(s, encoding='utf-8', strings_only=False, errors='strict')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#force_text"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Similar to <code>smart_text</code>, except that lazy instances are resolved to strings, rather than kept as lazy objects.</p> <p>If <code>strings_only</code> is <code>True</code>, don’t convert (some) non-string-like objects.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.force_unicode">
<code>force_unicode(s, encoding='utf-8', strings_only=False, errors='strict')</code> </dt> <dd>
<p>Historical name of <a class="reference internal" href="#django.utils.encoding.force_text" title="django.utils.encoding.force_text"><code>force_text()</code></a>. Only available under Python 2.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.smart_bytes">
<code>smart_bytes(s, encoding='utf-8', strings_only=False, errors='strict')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#smart_bytes"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a bytestring version of <code>s</code>, encoded as specified in <code>encoding</code>.</p> <p>If <code>strings_only</code> is <code>True</code>, don’t convert (some) non-string-like objects.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.force_bytes">
<code>force_bytes(s, encoding='utf-8', strings_only=False, errors='strict')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#force_bytes"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Similar to <code>smart_bytes</code>, except that lazy instances are resolved to bytestrings, rather than kept as lazy objects.</p> <p>If <code>strings_only</code> is <code>True</code>, don’t convert (some) non-string-like objects.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.smart_str">
<code>smart_str(s, encoding='utf-8', strings_only=False, errors='strict')</code> </dt> <dd>
<p>Alias of <a class="reference internal" href="#django.utils.encoding.smart_bytes" title="django.utils.encoding.smart_bytes"><code>smart_bytes()</code></a> on Python 2 and <a class="reference internal" href="#django.utils.encoding.smart_text" title="django.utils.encoding.smart_text"><code>smart_text()</code></a> on Python 3. This function returns a <code>str</code> or a lazy string.</p> <p>For instance, this is suitable for writing to <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.stdout" title="(in Python v3.8)"><code>sys.stdout</code></a> on Python 2 and 3.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.force_str">
<code>force_str(s, encoding='utf-8', strings_only=False, errors='strict')</code> </dt> <dd>
<p>Alias of <a class="reference internal" href="#django.utils.encoding.force_bytes" title="django.utils.encoding.force_bytes"><code>force_bytes()</code></a> on Python 2 and <a class="reference internal" href="#django.utils.encoding.force_text" title="django.utils.encoding.force_text"><code>force_text()</code></a> on Python 3. This function always returns a <code>str</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.iri_to_uri">
<code>iri_to_uri(iri)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#iri_to_uri"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert an Internationalized Resource Identifier (IRI) portion to a URI portion that is suitable for inclusion in a URL.</p> <p>This is the algorithm from section 3.1 of <a class="rfc reference external" href="https://tools.ietf.org/html/rfc3987.html#section-3.1" id="index-1"><strong>RFC 3987#section-3.1</strong></a>. However, since we are assuming input is either UTF-8 or unicode already, we can simplify things a little from the full method.</p> <p>Takes an IRI in UTF-8 bytes and returns ASCII bytes containing the encoded result.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.uri_to_iri">
<code>uri_to_iri(uri)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#uri_to_iri"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Converts a Uniform Resource Identifier into an Internationalized Resource Identifier.</p> <p>This is an algorithm from section 3.2 of <a class="rfc reference external" href="https://tools.ietf.org/html/rfc3987.html#section-3.2" id="index-2"><strong>RFC 3987#section-3.2</strong></a>.</p> <p>Takes a URI in ASCII bytes and returns a unicode string containing the encoded result.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.filepath_to_uri">
<code>filepath_to_uri(path)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#filepath_to_uri"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert a file system path to a URI portion that is suitable for inclusion in a URL. The path is assumed to be either UTF-8 or unicode.</p> <p>This method will encode certain characters that would normally be recognized as special characters for URIs. Note that this method does not encode the ‘ character, as it is a valid character within URIs. See <code>encodeURIComponent()</code> JavaScript function for more details.</p> <p>Returns an ASCII string containing the encoded result.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.encoding.escape_uri_path">
<code>escape_uri_path(path)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/encoding/#escape_uri_path"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Escapes the unsafe characters from the path portion of a Uniform Resource Identifier (URI).</p> </dd>
</dl>   <h2 id="django-utils-feedgenerator"><code>django.utils.feedgenerator</code></h2> <p id="s-module-django.utils.feedgenerator">Sample usage:</p> <pre data-language="python">&gt;&gt;&gt; from django.utils import feedgenerator
&gt;&gt;&gt; feed = feedgenerator.Rss201rev2Feed(
...     title="Poynter E-Media Tidbits",
...     link="http://www.poynter.org/column.asp?id=31",
...     description="A group Weblog by the sharpest minds in online media/journalism/publishing.",
...     language="en",
... )
&gt;&gt;&gt; feed.add_item(
...     title="Hello",
...     link="http://www.holovaty.com/test/",
...     description="Testing.",
... )
&gt;&gt;&gt; with open('test.rss', 'w') as fp:
...     feed.write(fp, 'utf-8')
</pre> <p>For simplifying the selection of a generator use <code>feedgenerator.DefaultFeed</code> which is currently <code>Rss201rev2Feed</code></p> <p>For definitions of the different versions of RSS, see: <a class="reference external" href="https://web.archive.org/web/20110718035220/http://diveintomark.org/archives/2004/02/04/incompatible-rss">https://web.archive.org/web/20110718035220/http://diveintomark.org/archives/2004/02/04/incompatible-rss</a></p> <dl class="function"> <dt id="django.utils.feedgenerator.get_tag_uri">
<code>get_tag_uri(url, date)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#get_tag_uri"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Creates a TagURI.</p> <p>See <a class="reference external" href="https://web.archive.org/web/20110514113830/http://diveintomark.org/archives/2004/05/28/howto-atom-id">https://web.archive.org/web/20110514113830/http://diveintomark.org/archives/2004/05/28/howto-atom-id</a></p> </dd>
</dl>  <h3 id="syndicationfeed"><code>SyndicationFeed</code></h3> <dl class="class" id="s-syndicationfeed"> <dt id="django.utils.feedgenerator.SyndicationFeed">
<code>class SyndicationFeed</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Base class for all syndication feeds. Subclasses should provide write().</p> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.__init__">
<code>__init__(title, link, description, language=None, author_email=None, author_name=None, author_link=None, subtitle=None, categories=None, feed_url=None, feed_copyright=None, feed_guid=None, ttl=None, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.__init__"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Initialize the feed with the given dictionary of metadata, which applies to the entire feed.</p> <p>Any extra keyword arguments you pass to <code>__init__</code> will be stored in <code>self.feed</code>.</p> <p>All parameters should be Unicode objects, except <code>categories</code>, which should be a sequence of Unicode objects.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.add_item">
<code>add_item(title, link, description, author_email=None, author_name=None, author_link=None, pubdate=None, comments=None, unique_id=None, enclosure=None, categories=(), item_copyright=None, ttl=None, updateddate=None, enclosures=None, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.add_item"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Adds an item to the feed. All args are expected to be Python <code>unicode</code> objects except <code>pubdate</code> and <code>updateddate</code>, which are <code>datetime.datetime</code> objects, <code>enclosure</code>, which is an <code>Enclosure</code> instance, and <code>enclosures</code>, which is a list of <code>Enclosure</code> instances.</p> <div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.9: </span>The <code>enclosure</code> keyword argument is deprecated in favor of the new <code>enclosures</code> keyword argument which accepts a list of <code>Enclosure</code> objects.</p> </div> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.num_items">
<code>num_items()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.num_items"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.root_attributes">
<code>root_attributes()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.root_attributes"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return extra attributes to place on the root (i.e. feed/channel) element. Called from <code>write()</code>.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.add_root_elements">
<code>add_root_elements(handler)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.add_root_elements"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Add elements in the root (i.e. feed/channel) element. Called from <code>write()</code>.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.item_attributes">
<code>item_attributes(item)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.item_attributes"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return extra attributes to place on each item (i.e. item/entry) element.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.add_item_elements">
<code>add_item_elements(handler, item)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.add_item_elements"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Add elements on each item (i.e. item/entry) element.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.write">
<code>write(outfile, encoding)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.write"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Outputs the feed in the given encoding to <code>outfile</code>, which is a file-like object. Subclasses should override this.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.writeString">
<code>writeString(encoding)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.writeString"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the feed in the given encoding as a string.</p> </dd>
</dl> <dl class="method"> <dt id="django.utils.feedgenerator.SyndicationFeed.latest_post_date">
<code>latest_post_date()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#SyndicationFeed.latest_post_date"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the latest <code>pubdate</code> or <code>updateddate</code> for all items in the feed. If no items have either of these attributes this returns the current UTC date/time.</p> <div class="versionchanged"> <span class="title">Changed in Django 1.11:</span> <p>In older versions, it returned the current date/time without any timezone information.</p> </div> </dd>
</dl> </dd>
</dl>   <h3 id="enclosure"><code>Enclosure</code></h3> <dl class="class" id="s-enclosure"> <dt id="django.utils.feedgenerator.Enclosure">
<code>class Enclosure</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#Enclosure"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Represents an RSS enclosure</p> </dd>
</dl>   <h3 id="rssfeed"><code>RssFeed</code></h3> <dl class="class" id="s-rssfeed"> <dt id="django.utils.feedgenerator.RssFeed">
<code>class RssFeed(SyndicationFeed)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#RssFeed"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl>   <h3 id="rss201rev2feed"><code>Rss201rev2Feed</code></h3> <dl class="class" id="s-rss201rev2feed"> <dt id="django.utils.feedgenerator.Rss201rev2Feed">
<code>class Rss201rev2Feed(RssFeed)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#Rss201rev2Feed"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Spec: <a class="reference external" href="https://cyber.harvard.edu/rss/rss.html">https://cyber.harvard.edu/rss/rss.html</a></p> </dd>
</dl>   <h3 id="rssuserland091feed"><code>RssUserland091Feed</code></h3> <dl class="class" id="s-rssuserland091feed"> <dt id="django.utils.feedgenerator.RssUserland091Feed">
<code>class RssUserland091Feed(RssFeed)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#RssUserland091Feed"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Spec: <a class="reference external" href="http://backend.userland.com/rss091">http://backend.userland.com/rss091</a></p> </dd>
</dl>   <h3 id="atom1feed"><code>Atom1Feed</code></h3> <dl class="class" id="s-atom1feed"> <dt id="django.utils.feedgenerator.Atom1Feed">
<code>class Atom1Feed(SyndicationFeed)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/feedgenerator/#Atom1Feed"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Spec: <a class="reference external" href="https://tools.ietf.org/html/rfc4287">https://tools.ietf.org/html/rfc4287</a></p> </dd>
</dl>    <h2 id="django-utils-functional"><code>django.utils.functional</code></h2> <dl class="class" id="s-module-django.utils.functional"> <dt id="django.utils.functional.cached_property">
<code>class cached_property(object, name)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/functional/#cached_property"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>@cached_property</code> decorator caches the result of a method with a single <code>self</code> argument as a property. The cached result will persist as long as the instance does, so if the instance is passed around and the function subsequently invoked, the cached result will be returned.</p> <p>Consider a typical case, where a view might need to call a model’s method to perform some computation, before placing the model instance into the context, where the template might invoke the method once more:</p> <pre data-language="python"># the model
class Person(models.Model):

    def friends(self):
        # expensive computation
        ...
        return friends

# in the view:
if person.friends():
    ...
</pre> <p>And in the template you would have:</p> <pre data-language="html">{% for friend in person.friends %}
</pre> <p>Here, <code>friends()</code> will be called twice. Since the instance <code>person</code> in the view and the template are the same, decorating the <code>friends()</code> method with <code>@cached_property</code> can avoid that:</p> <pre data-language="python">from django.utils.functional import cached_property

class Person(models.Model):

    @cached_property
    def friends(self):
        ...
</pre> <p>Note that as the method is now a property, in Python code it will need to be invoked appropriately:</p> <pre data-language="python"># in the view:
if person.friends:
    ...
</pre> <p>The cached value can be treated like an ordinary attribute of the instance:</p> <pre data-language="python"># clear it, requiring re-computation next time it's called
del person.friends # or delattr(person, "friends")

# set a value manually, that will persist on the instance until cleared
person.friends = ["Huckleberry Finn", "Tom Sawyer"]
</pre> <p>As well as offering potential performance advantages, <code>@cached_property</code> can ensure that an attribute’s value does not change unexpectedly over the life of an instance. This could occur with a method whose computation is based on <code>datetime.now()</code>, or simply if a change were saved to the database by some other process in the brief interval between subsequent invocations of a method on the same instance.</p> <p>You can use the <code>name</code> argument to make cached properties of other methods. For example, if you had an expensive <code>get_friends()</code> method and wanted to allow calling it without retrieving the cached value, you could write:</p> <pre data-language="python">friends = cached_property(get_friends, name='friends')
</pre> <p>While <code>person.get_friends()</code> will recompute the friends on each call, the value of the cached property will persist until you delete it as described above:</p> <pre data-language="python">x = person.friends         # calls first time
y = person.get_friends()   # calls again
z = person.friends         # does not call
x is z                     # is True
</pre> </dd>
</dl> <dl class="function"> <dt id="django.utils.functional.allow_lazy">
<code>allow_lazy(func, *resultclasses)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/functional/#allow_lazy"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.10.</span></p> </div> <p>Works like <a class="reference internal" href="#django.utils.functional.keep_lazy" title="django.utils.functional.keep_lazy"><code>keep_lazy()</code></a> except that it can’t be used as a decorator.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.functional.keep_lazy">
<code>keep_lazy(func, *resultclasses)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/functional/#keep_lazy"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<div class="versionadded"> <span class="title">New in Django 1.10.</span> </div> <p>Django offers many utility functions (particularly in <code>django.utils</code>) that take a string as their first argument and do something to that string. These functions are used by template filters as well as directly in other code.</p> <p>If you write your own similar functions and deal with translations, you’ll face the problem of what to do when the first argument is a lazy translation object. You don’t want to convert it to a string immediately, because you might be using this function outside of a view (and hence the current thread’s locale setting will not be correct).</p> <p>For cases like this, use the <code>django.utils.functional.keep_lazy()</code> decorator. It modifies the function so that <em>if</em> it’s called with a lazy translation as one of its arguments, the function evaluation is delayed until it needs to be converted to a string.</p> <p>For example:</p> <pre data-language="python">from django.utils import six
from django.utils.functional import keep_lazy, keep_lazy_text

def fancy_utility_function(s, ...):
    # Do some conversion on string 's'
    ...
fancy_utility_function = keep_lazy(six.text_type)(fancy_utility_function)

# Or more succinctly:
@keep_lazy(six.text_type)
def fancy_utility_function(s, ...):
    ...
</pre> <p>The <code>keep_lazy()</code> decorator takes a number of extra arguments (<code>*args</code>) specifying the type(s) that the original function can return. A common use case is to have functions that return text. For these, you can just pass the <code>six.text_type</code> type to <code>keep_lazy</code> (or even simpler, use the <a class="reference internal" href="#django.utils.functional.keep_lazy_text" title="django.utils.functional.keep_lazy_text"><code>keep_lazy_text()</code></a> decorator described in the next section).</p> <p>Using this decorator means you can write your function and assume that the input is a proper string, then add support for lazy translation objects at the end.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.functional.keep_lazy_text">
<code>keep_lazy_text(func)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/functional/#keep_lazy_text"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<div class="versionadded"> <span class="title">New in Django 1.10.</span> </div> <p>A shortcut for <code>keep_lazy(six.text_type)(func)</code>.</p> <p>If you have a function that returns text and you want to be able to take lazy arguments while delaying their evaluation, simply use this decorator:</p> <pre data-language="python">from django.utils import six
from django.utils.functional import keep_lazy, keep_lazy_text

# Our previous example was:
@keep_lazy(six.text_type)
def fancy_utility_function(s, ...):
    ...

# Which can be rewritten as:
@keep_lazy_text
def fancy_utility_function(s, ...):
    ...
</pre> </dd>
</dl>   <h2 id="django-utils-html"><code>django.utils.html</code></h2> <p id="s-module-django.utils.html">Usually you should build up HTML using Django’s templates to make use of its autoescape mechanism, using the utilities in <a class="reference internal" href="#module-django.utils.safestring" title="django.utils.safestring: Functions and classes for working with strings that can be displayed safely without further escaping in HTML."><code>django.utils.safestring</code></a> where appropriate. This module provides some additional low level utilities for escaping HTML.</p> <dl class="function"> <dt id="django.utils.html.escape">
<code>escape(text)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/html/#escape"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the given text with ampersands, quotes and angle brackets encoded for use in HTML. The input is first passed through <a class="reference internal" href="#django.utils.encoding.force_text" title="django.utils.encoding.force_text"><code>force_text()</code></a> and the output has <a class="reference internal" href="#django.utils.safestring.mark_safe" title="django.utils.safestring.mark_safe"><code>mark_safe()</code></a> applied.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.html.conditional_escape">
<code>conditional_escape(text)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/html/#conditional_escape"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Similar to <code>escape()</code>, except that it doesn’t operate on pre-escaped strings, so it will not double escape.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.html.format_html">
<code>format_html(format_string, *args, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/html/#format_html"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>This is similar to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.8)"><code>str.format()</code></a>, except that it is appropriate for building up HTML fragments. All args and kwargs are passed through <a class="reference internal" href="#django.utils.html.conditional_escape" title="django.utils.html.conditional_escape"><code>conditional_escape()</code></a> before being passed to <code>str.format()</code>.</p> <p>For the case of building up small HTML fragments, this function is to be preferred over string interpolation using <code>%</code> or <code>str.format()</code> directly, because it applies escaping to all arguments - just like the template system applies escaping by default.</p> <p>So, instead of writing:</p> <pre data-language="python">mark_safe("%s &lt;b&gt;%s&lt;/b&gt; %s" % (
    some_html,
    escape(some_text),
    escape(some_other_text),
))
</pre> <p>You should instead use:</p> <pre data-language="python">format_html("{} &lt;b&gt;{}&lt;/b&gt; {}",
    mark_safe(some_html),
    some_text,
    some_other_text,
)
</pre> <p>This has the advantage that you don’t need to apply <a class="reference internal" href="#django.utils.html.escape" title="django.utils.html.escape"><code>escape()</code></a> to each argument and risk a bug and an XSS vulnerability if you forget one.</p> <p>Note that although this function uses <code>str.format()</code> to do the interpolation, some of the formatting options provided by <code>str.format()</code> (e.g. number formatting) will not work, since all arguments are passed through <a class="reference internal" href="#django.utils.html.conditional_escape" title="django.utils.html.conditional_escape"><code>conditional_escape()</code></a> which (ultimately) calls <a class="reference internal" href="#django.utils.encoding.force_text" title="django.utils.encoding.force_text"><code>force_text()</code></a> on the values.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.html.format_html_join">
<code>format_html_join(sep, format_string, args_generator)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/html/#format_html_join"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A wrapper of <a class="reference internal" href="#django.utils.html.format_html" title="django.utils.html.format_html"><code>format_html()</code></a>, for the common case of a group of arguments that need to be formatted using the same format string, and then joined using <code>sep</code>. <code>sep</code> is also passed through <a class="reference internal" href="#django.utils.html.conditional_escape" title="django.utils.html.conditional_escape"><code>conditional_escape()</code></a>.</p> <p><code>args_generator</code> should be an iterator that returns the sequence of <code>args</code> that will be passed to <a class="reference internal" href="#django.utils.html.format_html" title="django.utils.html.format_html"><code>format_html()</code></a>. For example:</p> <pre data-language="python">format_html_join(
    '\n', "&lt;li&gt;{} {}&lt;/li&gt;",
    ((u.first_name, u.last_name) for u in users)
)
</pre> </dd>
</dl> <dl class="function"> <dt id="django.utils.html.strip_tags">
<code>strip_tags(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/html/#strip_tags"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Tries to remove anything that looks like an HTML tag from the string, that is anything contained within <code>&lt;&gt;</code>.</p> <p>Absolutely NO guarantee is provided about the resulting string being HTML safe. So NEVER mark safe the result of a <code>strip_tag</code> call without escaping it first, for example with <a class="reference internal" href="#django.utils.html.escape" title="django.utils.html.escape"><code>escape()</code></a>.</p> <p>For example:</p> <pre data-language="python">strip_tags(value)
</pre> <p>If <code>value</code> is <code>"&lt;b&gt;Joel&lt;/b&gt; &lt;button&gt;is&lt;/button&gt; a &lt;span&gt;slug&lt;/span&gt;"</code> the return value will be <code>"Joel is a slug"</code>.</p> <p>If you are looking for a more robust solution, take a look at the <a class="reference external" href="https://pypi.python.org/pypi/bleach">bleach</a> Python library.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.html.html_safe">
<code>html_safe()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/html/#html_safe"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>__html__()</code> method on a class helps non-Django templates detect classes whose output doesn’t require HTML escaping.</p> <p>This decorator defines the <code>__html__()</code> method on the decorated class by wrapping the <code>__unicode__()</code> (Python 2) or <code>__str__()</code> (Python 3) in <a class="reference internal" href="#django.utils.safestring.mark_safe" title="django.utils.safestring.mark_safe"><code>mark_safe()</code></a>. Ensure the <code>__unicode__()</code> or <code>__str__()</code> method does indeed return text that doesn’t require HTML escaping.</p> </dd>
</dl>   <h2 id="django-utils-http"><code>django.utils.http</code></h2> <dl class="function" id="s-module-django.utils.http"> <dt id="django.utils.http.urlquote">
<code>urlquote(url, safe='/')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#urlquote"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A version of Python’s <code>urllib.quote()</code> function that can operate on unicode strings. The url is first UTF-8 encoded before quoting. The returned string can safely be used as part of an argument to a subsequent <code>iri_to_uri()</code> call without double-quoting occurring. Employs lazy execution.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.urlquote_plus">
<code>urlquote_plus(url, safe='')</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#urlquote_plus"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A version of Python’s urllib.quote_plus() function that can operate on unicode strings. The url is first UTF-8 encoded before quoting. The returned string can safely be used as part of an argument to a subsequent <code>iri_to_uri()</code> call without double-quoting occurring. Employs lazy execution.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.urlencode">
<code>urlencode(query, doseq=0)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#urlencode"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A version of Python’s urllib.urlencode() function that can operate on unicode strings. The parameters are first cast to UTF-8 encoded strings and then encoded as per normal.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.cookie_date">
<code>cookie_date(epoch_seconds=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#cookie_date"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Formats the time to ensure compatibility with Netscape’s cookie standard.</p> <p>Accepts a floating point number expressed in seconds since the epoch in UTC–such as that outputted by <code>time.time()</code>. If set to <code>None</code>, defaults to the current time.</p> <p>Outputs a string in the format <code>Wdy, DD-Mon-YYYY HH:MM:SS GMT</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.http_date">
<code>http_date(epoch_seconds=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#http_date"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Formats the time to match the <a class="rfc reference external" href="https://tools.ietf.org/html/rfc1123.html" id="index-3"><strong>RFC 1123</strong></a> date format as specified by HTTP <a class="rfc reference external" href="https://tools.ietf.org/html/rfc7231.html#section-7.1.1.1" id="index-4"><strong>RFC 7231#section-7.1.1.1</strong></a>.</p> <p>Accepts a floating point number expressed in seconds since the epoch in UTC–such as that outputted by <code>time.time()</code>. If set to <code>None</code>, defaults to the current time.</p> <p>Outputs a string in the format <code>Wdy, DD Mon YYYY HH:MM:SS GMT</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.base36_to_int">
<code>base36_to_int(s)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#base36_to_int"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Converts a base 36 string to an integer. On Python 2 the output is guaranteed to be an <code>int</code> and not a <code>long</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.int_to_base36">
<code>int_to_base36(i)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#int_to_base36"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Converts a positive integer to a base 36 string. On Python 2 <code>i</code> must be smaller than <a class="reference external" href="https://docs.python.org/2/library/sys.html#sys.maxint">sys.maxint</a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.urlsafe_base64_encode">
<code>urlsafe_base64_encode(s)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#urlsafe_base64_encode"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Encodes a bytestring in base64 for use in URLs, stripping any trailing equal signs.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.http.urlsafe_base64_decode">
<code>urlsafe_base64_decode(s)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/http/#urlsafe_base64_decode"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Decodes a base64 encoded string, adding back any trailing equal signs that might have been stripped.</p> </dd>
</dl>   <h2 id="django-utils-module-loading"><code>django.utils.module_loading</code></h2> <p id="s-module-django.utils.module_loading">Functions for working with Python modules.</p> <dl class="function"> <dt id="django.utils.module_loading.import_string">
<code>import_string(dotted_path)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/module_loading/#import_string"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Imports a dotted module path and returns the attribute/class designated by the last name in the path. Raises <code>ImportError</code> if the import failed. For example:</p> <pre data-language="python">from django.utils.module_loading import import_string
ValidationError = import_string('django.core.exceptions.ValidationError')
</pre> <p>is equivalent to:</p> <pre data-language="python">from django.core.exceptions import ValidationError
</pre> </dd>
</dl>   <h2 id="django-utils-safestring"><code>django.utils.safestring</code></h2> <p id="s-module-django.utils.safestring">Functions and classes for working with “safe strings”: strings that can be displayed safely without further escaping in HTML. Marking something as a “safe string” means that the producer of the string has already turned characters that should not be interpreted by the HTML engine (e.g. ‘&lt;’) into the appropriate entities.</p> <dl class="class"> <dt id="django.utils.safestring.SafeBytes">
<code>class SafeBytes</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/safestring/#SafeBytes"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A <code>bytes</code> subclass that has been specifically marked as “safe” (requires no further escaping) for HTML output purposes.</p> </dd>
</dl> <dl class="class"> <dt id="django.utils.safestring.SafeString">
<code>class SafeString</code> </dt> <dd>
<p>A <code>str</code> subclass that has been specifically marked as “safe” (requires no further escaping) for HTML output purposes. This is <a class="reference internal" href="#django.utils.safestring.SafeBytes" title="django.utils.safestring.SafeBytes"><code>SafeBytes</code></a> on Python 2 and <a class="reference internal" href="#django.utils.safestring.SafeText" title="django.utils.safestring.SafeText"><code>SafeText</code></a> on Python 3.</p> </dd>
</dl> <dl class="class"> <dt id="django.utils.safestring.SafeText">
<code>class SafeText</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/safestring/#SafeText"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A <code>str</code> (in Python 3) or <code>unicode</code> (in Python 2) subclass that has been specifically marked as “safe” for HTML output purposes.</p> </dd>
</dl> <dl class="class"> <dt id="django.utils.safestring.SafeUnicode">
<code>class SafeUnicode</code> </dt> <dd>
<p>Historical name of <a class="reference internal" href="#django.utils.safestring.SafeText" title="django.utils.safestring.SafeText"><code>SafeText</code></a>. Only available under Python 2.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.safestring.mark_safe">
<code>mark_safe(s)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/safestring/#mark_safe"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Explicitly mark a string as safe for (HTML) output purposes. The returned object can be used everywhere a string or unicode object is appropriate.</p> <p>Can be called multiple times on a single string.</p> <p>Can also be used as a decorator.</p> <p>For building up fragments of HTML, you should normally be using <a class="reference internal" href="#django.utils.html.format_html" title="django.utils.html.format_html"><code>django.utils.html.format_html()</code></a> instead.</p> <p>String marked safe will become unsafe again if modified. For example:</p> <pre data-language="python">&gt;&gt;&gt; mystr = '&lt;b&gt;Hello World&lt;/b&gt;   '
&gt;&gt;&gt; mystr = mark_safe(mystr)
&gt;&gt;&gt; type(mystr)
&lt;class 'django.utils.safestring.SafeBytes'&gt;

&gt;&gt;&gt; mystr = mystr.strip()  # removing whitespace
&gt;&gt;&gt; type(mystr)
&lt;type 'str'&gt;
</pre> <div class="versionchanged"> <span class="title">Changed in Django 1.11:</span> <p>Added support for decorator usage.</p> </div> </dd>
</dl> <dl class="function"> <dt id="django.utils.safestring.mark_for_escaping">
<code>mark_for_escaping(s)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/safestring/#mark_for_escaping"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.10.</span></p> </div> <p>Explicitly mark a string as requiring HTML escaping upon output. Has no effect on <code>SafeData</code> subclasses.</p> <p>Can be called multiple times on a single string (the resulting escaping is only applied once).</p> </dd>
</dl>   <h2 id="django-utils-text"><code>django.utils.text</code></h2> <dl class="function" id="s-module-django.utils.text"> <dt id="django.utils.text.format_lazy">
<code>format_lazy(format_string, *args, **kwargs)</code> </dt> <dd>
<div class="versionadded"> <span class="title">New in Django 1.11.</span> </div> <p>A version of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.8)"><code>str.format()</code></a> for when <code>format_string</code>, <code>args</code>, and/or <code>kwargs</code> contain lazy objects. The first argument is the string to be formatted. For example:</p> <pre data-language="python">from django.utils.text import format_lazy
from django.utils.translation import pgettext_lazy

urlpatterns = [
    url(format_lazy(r'{person}/(?P&lt;pk&gt;\d+)/$', person=pgettext_lazy('URL', 'person')),
        PersonDetailView.as_view()),
]
</pre> <p>This example allows translators to translate part of the URL. If “person” is translated to “persona”, the regular expression will match <code>persona/(?P&lt;pk&gt;\d+)/$</code>, e.g. <code>persona/5/</code>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.text.slugify">
<code>slugify(allow_unicode=False)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/text/#slugify"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Converts to ASCII if <code>allow_unicode</code> is <code>False</code> (default). Converts spaces to hyphens. Removes characters that aren’t alphanumerics, underscores, or hyphens. Converts to lowercase. Also strips leading and trailing whitespace.</p> <p>For example:</p> <pre data-language="python">slugify(value)
</pre> <p>If <code>value</code> is <code>"Joel is a slug"</code>, the output will be <code>"joel-is-a-slug"</code>.</p> <p>You can set the <code>allow_unicode</code> parameter to <code>True</code>, if you want to allow Unicode characters:</p> <pre data-language="python">slugify(value, allow_unicode=True)
</pre> <p>If <code>value</code> is <code>"你好 World"</code>, the output will be <code>"你好-world"</code>.</p> </dd>
</dl>   <h2 id="time-zone-selection-functions"><code>django.utils.timezone</code></h2> <dl class="data" id="s-module-django.utils.timezone"> <dt id="django.utils.timezone.utc">
<code>utc</code> </dt> <dd>
<p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.8)"><code>tzinfo</code></a> instance that represents UTC.</p> </dd>
</dl> <dl class="class"> <dt id="django.utils.timezone.FixedOffset">
<code>class FixedOffset(offset=None, name=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#FixedOffset"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.8)"><code>tzinfo</code></a> subclass modeling a fixed offset from UTC. <code>offset</code> is an integer number of minutes east of UTC.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.get_fixed_timezone">
<code>get_fixed_timezone(offset)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#get_fixed_timezone"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.8)"><code>tzinfo</code></a> instance that represents a time zone with a fixed offset from UTC.</p> <p><code>offset</code> is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.8)"><code>datetime.timedelta</code></a> or an integer number of minutes. Use positive values for time zones east of UTC and negative values for west of UTC.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.get_default_timezone">
<code>get_default_timezone()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#get_default_timezone"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.8)"><code>tzinfo</code></a> instance that represents the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">default time zone</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.get_default_timezone_name">
<code>get_default_timezone_name()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#get_default_timezone_name"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the name of the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">default time zone</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.get_current_timezone">
<code>get_current_timezone()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#get_current_timezone"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.8)"><code>tzinfo</code></a> instance that represents the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.get_current_timezone_name">
<code>get_current_timezone_name()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#get_current_timezone_name"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the name of the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.activate">
<code>activate(timezone)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#activate"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Sets the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>. The <code>timezone</code> argument must be an instance of a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" title="(in Python v3.8)"><code>tzinfo</code></a> subclass or a time zone name.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.deactivate">
<code>deactivate()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#deactivate"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Unsets the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.override">
<code>override(timezone)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#override"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>This is a Python context manager that sets the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a> on entry with <a class="reference internal" href="#django.utils.timezone.activate" title="django.utils.timezone.activate"><code>activate()</code></a>, and restores the previously active time zone on exit. If the <code>timezone</code> argument is <code>None</code>, the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a> is unset on entry with <a class="reference internal" href="#django.utils.timezone.deactivate" title="django.utils.timezone.deactivate"><code>deactivate()</code></a> instead.</p> <p><code>override</code> is also usable as a function decorator.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.localtime">
<code>localtime(value=None, timezone=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#localtime"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Converts an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a> to a different time zone, by default the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> <p>When <code>value</code> is omitted, it defaults to <a class="reference internal" href="#django.utils.timezone.now" title="django.utils.timezone.now"><code>now()</code></a>.</p> <p>This function doesn’t work on naive datetimes; use <a class="reference internal" href="#django.utils.timezone.make_aware" title="django.utils.timezone.make_aware"><code>make_aware()</code></a> instead.</p> <div class="versionchanged"> <span class="title">Changed in Django 1.11:</span> <p>In older versions, <code>value</code> is a required argument.</p> </div> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.localdate">
<code>localdate(value=None, timezone=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#localdate"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<div class="versionadded"> <span class="title">New in Django 1.11.</span> </div> <p>Uses <a class="reference internal" href="#django.utils.timezone.localtime" title="django.utils.timezone.localtime"><code>localtime()</code></a> to convert an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a> to a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime.date" title="(in Python v3.8)"><code>date()</code></a> in a different time zone, by default the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> <p>When <code>value</code> is omitted, it defaults to <a class="reference internal" href="#django.utils.timezone.now" title="django.utils.timezone.now"><code>now()</code></a>.</p> <p>This function doesn’t work on naive datetimes.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.now">
<code>now()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#now"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a> that represents the current point in time. Exactly what’s returned depends on the value of <a class="reference internal" href="settings#std:setting-USE_TZ"><code>USE_TZ</code></a>:</p> <ul class="simple"> <li>If <a class="reference internal" href="settings#std:setting-USE_TZ"><code>USE_TZ</code></a> is <code>False</code>, this will be a <a class="reference internal" href="../topics/i18n/timezones#naive-vs-aware-datetimes"><span class="std std-ref">naive</span></a> datetime (i.e. a datetime without an associated timezone) that represents the current time in the system’s local timezone.</li> <li>If <a class="reference internal" href="settings#std:setting-USE_TZ"><code>USE_TZ</code></a> is <code>True</code>, this will be an <a class="reference internal" href="../topics/i18n/timezones#naive-vs-aware-datetimes"><span class="std std-ref">aware</span></a> datetime representing the current time in UTC. Note that <a class="reference internal" href="#django.utils.timezone.now" title="django.utils.timezone.now"><code>now()</code></a> will always return times in UTC regardless of the value of <a class="reference internal" href="settings#std:setting-TIME_ZONE"><code>TIME_ZONE</code></a>; you can use <a class="reference internal" href="#django.utils.timezone.localtime" title="django.utils.timezone.localtime"><code>localtime()</code></a> to convert to a time in the current time zone.</li> </ul> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.is_aware">
<code>is_aware(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#is_aware"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns <code>True</code> if <code>value</code> is aware, <code>False</code> if it is naive. This function assumes that <code>value</code> is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.is_naive">
<code>is_naive(value)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#is_naive"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns <code>True</code> if <code>value</code> is naive, <code>False</code> if it is aware. This function assumes that <code>value</code> is a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.make_aware">
<code>make_aware(value, timezone=None, is_dst=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#make_aware"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a> that represents the same point in time as <code>value</code> in <code>timezone</code>, <code>value</code> being a naive <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a>. If <code>timezone</code> is set to <code>None</code>, it defaults to the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> <p>The <code>pytz.AmbiguousTimeError</code> exception is raised if you try to make <code>value</code> aware during a DST transition where the same time occurs twice (when reverting from DST). Setting <code>is_dst</code> to <code>True</code> or <code>False</code> will avoid the exception by choosing if the time is pre-transition or post-transition respectively.</p> <p>The <code>pytz.NonExistentTimeError</code> exception is raised if you try to make <code>value</code> aware during a DST transition such that the time never occurred (when entering into DST). Setting <code>is_dst</code> to <code>True</code> or <code>False</code> will avoid the exception by moving the hour backwards or forwards by 1 respectively. For example, <code>is_dst=True</code> would change a non-existent time of 2:30 to 1:30 and <code>is_dst=False</code> would change the time to 3:30.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.timezone.make_naive">
<code>make_naive(value, timezone=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/timezone/#make_naive"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns an naive <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a> that represents in <code>timezone</code> the same point in time as <code>value</code>, <code>value</code> being an aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code>datetime</code></a>. If <code>timezone</code> is set to <code>None</code>, it defaults to the <a class="reference internal" href="../topics/i18n/timezones#default-current-time-zone"><span class="std std-ref">current time zone</span></a>.</p> </dd>
</dl>   <h2 id="django-utils-translation"><code>django.utils.translation</code></h2> <p id="s-module-django.utils.translation">For a complete discussion on the usage of the following see the <a class="reference internal" href="../topics/i18n/translation"><span class="doc">translation documentation</span></a>.</p> <dl class="function"> <dt id="django.utils.translation.gettext">
<code>gettext(message)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#gettext"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Translates <code>message</code> and returns it in a UTF-8 bytestring</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.ugettext">
<code>ugettext(message)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#ugettext"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Translates <code>message</code> and returns it in a unicode string</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.pgettext">
<code>pgettext(context, message)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#pgettext"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Translates <code>message</code> given the <code>context</code> and returns it in a unicode string.</p> <p>For more information, see <a class="reference internal" href="../topics/i18n/translation#contextual-markers"><span class="std std-ref">Contextual markers</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.gettext_lazy">
<code>gettext_lazy(message)</code> </dt> 
</dl> <dl class="function"> <dt id="django.utils.translation.ugettext_lazy">
<code>ugettext_lazy(message)</code> </dt> 
</dl> <dl class="function"> <dt id="django.utils.translation.pgettext_lazy">
<code>pgettext_lazy(context, message)</code> </dt> <dd>
<p>Same as the non-lazy versions above, but using lazy execution.</p> <p>See <a class="reference internal" href="../topics/i18n/translation#lazy-translations"><span class="std std-ref">lazy translations documentation</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.gettext_noop">
<code>gettext_noop(message)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#gettext_noop"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="function"> <dt id="django.utils.translation.ugettext_noop">
<code>ugettext_noop(message)</code> </dt> <dd>
<p>Marks strings for translation but doesn’t translate them now. This can be used to store strings in global variables that should stay in the base language (because they might be used externally) and will be translated later.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.ngettext">
<code>ngettext(singular, plural, number)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#ngettext"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Translates <code>singular</code> and <code>plural</code> and returns the appropriate string based on <code>number</code> in a UTF-8 bytestring.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.ungettext">
<code>ungettext(singular, plural, number)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#ungettext"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Translates <code>singular</code> and <code>plural</code> and returns the appropriate string based on <code>number</code> in a unicode string.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.npgettext">
<code>npgettext(context, singular, plural, number)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#npgettext"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Translates <code>singular</code> and <code>plural</code> and returns the appropriate string based on <code>number</code> and the <code>context</code> in a unicode string.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.ngettext_lazy">
<code>ngettext_lazy(singular, plural, number)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#ngettext_lazy"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="function"> <dt id="django.utils.translation.ungettext_lazy">
<code>ungettext_lazy(singular, plural, number)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#ungettext_lazy"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="function"> <dt id="django.utils.translation.npgettext_lazy">
<code>npgettext_lazy(context, singular, plural, number)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#npgettext_lazy"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Same as the non-lazy versions above, but using lazy execution.</p> <p>See <a class="reference internal" href="../topics/i18n/translation#lazy-translations"><span class="std std-ref">lazy translations documentation</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.string_concat">
<code>string_concat(*strings)</code> </dt> <dd>
<div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.11: </span>Use <a class="reference internal" href="#django.utils.text.format_lazy" title="django.utils.text.format_lazy"><code>django.utils.text.format_lazy()</code></a> instead. <code>string_concat(*strings)</code> can be replaced by <code>format_lazy('{}' * len(strings), *strings)</code>.</p> </div> <p>Lazy variant of string concatenation, needed for translations that are constructed from multiple parts.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.activate">
<code>activate(language)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#activate"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Fetches the translation object for a given language and activates it as the current translation object for the current thread.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.deactivate">
<code>deactivate()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#deactivate"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Deactivates the currently active translation object so that further _ calls will resolve against the default translation object, again.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.deactivate_all">
<code>deactivate_all()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#deactivate_all"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Makes the active translation object a <code>NullTranslations()</code> instance. This is useful when we want delayed translations to appear as the original string for some reason.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.override">
<code>override(language, deactivate=False)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#override"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A Python context manager that uses <a class="reference internal" href="#django.utils.translation.activate" title="django.utils.translation.activate"><code>django.utils.translation.activate()</code></a> to fetch the translation object for a given language, activates it as the translation object for the current thread and reactivates the previous active language on exit. Optionally, it can simply deactivate the temporary translation on exit with <a class="reference internal" href="#django.utils.translation.deactivate" title="django.utils.translation.deactivate"><code>django.utils.translation.deactivate()</code></a> if the <code>deactivate</code> argument is <code>True</code>. If you pass <code>None</code> as the language argument, a <code>NullTranslations()</code> instance is activated within the context.</p> <p><code>override</code> is also usable as a function decorator.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.check_for_language">
<code>check_for_language(lang_code)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#check_for_language"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Checks whether there is a global language file for the given language code (e.g. ‘fr’, ‘pt_BR’). This is used to decide whether a user-provided language is available.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.get_language">
<code>get_language()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#get_language"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the currently selected language code. Returns <code>None</code> if translations are temporarily deactivated (by <a class="reference internal" href="#django.utils.translation.deactivate_all" title="django.utils.translation.deactivate_all"><code>deactivate_all()</code></a> or when <code>None</code> is passed to <a class="reference internal" href="#django.utils.translation.override" title="django.utils.translation.override"><code>override()</code></a>).</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.get_language_bidi">
<code>get_language_bidi()</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#get_language_bidi"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns selected language’s BiDi layout:</p> <ul class="simple"> <li>
<code>False</code> = left-to-right layout</li> <li>
<code>True</code> = right-to-left layout</li> </ul> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.get_language_from_request">
<code>get_language_from_request(request, check_path=False)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#get_language_from_request"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Analyzes the request to find what language the user wants the system to show. Only languages listed in settings.LANGUAGES are taken into account. If the user requests a sublanguage where we have a main language, we send out the main language.</p> <p>If <code>check_path</code> is <code>True</code>, the function first checks the requested URL for whether its path begins with a language code listed in the <a class="reference internal" href="settings#std:setting-LANGUAGES"><code>LANGUAGES</code></a> setting.</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.to_locale">
<code>to_locale(language)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#to_locale"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Turns a language name (en-us) into a locale name (en_US).</p> </dd>
</dl> <dl class="function"> <dt id="django.utils.translation.templatize">
<code>templatize(src)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.11/_modules/django/utils/translation/#templatize"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Turns a Django template into something that is understood by <code>xgettext</code>. It does so by translating the Django translation tags into standard <code>gettext</code> function invocations.</p> </dd>
</dl> <dl class="data"> <dt id="django.utils.translation.LANGUAGE_SESSION_KEY">
<code>LANGUAGE_SESSION_KEY</code> </dt> <dd>
<p>Session key under which the active language for the current session is stored.</p> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/1.11/ref/utils/" class="_attribution-link">https://docs.djangoproject.com/en/1.11/ref/utils/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
