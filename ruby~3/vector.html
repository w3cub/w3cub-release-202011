
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Vector - Ruby 3 - W3cubDocs</title>
  
  <meta name="description" content=" The Vector class represents a mathematical vector, which is useful in its own right, and also constitutes a row or column of a Matrix. ">
  <meta name="keywords" content="class, vector, ruby, ruby~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ruby~3/vector.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/ruby~3.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~3/" class="_nav-link" title="" style="margin-left:0;">Ruby 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-Vector" class="class"> class Vector </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="object">Object</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes">
<span class="include">ExceptionForMatrix</span>, <a class="include" href="enumerable">Enumerable</a>
</dd>
</dl> <section class="description"> <p>The <code>Vector</code> class represents a mathematical vector, which is useful in its own right, and also constitutes a row or column of a <a href="matrix"><code>Matrix</code></a>.</p> <h2 id="class-Vector-label-Method+Catalogue">
<a href="method"><code>Method</code></a> Catalogue</h2> <p>To create a Vector:</p> <ul>
<li> <p><a href="vector#method-c-5B-5D"><code>Vector.[](*array)</code></a></p> </li>
<li> <p><a href="vector#method-c-elements"><code>Vector.elements</code></a>(array, copy = true)</p> </li>
<li> <p><a href="vector#method-c-basis"><code>Vector.basis</code></a>(size: n, index: k)</p> </li>
<li> <p><a href="vector#method-c-zero"><code>Vector.zero(n)</code></a></p> </li>
</ul> <p>To access elements:</p> <ul><li> <p><a href="vector#method-i-5B-5D"><code>[](i)</code></a></p> </li></ul> <p>To set elements:</p> <ul><li> <p><a href="vector#method-i-5B-5D-3D"><code>[]=</code></a>(i, v)</p> </li></ul> <p>To enumerate the elements:</p> <ul>
<li> <p><a href="vector#method-i-each2"><code>each2(v)</code></a></p> </li>
<li> <p><a href="vector#method-i-collect2"><code>collect2(v)</code></a></p> </li>
</ul> <p>Properties of vectors:</p> <ul>
<li> <p><a href="vector#method-i-angle_with"><code>angle_with(v)</code></a></p> </li>
<li> <p><a href="vector#method-c-independent-3F"><code>Vector.independent?(*vs)</code></a></p> </li>
<li> <p><a href="vector#method-i-independent-3F"><code>independent?(*vs)</code></a></p> </li>
<li> <p><a href="vector#method-i-zero-3F"><code>zero?</code></a></p> </li>
</ul> <p><a href="vector"><code>Vector</code></a> arithmetic:</p> <ul>
<li> <p><a href="vector#method-i-2A"><code>*(x)</code></a> “is matrix or number”</p> </li>
<li> <p><a href="vector#method-i-2B"><code>+(v)</code></a></p> </li>
<li> <p><a href="vector#method-i-2D"><code>-(v)</code></a></p> </li>
<li> <p>#/(v)</p> </li>
<li> <p><a href="vector#method-i-2B-40"><code>+@</code></a></p> </li>
<li> <p><a href="vector#method-i-2D-40"><code>-@</code></a></p> </li>
</ul> <p><a href="vector"><code>Vector</code></a> functions:</p> <ul>
<li> <p><a href="vector#method-i-inner_product"><code>inner_product(v)</code></a>, <a href="vector#method-i-dot"><code>dot(v)</code></a></p> </li>
<li> <p><a href="vector#method-i-cross_product"><code>cross_product(v)</code></a>, <a href="vector#method-i-cross"><code>cross(v)</code></a></p> </li>
<li> <p><a href="vector#method-i-collect"><code>collect</code></a></p> </li>
<li> <p><a href="vector#method-i-collect-21"><code>collect!</code></a></p> </li>
<li> <p><a href="vector#method-i-magnitude"><code>magnitude</code></a></p> </li>
<li> <p><a href="vector#method-i-map"><code>map</code></a></p> </li>
<li> <p><a href="vector#method-i-map-21"><code>map!</code></a></p> </li>
<li> <p><a href="vector#method-i-map2"><code>map2(v)</code></a></p> </li>
<li> <p><a href="vector#method-i-norm"><code>norm</code></a></p> </li>
<li> <p><a href="vector#method-i-normalize"><code>normalize</code></a></p> </li>
<li> <p><a href="vector#method-i-r"><code>r</code></a></p> </li>
<li> <p><a href="vector#method-i-round"><code>round</code></a></p> </li>
<li> <p><a href="vector#method-i-size"><code>size</code></a></p> </li>
</ul> <p>Conversion to other data types:</p> <ul>
<li> <p><a href="vector#method-i-covector"><code>covector</code></a></p> </li>
<li> <p><a href="vector#method-i-to_a"><code>to_a</code></a></p> </li>
<li> <p><a href="vector#method-i-coerce"><code>coerce(other)</code></a></p> </li>
</ul> <p><a href="string"><code>String</code></a> representations:</p> <ul>
<li> <p><a href="vector#method-i-to_s"><code>to_s</code></a></p> </li>
<li> <p><a href="vector#method-i-inspect"><code>inspect</code></a></p> </li>
</ul> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-elements"> <span class="method-name">elements</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>INSTANCE CREATION</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-5B-5D"> <span class="method-name">[]</span><span class="method-args">(*array)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1952
def Vector.[](*array)
  new convert_to_array(array, false)
end</pre> </div> <p>Creates a <a href="vector"><code>Vector</code></a> from a list of elements.</p> <pre>Vector[7, 4, ...]</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-basis"> <span class="method-name">basis</span><span class="method-args">(size:, index:)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="basis-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1969
def Vector.basis(size:, index:)
  raise ArgumentError, "invalid size (#{size} for 1..)" if size &lt; 1
  raise ArgumentError, "invalid index (#{index} for 0...#{size})" unless 0 &lt;= index &amp;&amp; index &lt; size
  array = Array.new(size, 0)
  array[index] = 1
  new convert_to_array(array, false)
end</pre> </div> <p>Returns a standard basis <code>n</code>-vector, where k is the index.</p> <pre>Vector.basis(size:, index:) # =&gt; Vector[0, 1, 0]</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-elements"> <span class="method-name">elements</span><span class="method-args">(array, copy = true)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1960
def Vector.elements(array, copy = true)
  new convert_to_array(array, copy)
end</pre> </div> <p>Creates a vector from an <a href="array"><code>Array</code></a>. The optional second argument specifies whether the array itself or a copy is used internally.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-independent-3F"> <span class="method-name">independent?</span><span class="method-args">(*vs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="independent-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2116
def Vector.independent?(*vs)
  vs.each do |v|
    raise TypeError, "expected Vector, got #{v.class}" unless v.is_a?(Vector)
    raise ErrDimensionMismatch unless v.size == vs.first.size
  end
  return false if vs.count &gt; vs.first.size
  Matrix[*vs].rank.eql?(vs.count)
end</pre> </div> <p>Returns <code>true</code> iff all of vectors are linearly independent.</p> <pre class="ruby" data-language="ruby">Vector.independent?(Vector[1,0], Vector[0,1])
#  =&gt; true

Vector.independent?(Vector[1,2], Vector[2,4])
#  =&gt; false
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(array)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1991
def initialize(array)
  # No checking is done at this point.
  @elements = array
end</pre> </div> <p><a href="vector#method-c-new"><code>Vector.new</code></a> is private; use Vector[] or <a href="vector#method-c-elements"><code>Vector.elements</code></a> to create.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-zero"> <span class="method-name">zero</span><span class="method-args">(size)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="zero-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1982
def Vector.zero(size)
  raise ArgumentError, "invalid size (#{size} for 0..)" if size &lt; 0
  array = Array.new(size, 0)
  new convert_to_array(array, false)
end</pre> </div> <p>Return a zero vector.</p> <pre class="ruby" data-language="ruby">Vector.zero(3) # =&gt; Vector[0, 0, 0]
</pre>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-2A"> <span class="method-name">*</span><span class="method-args">(x)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2A-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2193
def *(x)
  case x
  when Numeric
    els = @elements.collect{|e| e * x}
    self.class.elements(els, false)
  when Matrix
    Matrix.column_vector(self) * x
  when Vector
    raise ErrOperationNotDefined, ["*", self.class, x.class]
  else
    apply_through_coercion(x, __method__)
  end
end</pre> </div> <p>Multiplies the vector by <code>x</code>, where <code>x</code> is a number or a matrix.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2B"> <span class="method-name">+</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2B-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2210
def +(v)
  case v
  when Vector
    raise ErrDimensionMismatch if size != v.size
    els = collect2(v) {|v1, v2|
      v1 + v2
    }
    self.class.elements(els, false)
  when Matrix
    Matrix.column_vector(self) + v
  else
    apply_through_coercion(v, __method__)
  end
end</pre> </div> <p><a href="vector"><code>Vector</code></a> addition.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2B-40"> <span class="method-name">+@</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2B-40-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2258
def +@
  self
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2D"> <span class="method-name">-</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2228
def -(v)
  case v
  when Vector
    raise ErrDimensionMismatch if size != v.size
    els = collect2(v) {|v1, v2|
      v1 - v2
    }
    self.class.elements(els, false)
  when Matrix
    Matrix.column_vector(self) - v
  else
    apply_through_coercion(v, __method__)
  end
end</pre> </div> <p><a href="vector"><code>Vector</code></a> subtraction.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2D-40"> <span class="method-name">-@</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2D-40-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2262
def -@
  collect {|e| -e }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2F"> <span class="method-name">/</span><span class="method-args">(x)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2246
def /(x)
  case x
  when Numeric
    els = @elements.collect{|e| e / x}
    self.class.elements(els, false)
  when Matrix, Vector
    raise ErrOperationNotDefined, ["/", self.class, x.class]
  else
    apply_through_coercion(x, __method__)
  end
end</pre> </div> <p><a href="vector"><code>Vector</code></a> division.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="3D-3D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2169
def ==(other)
  return false unless Vector === other
  @elements == other.elements
end</pre> </div> <p>Returns <code>true</code> iff the two vectors have the same elements in the same order.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-5B-5D"> <span class="method-callseq"> vector[range] </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> vector[integer] </span> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2005
def [](i)
  @elements[i]
end</pre> </div> <p>Returns element or elements of the vector.</p>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-element">element</a>, <a href="vector#method-i-component">component</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-5B-5D-3D"> <span class="method-callseq"> vector[range] = new_vector </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> vector[range] = row_matrix </span> </div> <div class="method-heading"> <span class="method-callseq"> vector[range] = new_element </span> </div> <div class="method-heading"> <span class="method-callseq"> vector[integer] = new_element </span> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-3D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2020
def []=(i, v)
  raise FrozenError, "can't modify frozen Vector" if frozen?
  if i.is_a?(Range)
    range = Matrix::CoercionHelper.check_range(i, size, :vector)
    set_range(range, v)
  else
    index = Matrix::CoercionHelper.check_int(i, size, :index)
    set_value(index, v)
  end
end</pre> </div> <p><a href="set"><code>Set</code></a> element or elements of vector.</p>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-set_element">set_element</a>, <a href="vector#method-i-set_component">set_component</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-angle_with"> <span class="method-name">angle_with</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="angle_with-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2378
def angle_with(v)
  raise TypeError, "Expected a Vector, got a #{v.class}" unless v.is_a?(Vector)
  raise ErrDimensionMismatch if size != v.size
  prod = magnitude * v.magnitude
  raise ZeroVectorError, "Can't get angle of zero vector" if prod == 0
  dot = inner_product(v)
  if dot.abs &gt;= prod
    dot.positive? ? 0 : Math::PI
  else
    Math.acos(dot / prod)
  end
end</pre> </div> <p>Returns an angle with another vector. Result is within the [0..Math::PI].</p> <pre class="ruby" data-language="ruby">Vector[1,0].angle_with(Vector[0,1])
# =&gt; Math::PI / 2
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-coerce"> <span class="method-name">coerce</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="coerce-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2438
def coerce(other)
  case other
  when Numeric
    return Matrix::Scalar.new(other), self
  else
    raise TypeError, "#{self.class} can't be coerced into #{other.class}"
  end
end</pre> </div> <p>The coerce method provides support for Ruby type coercion. This coercion mechanism is used by Ruby to handle mixed-type numeric operations: it is intended to find a compatible common type between the two operands of the operator. See also <a href="numeric#method-i-coerce"><code>Numeric#coerce</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-collect"> <span class="method-name">collect</span><span class="method-args">() { |e| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="collect-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2322
def collect(&amp;block) # :yield: e
  return to_enum(:collect) unless block_given?
  els = @elements.collect(&amp;block)
  self.class.elements(els, false)
end</pre> </div> <p>Like <a href="array#method-i-collect"><code>Array#collect</code></a>.</p>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-map">map</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-collect-21"> <span class="method-name">collect!</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="collect-21-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2332
def collect!(&amp;block)
  return to_enum(:collect!) unless block_given?
  raise FrozenError, "can't modify frozen Vector" if frozen?
  @elements.collect!(&amp;block)
  self
end</pre> </div> <p>Like <a href="array#method-i-collect-21"><code>Array#collect!</code></a></p>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-map-21">map!</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-collect2"> <span class="method-name">collect2</span><span class="method-args">(v) { |e1, e2| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="collect2-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2094
def collect2(v) # :yield: e1, e2
  raise TypeError, "Integer is not like Vector" if v.kind_of?(Integer)
  raise ErrDimensionMismatch if size != v.size
  return to_enum(:collect2, v) unless block_given?
  Array.new(size) do |i|
    yield @elements[i], v[i]
  end
end</pre> </div> <p>Collects (as in <a href="enumerable#method-i-collect"><code>Enumerable#collect</code></a>) over the elements of this vector and <code>v</code> in conjunction.</p>  </div> </div> <div id="method-i-component" class="method-detail method-alias">  <div class="aliases"> Alias for: <a href="vector#method-i-5B-5D">[]</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-covector"> <span class="method-name">covector</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="covector-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2398
def covector
  Matrix.row_vector(self)
end</pre> </div> <p>Creates a single-row matrix from this vector.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-cross"> <span class="method-name">cross</span><span class="method-args">(*vs)</span> </div>  <div class="aliases"> Alias for: <a href="vector#method-i-cross_product">cross_product</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cross_product"> <span class="method-name">cross_product</span><span class="method-args">(*vs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cross_product-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2297
def cross_product(*vs)
  raise ErrOperationNotDefined, "cross product is not defined on vectors of dimension #{size}" unless size &gt;= 2
  raise ArgumentError, "wrong number of arguments (#{vs.size} for #{size - 2})" unless vs.size == size - 2
  vs.each do |v|
    raise TypeError, "expected Vector, got #{v.class}" unless v.is_a? Vector
    raise ErrDimensionMismatch unless v.size == size
  end
  case size
  when 2
    Vector[-@elements[1], @elements[0]]
  when 3
    v = vs[0]
    Vector[ v[2]*@elements[1] - v[1]*@elements[2],
      v[0]*@elements[2] - v[2]*@elements[0],
      v[1]*@elements[0] - v[0]*@elements[1] ]
  else
    rows = self, *vs, Array.new(size) {|i| Vector.basis(size: size, index: i) }
    Matrix.rows(rows).laplace_expansion(row: size - 1)
  end
end</pre> </div> <p>Returns the cross product of this vector with the others.</p> <pre class="ruby" data-language="ruby">Vector[1, 0, 0].cross_product Vector[0, 1, 0]  # =&gt; Vector[0, 0, 1]
</pre> <p>It is generalized to other dimensions to return a vector perpendicular to the arguments.</p> <pre class="ruby" data-language="ruby">Vector[1, 2].cross_product # =&gt; Vector[-2, 1]
Vector[1, 0, 0, 0].cross_product(
   Vector[0, 1, 0, 0],
   Vector[0, 0, 1, 0]
)  #=&gt; Vector[0, 0, 0, 1]
</pre>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-cross">cross</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-dot"> <span class="method-name">dot</span><span class="method-args">(v)</span> </div>  <div class="aliases"> Alias for: <a href="vector#method-i-inner_product">inner_product</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each"> <span class="method-name">each</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2071
def each(&amp;block)
  return to_enum(:each) unless block_given?
  @elements.each(&amp;block)
  self
end</pre> </div> <p>Iterate over the elements of this vector</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each2"> <span class="method-name">each2</span><span class="method-args">(v) { |e1, e2| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each2-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2080
def each2(v) # :yield: e1, e2
  raise TypeError, "Integer is not like Vector" if v.kind_of?(Integer)
  raise ErrDimensionMismatch if size != v.size
  return to_enum(:each2, v) unless block_given?
  size.times do |i|
    yield @elements[i], v[i]
  end
  self
end</pre> </div> <p>Iterate over the elements of this vector and <code>v</code> in conjunction.</p>  </div> </div> <div id="method-i-element" class="method-detail method-alias">  <div class="aliases"> Alias for: <a href="vector#method-i-5B-5D">[]</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-elements_to_f"> <span class="method-name">elements_to_f</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements_to_f-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2416
def elements_to_f
  warn "Vector#elements_to_f is deprecated", uplevel: 1
  map(&amp;:to_f)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-elements_to_i"> <span class="method-name">elements_to_i</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements_to_i-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2421
def elements_to_i
  warn "Vector#elements_to_i is deprecated", uplevel: 1
  map(&amp;:to_i)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-elements_to_r"> <span class="method-name">elements_to_r</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements_to_r-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2426
def elements_to_r
  warn "Vector#elements_to_r is deprecated", uplevel: 1
  map(&amp;:to_r)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-eql-3F"> <span class="method-name">eql?</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="eql-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2174
def eql?(other)
  return false unless Vector === other
  @elements.eql? other.elements
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-freeze"> <span class="method-name">freeze</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="freeze-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2148
def freeze
  @elements.freeze
  super
end</pre> </div> <p>Makes the matrix frozen and Ractor-shareable</p> <div class="method-calls-super"> Calls superclass method <a href="object#method-i-freeze"><code>Object#freeze</code></a> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-hash"> <span class="method-name">hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="hash-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2182
def hash
  @elements.hash
end</pre> </div> <p>Returns a hash-code for the vector.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-independent-3F"> <span class="method-name">independent?</span><span class="method-args">(*vs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="independent-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2134
def independent?(*vs)
  self.class.independent?(self, *vs)
end</pre> </div> <p>Returns <code>true</code> iff all of vectors are linearly independent.</p> <pre class="ruby" data-language="ruby">Vector[1,0].independent?(Vector[0,1])
# =&gt; true

Vector[1,2].independent?(Vector[2,4])
# =&gt; false
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inner_product"> <span class="method-name">inner_product</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inner_product-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2274
def inner_product(v)
  raise ErrDimensionMismatch if size != v.size

  p = 0
  each2(v) {|v1, v2|
    p += v1 * v2.conj
  }
  p
end</pre> </div> <p>Returns the inner product of this vector with the other.</p> <pre class="ruby" data-language="ruby">Vector[4,7].inner_product Vector[10,1] # =&gt; 47
</pre>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-dot">dot</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2461
def inspect
  "Vector" + @elements.inspect
end</pre> </div> <p>Overrides <a href="object#method-i-inspect"><code>Object#inspect</code></a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-magnitude"> <span class="method-name">magnitude</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="magnitude-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2344
def magnitude
  Math.sqrt(@elements.inject(0) {|v, e| v + e.abs2})
end</pre> </div> <p>Returns the modulus (Pythagorean distance) of the vector.</p> <pre class="ruby" data-language="ruby">Vector[5,8,2].r # =&gt; 9.643650761
</pre>  </div> <div class="aliases"> Also aliased as: <a href="vector#method-i-r">r</a>, <a href="vector#method-i-norm">norm</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-map"> <span class="method-name">map</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="vector#method-i-collect">collect</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-map-21"> <span class="method-name">map!</span><span class="method-args">(&amp;block)</span> </div>  <div class="aliases"> Alias for: <a href="vector#method-i-collect-21">collect!</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-map2"> <span class="method-name">map2</span><span class="method-args">(v) { |e1, e2| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="map2-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2353
def map2(v, &amp;block) # :yield: e1, e2
  return to_enum(:map2, v) unless block_given?
  els = collect2(v, &amp;block)
  self.class.elements(els, false)
end</pre> </div> <p>Like <a href="vector#method-i-collect2"><code>Vector#collect2</code></a>, but returns a <a href="vector"><code>Vector</code></a> instead of an <a href="array"><code>Array</code></a>.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-norm"> <span class="method-name">norm</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="vector#method-i-magnitude">magnitude</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-normalize"> <span class="method-name">normalize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="normalize-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2367
def normalize
  n = magnitude
  raise ZeroVectorError, "Zero vectors can not be normalized" if n == 0
  self / n
end</pre> </div> <p>Returns a new vector with the same direction but with norm 1.</p> <pre class="ruby" data-language="ruby">v = Vector[5,8,2].normalize
# =&gt; Vector[0.5184758473652127, 0.8295613557843402, 0.20739033894608505]
v.norm # =&gt; 1.0
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-r"> <span class="method-name">r</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="vector#method-i-magnitude">magnitude</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-round"> <span class="method-name">round</span><span class="method-args">(ndigits=0)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="round-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2053
def round(ndigits=0)
  map{|e| e.round(ndigits)}
end</pre> </div> <p>Returns a vector with entries rounded to the given precision (see <a href="float#method-i-round"><code>Float#round</code></a>)</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-size"> <span class="method-name">size</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="size-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2060
def size
  @elements.size
end</pre> </div> <p>Returns the number of elements in the vector.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_a"> <span class="method-name">to_a</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_a-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2405
def to_a
  @elements.dup
end</pre> </div> <p>Returns the elements of the vector in an array.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_matrix"> <span class="method-name">to_matrix</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_matrix-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2412
def to_matrix
  Matrix.column_vector(self)
end</pre> </div> <p>Return a single-column matrix from this vector</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_s"> <span class="method-name">to_s</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_s-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2454
def to_s
  "Vector[" + @elements.join(", ") + "]"
end</pre> </div> <p>Overrides <a href="object#method-i-to_s"><code>Object#to_s</code></a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-zero-3F"> <span class="method-name">zero?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="zero-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2141
def zero?
  all?(&amp;:zero?)
end</pre> </div> <p>Returns <code>true</code> iff all elements are zero.</p>  </div> </div> </section> <section id="private-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Private Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-initialize_copy"> <span class="method-name">initialize_copy</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="initialize_copy-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2156
        def initialize_copy(v)
  super
  @elements = @elements.dup unless frozen?
end</pre> </div> <p>Called for dup &amp; clone.</p> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div id="method-i-set_component" class="method-detail method-alias">  <div class="aliases"> Alias for: <a href="vector#method-i-5B-5D-3D">[]=</a> </div> </div> <div id="method-i-set_element" class="method-detail method-alias">  <div class="aliases"> Alias for: <a href="vector#method-i-5B-5D-3D">[]=</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-set_range"> <span class="method-name">set_range</span><span class="method-args">(range, value)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="set_range-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2038
        def set_range(range, value)
  if value.is_a?(Vector)
    raise ArgumentError, "vector to be set has wrong size" unless range.size == value.size
    @elements[range] = value.elements
  elsif value.is_a?(Matrix)
    raise ErrDimensionMismatch unless value.row_count == 1
    @elements[range] = value.row(0).elements
  else
    @elements[range] = Array.new(range.size, value)
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-set_value"> <span class="method-name">set_value</span><span class="method-args">(index, value)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="set_value-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2034
        def set_value(index, value)
  @elements[index] = value
end</pre> </div>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2020 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
