
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Image-method - R - W3cubDocs</title>
  
  <meta name="description" content="Methods for function image in package Matrix. An image of a matrix simply color codes all matrix entries and draws the n x m matrix using an n x m &hellip;">
  <meta name="keywords" content="image-method, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/matrix/html/image-methods.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>image-methods</code> Methods for image() in Package 'Matrix'</h2> <h3>Description</h3> <p>Methods for function <code><a href="../../graphics/html/image">image</a></code> in package <span class="pkg">Matrix</span>. An image of a matrix simply color codes all matrix entries and draws the <i>n x m</i> matrix using an <i>n x m</i> grid of (colored) rectangles. </p> <p>The <span class="pkg">Matrix</span> package <code>image</code> methods are based on <code><a href="../../lattice/html/levelplot">levelplot</a>()</code> from package <span class="pkg">lattice</span>; hence these methods return an “object” of class <code>"trellis"</code>, producing a graphic when (auto-) <code><a href="../../base/html/print">print</a>()</code>ed. </p> <h3>Usage</h3> <pre data-language="r">
## S4 method for signature 'dgTMatrix'
image(x,
      xlim = c(1, di[2]),
      ylim = c(di[1], 1), aspect = "iso",
      sub = sprintf("Dimensions: %d x %d", di[1], di[2]),
      xlab = "Column", ylab = "Row", cuts = 15,
      useRaster = FALSE,
      useAbs = NULL, colorkey = !useAbs,
      col.regions = NULL,
      lwd = NULL, border.col = NULL, ...)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>x</code></td> <td> <p>a Matrix object, i.e., fulfilling <code><a href="../../methods/html/is">is</a>(x, "Matrix")</code>.</p> </td>
</tr> <tr valign="top">
<td><code>xlim, ylim</code></td> <td> <p>x- and y-axis limits; may be used to “zoom into” matrix. Note that <i>x,y</i> “feel reversed”: <code>ylim</code> is for the rows (= 1st index) and <code>xlim</code> for the columns (= 2nd index). For convenience, when the limits are integer valued, they are both extended by <code>0.5</code>; also, <code>ylim</code> is always used decreasingly.</p> </td>
</tr> <tr valign="top">
<td><code>aspect</code></td> <td> <p>aspect ratio specified as number (y/x) or string; see <code><a href="../../lattice/html/levelplot">levelplot</a></code>.</p> </td>
</tr> <tr valign="top">
<td><code>sub, xlab, ylab</code></td> <td> <p>axis annotation with sensible defaults; see <code><a href="../../graphics/html/plot.default">plot.default</a></code>.</p> </td>
</tr> <tr valign="top">
<td><code>cuts</code></td> <td> <p>number of levels the range of matrix values would be divided into.</p> </td>
</tr> <tr valign="top">
<td><code>useRaster</code></td> <td> <p>logical indicating if raster graphics should be used (instead of the tradition rectangle vector drawing). If true, <code><a href="../../lattice/html/panel.levelplot">panel.levelplot.raster</a></code> (from <span class="pkg">lattice</span> package) is used, and the colorkey is also done via rasters, see also <code><a href="../../lattice/html/levelplot">levelplot</a></code> and possibly <code><a href="../../grid/html/grid.raster">grid.raster</a></code>. </p> <p>Note that using raster graphics may often be faster, but can be slower, depending on the matrix dimensions and the graphics device (dimensions).</p> </td>
</tr> <tr valign="top">
<td><code>useAbs</code></td> <td> <p>logical indicating if <code><a href="../../base/html/mathfun">abs</a>(x)</code> should be shown; if <code>TRUE</code>, the former (implicit) default, the default <code>col.regions</code> will be <code><a href="../../grdevices/html/gray">grey</a></code> colors (and no <code>colorkey</code> drawn). The default is <code>FALSE</code> unless the matrix has no negative entries.</p> </td>
</tr> <tr valign="top">
<td><code>colorkey</code></td> <td> <p>logical indicating if a color key aka ‘legend’ should be produced. Default is to draw one, unless <code>useAbs</code> is true. You can also specify a <code><a href="../../base/html/list">list</a></code>, see <code><a href="../../lattice/html/levelplot">levelplot</a></code>, such as<code>list(raster=TRUE)</code> in the case of rastering.</p> </td>
</tr> <tr valign="top">
<td><code>col.regions</code></td> <td> <p>vector of gradually varying colors; see <code><a href="../../lattice/html/levelplot">levelplot</a></code>.</p> </td>
</tr> <tr valign="top">
<td><code>lwd</code></td> <td> <p>(only used when <code>useRaster</code> is false:) non-negative number or <code>NULL</code> (default), specifying the line-width of the rectangles of each non-zero matrix entry (drawn by <code><a href="../../grid/html/grid.rect">grid.rect</a></code>). The default depends on the matrix dimension and the device size.</p> </td>
</tr> <tr valign="top">
<td><code>border.col</code></td> <td> <p>color for the border of each rectangle. <code>NA</code> means no border is drawn. When <code>NULL</code> as by default, <code>border.col &lt;- if(lwd &lt; .01) NA else NULL</code> is used. Consider using an opaque color instead of <code>NULL</code> which corresponds to <code>grid::<a href="../../grid/html/gpar">get.gpar</a>("col")</code>.</p> </td>
</tr> <tr valign="top">
<td><code>...</code></td> <td> <p>further arguments passed to methods and <code><a href="../../lattice/html/levelplot">levelplot</a></code>, notably <code>at</code> for specifying (possibly non equidistant) cut values for dividing the matrix values (superseding <code>cuts</code> above).</p> </td>
</tr>
</table> <h3>Value</h3> <p>as all <span class="pkg">lattice</span> graphics functions, <code>image(&lt;Matrix&gt;)</code> returns a <code>"trellis"</code> object, effectively the result of <code><a href="../../lattice/html/levelplot">levelplot</a>()</code>. </p> <h3>Methods</h3> <p>All methods currently end up calling the method for the <code><a href="dgtmatrix-class">dgTMatrix</a></code> class. Use <code>showMethods(image)</code> to list them all. </p> <h3>See Also</h3> <p><code><a href="../../lattice/html/levelplot">levelplot</a></code>, and <code><a href="../../lattice/html/print.trellis">print.trellis</a></code> from package <span class="pkg">lattice</span>. </p> <h3>Examples</h3> <pre data-language="r">
showMethods(image)
## If you want to see all the methods' implementations:
showMethods(image, incl=TRUE, inherit=FALSE)

data(CAex)
image(CAex, main = "image(CAex)")
image(CAex, useAbs=TRUE, main = "image(CAex, useAbs=TRUE)")

cCA &lt;- Cholesky(crossprod(CAex), Imult = .01)
## See  ?print.trellis --- place two image() plots side by side:
print(image(cCA, main="Cholesky(crossprod(CAex), Imult = .01)"),
      split=c(x=1,y=1,nx=2, ny=1), more=TRUE)
print(image(cCA, useAbs=TRUE),
      split=c(x=2,y=1,nx=2,ny=1))

data(USCounties)
image(USCounties)# huge
image(sign(USCounties))## just the pattern
    # how the result looks, may depend heavily on
    # the device, screen resolution, antialiasing etc
    # e.g. x11(type="Xlib") may show very differently than cairo-based

## Drawing borders around each rectangle;
    # again, viewing depends very much on the device:
image(USCounties[1:400,1:200], lwd=.1)
## Using (xlim,ylim) has advantage : matrix dimension and (col/row) indices:
image(USCounties, c(1,200), c(1,400), lwd=.1)
image(USCounties, c(1,300), c(1,200), lwd=.5 )
image(USCounties, c(1,300), c(1,200), lwd=.01)
## These 3 are all equivalent :
(I1 &lt;- image(USCounties, c(1,100), c(1,100), useAbs=FALSE))
 I2 &lt;- image(USCounties, c(1,100), c(1,100), useAbs=FALSE,        border.col=NA)
 I3 &lt;- image(USCounties, c(1,100), c(1,100), useAbs=FALSE, lwd=2, border.col=NA)
stopifnot(all.equal(I1, I2, check.environment=FALSE),
          all.equal(I2, I3, check.environment=FALSE))
## using an opaque border color
image(USCounties, c(1,100), c(1,100), useAbs=FALSE, lwd=3, border.col = adjustcolor("skyblue", 1/2))

if(doExtras &lt;- interactive() || nzchar(Sys.getenv("R_MATRIX_CHECK_EXTRA")) ||
    identical("true", unname(Sys.getenv("R_PKG_CHECKING_doExtras")))) {
## Using raster graphics: For PDF this would give a 77 MB file,
## however, for such a large matrix, this is typically considerably
## *slower* (than vector graphics rectangles) in most cases :
if(doPNG &lt;- !dev.interactive())
   png("image-USCounties-raster.png", width=3200, height=3200)
image(USCounties, useRaster = TRUE) # should not suffer from anti-aliasing
if(doPNG)
   dev.off()
   ## and now look at the *.png image in a viewer you can easily zoom in and out
}#only if(doExtras)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
