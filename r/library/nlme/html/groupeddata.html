
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Construct a groupedData Object - R - W3cubDocs</title>
  
  <meta name="description" content="An object of the groupedData class is constructed from the formula and data by attaching the formula as an attribute of the data, along with any of &hellip;">
  <meta name="keywords" content="construct, groupeddata, object, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/nlme/html/groupeddata.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>groupedData</code> Construct a groupedData Object</h2> <h3>Description</h3> <p>An object of the <code>groupedData</code> class is constructed from the <code>formula</code> and <code>data</code> by attaching the <code>formula</code> as an attribute of the data, along with any of <code>outer</code>, <code>inner</code>, <code>labels</code>, and <code>units</code> that are given. If <code>order.groups</code> is <code>TRUE</code> the grouping factor is converted to an ordered factor with the ordering determined by <code>FUN</code>. Depending on the number of grouping levels and the type of primary covariate, the returned object will be of one of three classes: <code>nfnGroupedData</code> - numeric covariate, single level of nesting; <code>nffGroupedData</code> - factor covariate, single level of nesting; and <code>nmGroupedData</code> - multiple levels of nesting. Several modeling and plotting functions can use the formula stored with a <code>groupedData</code> object to construct default plots and models. </p> <h3>Usage</h3> <pre data-language="r">
groupedData(formula, data, order.groups, FUN, outer, inner,
            labels, units)
## S3 method for class 'groupedData'
update(object, formula, data, order.groups, FUN,
       outer, inner, labels, units, ...)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>object</code></td> <td> <p>an object inheriting from class <code>groupedData</code>.</p> </td>
</tr> <tr valign="top">
<td><code>formula</code></td> <td> <p>a formula of the form <code>resp ~ cov | group</code> where <code>resp</code> is the response, <code>cov</code> is the primary covariate, and <code>group</code> is the grouping factor. The expression <code>1</code> can be used for the primary covariate when there is no other suitable candidate. Multiple nested grouping factors can be listed separated by the <code>/</code> symbol as in <code>fact1/fact2</code>. In an expression like this the <code>fact2</code> factor is nested within the <code>fact1</code> factor.</p> </td>
</tr> <tr valign="top">
<td><code>data</code></td> <td> <p>a data frame in which the expressions in <code>formula</code> can be evaluated. The resulting <code>groupedData</code> object will consist of the same data values in the same order but with additional attributes.</p> </td>
</tr> <tr valign="top">
<td><code>order.groups</code></td> <td> <p>an optional logical value, or list of logical values, indicating if the grouping factors should be converted to ordered factors according to the function <code>FUN</code> applied to the response from each group. If multiple levels of grouping are present, this argument can be either a single logical value (which will be repeated for all grouping levels) or a list of logical values. If no names are assigned to the list elements, they are assumed in the same order as the group levels (outermost to innermost grouping). Ordering within a level of grouping is done within the levels of the grouping factors which are outer to it. Changing the grouping factor to an ordered factor does not affect the ordering of the rows in the data frame but it does affect the order of the panels in a trellis display of the data or models fitted to the data. Defaults to <code>TRUE</code>.</p> </td>
</tr> <tr valign="top">
<td><code>FUN</code></td> <td> <p>an optional summary function that will be applied to the values of the response for each level of the grouping factor, when <code>order.groups = TRUE</code>, to determine the ordering. Defaults to the <code>max</code> function.</p> </td>
</tr> <tr valign="top">
<td><code>outer</code></td> <td> <p>an optional one-sided formula, or list of one-sided formulas, indicating covariates that are outer to the grouping factor(s). If multiple levels of grouping are present, this argument can be either a single one-sided formula, or a list of one-sided formulas. If no names are assigned to the list elements, they are assumed in the same order as the group levels (outermost to innermost grouping). An outer covariate is invariant within the sets of rows defined by the grouping factor. Ordering of the groups is done in such a way as to preserve adjacency of groups with the same value of the outer variables. When plotting a groupedData object, the argument <code>outer = TRUE</code> causes the panels to be determined by the <code>outer</code> formula. The points within the panels are associated by level of the grouping factor. Defaults to <code>NULL</code>, meaning that no outer covariates are present.</p> </td>
</tr> <tr valign="top">
<td><code>inner</code></td> <td> <p>an optional one-sided formula, or list of one-sided formulas, indicating covariates that are inner to the grouping factor(s). If multiple levels of grouping are present, this argument can be either a single one-sided formula, or a list of one-sided formulas. If no names are assigned to the list elements, they are assumed in the same order as the group levels (outermost to innermost grouping). An inner covariate can change within the sets of rows defined by the grouping factor. An inner formula can be used to associate points in a plot of a groupedData object. Defaults to <code>NULL</code>, meaning that no inner covariates are present.</p> </td>
</tr> <tr valign="top">
<td><code>labels</code></td> <td> <p>an optional list of character strings giving labels for the response and the primary covariate. The label for the primary covariate is named <code>x</code> and that for the response is named <code>y</code>. Either label can be omitted.</p> </td>
</tr> <tr valign="top">
<td><code>units</code></td> <td> <p>an optional list of character strings giving the units for the response and the primary covariate. The units string for the primary covariate is named <code>x</code> and that for the response is named <code>y</code>. Either units string can be omitted.</p> </td>
</tr> <tr valign="top">
<td><code>...</code></td> <td> <p>some methods for this generic require additional arguments. None are used in this method.</p> </td>
</tr> </table> <h3>Value</h3> <p>an object of one of the classes <code>nfnGroupedData</code>, <code>nffGroupedData</code>, or <code>nmGroupedData</code>, and also inheriting from classes <code>groupedData</code> and <code>data.frame</code>. </p> <h3>Author(s)</h3> <p>Douglas Bates and José Pinheiro</p> <h3>References</h3> <p>Bates, D.M. and Pinheiro, J.C. (1997), "Software Design for Longitudinal Data", in "Modelling Longitudinal and Spatially Correlated Data: Methods, Applications and Future Directions", T.G. Gregoire (ed.), Springer-Verlag, New York. </p> <p>Pinheiro, J.C. and Bates, D.M. (1997) "Future Directions in Mixed-Effects Software: Design of NLME 3.0" available at http://nlme.stat.wisc.edu/ </p> <p>Pinheiro, J.C., and Bates, D.M. (2000) "Mixed-Effects Models in S and S-PLUS", Springer. </p> <h3>See Also</h3> <p><code><a href="../../stats/html/formula">formula</a></code>, <code><a href="gapply">gapply</a></code>, <code><a href="gsummary">gsummary</a></code>, <code><a href="lme">lme</a></code>, <code><a href="plot.nffgroupeddata">plot.nffGroupedData</a></code>, <code><a href="plot.nfngroupeddata">plot.nfnGroupedData</a></code>, <code><a href="plot.nmgroupeddata">plot.nmGroupedData</a></code>, <code><a href="restruct">reStruct</a></code> </p> <h3>Examples</h3> <pre data-language="r">

Orth.new &lt;-  # create a new copy of the groupedData object
  groupedData( distance ~ age | Subject,
              data = as.data.frame( Orthodont ),
              FUN = mean,
              outer = ~ Sex,
              labels = list( x = "Age",
                y = "Distance from pituitary to pterygomaxillary fissure" ),
              units = list( x = "(yr)", y = "(mm)") )
plot( Orth.new )         # trellis plot by Subject
formula( Orth.new )      # extractor for the formula
gsummary( Orth.new )     # apply summary by Subject
fm1 &lt;- lme( Orth.new )   # fixed and groups formulae extracted from object
Orthodont2 &lt;- update(Orthodont, FUN = mean)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
