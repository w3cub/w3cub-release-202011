
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Compile - Erlang 21 - W3cubDocs</title>
  
  <meta name="description" content=" compile ">
  <meta name="keywords" content="compile, erlang, erlang~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/erlang~21/lib/compiler-7.2/doc/html/compile.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/erlang~21.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~21/" class="_nav-link" title="" style="margin-left:0;">Erlang 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _erlang">
				
				
<h1>compile</h1> <h2><span onmouseover="document.getElementById('ghlink-module-id61496').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-id61496').style.visibility = 'hidden';" id="module">Module</span></h2> <p class="REFBODY module-body">compile</p> <h2><span onmouseover="document.getElementById('ghlink-module-summary-id61499').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-id61499').style.visibility = 'hidden';" id="module-summary">Module Summary</span></h2> <p class="REFBODY module-summary-body">Erlang Compiler</p> <h2><span onmouseover="document.getElementById('ghlink-description-id61503').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-id61503').style.visibility = 'hidden';" id="description">Description</span></h2> 
<p>This module provides an interface to the standard Erlang compiler. It can generate either a new file, which contains the object code, or return a binary, which can be loaded directly. </p>  <h2><span onmouseover="document.getElementById('ghlink-exports-id59347').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-id59347').style.visibility = 'hidden';" id="exports">Exports</span></h2> <div class="exports-body"> 
<div><span onmouseover="document.getElementById('ghlink-env_compiler_options-0-id59353').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-env_compiler_options-0-id59353').style.visibility = 'hidden';" id="env_compiler_options-0">env_compiler_options()</span></div> 
<p>Return compiler options given via the environment variable <code class="code">ERL_COMPILER_OPTIONS</code>. If the value is a list, it is returned as is. If it is not a list, it is put into a list. </p>  
<div><span onmouseover="document.getElementById('ghlink-file-1-id61381').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-1-id61381').style.visibility = 'hidden';" id="file-1">file(File)</span></div> 
<p>Is the same as <code class="code">file(File, [verbose,report_errors,report_warnings])</code>. </p>  
<div><span onmouseover="document.getElementById('ghlink-file-2-id63410').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-file-2-id63410').style.visibility = 'hidden';" id="file-2">file(File, Options) -&gt; CompRet</span></div>  <h2 class="func-types-title">Types</h2>      
<p>Compiles the code in the file <code class="code">File</code>, which is an Erlang source code file without the <code class="code">.erl</code> extension. <code class="code">Options</code> determine the behavior of the compiler.</p> <p>Returns <code class="code">{ok,ModuleName}</code> if successful, or <code class="code">error</code> if there are errors. An object code file is created if the compilation succeeds without errors. It is considered to be an error if the module name in the source code is not the same as the basename of the output file.</p> <p id="type-option">Available options:</p> <dl> <dt><strong><code class="code">basic_validation</code></strong></dt> <dd> <p>This option is a fast way to test whether a module will compile successfully. This is useful for code generators that want to verify the code that they emit. No code is generated. If warnings are enabled, warnings generated by the <code class="code">erl_lint</code> module (such as warnings for unused variables and functions) are also returned.</p> <p>Use option <code class="code">strong_validation</code> to generate all warnings that the compiler would generate.</p> </dd> <dt><strong><code class="code">strong_validation</code></strong></dt> <dd> <p>Similar to option <code class="code">basic_validation</code>. No code is generated, but more compiler passes are run to ensure that warnings generated by the optimization passes are generated (such as clauses that will not match, or expressions that are guaranteed to fail with an exception at runtime).</p> </dd> <dt><strong><code class="code">binary</code></strong></dt> <dd> <p>The compiler returns the object code in a binary instead of creating an object file. If successful, the compiler returns <code class="code">{ok,ModuleName,Binary}</code>.</p> </dd> <dt><strong><code class="code">bin_opt_info</code></strong></dt> <dd> <p>The compiler will emit informational warnings about binary matching optimizations (both successful and unsuccessful). For more information, see the section about <code>bin_opt_info</code> in the Efficiency Guide.</p> </dd> <dt><strong><code class="code">{compile_info, [{atom(), term()}]}</code></strong></dt> <dd> <p>Allows compilers built on top of <code class="code">compile</code> to attach extra compilation metadata to the <code class="code">compile_info</code> chunk in the generated beam file.</p> <p>It is advised for compilers to remove all non-deterministic information if the <code class="code">deterministic</code> option is supported and it was supplied by the user.</p> </dd> <dt><strong><code class="code">compressed</code></strong></dt> <dd> <p>The compiler will compress the generated object code, which can be useful for embedded systems.</p> </dd> <dt><strong><code class="code">debug_info</code></strong></dt> <dd>  <p id="debug_info">Includes debug information in the form of <code>Erlang Abstract Format</code> in the <code class="code">debug_info</code> chunk of the compiled beam module. Tools such as Debugger, Xref, and Cover require the debug information to be included.</p> <p><strong>Warning</strong>: Source code can be reconstructed from the debug information. Use encrypted debug information (<code class="code">encrypt_debug_info</code>) to prevent this.</p> <p>For details, see <code>beam_lib(3)</code>.</p> </dd> <dt><strong><code class="code">{debug_info, {Backend, Data}}</code></strong></dt> <dd>  <p id="debug_info">Includes custom debug information in the form of a <code class="code">Backend</code> module with custom <code class="code">Data</code> in the compiled beam module. The given module must implement a <code class="code">debug_info/4</code> function and is responsible for generating different code representations, as described in the <code class="code">debug_info</code> under <code>beam_lib(3)</code>.</p> <p><strong>Warning</strong>: Source code can be reconstructed from the debug information. Use encrypted debug information (<code class="code">encrypt_debug_info</code>) to prevent this.</p> </dd> <dt><strong><code class="code">{debug_info_key,KeyString}</code></strong></dt>  <dt><strong><code class="code">{debug_info_key,{Mode,KeyString}}</code></strong></dt> <dd>  <p id="debug_info_key">Includes debug information, but encrypts it so that it cannot be accessed without supplying the key. (To give option <code class="code">debug_info</code> as well is allowed, but not necessary.) Using this option is a good way to always have the debug information available during testing, yet protecting the source code.</p> <p><code class="code">Mode</code> is the type of crypto algorithm to be used for encrypting the debug information. The default (and currently the only) type is <code class="code">des3_cbc</code>.</p> <p>For details, see <code>beam_lib(3)</code>.</p> </dd> <dt><strong><code class="code">encrypt_debug_info</code></strong></dt> <dd>  <p id="encrypt_debug_info">Similar to the <code class="code">debug_info_key</code> option, but the key is read from an <code class="code">.erlang.crypt</code> file. </p> <p>For details, see <code>beam_lib(3)</code>.</p> </dd> <dt><strong><code class="code">deterministic</code></strong></dt> <dd> <p>Omit the <code class="code">options</code> and <code class="code">source</code> tuples in the list returned by <code class="code">Module:module_info(compile)</code>. This option will make it easier to achieve reproducible builds. </p> </dd> <dt><strong><code class="code">makedep</code></strong></dt> <dd> <p>Produces a Makefile rule to track headers dependencies. No object file is produced. </p> <p>By default, this rule is written to <code class="code">&lt;File&gt;.Pbeam</code>. However, if option <code class="code">binary</code> is set, nothing is written and the rule is returned in <code class="code">Binary</code>. </p> <p>For example, if you have the following module: </p> <pre data-language="erlang">-module(module).

-include_lib("eunit/include/eunit.hrl").
-include("header.hrl").</pre> <p>The Makefile rule generated by this option looks as follows: </p> <pre data-language="erlang">module.beam: module.erl \
  /usr/local/lib/erlang/lib/eunit/include/eunit.hrl \
  header.hrl</pre> </dd> <dt><strong><code class="code">makedep_side_effect</code></strong></dt> <dd> <p>The dependecies are created as a side effect to the normal compilation process. This means that the object file will also be produced. This option override the <code class="code">makedep</code> option. </p> </dd> <dt><strong><code class="code">{makedep_output, Output}</code></strong></dt> <dd> <p>Writes generated rules to <code class="code">Output</code> instead of the default <code class="code">&lt;File&gt;.Pbeam</code>. <code class="code">Output</code> can be a filename or an <code class="code">io_device()</code>. To write to stdout, use <code class="code">standard_io</code>. However, if <code class="code">binary</code> is set, nothing is written to <code class="code">Output</code> and the result is returned to the caller with <code class="code">{ok, ModuleName, Binary}</code>. </p> </dd> <dt><strong><code class="code">{makedep_target, Target}</code></strong></dt> <dd> <p>Changes the name of the rule emitted to <code class="code">Target</code>. </p> </dd> <dt><strong><code class="code">makedep_quote_target</code></strong></dt> <dd> <p>Characters in <code class="code">Target</code> special to make(1) are quoted. </p> </dd> <dt><strong><code class="code">makedep_add_missing</code></strong></dt> <dd> <p>Considers missing headers as generated files and adds them to the dependencies. </p> </dd> <dt><strong><code class="code">makedep_phony</code></strong></dt> <dd> <p>Adds a phony target for each dependency. </p> </dd> <dt><strong><code class="code">'P'</code></strong></dt> <dd> <p>Produces a listing of the parsed code, after preprocessing and parse transforms, in the file <code class="code">&lt;File&gt;.P</code>. No object file is produced. </p> </dd> <dt><strong><code class="code">'E'</code></strong></dt> <dd> <p>Produces a listing of the code, after all source code transformations have been performed, in the file <code class="code">&lt;File&gt;.E</code>. No object file is produced. </p> </dd> <dt><strong><code class="code">'S'</code></strong></dt> <dd> <p>Produces a listing of the assembler code in the file <code class="code">&lt;File&gt;.S</code>. No object file is produced. </p> </dd> <dt><strong><code class="code">report_errors/report_warnings</code></strong></dt> <dd> <p>Causes errors/warnings to be printed as they occur.</p> </dd> <dt><strong><code class="code">report</code></strong></dt> <dd> <p>A short form for both <code class="code">report_errors</code> and <code class="code">report_warnings</code>.</p> </dd> <dt><strong><code class="code">return_errors</code></strong></dt> <dd> <p>If this flag is set, <code class="code">{error,ErrorList,WarningList}</code> is returned when there are errors.</p> </dd> <dt><strong><code class="code">return_warnings</code></strong></dt> <dd> <p>If this flag is set, an extra field, containing <code class="code">WarningList</code>, is added to the tuples returned on success.</p> </dd> <dt><strong><code class="code">warnings_as_errors</code></strong></dt> <dd> <p>Causes warnings to be treated as errors. This option is supported since R13B04.</p> </dd> <dt><strong><code class="code">return</code></strong></dt> <dd> <p>A short form for both <code class="code">return_errors</code> and <code class="code">return_warnings</code>.</p> </dd> <dt><strong><code class="code">verbose</code></strong></dt> <dd> <p>Causes more verbose information from the compiler, describing what it is doing.</p> </dd> <dt><strong><code class="code">{source,FileName}</code></strong></dt> <dd> <p>Sets the value of the source, as returned by <code class="code">module_info(compile)</code>.</p> </dd> <dt><strong><code class="code">{outdir,Dir}</code></strong></dt> <dd> <p>Sets a new directory for the object code. The current directory is used for output, except when a directory has been specified with this option.</p> </dd> <dt><strong><code class="code">export_all</code></strong></dt> <dd> <p>Causes all functions in the module to be exported.</p> </dd> <dt><strong><code class="code">{i,Dir}</code></strong></dt> <dd> <p>Adds <code class="code">Dir</code> to the list of directories to be searched when including a file. When encountering an <code class="code">-include</code> or <code class="code">-include_lib</code> directive, the compiler searches for header files in the following directories:</p> <ul> <li> <p><code class="code">"."</code>, the current working directory of the file server</p> </li> <li> <p>The base name of the compiled file</p> </li> <li> <p>The directories specified using option <code class="code">i</code>; the directory specified last is searched first</p> </li> </ul> </dd> <dt><strong><code class="code">{d,Macro}</code></strong></dt>  <dt><strong><code class="code">{d,Macro,Value}</code></strong></dt> <dd> <p>Defines a macro <code class="code">Macro</code> to have the value <code class="code">Value</code>. <code class="code">Macro</code> is of type atom, and <code class="code">Value</code> can be any term. The default <code class="code">Value</code> is <code class="code">true</code>.</p> </dd> <dt><strong><code class="code">{parse_transform,Module}</code></strong></dt> <dd> <p>Causes the parse transformation function <code class="code">Module:parse_transform/2</code> to be applied to the parsed code before the code is checked for errors.</p> </dd> <dt><strong><code class="code">from_asm</code></strong></dt> <dd> <p>The input file is expected to be assembler code (default file suffix ".S"). Notice that the format of assembler files is not documented, and can change between releases.</p> </dd> <dt><strong><code class="code">from_core</code></strong></dt> <dd> <p>The input file is expected to be core code (default file suffix ".core"). Notice that the format of core files is not documented, and can change between releases.</p> </dd> <dt><strong><code class="code">no_strict_record_tests</code></strong></dt> <dd> <p>This option is not recommended.</p> <p>By default, the generated code for operation <code class="code">Record#record_tag.field</code> verifies that the tuple <code class="code">Record</code> has the correct size for the record, and that the first element is the tag <code class="code">record_tag</code>. Use this option to omit the verification code.</p> </dd> <dt><strong><code class="code">no_error_module_mismatch</code></strong></dt> <dd> <p>Normally the compiler verifies that the module name given in the source code is the same as the base name of the output file and refuses to generate an output file if there is a mismatch. If you have a good reason (or other reason) for having a module name unrelated to the name of the output file, this option disables that verification (there will not even be a warning if there is a mismatch).</p> </dd> <dt><strong><code class="code">{no_auto_import,[{F,A}, ...]}</code></strong></dt> <dd> <p>Makes the function <code class="code">F/A</code> no longer being auto-imported from the <code class="code">erlang</code> module, which resolves BIF name clashes. This option must be used to resolve name clashes with BIFs auto-imported before R14A, if it is needed to call the local function with the same name as an auto-imported BIF without module prefix.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>As from R14A and forward, the compiler resolves calls without module prefix to local or imported functions before trying with auto-imported BIFs. If the BIF is to be called, use the <code class="code">erlang</code> module prefix in the call, not <code class="code">{no_auto_import,[{F,A}, ...]}</code>.</p> </div> </div> <p>If this option is written in the source code, as a <code class="code">-compile</code> directive, the syntax <code class="code">F/A</code> can be used instead of <code class="code">{F,A}</code>, for example:</p> <pre data-language="erlang">-compile({no_auto_import,[error/1]}).</pre> </dd> <dt><strong><code class="code">no_auto_import</code></strong></dt> <dd> <p>Do not auto-import any functions from <code class="code">erlang</code> module.</p> </dd> <dt><strong><code class="code">no_line_info</code></strong></dt> <dd> <p>Omits line number information to produce a slightly smaller output file. </p> </dd> <dt><strong><code class="code">{extra_chunks, [{binary(), binary()}]}</code></strong></dt> <dd> <p>Pass extra chunks to be stored in the <code class="code">.beam</code> file. The extra chunks must be a list of tuples with a four byte binary as chunk name followed by a binary with the chunk contents. See <code>beam_lib</code> for more information. </p> </dd> </dl> <p>If warnings are turned on (option <code class="code">report_warnings</code> described earlier), the following options control what type of warnings that are generated.  Except from <code class="code" id="erl_lint_options">{warn_format,Verbosity}</code>, the following options have two forms:</p> <ul> <li>A <code class="code">warn_xxx</code> form, to turn on the warning.</li> <li>A <code class="code">nowarn_xxx</code> form, to turn off the warning.</li> </ul> <p>In the descriptions that follow, the form that is used to change the default value are listed.</p> <dl> <dt><strong><code class="code">{warn_format, Verbosity}</code></strong></dt> <dd> <p>Causes warnings to be emitted for malformed format strings as arguments to <code class="code">io:format</code> and similar functions.</p> <p><code class="code">Verbosity</code> selects the number of warnings:</p> <ul> <li> <code class="code">0</code> = No warnings</li> <li> <code class="code">1</code> = Warnings for invalid format strings and incorrect number of arguments</li> <li> <code class="code">2</code> = Warnings also when the validity cannot be checked, for example, when the format string argument is a variable.</li> </ul> <p>The default verbosity is <code class="code">1</code>. Verbosity <code class="code">0</code> can also be selected by option <code class="code">nowarn_format</code>.</p> </dd> <dt><strong><code class="code">nowarn_bif_clash</code></strong></dt> <dd> <p>This option is removed, it generates a fatal error if used.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>As from beginning with R14A, the compiler no longer calls the auto-imported BIF if the name clashes with a local or explicitly imported function, and a call without explicit module name is issued. Instead, the local or imported function is called. Still accepting <code class="code">nowarn_bif_clash</code> would make a module calling functions clashing with auto-imported BIFs compile with both the old and new compilers, but with completely different semantics. This is why the option is removed.</p> <p>The use of this option has always been discouraged. As from R14A, it is an error to use it.</p> <p>To resolve BIF clashes, use explicit module names or the <code class="code">{no_auto_import,[F/A]}</code> compiler directive.</p> </div> </div> </dd> <dt><strong><code class="code">{nowarn_bif_clash, FAs}</code></strong></dt> <dd> <p>This option is removed, it generates a fatal error if used.</p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>The use of this option has always been discouraged. As from R14A, it is an error to use it.</p> <p>To resolve BIF clashes, use explicit module names or the <code class="code">{no_auto_import,[F/A]}</code> compiler directive.</p> </div> </div> </dd> <dt><strong><code class="code">nowarn_export_all</code></strong></dt> <dd> <p>Turns off warnings for uses of the <code class="code">export_all</code> option. Default is to emit a warning if option <code class="code">export_all</code> is also given.</p> </dd> <dt><strong><code class="code">warn_export_vars</code></strong></dt> <dd> <p>Emits warnings for all implicitly exported variables referred to after the primitives where they were first defined. By default, the compiler only emits warnings for exported variables referred to in a pattern.</p> </dd> <dt><strong><code class="code">nowarn_shadow_vars</code></strong></dt> <dd> <p>Turns off warnings for "fresh" variables in functional objects or list comprehensions with the same name as some already defined variable. Default is to emit warnings for such variables.</p> </dd> <dt><strong><code class="code">nowarn_unused_function</code></strong></dt> <dd> <p>Turns off warnings for unused local functions. Default is to emit warnings for all local functions that are not called directly or indirectly by an exported function. The compiler does not include unused local functions in the generated beam file, but the warning is still useful to keep the source code cleaner.</p> </dd> <dt><strong><code class="code">{nowarn_unused_function, FAs}</code></strong></dt> <dd> <p>Turns off warnings for unused local functions like <code class="code">nowarn_unused_function</code> does, but only for the mentioned local functions. <code class="code">FAs</code> is a tuple <code class="code">{Name,Arity}</code> or a list of such tuples.</p> </dd> <dt><strong><code class="code">nowarn_deprecated_function</code></strong></dt> <dd> <p>Turns off warnings for calls to deprecated functions. Default is to emit warnings for every call to a function known by the compiler to be deprecated. Notice that the compiler does not know about attribute <code class="code">-deprecated()</code>, but uses an assembled list of deprecated functions in Erlang/OTP. To do a more general check, the Xref tool can be used. See also <code>xref(3)</code> and the function <code>xref:m/1</code>, also accessible through the function <code>c:xm/1</code>.</p> </dd> <dt><strong><code class="code">{nowarn_deprecated_function, MFAs}</code></strong></dt> <dd> <p>Turns off warnings for calls to deprecated functions like <code class="code">nowarn_deprecated_function</code> does, but only for the mentioned functions. <code class="code">MFAs</code> is a tuple <code class="code">{Module,Name,Arity}</code> or a list of such tuples.</p> </dd> <dt><strong><code class="code">nowarn_deprecated_type</code></strong></dt> <dd> <p>Turns off warnings for use of deprecated types. Default is to emit warnings for every use of a type known by the compiler to be deprecated.</p> </dd> <dt><strong><code class="code">nowarn_obsolete_guard</code></strong></dt> <dd> <p>Turns off warnings for calls to old type testing BIFs, such as <code class="code">pid/1</code> and <code class="code">list/1</code>. See the <code>Erlang Reference Manual</code> for a complete list of type testing BIFs and their old equivalents. Default is to emit warnings for calls to old type testing BIFs.</p> </dd> <dt><strong><code class="code">warn_unused_import</code></strong></dt> <dd> <p>Emits warnings for unused imported functions. Default is to emit no warnings for unused imported functions.</p> </dd> <dt><strong><code class="code">nowarn_unused_vars</code></strong></dt> <dd> <p>By default, warnings are emitted for unused variables, except for variables beginning with an underscore ("Prolog style warnings"). Use this option to turn off this kind of warnings.</p> </dd> <dt><strong><code class="code">nowarn_unused_record</code></strong></dt> <dd> <p>Turns off warnings for unused record types. Default is to emit warnings for unused locally defined record types.</p> </dd> </dl> <p>Another class of warnings is generated by the compiler during optimization and code generation. They warn about patterns that will never match (such as <code class="code">a=b</code>), guards that always evaluate to false, and expressions that always fail (such as <code class="code">atom+42</code>).</p> <p>Those warnings cannot be disabled (except by disabling all warnings).</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The compiler does not warn for expressions that it does not attempt to optimize. For example, the compiler tries to evaluate <code class="code">1/0</code>, detects that it will cause an exception, and emits a warning. However, the compiler is silent about the similar expression, <code class="code">X/0</code>, because of the variable in it. Thus, the compiler does not even try to evaluate and therefore it emits no warnings.</p> </div> </div> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>The absence of warnings does not mean that there are no remaining errors in the code.</p> </div> </div> <div class="note"> <div class="label">Note</div> <div class="content">

<p>All options, except the include path (<code class="code">{i,Dir}</code>), can also be given in the file with attribute <code class="code">-compile([Option,...])</code>. Attribute <code class="code">-compile()</code> is allowed after the function definitions.</p> </div> </div> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The options <code class="code">{nowarn_unused_function, FAs}</code>, <code class="code">{nowarn_bif_clash, FAs}</code>, and <code class="code">{nowarn_deprecated_function, MFAs}</code> are only recognized when given in files. They are not affected by options <code class="code">warn_unused_function</code>, <code class="code">warn_bif_clash</code>, or <code class="code">warn_deprecated_function</code>.</p> </div> </div> <p>For debugging of the compiler, or for pure curiosity, the intermediate code generated by each compiler pass can be inspected. To print a complete list of the options to produce list files, type <code class="code">compile:options()</code> at the Erlang shell prompt. The options are printed in the order that the passes are executed. If more than one listing option is used, the one representing the earliest pass takes effect.</p> <p>Unrecognized options are ignored.</p> <p>Both <code class="code">WarningList</code> and <code class="code">ErrorList</code> have the following format:</p> <pre data-language="erlang">[{FileName,[ErrorInfo]}].</pre> <p><code class="code">ErrorInfo</code> is described later in this section. The filename is included here, as the compiler uses the Erlang pre-processor <code class="code">epp</code>, which allows the code to be included in other files. It is therefore important to know to <strong>which</strong> file the line number of an error or a warning refers. </p>  
<div><span onmouseover="document.getElementById('ghlink-forms-1-id62960').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-forms-1-id62960').style.visibility = 'hidden';" id="forms-1">forms(Forms)</span></div> 
<p>Is the same as <code class="code">forms(Forms, [verbose,report_errors,report_warnings])</code>. </p>  
<div><span onmouseover="document.getElementById('ghlink-forms-2-id62985').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-forms-2-id62985').style.visibility = 'hidden';" id="forms-2">forms(Forms, Options) -&gt; CompRet</span></div>  <h2 class="func-types-title">Types</h2>       
<p>Analogous to <code class="code">file/1</code>, but takes a list of forms (in the Erlang abstract format representation) as first argument. Option <code class="code">binary</code> is implicit, that is, no object code file is produced. For options that normally produce a listing file, such as 'E', the internal format for that compiler pass (an Erlang term, usually not a binary) is returned instead of a binary.</p>  
<div><span onmouseover="document.getElementById('ghlink-format_error-1-id65340').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-format_error-1-id65340').style.visibility = 'hidden';" id="format_error-1">format_error(ErrorDescriptor) -&gt; chars()</span></div>  <h2 class="func-types-title">Types</h2>   
<p>Uses an <code class="code">ErrorDescriptor</code> and returns a deep list of characters that describes the error. This function is usually called implicitly when an <code class="code">ErrorInfo</code> structure (described in section <code><a href="#error_information">Error Information</a></code>) is processed.</p>  
<div><span onmouseover="document.getElementById('ghlink-output_generated-1-id65383').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-output_generated-1-id65383').style.visibility = 'hidden';" id="output_generated-1">output_generated(Options) -&gt; true | false</span></div>  <h2 class="func-types-title">Types</h2>   
<p>Determines whether the compiler generates a <code class="code">beam</code> file with the given options. <code class="code">true</code> means that a <code class="code">beam</code> file is generated. <code class="code">false</code> means that the compiler generates some listing file, returns a binary, or merely checks the syntax of the source code.</p>  
<div><span onmouseover="document.getElementById('ghlink-noenv_file-2-id65429').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-noenv_file-2-id65429').style.visibility = 'hidden';" id="noenv_file-2">noenv_file(File, Options) -&gt; CompRet</span></div> 
<p>Works like <code><a href="#file-2">file/2</a></code>, except that the environment variable <code class="code">ERL_COMPILER_OPTIONS</code> is not consulted.</p>  
<div><span onmouseover="document.getElementById('ghlink-noenv_forms-2-id65464').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-noenv_forms-2-id65464').style.visibility = 'hidden';" id="noenv_forms-2">noenv_forms(Forms, Options) -&gt; CompRet</span></div> 
<p>Works like <code><a href="#forms-2">forms/2</a></code>, except that the environment variable <code class="code">ERL_COMPILER_OPTIONS</code> is not consulted.</p>  
<div><span onmouseover="document.getElementById('ghlink-noenv_output_generated-1-id65499').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-noenv_output_generated-1-id65499').style.visibility = 'hidden';" id="noenv_output_generated-1">noenv_output_generated(Options) -&gt; true | false</span></div>  <h2 class="func-types-title">Types</h2>   
<p>Works like <code><a href="#output_generated-1">output_generated/1</a></code>, except that the environment variable <code class="code">ERL_COMPILER_OPTIONS</code> is not consulted.</p>  </div> <h2><span onmouseover="document.getElementById('ghlink-default-compiler-options-id65539').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-default-compiler-options-id65539').style.visibility = 'hidden';" id="default-compiler-options">Default Compiler Options</span></h2>  <p>The (host operating system) environment variable <code class="code">ERL_COMPILER_OPTIONS</code> can be used to give default compiler options. Its value must be a valid Erlang term. If the value is a list, it is used as is. If it is not a list, it is put into a list.</p> <p>The list is appended to any options given to <code><a href="#file-2">file/2</a></code>, <code><a href="#forms-2">forms/2</a></code>, and <code><a href="#output_generated-1">output_generated/2</a></code>. Use the alternative functions <code><a href="#noenv_file-2">noenv_file/2</a></code>, <code><a href="#noenv_forms-2">noenv_forms/2</a></code>, or <code><a href="#noenv_output_generated-1">noenv_output_generated/2</a></code> if you do not want the environment variable to be consulted, for example, if you are calling the compiler recursively from inside a parse transform.</p> <p>The list can be retrieved with <code><a href="#env_compiler_options-0">env_compiler_options/0</a></code>.</p>  <h2><span onmouseover="document.getElementById('ghlink-inlining-id63103').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inlining-id63103').style.visibility = 'hidden';" id="inlining">Inlining</span></h2>  <p>The compiler can do function inlining within an Erlang module. Inlining means that a call to a function is replaced with the function body with the arguments replaced with the actual values. The semantics are preserved, except if exceptions are generated in the inlined code. Exceptions are reported as occurring in the function the body was inlined into. Also, <code class="code">function_clause</code> exceptions are converted to similar <code class="code">case_clause</code> exceptions.</p> <p>When a function is inlined, the original function is kept if it is exported (either by an explicit export or if the option <code class="code">export_all</code> was given) or if not all calls to the function are inlined.</p> <p>Inlining does not necessarily improve running time. For example, inlining can increase Beam stack use, which probably is detrimental to performance for recursive functions. </p> <p>Inlining is never default. It must be explicitly enabled with a compiler option or a <code class="code">-compile()</code> attribute in the source module.</p> <p>To enable inlining, either use the option <code class="code">inline</code> to let the compiler decide which functions to inline, or <code class="code">{inline,[{Name,Arity},...]}</code> to have the compiler inline all calls to the given functions. If the option is given inside a <code class="code">compile</code> directive in an Erlang module, <code class="code">{Name,Arity}</code> can be written as <code class="code">Name/Arity</code>.</p> <p>Example of explicit inlining:</p> <pre data-language="erlang">
-compile({inline,[pi/0]}).

pi() -&gt; 3.1416.
    </pre> <p>Example of implicit inlining:</p> <pre data-language="erlang">
-compile(inline).</pre> <p>The option <code class="code">{inline_size,Size}</code> controls how large functions that are allowed to be inlined. Default is <code class="code">24</code>, which keeps the size of the inlined code roughly the same as the un-inlined version (only relatively small functions are inlined).</p> <p>Example:</p> <pre data-language="erlang">
%% Aggressive inlining - will increase code size.
-compile(inline).
-compile({inline_size,100}).</pre>  <h2><span onmouseover="document.getElementById('ghlink-inlining-of-list-functions-id63210').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-inlining-of-list-functions-id63210').style.visibility = 'hidden';" id="inlining-of-list-functions">Inlining of List Functions</span></h2>  <p>The compiler can also inline various list manipulation functions from the module <code class="code">list</code> in STDLIB.</p> <p>This feature must be explicitly enabled with a compiler option or a <code class="code">-compile()</code> attribute in the source module.</p> <p>To enable inlining of list functions, use option <code class="code">inline_list_funcs</code>.</p> <p>The following functions are inlined:</p> <ul> <li><code>lists:all/2</code></li> <li><code>lists:any/2</code></li> <li><code>lists:foreach/2</code></li> <li><code>lists:map/2</code></li> <li><code>lists:flatmap/2</code></li> <li><code>lists:filter/2</code></li> <li><code>lists:foldl/3</code></li> <li><code>lists:foldr/3</code></li> <li><code>lists:mapfoldl/3</code></li> <li><code>lists:mapfoldr/3</code></li> </ul>  <h2><span onmouseover="document.getElementById('ghlink-parse-transformations-id63674').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-parse-transformations-id63674').style.visibility = 'hidden';" id="parse-transformations">Parse Transformations</span></h2>  <p>Parse transformations are used when a programmer wants to use Erlang syntax but with different semantics. The original Erlang code is then transformed into other Erlang code.</p>  <h2> <span onmouseover="document.getElementById('ghlink-error-information-id63689').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-error-information-id63689').style.visibility = 'hidden';" id="error_information">Error Information</span> </h2>  <p>The <code class="code">ErrorInfo</code> mentioned earlier is the standard <code class="code">ErrorInfo</code> structure, which is returned from all I/O modules. It has the following format:</p> <pre data-language="erlang">{ErrorLine, Module, ErrorDescriptor}</pre> <p><code class="code">ErrorLine</code> is the atom <code class="code">none</code> if the error does not correspond to a specific line, for example, if the source file does not exist.</p> <p>A string describing the error is obtained with the following call:</p> <pre data-language="erlang">Module:format_error(ErrorDescriptor)</pre>  <h2><span onmouseover="document.getElementById('ghlink-see-also-id63742').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-see-also-id63742').style.visibility = 'hidden';" id="see-also">See Also</span></h2>  <p> <code>epp(3)</code>, <code>erl_id_trans(3)</code>, <code>erl_lint(3)</code>, <code>beam_lib(3)</code> </p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
