
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>5. Running the Application - Erlang 21 - W3cubDocs</title>
  
  <meta name="description" content=" The chapter Running the application describes how the application is configured and started. The topics include&#58; ">
  <meta name="keywords" content="running, application, erlang, erlang~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/erlang~21/lib/snmp-5.2.11/doc/html/snmp_config.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/erlang~21.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~21/" class="_nav-link" title="" style="margin-left:0;">Erlang 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _erlang">
				
				
<h1>5 Running the application</h1> <p>The chapter <strong>Running the application</strong> describes how the application is configured and started. The topics include:</p> <ul> <li>configuration directories and parameters</li> <li>modifying the configuration files</li> <li>starting the application (agent and/or manager)</li> <li>debugging the application (agent and/or manager)</li> </ul> <p>Refer also to the chapter(s) <code><a href="snmp_agent_config_files">Definition of Agent Configuration Files</a></code> and <code><a href="snmp_manager_config_files">Definition of Manager Configuration Files</a></code> which contains more detailed information about the agent and manager configuration files.</p> <h2> <span onmouseover="document.getElementById('ghlink-configuring-the-application-id80524').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-configuring-the-application-id80524').style.visibility = 'hidden';" id="configuration_params">5.1 Configuring the application</span> </h2> <p>The following two directories must exist in the system to run the agent:</p> <ul> <li> <p>the <strong>configuration directory</strong> stores all configuration files used by the agent (refer to the chapter <code><a href="snmp_agent_config_files">Definition of Agent Configuration Files</a></code> for more information). </p> </li> <li>the <strong>database directory</strong> stores the internal database files.</li> </ul> <p>The following directory must exist in the system to run the manager:</p> <ul> <li> <p>the <strong>configuration directory</strong> stores all configuration files used by the manager (refer to the chapter <code><a href="snmp_manager_config_files">Definition of Manager Configuration Files</a></code> for more information). </p> </li> <li> <p>the <strong>database directory</strong> stores the internal database files. </p> </li> </ul> <p>The agent and manager uses (application) configuration parameters to find out where these directories are located. The parameters should be defined in an Erlang system configuration file. The following configuration parameters are defined for the SNMP application:</p> <pre data-language="erlang">
agent_options() = [agent_option()]
agent_option() = {restart_type,     restart_type()}     | 
                 {agent_type,       agent_type()}       |  
                 {agent_verbosity,  verbosity()}        |  
                 {versions,         versions()}         |  
                 {discovery,        agent_discovery()}  |  
                 {gb_max_vbs,       gb_max_vbs()}       |  
                 {priority,         priority()}         |  
                 {multi_threaded,   multi_threaded()}   |  
                 {db_dir,           db_dir()}           |  
                 {db_init_error,    db_init_error()}    |  
                 {local_db,         local_db()}         |  
                 {net_if,           agent_net_if()}     |  
                 {mibs,             mibs()}             |  
                 {mib_storage,      mib_storage()}      |  
                 {mib_server,       mib_server()}       |  
                 {audit_trail_log,  audit_trail_log()}  |  
                 {error_report_mod, error_report_mod()} |  
                 {note_store,       note_store()}       |  
                 {symbolic_store,   symbolic_store()}   |  
                 {target_cache,     target_cache()}     |  
                 {config,           agent_config()}
manager_options() = [manager_option()]
manager_option() = {restart_type,             restart_type()}    | 
                   {net_if,                   manager_net_if()}  |  
                   {server,                   server()}          | 
                   {note_store,               note_store()}      | 
                   {config,                   manager_config()}  |  
                   {inform_request_behaviour, manager_irb()}     | 
                   {mibs,                     manager_mibs()}    | 
                   {priority,                 priority()}        |  
                   {audit_trail_log,          audit_trail_log()} | 
                   {versions,                 versions()}        | 
                   {def_user_mod,             def_user_module()  | 
                   {def_user_data,            def_user_data()}
    </pre>  <p id="agent_opts_and_types">Agent specific config options and types:</p> <dl> <dt><strong> <code class="code" id="agent_type">agent_type() = master | sub &lt;optional&gt;</code></strong></dt> <dd> <p>If <code class="code">master</code>, one master agent is started. Otherwise, no agents are started. </p> <p>Default is <code class="code">master</code>.</p> </dd> <dt><strong> <code class="code" id="agent_disco">agent_discovery() = [agent_discovery_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">agent_discovery_opt() = {terminating, agent_terminating_discovery_opts()} | {originating, agent_originating_discovery_opts()}</code></p> <p>The <code class="code">terminating</code> options effects discovery initiated by a manager. </p> <p>The <code class="code">originating</code> options effects discovery initiated by this agent. </p> <p>For defaults see the options in <code class="code">agent_discovery_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_term_disco_opts">agent_terminating_discovery_opts() = [agent_terminating_discovery_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">agent_terminating_discovery_opt() = {enable, boolean()} | {stage2, discovery | plain} | {trigger_username, string()}</code></p> <p>These are options effecting discovery <code class="code">terminating</code> in this agent (i.e. initiated by a manager). </p> <p>The default values for the <code class="code">terminating</code> discovery options are: </p> <ul> <li>enable: <code class="code">true</code> </li> <li>stage2: <code class="code">discovery</code> </li> <li>trigger_username: <code class="code">""</code> </li> </ul> </dd> <dt><strong> <code class="code" id="agent_orig_disco_opts">agent_originating_discovery_opts() = [agent_originating_discovery_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">agent_originating_discovery_opt() = {enable, boolean()}</code></p> <p>These are options effecting discovery <code class="code">originating</code> in this agent. </p> <p>The default values for the <code class="code">originating</code> discovery options are: </p> <ul> <li>enable: <code class="code">true</code> </li> </ul> </dd> <dt><strong> <code class="code" id="agent_mt">multi_threaded() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>If <code class="code">true</code>, the agent is multi-threaded, with one thread for each get request. </p> <p>Default is <code class="code">false</code>.</p> </dd> <dt><strong> <code class="code" id="agent_data_dir">db_dir() = string() &lt;mandatory&gt;</code></strong></dt> <dd> <p>Defines where the SNMP agent internal db files are stored.</p> </dd> <dt><strong> <code class="code" id="agent_gb_max_vbs">gb_max_vbs() = pos_integer() | infinity &lt;optional&gt;</code></strong></dt> <dd> <p>Defines the maximum number of varbinds allowed in a Get-BULK response.</p> <p>Default is <code class="code">1000</code>.</p> </dd> <dt><strong> <code class="code" id="agent_local_db">local_db() = [local_db_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">local_db_opt() = {repair, agent_repair()} | {auto_save, agent_auto_save()} | {verbosity, verbosity()}</code></p> <p>Defines options specific for the SNMP agent local database.</p> <p>For defaults see the options in <code class="code">local_db_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ldb_repair">agent_repair() = false | true | force &lt;optional&gt;</code></strong></dt> <dd> <p>When starting snmpa_local_db it always tries to open an existing database. If <code class="code">false</code>, and some errors occur, a new database is created instead. If <code class="code">true</code>, an existing file will be repaired. If <code class="code">force</code>, the table will be repaired even if it was properly closed. </p> <p>Default is <code class="code">true</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ldb_auto_save">agent_auto_save() = integer() | infinity &lt;optional&gt;</code></strong></dt> <dd> <p>The auto save interval. The table is flushed to disk whenever not accessed for this amount of time.</p> <p>Default is <code class="code">5000</code>.</p> </dd> <dt><strong> <code class="code" id="agent_net_if">agent_net_if() = [agent_net_if_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">agent_net_if_option() = {module, agent_net_if_module()} | {verbosity, verbosity()} | {options, agent_net_if_options()}</code></p> <p>Defines options specific for the SNMP agent network interface entity. </p> <p>For defaults see the options in <code class="code">agent_net_if_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ni_module">agent_net_if_module() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>Module which handles the network interface part for the SNMP agent. Must implement the <code><a href="snmpa_network_interface">snmpa_network_interface</a></code> behaviour.</p> <p>Default is <code class="code">snmpa_net_if</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ni_opts">agent_net_if_options() = [agent_net_if_option()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">agent_net_if_option() = {bind_to, bind_to()} | {sndbuf, sndbuf()} | {recbuf, recbuf()} | {no_reuse, no_reuse()} | {req_limit, req_limit()} | {filter, agent_net_if_filter_options()}</code></p> <p>These options are actually specific to the used module. The ones shown here are applicable to the default <code class="code">agent_net_if_module()</code>.</p> <p>For defaults see the options in <code class="code">agent_net_if_option()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ni_req_limit">req_limit() = integer() | infinity &lt;optional&gt;</code></strong></dt> <dd> <p>Max number of simultaneous requests handled by the agent.</p> <p>Default is <code class="code">infinity</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ni_filter_opts">agent_net_if_filter_options() = [agent_net_if_filter_option()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">agent_net_if_filter_option() = {module, agent_net_if_filter_module()}</code></p> <p>These options are actually specific to the used module. The ones shown here are applicable to the default <code class="code">agent_net_if_filter_module()</code>.</p> <p>For defaults see the options in <code class="code">agent_net_if_filter_option()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ni_filter_module">agent_net_if_filter_module() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>Module which handles the network interface filter part for the SNMP agent. Must implement the <code><a href="snmpa_network_interface_filter">snmpa_network_interface_filter</a></code> behaviour.</p> <p>Default is <code class="code">snmpa_net_if_filter</code>.</p> </dd> <dt><strong> <code class="code" id="agent_mibs">agent_mibs() = [string()] &lt;optional&gt;</code></strong></dt> <dd> <p>Specifies a list of MIBs (including path) that defines which MIBs are initially loaded into the SNMP master agent. </p> <p>Note that the following will always be loaded:</p> <ul> <li>version v1: <code class="code">STANDARD-MIB</code> </li> <li>version v2: <code class="code">SNMPv2</code> </li> <li>version v3: <code class="code">SNMPv2</code>, <code class="code">SNMP-FRAMEWORK-MIB</code> and <code class="code">SNMP-MPD-MIB</code> </li> </ul> <p>Default is <code class="code">[]</code>.</p> </dd> <dt><strong> <code class="code" id="agent_mib_storage">mib_storage() = [mib_storage_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">mib_storage_opt() = {module, mib_storage_module()} | {options, mib_storage_options()}</code></p> <p>This option specifies how basic mib data is stored. This option is used by two parts of the snmp agent: The mib-server and the symbolic-store. </p> <p>Default is <code class="code">[{module, snmpa_mib_storage_ets}]</code>. </p> </dd> <dt><strong> <code class="code" id="agent_mst_module">mib_storage_module() = snmpa_mib_data_ets | snmpa_mib_data_dets | snmpa_mib_data_mnesia | module()</code></strong></dt> <dd> <p>Defines the mib storage module of the SNMP agent as defined by the <code><a href="snmpa_mib_storage">snmpa_mib_storage</a></code> behaviour. </p> <p>Several entities (<code class="code">mib-server</code> via the its data module and the <code class="code">symbolic-store</code>) of the snmp agent uses this for storage of miscelaneous mib related data dataretrieved while loading a mib. </p> <p>There are several implementations provided with the agent: <code class="code">snmpa_mib_storage_ets</code>, <code class="code">snmpa_mib_storage_dets</code> and <code class="code">snmpa_mib_storage_mnesia</code>. </p> <p>Default module is <code class="code">snmpa_mib_storage_ets</code>. </p> </dd> <dt><strong> <code class="code" id="agent_mst_options">mib_storage_options() = list() &lt;optional&gt;</code></strong></dt> <dd> <p>This is implementattion depended. That is, it depends on the module. For each module a specific set of options are valid. For the module provided with the app, these options are supported: </p> <ul> <li> <p><code class="code">snmpa_mib_storage_ets</code>: <code class="code">{dir, filename()} | {action, keep | clear}, {checksum, boolean()}</code></p> <ul> <li> <p><code class="code">dir</code> - If present, points to a directory where a file to which all data in the ets table is "synced". </p> <p>Also, when a table is opened this file is read, if it exists. </p> <p>By default, this will <strong>not</strong> be used. </p> </li> <li> <p><code class="code">action</code> - Specifies the behaviour when a non-empty file is found: Keep its content or clear it out. </p> <p>Default is <code class="code">keep</code>. </p> </li> <li> <p><code class="code">checksum</code> - Defines if the file is checksummed or not. </p> <p>Default is <code class="code">false</code>. </p> </li> </ul> </li> <li> <p><code class="code">snmpa_mib_storage_dets</code>: <code class="code">{dir, filename()} | {action, keep | clear}, {auto_save, default | pos_integer()} | {repair, force | boolean()}</code></p> <ul> <li> <p><code class="code">dir</code> - This <strong>mandatory</strong> option points to a directory where to place the file of a dets table. </p> </li> <li> <p><code class="code">action</code> - Specifies the behaviour when a non-empty file is found: Keep its content or clear it out. </p> <p>Default is <code class="code">keep</code>. </p> </li> <li> <p><code class="code">auto_save</code> - Defines the dets auto-save frequency. </p> <p>Default is <code class="code">default</code>. </p> </li> <li> <p><code class="code">repair</code> - Defines the dets repair behaviour. </p> <p>Default is <code class="code">false</code>. </p> </li> </ul> </li> <li> <p><code class="code">snmpa_mib_storage_mnesia</code>: <code class="code">{action, keep | clear}, {nodes, [node()]}</code></p> <ul> <li> <p><code class="code">action</code> - Specifies the behaviour when a non-empty, already existing, table: Keep its content or clear it out. </p> <p>Default is <code class="code">keep</code>. </p> </li> <li> <p><code class="code">nodes</code> - A list of node names (or an atom describing a list of nodes) defining where to open the table. Its up to the user to ensure that mnesia is actually running on the specified nodes. </p> <p>The following distinct values are recognised: </p> <ul> <li> <p><code class="code">[]</code> - Translated into a list of the own node: <code class="code">[node()]</code></p> </li> <li> <p><code class="code">all</code> - <code class="code">erlang:nodes()</code></p> </li> <li> <p><code class="code">visible</code> - <code class="code">erlang:nodes(visible)</code></p> </li> <li> <p><code class="code">connected</code> - <code class="code">erlang:nodes(connected)</code></p> </li> <li> <p><code class="code">db_nodes</code> - <code class="code">mnesia:system_info(db_nodes)</code></p> </li> </ul> <p>Default is the result of the call: <code class="code">erlang:nodes()</code>. </p> </li> </ul> </li> </ul> </dd> <dt><strong> <code class="code" id="agent_mib_server">mib_server() = [mib_server_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">mib_server_opt() = {mibentry_override, mibentry_override()} | {trapentry_override, trapentry_override()} | {verbosity, verbosity()} | {cache, mibs_cache()} | {data_module, mib_server_data_module()}</code></p> <p>Defines options specific for the SNMP agent mib server. </p> <p>For defaults see the options in <code class="code">mib_server_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ms_meo">mibentry_override() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>If this value is false, then when loading a mib each mib- entry is checked prior to installation of the mib. The purpose of the check is to prevent that the same symbolic mibentry name is used for different oid's.</p> <p>Default is <code class="code">false</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ms_teo">trapentry_override() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>If this value is false, then when loading a mib each trap is checked prior to installation of the mib. The purpose of the check is to prevent that the same symbolic trap name is used for different trap's.</p> <p>Default is <code class="code">false</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ms_data_module">mib_server_data_module() = snmpa_mib_data_tttn | module() &lt;optional&gt;</code></strong></dt> <dd> <p>Defines the backend data module of the SNMP agent mib-server as defined by the <code><a href="snmpa_mib_data">snmpa_mib_data</a></code> behaviour. </p> <p>At present only the default module is provided with the agent, <code class="code">snmpa_mib_data_tttn</code>. </p> <p>Default module is <code class="code">snmpa_mib_data_tttn</code>. </p> </dd> <dt><strong> <code class="code" id="agent_ms_cache">mibs_cache() = bool() | mibs_cache_opts() &lt;optional&gt;</code></strong></dt> <dd> <p>Shall the agent utilize the mib server lookup cache or not.</p> <p>Default is <code class="code">true</code> (in which case the <code class="code">mibs_cache_opts()</code> default values apply).</p> </dd> <dt><strong> <code class="code" id="agent_ms_cache_opts">mibs_cache_opts() = [mibs_cache_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">mibs_cache_opt() = {autogc, mibs_cache_autogc()} | {gclimit, mibs_cache_gclimit()} | {age, mibs_cache_age()}</code></p> <p>Defines options specific for the SNMP agent mib server cache. </p> <p>For defaults see the options in <code class="code">mibs_cache_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ms_cache_autogc">mibs_cache_autogc() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>Defines if the mib server shall perform cache gc automatically or leave it to the user (see <code><a href="snmpa#gc_mibs_cache">gc_mibs_cache/0,1,2,3</a></code>). </p> <p>Default is <code class="code">true</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ms_cache_age">mibs_cache_age() = integer() &gt; 0 &lt;optional&gt;</code></strong></dt> <dd> <p>Defines how old the entries in the cache will be allowed to become before they are GC'ed (assuming GC is performed). Each entry in the cache is "touched" whenever it is accessed. </p> <p>The age is defined in milliseconds. </p> <p>Default is <code class="code">10 timutes</code>.</p> </dd> <dt><strong> <code class="code" id="agent_ms_cache_gclimit">mibs_cache_gclimit() = integer() &gt; 0 | infinity &lt;optional&gt;</code></strong></dt> <dd> <p>When performing a GC, this is the max number of cache entries that will be deleted from the cache. </p> <p>The reason for having this limit is that if the cache is large, the GC can potentially take a long time, during which the agent is locked. </p> <p>Default is <code class="code">100</code>.</p> </dd> <dt><strong> <code class="code" id="agent_error_report_mod">error_report_mod() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>Defines an error report module, implementing the <code><a href="snmpa_error_report">snmpa_error_report</a></code> behaviour. Two modules are provided with the toolkit: <code class="code">snmpa_error_logger</code> and <code class="code">snmpa_error_io</code>.</p> <p>Default is <code class="code">snmpa_error_logger</code>.</p> </dd> <dt><strong> <code class="code" id="agent_symbolic_store">symbolic_store() = [symbolic_store_opt()]</code></strong></dt> <dd> <p><code class="code">symbolic_store_opt() = {verbosity, verbosity()}</code></p> <p>Defines options specific for the SNMP agent symbolic store. </p> <p>For defaults see the options in <code class="code">symbolic_store_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_target_cache">target_cache() = [target_cache_opt()]</code></strong></dt> <dd> <p><code class="code">target_cache_opt() = {verbosity, verbosity()}</code></p> <p>Defines options specific for the SNMP agent target cache. </p> <p>For defaults see the options in <code class="code">target_cache_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_config">agent_config() = [agent_config_opt()] &lt;mandatory&gt;</code></strong></dt> <dd> <p><code class="code">agent_config_opt() = {dir, agent_config_dir()} | {force_load, force_load()} | {verbosity, verbosity()}</code></p> <p>Defines specific config related options for the SNMP agent. </p> <p>For defaults see the options in <code class="code">agent_config_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="agent_config_dir">agent_config_dir = dir() &lt;mandatory&gt;</code></strong></dt> <dd> <p>Defines where the SNMP agent configuration files are stored.</p> </dd> <dt><strong> <code class="code" id="agent_force_load">force_load() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>If <code class="code">true</code> the configuration files are re-read during start-up, and the contents of the configuration database ignored. Thus, if <code class="code">true</code>, changes to the configuration database are lost upon reboot of the agent. </p> <p>Default is <code class="code">false</code>.</p> </dd> </dl>  <p id="manager_opts_and_types">Manager specific config options and types:</p> <dl> <dt><strong> <code class="code" id="manager_server">server() = [server_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">server_opt() = {timeout, server_timeout()} | {verbosity, verbosity()}</code></p> <p>Specifies the options for the manager server process.</p> <p>Default is <code class="code">silence</code>.</p> </dd> <dt><strong> <code class="code" id="manager_server_timeout">server_timeout() = integer() &lt;optional&gt;</code></strong></dt> <dd> <p>Asynchronous request cleanup time. For every requests, some info is stored internally, in order to be able to deliver the reply (when it arrives) to the proper destination. If the reply arrives, this info will be deleted. But if there is no reply (in time), the info has to be deleted after the <strong>best before</strong> time has been passed. This cleanup will be performed at regular intervals, defined by the <code class="code">server_timeout()</code> time. The information will have a <strong>best before</strong> time, defined by the <code class="code">Expire</code> time given when calling the request function (see <code><a href="snmpm#async_get">async_get</a></code>, <code><a href="snmpm#async_get_next">async_get_next</a></code> and <code><a href="snmpm#async_set">async_set</a></code>).</p> <p>Time in milli-seconds.</p> <p>Default is <code class="code">30000</code>.</p> </dd> <dt><strong> <code class="code" id="manager_config">manager_config() = [manager_config_opt()] &lt;mandatory&gt;</code></strong></dt> <dd> <p><code class="code">manager_config_opt() = {dir, manager_config_dir()} | {db_dir, manager_db_dir()} | {db_init_error, db_init_error()} | {repair, manager_repair()} | {auto_save, manager_auto_save()} | {verbosity, verbosity()}</code></p> <p>Defines specific config related options for the SNMP manager. </p> <p>For defaults see the options in <code class="code">manager_config_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="manager_config_dir">manager_config_dir = dir() &lt;mandatory&gt;</code></strong></dt> <dd> <p>Defines where the SNMP manager configuration files are stored.</p> </dd> <dt><strong> <code class="code" id="manager_config_db_dir">manager_db_dir = dir() &lt;mandatory&gt;</code></strong></dt> <dd> <p>Defines where the SNMP manager store persistent data.</p> </dd> <dt><strong> <code class="code" id="manager_config_repair">manager_repair() = false | true | force &lt;optional&gt;</code></strong></dt> <dd> <p>Defines the repair option for the persistent database (if and how the table is repaired when opened). </p> <p>Default is <code class="code">true</code>.</p> </dd> <dt><strong> <code class="code" id="manager_config_auto_save">manager_auto_save() = integer() | infinity &lt;optional&gt;</code></strong></dt> <dd> <p>The auto save interval. The table is flushed to disk whenever not accessed for this amount of time.</p> <p>Default is <code class="code">5000</code>.</p> </dd> <dt><strong> <code class="code" id="manager_irb">manager_irb() = auto | user | {user, integer()} &lt;optional&gt;</code></strong></dt> <dd> <p>This option defines how the manager will handle the sending of response (acknowledgment) to received inform-requests. </p> <ul> <li> <p><code class="code">auto</code> - The manager will autonomously send response (acknowledgment&gt; to inform-request messages.</p> </li> <li> <p><code class="code">{user, integer()}</code> - The manager will send response (acknowledgment) to inform-request messages when the <code><a href="snmpm_user#handle_inform">handle_inform</a></code> function completes. The integer is the time, in milli-seconds, that the manager will consider the stored inform-request info valid.</p> </li> <li> <p><code class="code">user</code> - Same as <code class="code">{user, integer()}</code>, except that the default time, 15000 milli-seconds, is used.</p> </li> </ul> <p>See <code><a href="snmpm_network_interface">snmpm_network_interface</a></code>, <code><a href="snmpm_user">handle_inform</a></code> and <code><a href="snmp_manager_netif">definition of the manager net if</a></code> for more info.</p> <p>Default is <code class="code">auto</code>.</p> </dd> <dt><strong> <code class="code" id="manager_mibs">manager_mibs() = [string()] &lt;optional&gt;</code></strong></dt> <dd> <p>Specifies a list of MIBs (including path) and defines which MIBs are initially loaded into the SNMP manager. </p> <p>Default is <code class="code">[]</code>.</p> </dd> <dt><strong> <code class="code" id="manager_net_if">manager_net_if() = [manager_net_if_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">manager_net_if_opt() = {module, manager_net_if_module()} | {verbosity, verbosity()} | {options, manager_net_if_options()}</code></p> <p>Defines options specific for the SNMP manager network interface entity. </p> <p>For defaults see the options in <code class="code">manager_net_if_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="manager_ni_opts">manager_net_if_options() = [manager_net_if_option()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">manager_net_if_option() = {bind_to, bind_to()} | {sndbuf, sndbuf()} | {recbuf, recbuf()} | {no_reuse, no_reuse()} | {filter, manager_net_if_filter_options()}</code></p> <p>These options are actually specific to the used module. The ones shown here are applicable to the default <code class="code">manager_net_if_module()</code>. </p> <p>For defaults see the options in <code class="code">manager_net_if_option()</code>.</p> </dd> <dt><strong> <code class="code" id="manager_ni_module">manager_net_if_module() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>The module which handles the network interface part for the SNMP manager. It must implement the <code><a href="snmpm_network_interface">snmpm_network_interface</a></code> behaviour. </p> <p>Default is <code class="code">snmpm_net_if</code>. </p> </dd> <dt><strong> <code class="code" id="manager_ni_filter_opts">manager_net_if_filter_options() = [manager_net_if_filter_option()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">manager_net_if_filter_option() = {module, manager_net_if_filter_module()}</code></p> <p>These options are actually specific to the used module. The ones shown here are applicable to the default <code class="code">manager_net_if_filter_module()</code>.</p> <p>For defaults see the options in <code class="code">manager_net_if_filter_option()</code>.</p> </dd> <dt><strong> <code class="code" id="manager_ni_filter_module">manager_net_if_filter_module() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>Module which handles the network interface filter part for the SNMP manager. Must implement the <code><a href="snmpm_network_interface_filter">snmpm_network_interface_filter</a></code> behaviour.</p> <p>Default is <code class="code">snmpm_net_if_filter</code>.</p> </dd> <dt><strong> <code class="code" id="manager_def_user_module">def_user_module() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>The module implementing the default user. See the <code><a href="snmpm_user">snmpm_user</a></code> behaviour.</p> <p>Default is <code class="code">snmpm_user_default</code>.</p> </dd> <dt><strong> <code class="code" id="manager_def_user_data">def_user_data() = term() &lt;optional&gt;</code></strong></dt> <dd> <p>Data for the default user. Passed to the user when calling the callback functions.</p> <p>Default is <code class="code">undefined</code>.</p> </dd> </dl>  <p id="common_types">Common config types:</p> <dl> <dt><strong> <code class="code" id="restart_type">restart_type() = permanent | transient | temporary</code></strong></dt> <dd> <p>See <code>supervisor</code> documentation for more info.</p> <p>Default is <code class="code">permanent</code> for the agent and <code class="code">transient</code> for the manager.</p> </dd> <dt><strong> <code class="code" id="db_init_error">db_init_error() = terminate | create | create_db_and_dir</code></strong></dt> <dd> <p>Defines what to do if the agent is unable to open an existing database file. <code class="code">terminate</code> means that the agent/manager will terminate, <code class="code">create</code> means that the agent/manager will remove the faulty file(s) and create new ones, and <code class="code">create_db_and_dir</code> means that the agent/manager will create the database file along with any missing parent directories for the database file.</p> <p>Default is <code class="code">terminate</code>.</p> </dd> <dt><strong> <code class="code" id="prio">priority() = atom() &lt;optional&gt;</code></strong></dt> <dd> <p>Defines the Erlang priority for all SNMP processes.</p> <p>Default is <code class="code">normal</code>.</p> </dd> <dt><strong> <code class="code" id="versions">versions() = [version()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">version() = v1 | v2 | v3</code></p> <p>Which SNMP versions shall be accepted/used.</p> <p>Default is <code class="code">[v1,v2,v3]</code>.</p> </dd> <dt><strong> <code class="code" id="verbosity">verbosity() = silence | info | log | debug | trace &lt;optional&gt;</code></strong></dt> <dd> <p>Verbosity for a SNMP process. This specifies now much debug info is printed.</p> <p>Default is <code class="code">silence</code>.</p> </dd> <dt><strong> <code class="code" id="bind_to">bind_to() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>If <code class="code">true</code>, net_if binds to the IP address. If <code class="code">false</code>, net_if listens on any IP address on the host where it is running. </p> <p>Default is <code class="code">false</code>.</p> </dd> <dt><strong> <code class="code" id="no_reuse">no_reuse() = bool() &lt;optional&gt;</code></strong></dt> <dd> <p>If <code class="code">true</code>, net_if does not specify that the IP and port address should be reusable. If <code class="code">false</code>, the address is set to reusable. </p> <p>Default is <code class="code">false</code>.</p> </dd> <dt><strong> <code class="code" id="recbuf">recbuf() = integer() &lt;optional&gt;</code></strong></dt> <dd> <p>Receive buffer size. </p> <p>Default value is defined by <code class="code">gen_udp</code>.</p> </dd> <dt><strong> <code class="code" id="sndbuf">sndbuf() = integer() &lt;optional&gt;</code></strong></dt> <dd> <p>Send buffer size. </p> <p>Default value is defined by <code class="code">gen_udp</code>.</p> </dd> <dt><strong> <code class="code" id="note_store">note_store() = [note_store_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">note_store_opt() = {timeout, note_store_timeout()} | {verbosity, verbosity()}</code></p> <p>Specifies the options for the SNMP note store.</p> <p>For defaults see the options in <code class="code">note_store_opt()</code>.</p> </dd> <dt><strong> <code class="code" id="ns_timeout">note_store_timeout() = integer() &lt;optional&gt;</code></strong></dt> <dd> <p>Note cleanup time. When storing a note in the note store, each note is given lifetime. Every <code class="code">timeout</code> the note_store process performs a GC to remove the expired note's. Time in milli-seconds.</p> <p>Default is <code class="code">30000</code>.</p> </dd> <dt><strong> <code class="code" id="audit_trail_log">audit_trail_log() [audit_trail_log_opt()] &lt;optional&gt;</code></strong></dt> <dd> <p><code class="code">audit_trail_log_opt() = {type, atl_type()} | {dir, atl_dir()} | {size, atl_size()} | {repair, atl_repair()} | {seqno, atl_seqno()}</code></p> <p>If present, this option specifies the options for the <strong>audit trail logging</strong>. The <code class="code">disk_log</code> module is used to maintain a wrap log. If present, the <code class="code">dir</code> and <code class="code">size</code> options are mandatory.</p> <p>If not present, audit trail logging is not used.</p> </dd> <dt><strong> <code class="code" id="atl_type">atl_type() = read | write | read_write &lt;optional&gt;</code></strong></dt> <dd> <p>Specifies what type of an audit trail log should be used. The effect of the type is actually different for the the agent and the manager. </p> <p>For the agent:</p> <ul> <li>If <code class="code">write</code> is specified, only set requests are logged. </li> <li>If <code class="code">read</code> is specified, only get requests are logged. </li> <li>If <code class="code">read_write</code>, all requests are logged. </li> </ul> <p>For the manager:</p> <ul> <li>If <code class="code">write</code> is specified, only sent messages are logged. </li> <li>If <code class="code">read</code> is specified, only received messages are logged. </li> <li>If <code class="code">read_write</code>, both outgoing and incoming messages are logged. </li> </ul> <p>Default is <code class="code">read_write</code>.</p> </dd> <dt><strong> <code class="code" id="atl_dir">atl_dir = dir() &lt;mandatory&gt;</code></strong></dt> <dd> <p>Specifies where the audit trail log should be stored.</p> <p>If <code class="code">audit_trail_log</code> specifies that logging should take place, this parameter <strong>must</strong> be defined.</p> </dd> <dt><strong> <code class="code" id="atl_size">atl_size() = {integer(), integer()} &lt;mandatory&gt;</code></strong></dt> <dd> <p>Specifies the size of the audit trail log. This parameter is sent to <code class="code">disk_log</code>. </p> <p>If <code class="code">audit_trail_log</code> specifies that logging should take place, this parameter <strong>must</strong> be defined.</p> </dd> <dt><strong> <code class="code" id="atl_repair">atl_repair() = true | false | truncate | snmp_repair &lt;optional&gt;</code></strong></dt> <dd> <p>Specifies if and how the audit trail log shall be repaired when opened. Unless this parameter has the value <code class="code">snmp_repair</code> it is sent to <code class="code">disk_log</code>. If, on the other hand, the value is <code class="code">snmp_repair</code>, snmp attempts to handle certain faults on its own. And even if it cannot repair the file, it does not truncate it directly, but instead <strong>moves it aside</strong> for later off-line analysis.</p> <p>Default is <code class="code">true</code>.</p> </dd> <dt><strong> <code class="code" id="atl_seqno">atl_seqno() = true | false &lt;optional&gt;</code></strong></dt> <dd> <p>Specifies if the audit trail log entries will be (sequence) numbered or not. The range of the sequence numbers are according to RFC 5424, i.e. 1 through 2147483647. </p> <p>Default is <code class="code">false</code>.</p> </dd> </dl> <h2><span onmouseover="document.getElementById('ghlink-modifying-the-configuration-files-id83317').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-modifying-the-configuration-files-id83317').style.visibility = 'hidden';" id="modifying-the-configuration-files">5.2 Modifying the Configuration Files</span></h2> <p>To to start the application (agent and/or manager), the configuration files must be modified and there are two ways of doing this. Either edit the files manually, or run the configuration tool as follows.</p> <p>If authentication or encryption is used (SNMPv3 only), start the <code class="code">crypto</code> application.</p> <pre data-language="erlang">
1&gt; snmp:config().

Simple SNMP configuration tool (version 4.0)
------------------------------------------------
Note: Non-trivial configurations still has to be
      done manually. IP addresses may be entered 
      as dront.ericsson.se (UNIX only) or
      123.12.13.23
------------------------------------------------

Configure an agent (y/n)? [y] 

Agent system config: 
--------------------
1. Agent process priority (low/normal/high) [normal] 
2. What SNMP version(s) should be used (1,2,3,1&amp;2,1&amp;2&amp;3,2&amp;3)? [3] 1&amp;2&amp;3
3. Configuration directory (absolute path)? [/ldisk/snmp] /ldisk/snmp/agent/conf
4. Config verbosity (silence/info/log/debug/trace)? [silence] 
5. Database directory (absolute path)? [/ldisk/snmp] /ldisk/snmp/agent/db
6. Mib storage type (ets/dets/mnesia)? [ets] 
7. Target cache verbosity (silence/info/log/debug/trace)? [silence] 
8. Symbolic store verbosity (silence/info/log/debug/trace)? [silence] 
9. Local DB verbosity (silence/info/log/debug/trace)? [silence] 
10. Local DB repair (true/false/force)? [true] 
11. Local DB auto save (infinity/milli seconds)? [5000] 
12. Error report module? [snmpa_error_logger] 
13. Agent type (master/sub)? [master] 
14. Master-agent verbosity (silence/info/log/debug/trace)? [silence] log
15. Shall the agent re-read the configuration files during startup 
    (and ignore the configuration database) (true/false)? [true] 
16. Multi threaded agent (true/false)? [false] true
17. Check for duplicate mib entries when installing a mib (true/false)? [false] 
18. Check for duplicate trap names when installing a mib (true/false)? [false] 
19. Mib server verbosity (silence/info/log/debug/trace)? [silence] 
20. Mib server cache (true/false)? [true]
21. Note store verbosity (silence/info/log/debug/trace)? [silence] 
22. Note store GC timeout? [30000] 
23. Shall the agent use an audit trail log (y/n)? [n] y
23b. Audit trail log type (write/read_write)? [read_write] 
23c. Where to store the audit trail log? [/ldisk/snmp] /ldisk/snmp/agent/log
23d. Max number of files? [10] 
23e. Max size (in bytes) of each file? [10240] 
23f. Audit trail log repair (true/false/truncate)? [true] 
24. Which network interface module shall be used? [snmpa_net_if] 
25. Network interface verbosity (silence/info/log/debug/trace)? [silence] log
25a. Bind the agent IP address (true/false)? [false] 
25b. Shall the agents IP address and port be not reusable (true/false)? [false] 
25c. Agent request limit (used for flow control) (infinity/pos integer)? [infinity] 32
25d. Receive buffer size of the agent (in bytes) (default/pos integer)? [default] 
25e. Send buffer size of the agent (in bytes) (default/pos integer)? [default]
25f. Do you wish to specify a network interface filter module (or use default) [default] 

Agent snmp config: 
------------------
1. System name (sysName standard variable) [bmk's agent] 
2. Engine ID (snmpEngineID standard variable) [bmk's engine] 
3. Max message size? [484] 
4. The UDP port the agent listens to. (standard 161) [4000] 
5. IP address for the agent (only used as id 
   when sending traps) [127.0.0.1] 
6. IP address for the manager (only this manager 
   will have access to the agent, traps are sent 
   to this one) [127.0.0.1] 
7. To what UDP port at the manager should traps 
   be sent (standard 162)? [5000] 
8. Do you want a none- minimum- or semi-secure configuration? 
   Note that if you chose v1 or v2, you won't get any security for these
   requests (none, minimum, semi_des, semi_aes) [minimum] 
making sure crypto server is started...
8b. Give a password of at least length 8. It is used to generate 
    private keys for the configuration:  kalle-anka
9. Current configuration files will now be overwritten. Ok (y/n)? [y] 

- - - - - - - - - - - - -
Info: 1. SecurityName "initial" has noAuthNoPriv read access
         and authenticated write access to the "restricted"
         subtree.
      2. SecurityName "all-rights" has noAuthNoPriv read/write
         access to the "internet" subtree.
      3. Standard traps are sent to the manager.
      4. Community "public" is mapped to security name "initial".
      5. Community "all-rights" is mapped to security name "all-rights".
The following agent files were written: agent.conf, community.conf,
standard.conf, target_addr.conf, target_params.conf, 
notify.conf, vacm.conf and usm.conf
- - - - - - - - - - - - -

Configure a manager (y/n)? [y] 

Manager system config: 
----------------------
1. Manager process priority (low/normal/high) [normal] 
2. What SNMP version(s) should be used (1,2,3,1&amp;2,1&amp;2&amp;3,2&amp;3)? [3] 1&amp;2&amp;3
3. Configuration directory (absolute path)? [/ldisk/snmp] /ldisk/snmp/manager/conf
4. Config verbosity (silence/info/log/debug/trace)? [silence] log
5. Database directory (absolute path)? [/ldisk/snmp] /ldisk/snmp/manager/db
6. Database repair (true/false/force)? [true] 
7. Database auto save (infinity/milli seconds)? [5000] 
8. Inform request behaviour (auto/user)? [auto] 
9. Server verbosity (silence/info/log/debug/trace)? [silence] log
10. Server GC timeout? [30000] 
11. Note store verbosity (silence/info/log/debug/trace)? [silence] 
12. Note store GC timeout? [30000] 
13. Which network interface module shall be used? [snmpm_net_if] 
14. Network interface verbosity (silence/info/log/debug/trace)? [silence] log
15. Bind the manager IP address (true/false)? [false] 
16. Shall the manager IP address and port be not reusable (true/false)? [false] 
17. Receive buffer size of the manager (in bytes) (default/pos integer)? [default] 
18. Send buffer size of the manager (in bytes) (default/pos integer)? [default] 
19. Shall the manager use an audit trail log (y/n)? [n] y
19b. Where to store the audit trail log? [/ldisk/snmp] /ldisk/snmp/manager/log
19c. Max number of files? [10] 
19d. Max size (in bytes) of each file? [10240] 
19e. Audit trail log repair (true/false/truncate)? [true] 
20. Do you wish to assign a default user [yes] or use
    the default settings [no] (y/n)? [n] 

Manager snmp config: 
--------------------
1. Engine ID (snmpEngineID standard variable) [bmk's engine] 
2. Max message size? [484] 
3. IP address for the manager (only used as id 
   when sending requests) [127.0.0.1] 
4. Port number (standard 162)? [5000] 
5. Configure a user of this manager (y/n)? [y] 
5b. User id? kalle
5c. User callback module? snmpm_user_default
5d. User (callback) data? [undefined] 
5. Configure a user of this manager (y/n)? [y] n
6. Configure an agent handled by this manager (y/n)? [y] 
6b. User id? kalle
6c. Target name? [bmk's agent] 
6d. Version (1/2/3)? [1] 3
6e. Community string ? [public] 
6f. Engine ID (snmpEngineID standard variable) [bmk's engine] 
6g. IP address for the agent [127.0.0.1] 
6h. The UDP port the agent listens to. (standard 161) [4000] 
6i. Retransmission timeout (infinity/pos integer)? [infinity] 
6j. Max message size? [484] 
6k. Security model (any/v1/v2c/usm)? [any] usm
6l. Security name? ["initial"] 
6m. Security level (noAuthNoPriv/authNoPriv/authPriv)? [noAuthNoPriv] authPriv
6. Configure an agent handled by this manager (y/n)? [y] n
7. Configure an usm user handled by this manager (y/n)? [y] 
7a. Engine ID [bmk's engine] 
7b. User name? hobbes
7c. Security name? [hobbes] 
7d. Authentication protocol (no/sha/md5)? [no] sha
7e  Authentication [sha] key (length 0 or 20)? [""] [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16, \
    17,18,19,20]
7d. Priv protocol (no/des/aes)? [no] des
7f  Priv [des] key (length 0 or 16)? [""] 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
7. Configure an usm user handled by this manager (y/n)? [y] n
8. Current configuration files will now be overwritten. Ok (y/n)? [y] 

- - - - - - - - - - - - -
The following manager files were written: manager.conf, agents.conf , users.conf and usm.conf
- - - - - - - - - - - - -

--------------------
Configuration directory for system file (absolute path)? [/ldisk/snmp] 
ok
    </pre> <h2><span onmouseover="document.getElementById('ghlink-starting-the-application-id83410').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-starting-the-application-id83410').style.visibility = 'hidden';" id="starting-the-application">5.3 Starting the application</span></h2> <p>Start Erlang with the command:</p> <pre data-language="erlang">erl -config /tmp/snmp/sys</pre> <p>If authentication or encryption is used (SNMPv3 only), start the <code class="code">crypto</code> application. If this step is forgotten, the agent will not start, but report a <code class="code">{config_error,{unsupported_crypto,_}}</code> error.</p> <pre data-language="erlang">
1&gt; application:start(crypto).
ok
    </pre> <pre data-language="erlang">
2&gt; application:start(snmp).
ok
    </pre> <h2> <span onmouseover="document.getElementById('ghlink-debugging-the-application-id83457').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-debugging-the-application-id83457').style.visibility = 'hidden';" id="verbosity">5.4 Debugging the application</span> </h2> <p>It is possible to debug every (non-supervisor) process of the application (both agent and manager), possibly with the exception of the net_if module(s), which could be supplied by a user of the application). This is done by calling the <code class="code">snmpa:verbosity/2</code> and <code class="code">snmpm:verbosity/2</code> function(s) and/or using <code><a href="#configuration_params">configuration parameters</a></code>. The verbosity itself has several <strong>levels</strong>: <code class="code">silence | info | log | debug | trace</code>. For the lowest verbosity <code class="code">silence</code>, nothing is printed. The higher the verbosity, the more is printed. Default value is always <code class="code">silence</code>.</p> <pre data-language="erlang">
3&gt; snmpa:verbosity(master_agent, log).
ok
5&gt; snmpa:verbosity(net_if, log).
ok
6&gt; 
%% Example of output from the agent when a get-next-request arrives:
** SNMP NET-IF LOG: 
   got packet from {147,12,12,12}:5000

** SNMP NET-IF MPD LOG: 
   v1, community: all-rights

** SNMP NET-IF LOG: 
   got pdu from {147,12,12,12}:5000 {pdu, 'get-next-request',
                                          62612569,noError,0,
                                          [{varbind,[1,1],'NULL','NULL',1}]}

** SNMP MASTER-AGENT LOG: 
   apply: snmp_generic,variable_func,[get,{sysDescr,persistent}]

** SNMP MASTER-AGENT LOG: 
   returned: {value,"Erlang SNMP agent"}

** SNMP NET-IF LOG: 
   reply pdu: {pdu,'get-response',62612569,noError,0,
                   [{varbind,[1,3,6,1,2,1,1,1,0],
                             'OCTET STRING',
                             "Erlang SNMP agent",1}]}

** SNMP NET-IF INFO: time in agent: 19711 mysec
    </pre> <p>Other useful function(s) for debugging the agent are: </p> <dl> <dt><strong><code class="code">snmpa:info/0,1</code></strong></dt> <dd> <p><code><a href="snmpa#info">info</a></code> is used to retrieve a list of miscellaneous agent information.</p> </dd> <dt><strong><code class="code">snmpa:which_aliasnames/0</code></strong></dt> <dd> <p><code><a href="snmpa#which_aliasnames">which_aliasnames</a></code> is used to retrieve a list of all alias-names known to the agent. </p> </dd> <dt><strong><code class="code">snmpa:which_tables/0</code></strong></dt> <dd> <p><code><a href="snmpa#which_tables">which_tables</a></code> is used to retrieve a list of all (MIB) tables known to the agent. </p> </dd> <dt><strong><code class="code">snmpa:which_variables/0</code></strong></dt> <dd> <p><code><a href="snmpa#which_variables">which_variables</a></code> is used to retrieve a list of all (MIB) variables known to the agent. </p> </dd> <dt><strong><code class="code">snmpa:which_notifications/0</code></strong></dt> <dd> <p><code><a href="snmpa#which_notifications">which_notifications</a></code> is used to retrieve a list of all (MIB) notifications/traps known to the agent. </p> </dd> <dt><strong><code class="code">snmpa:restart_worker/0,1</code></strong></dt> <dd> <p><code><a href="snmpa#restart_worker">restart_worker</a></code> is used to restart the worker process of a multi-threaded agent. </p> </dd> <dt><strong><code class="code">snmpa:restart_set_worker/0,1</code></strong></dt> <dd> <p><code><a href="snmpa#restart_set_worker">restart_set_worker</a></code> is used to restart the set-worker process of a multi-threaded agent. </p> </dd> <dt><strong><code class="code">snmpa_local_db:print/0,1,2</code></strong></dt> <dd> <p>For example, this function can show the counters <code class="code">snmpInPkts</code> and <code class="code">snmpOutPkts</code>.</p> </dd> </dl> <p>Another usefull way to debug the agent is to pretty-print the content of all the tables and/or variables handled directly by the agent. This can be done by simply calling: </p> <p><code class="code">snmpa:print_mib_info()</code></p> <p>See <code><a href="snmpa#print_mib_info">print_mib_info/0</a></code>, <code><a href="snmpa#print_mib_tables">print_mib_tables/0</a></code> or <code><a href="snmpa#print_mib_variables">print_mib_variables/0</a></code> for more info. </p>
<div class="_attribution">
  <p class="_attribution-p">
     20102017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
