
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CSS Conditional Rules&#58; Using Feature Queries - CSS - W3cubDocs</title>
  
  <meta name="description" content="Feature queries are created using the CSS at-rule &#64;supports, and are useful as they give web developers a way to test to see if a browser has &hellip;">
  <meta name="keywords" content="using, feature, queries, css, conditional, rules">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/css/css_conditional_rules/using_feature_queries.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/css.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/css/" class="_nav-link" title="" style="margin-left:0;">CSS</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Using feature queries</h1>
<div class="section-content"><p><strong>Feature queries</strong> are created using the CSS at-rule <a href="../@supports">@supports</a>, and are useful as they give web developers a way to test to see if a browser has support for a certain feature, and then provide CSS that will only run based on the result of that test. In this guide you will learn how to implement progressive enhancement using feature queries.</p></div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content">
<p>CSS feature queries are part of the <a href="https://drafts.csswg.org/css-conditional-3/" target="_blank">CSS Conditional Rules module</a>, which also contains the media query <a href="../@media">@media</a> rule; when you use feature queries, you will find they behave in a similar way to media queries. The difference is that with a media query you are testing something about the environment in which the web page is running, whereas with feature queries you are testing browser support for CSS features.</p> <p>A feature query consists of the <code>@supports</code> rule, followed by the property name and value you would like to test for. You may not test for a bare property name such as <code>display</code>; the rule requires a property name and a value:</p> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre></div> <p>If you want to check if a browser supports the <code>row-gap</code> property, for example, you would write the following feature query. It doesn't matter which value you use in a lot of cases: if all you want is to check that the browser supports this property, then any valid value will do.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/simple.html" loading="lazy"></iframe> <p>The value part of the property value pair matters more if you are testing for new values of a particular property. A good example would be the <code>display</code> property. All browsers support <code>display</code>, as <code>display: block</code> dates back to CSS1. However the values <code>display: flex</code> and <code>display: grid</code> are newer. There are often additional values added to properties in CSS, and so the fact that you have to test for property and value means that you can detect support for these values.</p>
</div></section><section aria-labelledby="testing_for_lack_of_support"><h2 id="testing_for_lack_of_support">Testing for lack of support</h2>
<div class="section-content">
<p>In addition to asking the browser if it supports a feature, you can test for the opposite by adding in the <code>not</code> keyword:</p> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre></div> <p>The CSS inside the following example feature query will run if the browser does not support <code>row-gap</code>.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/not.html" loading="lazy"></iframe>
</div></section><section aria-labelledby="testing_for_more_than_one_feature"><h2 id="testing_for_more_than_one_feature">Testing for more than one feature</h2>
<div class="section-content">
<p>You may need to test support for more than one property in your feature query. To do so, you can include a list of features to test for, separated by <code>and</code> keywords:</p> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">property1</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">property2</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre></div> <p>For example, if the CSS you want to run requires that the browser supports CSS Shapes and CSS Grid, you could create a rule which checks for both of these things. The following rule will only return true if both <code>shape-outside: circle()</code> and <code>display: grid</code> are supported by the browser.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/and.html" loading="lazy"></iframe> <p>You can also use <code>or</code>, if one property out of a selection could match to enable the CSS you want to use:</p> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">property1</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span><span class="token property">property2</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre></div> <p>This can be particularly useful if a feature is vendor prefixed, as you can test for the standard property plus any vendor prefixes.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/or.html" loading="lazy"></iframe>
</div></section><section aria-labelledby="limitations_of_feature_queries"><h2 id="limitations_of_feature_queries">Limitations of feature queries</h2>
<div class="section-content">
<p>The <code>@supports</code> rule tests to see if the browser can parse one or more property/value pairs, and therefore if it claims to support the feature(s). If the property and value pair is understood by the browser it returns a positive response. Therefore feature queries cannot be used to check if a browser supports a thing properly, and without bugs!</p> <p>In addition, feature queries cannot test for <em>partial implementations</em>. A good example of this is the <code>gap</code> property. All browsers that support CSS Grid support <code>gap</code> in CSS Grid, however only Firefox supports <code>gap</code> in Flexbox. If you test for the <code>gap</code> property, because you want to use it in Flexbox, you will get a positive response even though it is not implemented.</p>
</div></section><section aria-labelledby="how_to_use_feature_queries_for_progressive_enhancement"><h2 id="how_to_use_feature_queries_for_progressive_enhancement">How to use feature queries for progressive enhancement</h2>
<div class="section-content">
<p>Feature queries are an incredibly useful tool when progressively enhancing a site. They enable you to provide a good solution for all browsers, and an enhanced solution for those browsers that support newer features.</p> <p>However, there are browsers that don't support feature queries but also have no support for a feature we want to use. For example, we might want to use CSS Grid, which is not supported in IE11. We can't create a fallback by checking for browsers which do not have support, as IE11 doesn't support feature queries either! In practice however, when using feature queries for progressive enhancement, this doesn't matter. You do however need to structure your CSS in a certain way, writing CSS for non-supporting browsers and overwriting it with the CSS inside the feature query.</p> <p>Let's walk through a very simple example where feature queries come in handy, which uses them in the way described above.</p> <p>Let's say we want to create a layout of three boxes in a row, and ideally we would like to use <a href="../css_grid_layout">CSS Grid Layout</a>. However, we would like to have a layout for older browsers using floats. We can start by creating that floated layout with the following code, which gives us three columns.</p>
<iframe width="100%" height="900" src="https://mdn.github.io/css-examples/feature-queries/step1.html" loading="lazy"></iframe> <p>When browsers don't understand a CSS property or value, they ignore it. So we could start enhancing our layout by using CSS Grid. Browsers that do not support grid will ignore the <code>grid</code> value of the <code>display</code> property. Once a floated item becomes a grid item, the float is removed — something you can read more about in <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers">Supporting Older Browsers</a>. Therefore the grid version should just overwrite the floated one.</p> <p>We have a problem however, caused by the <code>width</code> property we used on our floated items to make them display as three columns. This is now interpreted by grid as being the width of the column track, not the width of the container as it is for the float.</p>
<iframe width="100%" height="900" src="https://mdn.github.io/css-examples/feature-queries/step2.html" loading="lazy"></iframe> <p>What we need is a way to remove the width if <code>display: grid</code> is supported. This is exactly the situation feature queries solve. We can set the <code>width</code> back to <code>auto</code> if grid is supported.</p>
<iframe width="100%" height="900" src="https://mdn.github.io/css-examples/feature-queries/step3.html" loading="lazy"></iframe> <p>In the above scenario, it doesn't matter that IE11 doesn't support feature queries or CSS Grid — it would get the floated version anyway, which is then overwritten by browsers that do support grid.</p> <p>An alternate way to write the above code is to wrap all of the grid code in a feature query as follows.</p>
<iframe width="100%" height="900" src="https://mdn.github.io/css-examples/feature-queries/step4.html" loading="lazy"></iframe> <p>This may mean you have a little more code but comes with the benefit of being able to test the fallback by misspelling the property or value name. You can try this in the live example above by changing <code>display: grid</code> in the <code>@supports</code> rule to <code>display: grip</code> or similar.</p>
</div></section><section aria-labelledby="summary"><h2 id="summary">Summary</h2>
<div class="section-content"><p>Feature Queries can help you start to use newer features by enhancing a simpler display of the site used for older browsers. As you can wrap up the CSS for supporting browsers, you do not run the risk of styles used for the fallback display leaking through, as shown in our grid example above.</p></div></section><section aria-labelledby="see_also"><h3 id="see_also">See also</h3>
<div class="section-content"><ul> <li>The <a href="../@supports">@supports</a> rule</li> <li>Learn Layout: <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers">Supporting Older Browsers</a>
</li> <li><a href="../css_grid_layout/css_grid_and_progressive_enhancement">CSS Grid Layout and Progressive Enhancement</a></li> <li><a href="https://hacks.mozilla.org/2016/08/using-feature-queries-in-css/" target="_blank">Using Feature Queries in CSS</a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Conditional_Rules/Using_Feature_Queries" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Conditional_Rules/Using_Feature_Queries</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
