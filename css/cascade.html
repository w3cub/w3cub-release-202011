
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Cascade - CSS - W3cubDocs</title>
  
  <meta name="description" content="The cascade is an algorithm that defines how user agents combine property values originating from different sources. The cascade defines the origin &hellip;">
  <meta name="keywords" content="introducing, css, cascade">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/css/cascade.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-1810d67ab7e57be09d8247710d2feb6954566959eb82322d1fee3a0c9156f56974b78ebaa9928774f00767342bbe58b0799d91fcc336b92b319170b196f9b64b.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/css.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/css/" class="_nav-link" title="" style="margin-left:0;">CSS</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Introducing the CSS Cascade</h1>
<div class="section-content">
<p>The <strong>cascade</strong> is an algorithm that defines how user agents combine property values originating from different sources. The cascade defines the origin and layer that takes precedence when declarations in more than one <a href="#origin_types">origin</a> or <a href="@layer">cascade layer</a> set a value for a property on an element.</p> <p>The cascade lies at the core of CSS, as emphasized by the name: <em><strong>Cascading</strong></em> Style Sheets. When a <a href="css_selectors">selector</a> matches an element, the property value from the origin with the highest precedence gets applied, even if the selector from a lower precedence origin or layer has greater <a href="specificity">specificity</a>.</p> <p>This article explains what the cascade is and the order in which <a href="https://developer.mozilla.org/en-US/docs/Glossary/CSS">CSS</a> <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration">declarations</a> cascade, covering cascade layers and origin type. Understanding origin precedence is key to understanding the cascade.</p>
</div>
<section aria-labelledby="origin_types"><h2 id="origin_types">Origin types</h2>
<div class="section-content">
<p>The CSS cascade algorithm's job is to select CSS declarations in order to determine the correct values for CSS properties. CSS declarations come from different origin types: <strong><a href="#user-agent_stylesheets">User-agent stylesheets</a></strong>, <strong><a href="#author_stylesheets">Author stylesheets</a></strong>, and <strong><a href="#user_stylesheets">User stylesheets</a></strong>.</p> <p>Though style sheets come from these different origins and can be within different <a href="@layer">layers</a> in each of these origins, they overlap in scope; to make this work, the cascade algorithm defines how they interact. Before addressing the interactions, let's define some terms:</p>
</div></section><section aria-labelledby="user-agent_stylesheets"><h3 id="user-agent_stylesheets">User-agent stylesheets</h3>
<div class="section-content">
<p>User-agent, or browsers, have basic style sheets that give default styles to any document. These style sheets are named <strong>user-agent stylesheets</strong>. Most browsers use actual stylesheets for this purpose, while others simulate them in code. The end result is the same.</p> <p>Some browsers let users modify the user-agent stylesheet, but this is rare and not something that can be controlled.</p> <p>Although some constraints on user-agent stylesheets are set by the HTML specification, browsers have a lot of latitude: that means some differences exist between browsers. To simplify the development process, Web developers may use a CSS reset stylesheet, such as <a href="https://github.com/necolas/normalize.css" rel=" noopener">normalize.css</a>, which sets common properties values to a known state for all browsers before beginning to make alterations to suit their specific needs.</p> <p>Unless the user-agent stylesheet includes an <a href="specificity#the_!important_exception"><code>!important</code></a> next to a property, making it "important", styles declared by author styles, including a reset style sheet, take precedence over the user-agent styles, regardless of the specificity of the associated selector.</p>
</div></section><section aria-labelledby="author_stylesheets"><h3 id="author_stylesheets">Author stylesheets</h3>
<div class="section-content"><p><strong>Author stylesheets</strong> are the most common type of style sheet; these are the styles written by web developers. These styles can reset user-agent styles, as noted above, and define the styles for the design of a given web page or application. The author, or web developer, defines the styles for the document using one or more linked or imported stylesheets, <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style"><code>&lt;style&gt;</code></a> blocks, and inline styles defined with the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-style"><code>style</code></a> attribute. These author styles define the look and feel of the website — its theme.</p></div></section><section aria-labelledby="user_stylesheets"><h3 id="user_stylesheets">User stylesheets</h3>
<div class="section-content"><p>In most browsers, the user (or reader) of the web site can choose to override styles using a custom <strong>user stylesheet</strong> designed to tailor the experience to the user's wishes. Depending on the user agent, <a href="https://www.thoughtco.com/user-style-sheet-3469931" rel=" noopener">user styles can be configured</a> directly or added via browser extensions.</p></div></section><section aria-labelledby="cascade_layers"><h3 id="cascade_layers">Cascade layers</h3>
<div class="section-content">
<p>The cascade order is based on origin type. The cascade within each origin type is based on the declaration order of <a href="@layer">cascade layers</a> within that type. For all origins - user-agent, author, or user - styles can be declared within or outside of named or anonymous layers. When declared using <a href="@import"><code>layer</code>, <code>layer()</code></a> or <a href="@layer"><code>@layer</code></a>, styles are placed into the specified named layer, or into an anonymous layer if no name is provided. Styles declared outside of a layer are treated as being part of an anonymous last declared layer.</p> <p>Let's take a look at cascading origin type before diving into cascade layers within each origin type.</p>
</div></section><section aria-labelledby="cascading_order"><h2 id="cascading_order">Cascading order</h2>
<div class="section-content">
<p>The cascading algorithm determines how to find the value to apply for each property for each document element. The following steps apply to the cascading algorithm:</p> <ol> <li>
<strong>Relevance</strong>: It first filters all the rules from the different sources to keep only the rules that apply to a given element. That means rules whose selector matches the given element and which are part of an appropriate <code>media</code> at-rule.</li> <li>
<strong>Origin and importance</strong>: Then it sorts these rules according to their importance, that is, whether or not they are followed by <code>!important</code>, and by their origin. Ignoring layers for the moment, the cascade order is as follows: <div class="table-scroll"><div class="_table"><table> <thead> <tr> <th>Order (low to high)</th> <th>Origin</th> <th>Importance</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>user-agent (browser)</td> <td>normal</td> </tr> <tr> <td>2</td> <td>user</td> <td>normal</td> </tr> <tr> <td>3</td> <td>author (developer)</td> <td>normal</td> </tr> <tr> <td>4</td> <td>CSS @keyframe animations</td> <td></td> </tr> <tr> <td>5</td> <td>author (developer)</td> <td><code>!important</code></td> </tr> <tr> <td>6</td> <td>user</td> <td><code>!important</code></td> </tr> <tr> <td>7</td> <td>user-agent (browser)</td> <td><code>!important</code></td> </tr> <tr> <td>8</td> <td>CSS transitions</td> <td></td> </tr> </tbody> </table></div></div> </li> <li>
<strong>Specificity:</strong> In case of equality with an origin, the <a href="specificity">specificity</a> of a rule is considered to choose one value or another. The specificity of the selectors are compared, and the declaration with the highest specificity wins.</li> <li>
<strong>Order of appearance</strong>: In the origin with precedence, if there are competing values for a property that are in style block matching selectors of equal specificity, the last declaration in the style order is applied.</li> </ol> <p>The cascade is in ascending order, meaning animations have precedence of normal values, whether those are declared in user, author, or user-agent styles, important values take precedence over animations, and transitions have precedence over important values.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> <strong>Transitions and animations</strong></p> <p>Property values set by animation <a href="@keyframes"><code>@keyframes</code></a> are more important than all normal styles (those with no <a href="specificity#the_!important_exception"><code>!important</code></a> set).</p> <p>Property values being set in a <a href="transition"><code>transition</code></a> take precedence over all other values set, even those marked with <code>!important</code>.</p> </div> <p>The cascade algorithm is applied <em>before</em> the specificity algorithm, meaning if <code>:root p { color: red;}</code> is declared in the user stylesheet (line 2) and a less specific <code>p {color: blue;}</code> is in the author stylesheet (line 3), the paragraphs will be blue.</p>
</div></section><section aria-labelledby="basic_example"><h2 id="basic_example">Basic example</h2>
<div class="section-content">
<p>Before taking a deeper look at how cascade layers impact the cascade, let's look at an example involving multiple sources of CSS across the various origins, and work through the steps of the cascade algorithm:</p> <p>Here we have a user agent style sheet, two author style sheets, a user stylesheet, and inline styles within the HTML:</p> <p><strong>User-agent CSS:</strong></p> <div class="code-example"><pre data-language="css"><span class="token selector">li</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px <span class="token punctuation">}</span>
</pre></div> <p><strong>Author CSS 1:</strong></p> <div class="code-example"><pre data-language="css"><span class="token selector">li</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 0 <span class="token punctuation">}</span> <span class="token comment">/* This is a reset */</span>
</pre></div> <p><strong>Author CSS 2:</strong></p> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@media</span> screen</span> <span class="token punctuation">{</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> print</span> <span class="token punctuation">{</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 1px <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> namedLayer</span> <span class="token punctuation">{</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p><strong>User CSS:</strong></p> <div class="code-example"><pre data-language="css"><span class="token selector">.specific</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 1em <span class="token punctuation">}</span>
</pre></div> <p><strong>HTML:</strong></p> <div class="code-example"><pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>specific<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sup</span><span class="token punctuation">&gt;</span></span>st<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sup</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sup</span><span class="token punctuation">&gt;</span></span>nd<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sup</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</pre></div> <p>In this case, declarations inside <code>li</code> and <code>.specific</code> rules should apply.</p> <p>Once again, there are four steps in the cascade algorithm, in order:</p> <ol> <li>Relevance</li> <li>Origin and importance</li> <li>Specificity</li> <li>Order of appearance</li> </ol> <p>The <code>1px</code> is for print media. Due to lack of <em>relevance</em> based on its media type, it is removed from consideration.</p> <p>No declaration is marked as <code>!important</code>, so the precedence order is author style sheets over user style sheets over user-agent stylesheet. Based on <em>origin and importance</em>, the <code>1em</code> from the user stylesheet and the <code>10px</code> from the user-agent stylesheet are removed from consideration.</p> <p>Note that even though the user style on <code>.specific</code> of <code>1em</code> has a higher specificity, it's a normal declaration in a user style sheet. As such, it has a lower precedence than any author styles, and gets removed by the origin and importance step of the algorithm before specificity even comes into play.</p> <p>There are three declarations in author stylesheets:</p> <div class="code-example"><pre data-language="css"><span class="token selector">li</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 0 <span class="token punctuation">}</span> <span class="token comment">/* from author css 1 */</span>
</pre></div> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@media</span> screen</span> <span class="token punctuation">{</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span> <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <div class="code-example"><pre data-language="css"><span class="token atrule"><span class="token rule">@layer</span> namedLayer</span> <span class="token punctuation">{</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>The last one, the <code>5px</code> is part of a cascade layer. Normal declarations in layers have lower precedence than normal styles not in a layer within the same origin type. This is also removed by step 2 of the algorithm, <em>origin and importance</em>.</p> <p>This leaves the <code>0</code> and the <code>3px</code>, which both have the same selector, hence the same <em>specificity</em>.</p> <p>We then look at <em>order of appearance</em>. The second one, the last of the two unlayered author styles, wins.</p> <div class="code-example"><pre data-language="css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 3px
</pre></div> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> The declaration defined in the user CSS, while it may have greater specificity, is not chosen as the cascade algorithm's <em>origin and importance</em> is applied before the <em>specificity</em> algorithm. The declaration defined in a cascade layer, though it may come later in the code, will not have precedence either as normal styles in cascade layers have less precedence than normal unlayered styles. <em>Order of appearance</em> only matters when both origin, importance, and specificity are equal.</p> </div>
</div></section><section aria-labelledby="author_styles_inline_styles_layers_and_precedence"><h2 id="author_styles_inline_styles_layers_and_precedence">Author styles: inline styles, layers, and precedence</h2>
<div class="section-content">
<p>The <a href="#cascading_order">table in Cascading order</a> provided a precedence order overview. The table summarized the user-agent, user, and author origin type styles in two lines each with "origin type - normal" and "origin type - !important". The precedence within each origin type is more nuanced. Styles can be contained within layers within their origin type, and, with author styles, there is also the issue of where inline styles land in the cascade order.</p> <p>The order in which layers are declared is important in determining precedence. Normal styles in a layer take precedence over styles declared in prior layers; with normal styles declared outside of any layer taking precedence over normal layered styles regardless of specificity.</p> <p>In this example, the author used CSS's <a href="@import"><code>@import</code></a> rule to import five external style sheets within a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style"><code>&lt;style&gt;</code></a> information element.</p> <div class="code-example"><pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token atrule"><span class="token rule">@import</span> unlayeredStyles.css<span class="token punctuation">;</span></span>
  <span class="token atrule"><span class="token rule">@import</span> AStyles.css <span class="token function">layer</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token atrule"><span class="token rule">@import</span> moreUnlayeredStyles.css<span class="token punctuation">;</span></span>
  <span class="token atrule"><span class="token rule">@import</span> BStyles.css <span class="token function">layer</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token atrule"><span class="token rule">@import</span> CStyles.css <span class="token function">layer</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 1em <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</pre></div> <p>and then in the body of the document we have inline styles:</p> <div class="code-example"><pre data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">line-height</span><span class="token punctuation">:</span> 1.6em<span class="token punctuation">;</span> <span class="token property">text-decoration</span><span class="token punctuation">:</span> overline <span class="token important">!important</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</pre></div> <p> In the CSS code block above, three cascade layers named "A", "B", and "C", were created, in that order. Three stylesheets were imported directly into layers and two were imported without creating or being assigned to a layer. The "All unlayered styles" in the list below (normal author style precedence - order 4) includes styles from these two stylesheets and the additional unlayered CSS style blocks. In addition, there are two inline styles, a normal <code>line-height</code> declaration and an important <code>text-decoration</code> declaration: </p> <div class="table-scroll"><div class="_table"><table> <thead> <tr> <th>Order (low to high)</th> <th>Author style</th> <th>Importance</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>A - first layer</td> <td>normal</td> </tr> <tr> <td>2</td> <td>B - second layer</td> <td>normal</td> </tr> <tr> <td>3</td> <td>C - last layer</td> <td>normal</td> </tr> <tr> <td>4</td> <td>All unlayered styles</td> <td>normal</td> </tr> <tr> <td>5</td> <td>inline <code>style</code>
</td> <td>normal</td> </tr> <tr> <td>6</td> <td>animations</td> <td></td> </tr> <tr> <td>7</td> <td>All unlayered styles</td> <td><code>!important</code></td> </tr> <tr> <td>8</td> <td>C - last layer</td> <td><code>!important</code></td> </tr> <tr> <td>9</td> <td>B - second layer</td> <td><code>!important</code></td> </tr> <tr> <td>10</td> <td>A - first layer</td> <td><code>!important</code></td> </tr> <tr> <td>11</td> <td>inline <code>style</code>
</td> <td><code>!important</code></td> </tr> <tr> <td>12</td> <td>transitions</td> <td></td> </tr> </tbody> </table></div></div> <p>In all origin types, the non important styles contained in layers have the lowest precedence. In our example, the normal styles associated with the first declared layer (A) have lower precedence than normal styles in the second declared layer (B), which have lower precedence than normal styles in the third declared layer (C). These layered styles have lower precedence than all normal unlayered styles, which includes normal styles from <code>unlayeredStyles.css</code>, <code>moreUnlayeredStyles.css</code>, and the <code>color</code> of <code>p</code> in the <code>&lt;style&gt;</code> itself.</p> <p>If any of the layered styles in A, B, or C, have selectors with higher specificity matching an element, similar to <code>:root body p { color: black;}</code>, it doesn't matter. Those declarations are removed from consideration because of <em>origin</em>; normal layered styles have less precedence than normal unlayered styles. If, however, the more specific selector <code>:root body p { color: black;}</code> was found in <code>unlayeredStyles.css</code>, as both <em>origin and importance</em> have the same precedence, <em>specificity</em> would mean the more specific, black declaration would win.</p> <p>The layer order of precedence is inverted for styles declared as <code>!important</code>. Important styles declared in a layer take precedence over important styles declared outside of a layer. Important styles in the first declared layer (A) take precedence over important declarations found in layer B, which takes precedence over C, which have precedence over important declarations in the unlayered styles.</p>
</div></section><section aria-labelledby="inline_styles"><h3 id="inline_styles">Inline styles</h3>
<div class="section-content">
<p>Only relevant to author styles are inline styles, declared with the <code>style</code> attribute. Normal inline styles take precedence over any other normal author styles, no matter the specificity of the selector. If <code>line-height: 2;</code> were declared in a <code>:root body p</code> selector block in any of the five imported stylesheets, the line height would still be <code>1.6</code>.</p> <p>Normal inline styles take precedence over any other normal author styles unless the property is being altered by a CSS animation.</p> <p>All important inline styles take precedence over all author styles, important and not, inline and not, layered and not. Important styles also take precedence over animated properties, but not transitioning properties. Three things can override an important inline style: 1) an important user style, 2) an important user agent style, or 3) a property value being transitioned.</p>
</div></section><section aria-labelledby="importance_and_layers"><h3 id="importance_and_layers">Importance and layers</h3>
<div class="section-content">
<p>The origin type precedence order is inverted for important styles. Important styles declared outside of any cascade layer have lower precedence than those declared as part of a layer. Important values that come in early layers have precedence over important styles declared in subsequent cascade layers.</p> <p>Take for example the following CSS:</p> <div class="code-example"><pre data-language="css"><span class="token selector">p</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> B</span> <span class="token punctuation">{</span>
  <span class="token selector">:root p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>Even though the red is declared first and has a less specific selector, because unlayered CSS takes precedence over layered CSS, the paragraph will be red. Had we included an inline style on the paragraph setting it to a different color, such as <code>&lt;p style="color: black"&gt;</code>, the paragraph would be black.</p> <p>When we add <code>!important</code> to this bit of CSS, the precedence order is reversed with the stylesheet:</p> <div class="code-example"><pre data-language="css"><span class="token selector">p</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> B</span> <span class="token punctuation">{</span>
  <span class="token selector">:root p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>Now the paragraph will be blue. The <code>!important</code> in the earliest declared layer takes precedence of subsequent layers and unlayered important declarations. If the inline style contained !important, such as <code>&lt;p style="color: black !important"&gt;</code>, again the paragraph would be black. Inline importance does take precedence over all other author declared <code>!important</code> declarations, no matter the specificity.</p> <div class="notecard note" id="sect3"> <p><strong>Note:</strong> <code>!important</code> reverses the precedence of cascade layers. For this reason, rather than using <code>!important</code> to override external styles, import frameworks, third party styles, widget stylesheets, etc., into layers, demoting their precedence. <code>!important</code> should only be used sparingly, if ever, to guard required styles against later overrides, in the first declared layer.</p> </div> <p>Styles that are transitioning take precedence over all important styles, no matter who or how they are declared.</p>
</div></section><section aria-labelledby="complete_cascade_order"><h2 id="complete_cascade_order">Complete cascade order</h2>
<div class="section-content">
<p>Now that we have a better understanding of origin type and cascade layer precedence, we realize the table in <a href="#cascading_order">Cascading order</a> could have more accurately been represented by the following table:</p> <div class="table-scroll"><div class="_table"><table> <thead> <tr> <th>Precedence Order<br>(low to high)</th> <th>Style Origin</th> <th>Importance</th> </tr> </thead> <tbody> <tr> <td rowspan="3">1</td> <td>user-agent - first declared layer</td> <td rowspan="3">normal</td> </tr> <tr> <td>user-agent - last declared layer</td> </tr> <tr> <td>user-agent - unlayered styles</td> </tr> <tr> <td rowspan="3">2</td> <td>user - first declared layer</td> <td rowspan="3">normal</td> </tr> <tr> <td>user - last declared layer</td> </tr> <tr> <td>user - unlayered styles</td> </tr> <tr> <td rowspan="4">3</td> <td>author - first declared layer</td> <td rowspan="4">normal</td> </tr> <tr> <td>author - last declared layer</td> </tr> <tr> <td>author - unlayered styles</td> </tr> <tr> <td>inline <code>style</code>
</td> </tr> <tr> <td>4</td> <td>animations</td> <td></td> </tr> <tr> <td rowspan="4">5</td> <td>author - unlayered styles</td> <td rowspan="4"><code>!important</code></td> </tr> <tr> <td>author - last declared layer</td> </tr> <tr> <td>author - first declared layer</td> </tr> <tr> <td>inline <code>style</code>
</td> </tr> <tr> <td rowspan="3">6</td> <td>user - unlayered styles</td> <td rowspan="3"><code>!important</code></td> </tr> <tr> <td>user - last declared layer</td> </tr> <tr> <td>user - first declared layer</td> </tr> <tr> <td rowspan="3">7</td> <td>user-agent - unlayered styles</td> <td rowspan="3"><code>!important</code></td> </tr> <tr> <td>user-agent - last declared layer</td> </tr> <tr> <td>user-agent - first declared layer</td> </tr> <tr> <td>8</td> <td>transitions</td> <td></td> </tr> </tbody> </table></div></div>
</div></section><section aria-labelledby="which_css_entities_participate_in_the_cascade"><h2 id="which_css_entities_participate_in_the_cascade">Which CSS entities participate in the cascade</h2>
<div class="section-content">
<p>Only CSS property/value pair declarations participate in the cascade. This means that <a href="at-rule">at-rules</a> containing entities other than declarations, such as a <a href="@font-face"><code>@font-face</code></a> rule containing <em>descriptors</em>, don't participate in the cascade.</p> <p>For the most part, the properties and descriptors defined in at-rules don't participate in the cascade. Only at-rules as a whole participate in the cascade. For example, within a <code>@font-face</code> rule, font names are identified by <a href="@font-face/font-family"><code>font-family</code></a> descriptors. If several <code>@font-face</code> rules with the same descriptor are defined, only the most appropriate <code>@font-face</code>, as a whole, is considered. If more than one are identically appropriate, the entire <code>@font-face</code> declarations are compared using steps 1, 2, and 4 of the algorithm (there is no specificity when it comes to at-rules).</p> <p>While the declarations contained in most at-rules — such as those in <a href="@media"><code>@media</code></a>, <a href="@document"><code>@document</code></a>, or <a href="@supports"><code>@supports</code></a> — participate in the cascade, the at-rule may make an entire selector not relevant, as we saw with the print style in the <a href="#basic-example">basic example</a>.</p> <p>Declarations in <a href="@keyframes"><code>@keyframes</code></a> don't participate in the cascade. As with <code>@font-face</code>, only the <code>@keyframes</code> as a whole is selected via the cascade algorithm. The <a href="#css-animations-and-the-cascade">precedence order of animation is described below</a>.</p> <p>When it comes to <a href="@import"><code>@import</code></a>, the <code>@import</code> doesn't participate itself in the cascade, but all of the imported styles do participate. If the <code>@import</code> defines a <a href="@layer">named or anonymous layer</a>, the contents of the imported stylesheet are placed into the specified layer. All other CSS imported with <code>@import</code> is which is treated as the last declared layer. This was discussed above.</p> <p>Finally, <a href="@charset"><code>@charset</code></a> obeys specific algorithms and isn't affected by the cascade algorithm.</p>
</div></section><section aria-labelledby="css_animations_and_the_cascade"><h2 id="css_animations_and_the_cascade">CSS animations and the cascade</h2>
<div class="section-content">
<p><a href="css_animations">CSS animations</a>, using <a href="@keyframes"><code>@keyframes</code></a> at-rules, define animations between states. Keyframes don't cascade, meaning that at any given time CSS takes values from only one single <a href="@keyframes"><code>@keyframes</code></a>, and never mixes multiple ones together.</p> <p>If the several keyframe animations are defined with the same animation name, the last defined <code>@keyframes</code> in the origin and layer with the greatest precedence. Only one <code>@keyframes</code> definition is used, even if the <code>@keyframes</code> animate different property. <code>@keyframes</code> with the same name are never combined.</p> <div class="code-example"><pre data-language="css"><span class="token selector">p</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> infinite 5s alternate repeatedName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> repeatedName</span> <span class="token punctuation">{</span>
  <span class="token selector">from</span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token selector">to</span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@layer</span> A</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@keyframes</span> repeatedName</span> <span class="token punctuation">{</span>
    <span class="token selector">from</span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token selector">to</span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@layer</span> B</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@keyframes</span> repeatedName</span> <span class="token punctuation">{</span>
    <span class="token selector">from</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token selector">to</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>In this example, there are three separate animation declaration named <code>repeatedName</code>. When <code>animation: infinite 5s alternate repeatedName</code> is applied to the paragraph, only one animation is applied: the keyframe animation defined in the unlayered CSS takes precedence over the layered keyframe animation declarations based on origin and cascade layer precedence order. In this example, only the element's font size will be animated.</p> <div class="notecard note" id="sect4"> <p><strong>Note:</strong> There are no important animations, as property declarations in a <a href="@keyframes"><code>@keyframes</code></a> block that contain <code>!important</code> as part of the value are ignored.</p> </div>
</div></section><section aria-labelledby="resetting_styles"><h2 id="resetting_styles">Resetting styles</h2>
<div class="section-content">
<p>After your content has finished altering styles, it may find itself in a situation where it needs to restore them to a known state. This may happen in cases of animations, theme changes, and so forth. The CSS property <a href="all"><code>all</code></a> lets you quickly set (almost) everything in CSS back to a known state.</p> <p><code>all</code> lets you opt to immediately restore all properties to any of their initial (default) state, the state inherited from the previous level of the cascade, a specific origin (the user-agent stylesheet, the author stylesheet, or the user stylesheet), or even to clear the values of the properties entirely.</p>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.csswg.org/css-cascade/">CSS Cascading and Inheritance Level 3 <br></a></td></tr></tbody>
</table></div>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance">A very simple introduction to the CSS cascade</a></li> <li>CSS key concepts: <ul> <li><a href="syntax">CSS syntax</a></li> <li><a href="at-rule">At-rules</a></li> <li><a href="comments">Comments</a></li> <li><a href="specificity">Specificity</a></li> <li><a href="inheritance">Inheritance</a></li> <li><a href="css_box_model/introduction_to_the_css_box_model">Box model</a></li> <li><a href="layout_mode">Layout modes</a></li> <li><a href="visual_formatting_model">Visual formatting models</a></li> <li><a href="css_box_model/mastering_margin_collapsing">Margin collapsing</a></li> <li>Values <ul> <li><a href="initial_value">Initial values</a></li> <li><a href="computed_value">Computed values</a></li> <li><a href="used_value">Used values</a></li> <li><a href="actual_value">Actual values</a></li> </ul> </li> <li><a href="value_definition_syntax">Value definition syntax</a></li> <li><a href="shorthand_properties">Shorthand properties</a></li> <li><a href="replaced_element">Replaced elements</a></li> </ul> </li> </ul></div></section><aside class="metadata"><div class="metadata-content-container">
<div id="on-github" class="on-github">
<h3>Found a problem with this page?</h3>
<ul>
<li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/css/cascade/index.md" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/css/cascade/index.md?plain=1" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li>
<li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https:%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2FCascade&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder:+%60en-us%2Fweb%2Fcss%2Fcascade%60%0A*+MDN+URL:+https:%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2FCascade%0A*+GitHub+URL:+https:%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fcss%2Fcascade%2Findex.md%0A*+Last+commit:+https:%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F73f0aaca7139d817f89206de246d9d20d25a58ac%0A*+Document+last+modified:+2022-08-22T18:03:04.000Z%0A%0A%3C%2Fdetails%3E" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li>
<li>Want to fix the problem yourself? See <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li>
</ul>
</div>
<p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-08-22T18:03:04.000Z">Aug 22, 2022</time>, <a href="cascade/contributors.txt">by MDN contributors</a></p>
</div></aside><div class="_attribution">
  <p class="_attribution-p">
    © 2005–2022 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Cascade" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/Cascade</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
