
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>This - JavaScript - W3cubDocs</title>
  
  <meta name="description" content="A function&#39;s this keyword behaves a little differently in JavaScript compared to other languages. It also has some differences between strict &hellip;">
  <meta name="keywords" content="this, javascript">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/javascript/operators/this.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c8f743fc70bb84079c3cf4b71f5f99835529659c30689b2fd6193651a680f383ef1d96896f8966c7ca8a0160ffd557685bb8ad12820ec6002d60143812238086.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/javascript.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/javascript/" class="_nav-link" title="" style="margin-left:0;">JavaScript</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<header><h1>this</h1></header><div class="section-content">
<p>A function's <code>this</code> keyword behaves a little differently in JavaScript compared to other languages. It also has some differences between <a href="../strict_mode">strict mode</a> and non-strict mode.</p> <p>In most cases, the value of <code>this</code> is determined by how a function is called (runtime <a href="https://developer.mozilla.org/en-US/docs/Glossary/Binding">binding</a>). It can't be set by assignment during execution, and it may be different each time the function is called. The <a href="../global_objects/function/bind"><code>Function.prototype.bind()</code></a> method can <a href="#the_bind_method">set the value of a function's <code>this</code> regardless of how it's called</a>, and <a href="../functions/arrow_functions">arrow functions</a> don't provide their own <code>this</code> binding (it retains the <code>this</code> value of the enclosing lexical context).</p>
</div>
<section aria-labelledby="try_it"><h2 id="try_it">Try it</h2>
<div class="section-content"><iframe class="interactive is-js-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/js/expressions-this.html" title="MDN Web Docs Interactive Example" loading="lazy"></iframe></div></section><section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="vEO+yPRtYirywm1qAexsySYME4ncjT9c50P9uJxiSDc=" data-language="js"><span class="token keyword">this</span>
</pre>
</div></div></section><section aria-labelledby="value"><h3 id="value">Value</h3>
<div class="section-content"><p>In non–strict mode, <code>this</code> is always a reference to an object. In strict mode, it can be any value. For more information on how the value is determined, see the description below.</p></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content"><p>The value of <code>this</code> depends on in which context it appears: function, class, or global.</p></div></section><section aria-labelledby="function_context"><h3 id="function_context">Function context</h3>
<div class="section-content">
<p>Inside a function, the value of <code>this</code> depends on how the function is called. Think about <code>this</code> as a hidden parameter of a function — just like the parameters declared in the function definition, <code>this</code> is a binding that the language creates for you when the function body is evaluated.</p> <p>For a typical function, the value of <code>this</code> is the object that the function is accessed on. In other words, if the function call is in the form <code>obj.f()</code>, then <code>this</code> refers to <code>obj</code>. For example:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="0Ue45kMvaY6/Z6flBefX2RFajrOfJl7/FAVOryxrA1o=" data-language="js"><span class="token keyword">function</span> <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj1"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj2"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

obj1<span class="token punctuation">.</span>getThis <span class="token operator">=</span> getThis<span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>getThis <span class="token operator">=</span> getThis<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'obj1', getThis: [Function: getThis] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'obj2', getThis: [Function: getThis] }</span>
</pre>
</div> <p>Note how the function is the same, but based on how it's invoked, the value of <code>this</code> is different. This is analogous to how function parameters work.</p> <p>The value of <code>this</code> is not the object that has the function as an own property, but the object that is used to call the function. You can prove this by calling a method of an object up in the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">prototype chain</a>.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="yM4tcB15+RoEDU8liNfGasa8sJKlV2HX6Y5NA5L1l2M=" data-language="js"><span class="token keyword">const</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> obj1<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj3"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'obj3' }</span>
</pre>
</div> <p>The value of <code>this</code> always changes based on how a function is called, even when the function was defined on an object at creation:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="YEsB4dPpkLjmKHrVLEmrXIcNs71+vwIuVMTE5pTsW3E=" data-language="js"><span class="token keyword">const</span> obj4 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj4"</span><span class="token punctuation">,</span>
  <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj5 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj5"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

obj5<span class="token punctuation">.</span>getThis <span class="token operator">=</span> obj4<span class="token punctuation">.</span>getThis<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj5<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 'obj5', getThis: [Function: getThis] }</span>
</pre>
</div> <p>If the value that the method is accessed on is a primitive, <code>this</code> will be a primitive value as well — but only if the function is in strict mode.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="OIrn3gWBPV+pfVbIEtf5Deqo0/jRJat1b4IXNk+KWLA=" data-language="js"><span class="token keyword">function</span> <span class="token function">getThisStrict</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">"use strict"</span><span class="token punctuation">;</span> <span class="token comment">// Enter strict mode</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Only for demonstration — you should not mutate built-in prototypes</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getThisStrict <span class="token operator">=</span> getThisStrict<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getThisStrict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "number"</span>
</pre>
</div> <p>If the function is called without being accessed on anything, <code>this</code> will be <code>undefined</code> — but only if the function is in strict mode.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="HG+ChHoljACC1qtP8HhDF6cI+NDKFI47+c+rxChjPFI=" data-language="js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">getThisStrict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "undefined"</span>
</pre>
</div> <p>In non-strict mode, a special process called <a href="../strict_mode#no_this_substitution"><code>this</code> substitution</a> ensures that the value of <code>this</code> is always an object. This means:</p> <ul> <li>If a function is called with <code>this</code> set to <code>undefined</code> or <code>null</code>, <code>this</code> gets substituted with <a href="../global_objects/globalthis"><code>globalThis</code></a>.</li> <li>If the function is called with <code>this</code> set to a primitive value, <code>this</code> gets substituted with the primitive value's wrapper object.</li> </ul> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="pGdHD+1to7upAz0SfH1vfjQ6SV1xdLrPCR6ZR8AZM5g=" data-language="js"><span class="token keyword">function</span> <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Only for demonstration — you should not mutate built-in prototypes</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getThis <span class="token operator">=</span> getThis<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "object"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalThis<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <p>In typical function calls, <code>this</code> is implicitly passed like a parameter through the function's prefix (the part before the dot). You can also explicitly set the value of <code>this</code> using the <a href="../global_objects/function/call"><code>Function.prototype.call()</code></a>, <a href="../global_objects/function/apply"><code>Function.prototype.apply()</code></a>, or <a href="../global_objects/reflect/apply"><code>Reflect.apply()</code></a> methods. Using <a href="../global_objects/function/bind"><code>Function.prototype.bind()</code></a>, you can create a new function with a specific value of <code>this</code> that doesn't change regardless of how the function is called. When using these methods, the <code>this</code> substitution rules above still apply if the function is non-strict.</p> <h4 id="callbacks">Callbacks</h4> <p>When a function is passed as a callback, the value of <code>this</code> depends on how the callback is called, which is determined by the implementor of the API. Callbacks are <em>typically</em> called with a <code>this</code> value of <code>undefined</code> (calling it directly without attaching it to any object), which means if the function is non–strict, the value of <code>this</code> is the global object (<a href="../global_objects/globalthis"><code>globalThis</code></a>). This is the case for <a href="../global_objects/array#iterative_methods">iterative array methods</a>, the <a href="../global_objects/promise/promise"><code>Promise()</code></a> constructor, etc.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="FHW33/iDf6AM9AMCHtb+9OJZESrwC/LDpNJenIKdhJs=" data-language="js"><span class="token keyword">function</span> <span class="token function">logThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">"use strict"</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>logThis<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined, undefined, undefined</span>
</pre>
</div> <p>Some APIs allow you to set a <code>this</code> value for invocations of the callback. For example, all iterative array methods and related ones like <a href="../global_objects/set/foreach"><code>Set.prototype.forEach()</code></a> accept an optional <code>thisArg</code> parameter.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="WEkFdsOZlZVeclrJPXkWUNiof4lWz7muh0Tmq6FdE1E=" data-language="js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>logThis<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { name: 'obj' }, { name: 'obj' }, { name: 'obj' }</span>
</pre>
</div> <p>Occasionally, a callback is called with a <code>this</code> value other than <code>undefined</code>. For example, the <code>reviver</code> parameter of <a href="../global_objects/json/parse"><code>JSON.parse()</code></a> and the <code>replacer</code> parameter of <a href="../global_objects/json/stringify"><code>JSON.stringify()</code></a> are both called with <code>this</code> set to the object that the property being parsed/serialized belongs to.</p> <h4 id="arrow_functions">Arrow functions</h4> <p>In <a href="../functions/arrow_functions">arrow functions</a>, <code>this</code> retains the value of the enclosing lexical context's <code>this</code>. In other words, when evaluating an arrow function's body, the language does not create a new <code>this</code> binding.</p> <p>For example, in global code, <code>this</code> is always <code>globalThis</code> regardless of strictness, because of the <a href="#global_context">global context</a> binding:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="zez4s2XT+LnRV9tVfr0s7WaOOnqBe/cZ2A9/o35c6n4=" data-language="js"><span class="token keyword">const</span> globalObject <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <p>Arrow functions create a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">closure</a> over the <code>this</code> value of its surrounding scope, which means arrow functions behave as if they are "auto-bound" — no matter how it's invoked, <code>this</code> is bound to what it was when the function was created (in the example above, the global object). The same applies to arrow functions created inside other functions: their <code>this</code> remains that of the enclosing lexical context. <a href="#this_in_arrow_functions">See example below</a>.</p> <p>Furthermore, when invoking arrow functions using <code>call()</code>, <code>bind()</code>, or <code>apply()</code>, the <code>thisArg</code> parameter is ignored. You can still pass other arguments using these methods, though.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="BBhMBGnvdMmwLMjrHtU+L4B1QvXSxgjcpHbTKVV2uT0=" data-language="js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Attempt to set this using call</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> globalObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// Attempt to set this using bind</span>
<span class="token keyword">const</span> boundFoo <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">boundFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <h4 id="constructors">Constructors</h4> <p>When a function is used as a constructor (with the <a href="new"><code>new</code></a> keyword), its <code>this</code> is bound to the new object being constructed, no matter which object the constructor function is accessed on. The value of <code>this</code> becomes the value of the <code>new</code> expression unless the constructor returns another non–primitive value.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="xw0doR8AxhxBBhPg/X42wJRFWMg5wj9bzfPvaECb87w=" data-language="js"><span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 37</span>

<span class="token keyword">function</span> <span class="token constant">C2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">38</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 38</span>
</pre>
</div> <p>In the second example (<code>C2</code>), because an object was returned during construction, the new object that <code>this</code> was bound to gets discarded. (This essentially makes the statement <code>this.a = 37;</code> dead code. It's not exactly dead because it gets executed, but it can be eliminated with no outside effects.)</p> <h4 id="super">super</h4> <p>When a function is invoked in the <code>super.method()</code> form, the <code>this</code> inside the <code>method</code> function is the same value as the <code>this</code> value around the <code>super.method()</code> call, and is generally not equal to the object that <code>super</code> refers to. This is because <code>super.method</code> is not an object member access like the ones above — it's a special syntax with different binding rules. For examples, see the <a href="super#calling_methods_from_super"><code>super</code> reference</a>.</p>
</div></section><section aria-labelledby="class_context"><h3 id="class_context">Class context</h3>
<div class="section-content">
<p>A <a href="../classes">class</a> can be split into two contexts: static and instance. <a href="../classes/constructor">Constructors</a>, methods, and instance field initializers (<a href="../classes/public_class_fields">public</a> or <a href="../classes/private_properties">private</a>) belong to the instance context. <a href="../classes/static">Static</a> methods, static field initializers, and <a href="../classes/static_initialization_blocks">static initialization blocks</a> belong to the static context. The <code>this</code> value is different in each context.</p> <p>Class constructors are always called with <code>new</code>, so their behavior is the same as <a href="#constructors">function constructors</a>: the <code>this</code> value is the new instance being created. Class methods behave like methods in object literals — the <code>this</code> value is the object that the method was accessed on. If the method is not transferred to another object, <code>this</code> is generally an instance of the class.</p> <p>Static methods are not properties of <code>this</code>. They are properties of the class itself. Therefore, they are generally accessed on the class, and <code>this</code> is the value of the class (or a subclass). Static initialization blocks are also evaluated with <code>this</code> set to the current class.</p> <p>Field initializers are also evaluated in the context of the class. Instance fields are evaluated with <code>this</code> set to the instance being constructed. Static fields are evaluated with <code>this</code> set to the current class. This is why arrow functions in field initializers are <a href="../functions/arrow_functions#cannot_be_used_as_methods">bound to the instance for instance fields and to the class for static fields</a>.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="gE6usXBhBJXjdy6Wp9fInJnC6c+f6gDkAXHu1t+YIu4=" data-language="js"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
  instanceField <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> staticField <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>instanceField <span class="token operator">===</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">.</span>staticField <span class="token operator">===</span> <span class="token constant">C</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <h4 id="derived_class_constructors">Derived class constructors</h4> <p>Unlike base class constructors, derived constructors have no initial <code>this</code> binding. Calling <a href="super"><code>super()</code></a> creates a <code>this</code> binding within the constructor and essentially has the effect of evaluating the following line of code, where <code>Base</code> is the base class:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="0nHMWQ97zUEQNPc/ZK/CwqeC+dEk6Bn2Gxt73Kn6wvk=" data-language="js"><span class="token keyword">this</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <div class="notecard warning" id="sect1"> <p><strong>Warning:</strong> Referring to <code>this</code> before calling <code>super()</code> will throw an error.</p> </div> <p>Derived classes must not return before calling <code>super()</code>, unless the constructor returns an object (so the <code>this</code> value is overridden) or the class has no constructor at all.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="RiCf7KJqwRAfgZOwP/D0ipP5wPJ7w7f0T1T9Lce4llY=" data-language="js"><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Good</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">AlsoGood</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bad</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Good</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">AlsoGood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Bad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: Must call super constructor in derived class before accessing 'this' or returning from derived constructor</span>
</pre>
</div>
</div></section><section aria-labelledby="global_context"><h3 id="global_context">Global context</h3>
<div class="section-content">
<p>In the global execution context (outside of any functions or classes; may be inside <a href="../statements/block">blocks</a> or <a href="#arrow_functions">arrow functions</a> defined in the global scope), the <code>this</code> value depends on what execution context the script runs in. Like <a href="#callbacks">callbacks</a>, the <code>this</code> value is determined by the runtime environment (the caller).</p> <p>At the top level of a script, <code>this</code> refers to <a href="../global_objects/globalthis"><code>globalThis</code></a> whether in strict mode or not. This is generally the same as the global object — for example, if the source is put inside an HTML <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script"><code>&lt;script&gt;</code></a> element and executed as a script, <code>this === window</code>.</p> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> <code>globalThis</code> is generally the same concept as the global object (i.e. adding properties to <code>globalThis</code> makes them global variables) — this is the case for browsers and Node — but hosts are allowed to provide a different value for <code>globalThis</code> that's unrelated to the global object.</p> </div> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="BDp6PVlOdIAIsUgiN1rFMg2GH38sAI1G2tm4w223sB8=" data-language="js"><span class="token comment">// In web browsers, the window object is also the global object:</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token string">"MDN"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "MDN"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "MDN"</span>
</pre>
</div> <p>If the source is loaded as a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">module</a> (for HTML, this means adding <code>type="module"</code> to the <code>&lt;script&gt;</code> tag), <code>this</code> is always <code>undefined</code> at the top level.</p> <p>If the source is executed with <a href="../global_objects/eval"><code>eval()</code></a>, <code>this</code> is the same as the enclosing context for <a href="../global_objects/eval#direct_and_indirect_eval">direct eval</a>, or <code>globalThis</code> (as if it's run in a separate global script) for indirect eval.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="S6/f9rSNQ6mZuRrFM3Nu/G4GcILw57OL/T+xfMNdcmY=" data-language="js"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Direct eval</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Indirect eval, non-strict</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eval<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalThis<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Indirect eval, strict</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eval<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token string">"'use strict'; this"</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalThis<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"obj"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Logs 3 "true"</span>
</pre>
</div> <p>Note that some source code, while looking like the global scope, is actually wrapped in a function when executed. For example, Node.js CommonJS modules are wrapped in a function and executed with the <code>this</code> value set to <code>module.exports</code>. <a href="#this_in_inline_event_handlers">Event handler attributes</a> are executed with <code>this</code> set to the element they are attached to.</p> <p>Object literals don't create a <code>this</code> scope — only functions (methods) defined within the object do. Using <code>this</code> in an object literal inherits the value from the surrounding scope.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="xM/vNJ/acGr3cEX/zyjkCQdA6GmezZ7krPENz9lU2yI=" data-language="js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="this_in_function_contexts"><h3 id="this_in_function_contexts">this in function contexts</h3>
<div class="section-content">
<p>The value of the <code>this</code> parameter depends on how the function is called, not on how it's defined.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="T6pjrSmrr5Mir132dXrl9kKChl7d8fBRsBENyNiCT34=" data-language="js"><span class="token comment">// An object can be passed as the first argument to 'call'</span>
<span class="token comment">// or 'apply' and 'this' will be bound to it.</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"Custom"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Variables declared with var become properties of 'globalThis'.</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">"Global"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">whatsThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 'this' depends on how the function is called</span>
<span class="token punctuation">}</span>

<span class="token function">whatsThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Global'; the 'this' parameter defaults to 'globalThis' in non–strict mode</span>
obj<span class="token punctuation">.</span>whatsThis <span class="token operator">=</span> whatsThis<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">whatsThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Custom'; the 'this' parameter is bound to obj</span>
</pre>
</div> <p>Using <code>call()</code> and <code>apply()</code>, you can pass the value of <code>this</code> as if it's an explicit parameter.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="eB4Gq8SoEPfVP6tHJlclXdSuTmtI8t2G1wjm5QjjcGI=" data-language="js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">+</span> c <span class="token operator">+</span> d<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// The first argument is bound to the implicit 'this' parameter; the remaining</span>
<span class="token comment">// arguments are bound to the named parameters.</span>
<span class="token function">add</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 16</span>

<span class="token comment">// The first argument is bound to the implicit 'this' parameter; the second</span>
<span class="token comment">// argument is an array whose members are bound to the named parameters.</span>
<span class="token function">add</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 34</span>
</pre>
</div>
</div></section><section aria-labelledby="this_and_object_conversion"><h3 id="this_and_object_conversion">this and object conversion</h3>
<div class="section-content">
<p>In non–strict mode, if a function is called with a <code>this</code> value that's not an object, the <code>this</code> value is substituted with an object. <code>null</code> and <code>undefined</code> become <code>globalThis</code>. Primitives like <code>7</code> or <code>'foo'</code> are converted to an object using the related constructor, so the primitive number <code>7</code> is converted to a <a href="../global_objects/number"><code>Number</code></a> wrapper class and the string <code>'foo'</code> to a <a href="../global_objects/string"><code>String</code></a> wrapper class.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="PSFww3HuxITejaErCDH5t8ifvRkVBETvCbGw5+Zn/+c=" data-language="js"><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Number]</span>
<span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object String]</span>
<span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Window]</span>
</pre>
</div>
</div></section><section aria-labelledby="the_bind_method"><h3 id="the_bind_method">The bind() method</h3>
<div class="section-content">
<p>Calling <a href="../global_objects/function/bind"><code>f.bind(someObject)</code></a> creates a new function with the same body and scope as <code>f</code>, but the value of <code>this</code> is permanently bound to the first argument of <code>bind</code>, regardless of how the function is being called.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="LgtJXhFB4wbLZj1Ro/jQ30R15MuUaRTuVX5zf8JGg9w=" data-language="js"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"azerty"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// azerty</span>

<span class="token keyword">const</span> h <span class="token operator">=</span> <span class="token function">g</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"yoo"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bind only works once!</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// azerty</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">37</span><span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> h <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 37 37 azerty azerty</span>
</pre>
</div>
</div></section><section aria-labelledby="this_in_arrow_functions"><h3 id="this_in_arrow_functions">this in arrow functions</h3>
<div class="section-content">
<p>Arrow functions create closures over the <code>this</code> value of the enclosing execution context. In the following example, we create <code>obj</code> with a method <code>getThisGetter</code> that returns a function that returns the value of <code>this</code>. The returned function is created as an arrow function, so its <code>this</code> is permanently bound to the <code>this</code> of its enclosing function. The value of <code>this</code> inside <code>getThisGetter</code> can be set in the call, which in turn sets the return value of the returned function. We will assume that <code>getThisGetter</code> is a non-strict function, which means it's contained in a non-strict script and not further nested in a class or strict function.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="bJ1+H2f3ZqgNPgrtAkz2mE+DdI9lfPI3z41sBefhcbc=" data-language="js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getThisGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> getter<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre>
</div> <p>We can call <code>getThisGetter</code> as a method of <code>obj</code>, which binds <code>this</code> to <code>obj</code> inside its body. The returned function is assigned to a variable <code>fn</code>. Now, when calling <code>fn</code>, the value of <code>this</code> returned is still the one set by the call to <code>getThisGetter</code>, which is <code>obj</code>. If the returned function was not an arrow function, such calls would cause the <code>this</code> value to be <code>globalThis</code>, because <code>getThisGetter</code> is non-strict.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="j5TarsbAzRuUoiVvY0bhr1CtejBKwVaDCyjjeNJ9BvE=" data-language="js"><span class="token keyword">const</span> fn <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getThisGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</pre>
</div> <p>But be careful if you unbind the method of <code>obj</code> without calling it, because <code>getThisGetter</code> is still a method that has a varying <code>this</code> value. Calling <code>fn2()()</code> in the following example returns <code>globalThis</code>, because it follows the <code>this</code> from <code>fn2()</code>, which is <code>globalThis</code> since it's called without being attached to any object.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="ugFDh+5zj5eb0s0PJmpzb0Tno5br0zO731Q2PWMLap4=" data-language="js"><span class="token keyword">const</span> fn2 <span class="token operator">=</span> obj<span class="token punctuation">.</span>getThisGetter<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalThis<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true in non-strict mode</span>
</pre>
</div> <p>This behavior is very useful when defining callbacks. Usually, each function expression creates its own <code>this</code> binding, which shadows the <code>this</code> value of the upper scope. Now, you can define functions as arrow functions if you don't care about the <code>this</code> value, and only create <code>this</code> bindings where you do (e.g. in class methods). See <a href="../functions/arrow_functions#using_call_bind_and_apply">example with <code>setTimeout()</code></a>.</p>
</div></section><section aria-labelledby="this_with_a_getter_or_setter"><h3 id="this_with_a_getter_or_setter">this with a getter or setter</h3>
<div class="section-content">
<p><code>this</code> in getters and setters is based on which object the property is accessed on, not which object the property is defined on. A function used as getter or setter has its <code>this</code> bound to the object from which the property is being set or gotten.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="lfj54k6WW8UFxl8rodDWkdTnMD2sCtAiztCvmD6FZfU=" data-language="js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token string">"sum"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">get</span><span class="token operator">:</span> sum<span class="token punctuation">,</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>average<span class="token punctuation">,</span> o<span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 6</span>
</pre>
</div>
</div></section><section aria-labelledby="this_in_dom_event_handlers"><h3 id="this_in_dom_event_handlers">this in DOM event handlers</h3>
<div class="section-content">
<p>When a function is used as an event handler, its <code>this</code> parameter is bound to the DOM element on which the listener is placed (some browsers do not follow this convention for listeners added dynamically with methods other than <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener"><code>addEventListener()</code></a>).</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="t1ejYSxJnCcJv66GFtRb+fhrAxz8i/7iQ7wQPQOsos4=" data-language="js"><span class="token comment">// When called as a listener, turns the related element blue</span>
<span class="token keyword">function</span> <span class="token function">bluify</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Always true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// true when currentTarget and target are the same object</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">"#A5D9F3"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Get a list of every element in the document</span>
<span class="token keyword">const</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add bluify as a click listener so when the</span>
<span class="token comment">// element is clicked on, it turns blue</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> element <span class="token keyword">of</span> elements<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> bluify<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><section aria-labelledby="this_in_inline_event_handlers"><h3 id="this_in_inline_event_handlers">this in inline event handlers</h3>
<div class="section-content">
<p>When the code is called from an inline <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes#event_handler_attributes">event handler attribute</a>, its <code>this</code> is bound to the DOM element on which the listener is placed:</p> <div class="code-example">
<div class="example-header"><span class="language-name">html</span></div>
<pre data-signature="zA2ZcnngdEj4CJ2i4lecvqHhNIdVc2pvzTDMII1Pf2g=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Show this<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>The above alert shows <code>button</code>. Note, however, that only the outer scope has its <code>this</code> bound this way:</p> <div class="code-example">
<div class="example-header"><span class="language-name">html</span></div>
<pre data-signature="gWUs6bG6ElG7DVqrmDrGvkX7CYyRvOhFTA4hFQyYgfs=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
  Show inner this
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>In this case, the <code>this</code> parameter of the inner function is bound to <code>globalThis</code> (i.e. the default object in non–strict mode where <code>this</code> isn't passed in the call).</p>
</div></section><section aria-labelledby="bound_methods_in_classes"><h3 id="bound_methods_in_classes">Bound methods in classes</h3>
<div class="section-content">
<p>Just like with regular functions, the value of <code>this</code> within methods depends on how they are called. Sometimes it is useful to override this behavior so that <code>this</code> within classes always refers to the class instance. To achieve this, bind the class methods in the constructor:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="5/+XobNuxqCnKK4GGkqDd/unYrubMCoC3ynPw9cmfvE=" data-language="js"><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Bind sayBye but not sayHi to show the difference</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sayBye <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sayBye</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bye from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Ferrari"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"Tweety"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bird <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// The value of 'this' in methods depends on their caller</span>
car<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from Ferrari</span>
bird<span class="token punctuation">.</span>sayHi <span class="token operator">=</span> car<span class="token punctuation">.</span>sayHi<span class="token punctuation">;</span>
bird<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from Tweety</span>

<span class="token comment">// For bound methods, 'this' doesn't depend on the caller</span>
bird<span class="token punctuation">.</span>sayBye <span class="token operator">=</span> car<span class="token punctuation">.</span>sayBye<span class="token punctuation">;</span>
bird<span class="token punctuation">.</span><span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Bye from Ferrari</span>
</pre>
</div> <div class="notecard note" id="sect3"> <p><strong>Note:</strong> Classes are always in strict mode. Calling methods with an undefined <code>this</code> will throw an error if the method tries to access properties on <code>this</code>.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="nAa0PjB0Am/MaPQfwOyMx5zWCUktvFSc2qx9SP+cM6o=" data-language="js"><span class="token keyword">const</span> carSayHi <span class="token operator">=</span> car<span class="token punctuation">.</span>sayHi<span class="token punctuation">;</span>
<span class="token function">carSayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError because the 'sayHi' method tries to access 'this.name', but 'this' is undefined in strict mode.</span>
</pre>
</div> </div> <p>Note, however, that auto-bound methods suffer from the same problem as <a href="../functions/arrow_functions#cannot_be_used_as_methods">using arrow functions for class properties</a>: each instance of the class will have its own copy of the method, which increases memory usage. Only use it where absolutely necessary. You can also mimic the implementation of <a href="../global_objects/intl/datetimeformat/format#using_format_with_map"><code>Intl.NumberFormat.prototype.format()</code></a>: define the property as a getter that returns a bound function when accessed and saves it, so that the function is only created once and only created when necessary.</p>
</div></section><section aria-labelledby="this_in_with_statements"><h3 id="this_in_with_statements">this in with statements</h3>
<div class="section-content">
<p>Although <a href="../statements/with"><code>with</code></a> statements are deprecated and not available in strict mode, they still serve as an exception to the normal <code>this</code> binding rules. If a function is called within a <code>with</code> statement and that function is a property of the scope object, the <code>this</code> value is bound to the scope object, as if the <code>obj1.</code> prefix exists.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="p9r59rYNMPjrjvb8nRPZgPcmLhfwpB45iNR/WImN8Sk=" data-language="js"><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">with</span> <span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-this-keyword">ECMAScript Language Specification <br><small># sec-this-keyword</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody><tr>
<th><code>this</code></th>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">9.5</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">10.1</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">4.4</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">0.10.0</td>
</tr></tbody>
</table></div>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../strict_mode">Strict mode</a></li> <li><a href="../global_objects/globalthis"><code>globalThis</code></a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    © 2005–2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
