
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Net&#47;mail - Go - W3cubDocs</title>
  
  <meta name="description" content=" Package mail implements parsing of mail messages. ">
  <meta name="keywords" content="package, mail, net, go">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/go/net/mail/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/go.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/go/" class="_nav-link" title="" style="margin-left:0;">Go</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _go">
				
				
<h1> Package mail  </h1>    <ul id="short-nav">
<li><code>import "net/mail"</code></li>
<li><a href="#pkg-overview" class="overviewLink">Overview</a></li>
<li><a href="#pkg-index" class="indexLink">Index</a></li>
<li><a href="#pkg-examples" class="examplesLink">Examples</a></li>
</ul>     <h2 id="pkg-overview">Overview </h2> <p> Package mail implements parsing of mail messages. </p> <p> For the most part, this package follows the syntax as specified by RFC 5322 and extended by RFC 6532. Notable divergences: </p> <pre data-language="go">* Obsolete address formats are not parsed, including addresses with
  embedded route information.
* The full range of spacing (the CFWS syntax element) is not supported,
  such as breaking addresses across lines.
* No unicode normalization is performed.
* The special characters ()[]:;@\, are allowed to appear unquoted in names.
</pre>      <h2 id="pkg-index">Index </h2>  <ul id="manual-nav">
<li><a href="#pkg-variables">Variables</a></li>
<li><a href="#ParseDate">func ParseDate(date string) (time.Time, error)</a></li>
<li><a href="#Address">type Address</a></li>
<li> <a href="#ParseAddress">func ParseAddress(address string) (*Address, error)</a>
</li>
<li> <a href="#ParseAddressList">func ParseAddressList(list string) ([]*Address, error)</a>
</li>
<li> <a href="#Address.String">func (a *Address) String() string</a>
</li>
<li><a href="#AddressParser">type AddressParser</a></li>
<li> <a href="#AddressParser.Parse">func (p *AddressParser) Parse(address string) (*Address, error)</a>
</li>
<li> <a href="#AddressParser.ParseList">func (p *AddressParser) ParseList(list string) ([]*Address, error)</a>
</li>
<li><a href="#Header">type Header</a></li>
<li> <a href="#Header.AddressList">func (h Header) AddressList(key string) ([]*Address, error)</a>
</li>
<li> <a href="#Header.Date">func (h Header) Date() (time.Time, error)</a>
</li>
<li> <a href="#Header.Get">func (h Header) Get(key string) string</a>
</li>
<li><a href="#Message">type Message</a></li>
<li> <a href="#ReadMessage">func ReadMessage(r io.Reader) (msg *Message, err error)</a>
</li>
</ul> <div id="pkg-examples"> <h3>Examples</h3>  <dl> <dd><a class="exampleLink" href="#example_ParseAddress">ParseAddress</a></dd> <dd><a class="exampleLink" href="#example_ParseAddressList">ParseAddressList</a></dd> <dd><a class="exampleLink" href="#example_ReadMessage">ReadMessage</a></dd> </dl> </div> <h3>Package files</h3> <p>  <a href="https://golang.org/src/net/mail/message.go">message.go</a>  </p>   <h2 id="pkg-variables">Variables</h2> <pre data-language="go">var ErrHeaderNotPresent = errors.New("mail: header not in message")</pre> <h2 id="ParseDate">func ParseDate<a href="https://golang.org/src/net/mail/message.go?s=2379:2425#L89" class="source">Source</a>  <span title="Added in Go 1.8">1.8</span> </h2> <pre data-language="go">func ParseDate(date string) (time.Time, error)</pre> <p> ParseDate parses an RFC 5322 date string. </p> <h2 id="Address">type Address<a href="https://golang.org/src/net/mail/message.go?s=4802:4902#L159" class="source">Source</a>  </h2> <p> Address represents a single mail address. An address such as "Barry Gibbs &lt;bg@example.com&gt;" is represented as Address{Name: "Barry Gibbs", Address: "bg@example.com"}. </p> <pre data-language="go">type Address struct {
    Name    string // Proper name; may be empty.
    Address string // user@domain
}
</pre> <h3 id="ParseAddress">func ParseAddress<a href="https://golang.org/src/net/mail/message.go?s=4990:5041#L165" class="source">Source</a>  <span title="Added in Go 1.1">1.1</span> </h3> <pre data-language="go">func ParseAddress(address string) (*Address, error)</pre> <p> ParseAddress parses a single RFC 5322 address, e.g. "Barry Gibbs &lt;bg@example.com&gt;" </p>    <h4 id="example_ParseAddress"> <span class="text">Example</span>
</h4> <pre class="play" data-language="go">package main

import (
	"fmt"
	"log"
	"net/mail"
)

func main() {
	e, err := mail.ParseAddress("Alice &lt;alice@example.com&gt;")
	if err != nil {
		log.Fatal(err)
	}

	fmt.Println(e.Name, e.Address)

}
</pre>   <h3 id="ParseAddressList">func ParseAddressList<a href="https://golang.org/src/net/mail/message.go?s=5170:5224#L170" class="source">Source</a>  <span title="Added in Go 1.1">1.1</span> </h3> <pre data-language="go">func ParseAddressList(list string) ([]*Address, error)</pre> <p> ParseAddressList parses the given string as a list of addresses. </p>    <h4 id="example_ParseAddressList"> <span class="text">Example</span>
</h4> <pre class="play" data-language="go">package main

import (
	"fmt"
	"log"
	"net/mail"
)

func main() {
	const list = "Alice &lt;alice@example.com&gt;, Bob &lt;bob@example.com&gt;, Eve &lt;eve@example.com&gt;"
	emails, err := mail.ParseAddressList(list)
	if err != nil {
		log.Fatal(err)
	}

	for _, v := range emails {
		fmt.Println(v.Name, v.Address)
	}

}
</pre>   <h3 id="Address.String">func (*Address) String<a href="https://golang.org/src/net/mail/message.go?s=6168:6201#L195" class="source">Source</a>  </h3> <pre data-language="go">func (a *Address) String() string</pre> <p> String formats the address as a valid RFC 5322 address. If the address's name contains non-ASCII characters the name will be rendered according to RFC 2047. </p> <h2 id="AddressParser">type AddressParser<a href="https://golang.org/src/net/mail/message.go?s=5331:5466#L175" class="source">Source</a>  <span title="Added in Go 1.5">1.5</span> </h2> <p> An AddressParser is an RFC 5322 address parser. </p> <pre data-language="go">type AddressParser struct {
    // WordDecoder optionally specifies a decoder for RFC 2047 encoded-words.
    WordDecoder *mime.WordDecoder
}
</pre> <h3 id="AddressParser.Parse">func (*AddressParser) Parse<a href="https://golang.org/src/net/mail/message.go?s=5575:5638#L182" class="source">Source</a>  <span title="Added in Go 1.5">1.5</span> </h3> <pre data-language="go">func (p *AddressParser) Parse(address string) (*Address, error)</pre> <p> Parse parses a single RFC 5322 address of the form "Gogh Fir &lt;gf@example.com&gt;" or "foo@example.com". </p> <h3 id="AddressParser.ParseList">func (*AddressParser) ParseList<a href="https://golang.org/src/net/mail/message.go?s=5860:5926#L188" class="source">Source</a>  <span title="Added in Go 1.5">1.5</span> </h3> <pre data-language="go">func (p *AddressParser) ParseList(list string) ([]*Address, error)</pre> <p> ParseList parses the given string as a list of comma-separated addresses of the form "Gogh Fir &lt;gf@example.com&gt;" or "foo@example.com". </p> <h2 id="Header">type Header<a href="https://golang.org/src/net/mail/message.go?s=3694:3725#L124" class="source">Source</a>  </h2> <p> A Header represents the key-value pairs in a mail message header. </p> <pre data-language="go">type Header map[string][]string</pre> <h3 id="Header.AddressList">func (Header) AddressList<a href="https://golang.org/src/net/mail/message.go?s=4459:4518#L148" class="source">Source</a>  </h3> <pre data-language="go">func (h Header) AddressList(key string) ([]*Address, error)</pre> <p> AddressList parses the named header field as a list of addresses. </p> <h3 id="Header.Date">func (Header) Date<a href="https://golang.org/src/net/mail/message.go?s=4237:4278#L139" class="source">Source</a>  </h3> <pre data-language="go">func (h Header) Date() (time.Time, error)</pre> <p> Date parses the Date header field. </p> <h3 id="Header.Get">func (Header) Get<a href="https://golang.org/src/net/mail/message.go?s=4045:4083#L132" class="source">Source</a>  </h3> <pre data-language="go">func (h Header) Get(key string) string</pre> <p> Get gets the first value associated with the given key. It is case insensitive; CanonicalMIMEHeaderKey is used to canonicalize the provided key. If there are no values associated with the key, Get returns "". To access multiple values of a key, or to use non-canonical keys, access the map directly. </p> <h2 id="Message">type Message<a href="https://golang.org/src/net/mail/message.go?s=1006:1062#L35" class="source">Source</a>  </h2> <p> A Message represents a parsed mail message. </p> <pre data-language="go">type Message struct {
    Header Header
    Body   io.Reader
}
</pre> <h3 id="ReadMessage">func ReadMessage<a href="https://golang.org/src/net/mail/message.go?s=1206:1261#L43" class="source">Source</a>  </h3> <pre data-language="go">func ReadMessage(r io.Reader) (msg *Message, err error)</pre> <p> ReadMessage reads a message from r. The headers are parsed, and the body of the message will be available for reading from msg.Body. </p>    <h4 id="example_ReadMessage"> <span class="text">Example</span>
</h4> <pre class="play" data-language="go">package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/mail"
	"strings"
)

func main() {
	msg := `Date: Mon, 23 Jun 2015 11:40:36 -0400
From: Gopher &lt;from@example.com&gt;
To: Another Gopher &lt;to@example.com&gt;
Subject: Gophers at Gophercon

Message body
`

	r := strings.NewReader(msg)
	m, err := mail.ReadMessage(r)
	if err != nil {
		log.Fatal(err)
	}

	header := m.Header
	fmt.Println("Date:", header.Get("Date"))
	fmt.Println("From:", header.Get("From"))
	fmt.Println("To:", header.Get("To"))
	fmt.Println("Subject:", header.Get("Subject"))

	body, err := ioutil.ReadAll(m.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s", body)

}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Â© Google, Inc.<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://golang.org/pkg/net/mail/" class="_attribution-link">https://golang.org/pkg/net/mail/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
