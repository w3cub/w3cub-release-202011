
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Freestanding and Hosted Implementations - C++ - W3cubDocs</title>
  
  <meta name="description" content="There are two kinds of implementations defined by the C++ standard&#58; hosted and freestanding implementations. For hosted implementations, the set &hellip;">
  <meta name="keywords" content="freestanding, and, hosted, implementations, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/freestanding.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cppref">
				
				
<h1 id="firstHeading" class="firstHeading">Freestanding and hosted implementations</h1>            <p>There are two kinds of implementations defined by the C++ standard: <i><b>hosted</b></i> and <i><b>freestanding</b></i> implementations. For <i>hosted</i> implementations, the set of standard library headers required by the C++ standard is much larger than for <i>freestanding</i> ones. In a <i>freestanding</i> implementation, execution may happen without an operating system.</p>
<p>The kind of the implementation is implementation-defined. <span class="t-rev-inl t-since-cxx11"><span>The macro <code>__STDC_HOSTED__</code> is predefined to <code>1</code> for hosted implementations and <code>0</code> for freestanding implementations.</span> <span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>.</p>
<table class="t-rev-begin"> <tr class="t-rev t-since-cxx11">
<td>  <h3 id="Requirements_on_multi-threaded_executions_and_data_races"> Requirements on <a href="language/memory_model" title="cpp/language/memory model">multi-threaded executions and data races</a>
</h3> <table> <tr> <th> <i>freestanding</i> </th> <th> <i>hosted</i> </th>
</tr> <tr> <td> Under a <i>freestanding</i> implementation, it is implementation-defined whether a program can have more than one <a href="thread" title="cpp/thread">thread of execution</a>. </td> <td> Under a <i>hosted</i> implementation, a C++ program can have more than one <a href="thread" title="cpp/thread">thread</a> running concurrently. </td>
</tr>
</table> </td> <td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td>
</tr> </table> <h3 id="Requirements_on_the_main_function"> Requirements on the <a href="language/main_function" title="cpp/language/main function"><code>main</code></a> function</h3> <table> <tr> <th> <i>freestanding</i> </th> <th> <i>hosted</i> </th>
</tr> <tr> <td> In a <i>freestanding</i> implementation, it is implementation-defined whether a program is required to define a <a href="language/main_function" title="cpp/language/main function"><code>main</code></a> function. Start-up and termination is implementation-defined; start-up contains the execution of <a href="language/constructor" title="cpp/language/constructor">constructors</a> for objects of <a href="language/scope#Namespace_scope" title="cpp/language/scope">namespace scope</a> with static storage duration; termination contains the execution of <a href="language/destructor" title="cpp/language/destructor">destructors</a> for objects with static <a href="language/storage_duration" title="cpp/language/storage duration">storage duration</a>. </td> <td> In a <i>hosted</i> implementation, a program must contain a global function called <a href="language/main_function" title="cpp/language/main function"><code>main</code></a>. Executing a program starts a main <a href="thread" title="cpp/thread">thread of execution</a> in which the <code>main</code> function is invoked, and in which variables of static <a href="language/storage_duration" title="cpp/language/storage duration">storage duration</a> might be initialized and destroyed. </td>
</tr>
</table> <h3 id="Requirements_on_standard_library_headers"> Requirements on <a href="index" title="cpp/header">standard library headers</a>
</h3> <p>A <i>freestanding</i> implementation has an implementation-defined set of headers. This set includes at least the headers in the following table:</p>
<table class="wikitable"> <caption style="padding:6px;"> Headers required for a <i>freestanding</i> implementation </caption> <tr> <td> Types </td> <td> <a href="header/cstddef" title="cpp/header/cstddef"><code>&lt;cstddef&gt;</code></a> </td>
</tr> <tr> <td> Implementation properties </td> <td> <a href="header/limits" title="cpp/header/limits"><code>&lt;limits&gt;</code></a><br><a href="header/cfloat" title="cpp/header/cfloat"><code>&lt;cfloat&gt;</code></a><br><a href="header/climits" title="cpp/header/climits"><code>&lt;climits&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span><br><a href="header/version" title="cpp/header/version"><code>&lt;version&gt;</code></a> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td>
</tr> <tr> <td> Integer types </td> <td> <a href="header/cstdint" title="cpp/header/cstdint"><code>&lt;cstdint&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td>
</tr> <tr> <td> Start and termination </td> <td> <a href="header/cstdlib" title="cpp/header/cstdlib"><code>&lt;cstdlib&gt;</code></a> <span class="t-mark">(partial)</span><sup id="cite_ref-1" class="reference"><a href="#cite_note-1">[1]</a></sup> </td>
</tr> <tr> <td> Dynamic memory management </td> <td> <a href="header/new" title="cpp/header/new"><code>&lt;new&gt;</code></a> </td>
</tr> <tr> <td> Type identification </td> <td> <a href="header/typeinfo" title="cpp/header/typeinfo"><code>&lt;typeinfo&gt;</code></a> </td>
</tr> <tr> <td> Source location </td> <td> <a href="header/source_location" title="cpp/header/source location"><code>&lt;source_location&gt;</code></a> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td>
</tr> <tr> <td> Exception handling </td> <td> <a href="header/exception" title="cpp/header/exception"><code>&lt;exception&gt;</code></a> </td>
</tr> <tr> <td> Initializer lists </td> <td> <a href="header/initializer_list" title="cpp/header/initializer list"><code>&lt;initializer_list&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td>
</tr> <tr> <td> Comparisons </td> <td> <a href="header/compare" title="cpp/header/compare"><code>&lt;compare&gt;</code></a> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td>
</tr> <tr> <td> Coroutines support </td> <td> <a href="header/coroutine" title="cpp/header/coroutine"><code>&lt;coroutine&gt;</code></a> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td>
</tr> <tr> <td> Other runtime support </td> <td> <a href="header/cstdarg" title="cpp/header/cstdarg"><code>&lt;cstdarg&gt;</code></a> </td>
</tr> <tr> <td> Fundamental library concepts </td> <td> <a href="header/concepts" title="cpp/header/concepts"><code>&lt;concepts&gt;</code></a> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td>
</tr> <tr> <td> Type traits </td> <td> <a href="header/type_traits" title="cpp/header/type traits"><code>&lt;type_traits&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td>
</tr> <tr> <td> Bit manipulation </td> <td> <a href="header/bit" title="cpp/header/bit"><code>&lt;bit&gt;</code></a> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td>
</tr> <tr> <td> Atomics </td> <td> <a href="header/atomic" title="cpp/header/atomic"><code>&lt;atomic&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span><sup id="cite_ref-2" class="reference"><a href="#cite_note-2">[2]</a></sup> </td>
</tr> <tr> <td> Utility components </td> <td> <a href="header/utility" title="cpp/header/utility"><code>&lt;utility&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr> <tr> <td> Tuples </td> <td> <a href="header/tuple" title="cpp/header/tuple"><code>&lt;tuple&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr> <tr> <td> Memory </td> <td> <a href="header/memory" title="cpp/header/memory"><code>&lt;memory&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> <span class="t-mark">(partial)</span> </td>
</tr> <tr> <td> Function objects </td> <td> <a href="header/functional" title="cpp/header/functional"><code>&lt;functional&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> <span class="t-mark">(partial)</span> </td>
</tr> <tr> <td> Compile-time rational arithmetic </td> <td> <a href="header/ratio" title="cpp/header/ratio"><code>&lt;ratio&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr> <tr> <td> Iterators library </td> <td> <a href="header/iterator" title="cpp/header/iterator"><code>&lt;iterator&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> <span class="t-mark">(partial)</span> </td>
</tr> <tr> <td> Ranges library </td> <td> <a href="header/ranges" title="cpp/header/ranges"><code>&lt;ranges&gt;</code></a> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> <span class="t-mark">(partial)</span> </td>
</tr> <tr> <td> <b>Deprecated</b> headers </td> <td> <a href="header/ciso646" title="cpp/header/ciso646"><code>&lt;ciso646&gt;</code></a> <span class="t-mark-rev t-until-cxx20">(until C++20)</span><br><a href="header/cstdalign" title="cpp/header/cstdalign"><code>&lt;cstdalign&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span><span class="t-mark-rev t-until-cxx20">(until C++20)</span><br><a href="header/cstdbool" title="cpp/header/cstdbool"><code>&lt;cstdbool&gt;</code></a> <span class="t-mark-rev t-since-cxx11">(since C++11)</span><span class="t-mark-rev t-until-cxx20">(until C++20)</span> </td>
</tr>
</table> <ol class="references"> <li id="cite_note-1"> <span class="reference-text">The supplied version of the <a href="header/cstdlib" title="cpp/header/cstdlib"><code>&lt;cstdlib&gt;</code></a> shall declare at least the functions <code><a href="utility/program/abort" title="cpp/utility/program/abort">std::abort</a></code>, <code><a href="utility/program/atexit" title="cpp/utility/program/atexit">std::atexit</a></code>, <code><a href="utility/program/exit" title="cpp/utility/program/exit">std::exit</a></code><span class="t-rev-inl t-since-cxx11"><span>, <code><a href="utility/program/at_quick_exit" title="cpp/utility/program/at quick exit">std::at_quick_exit</a></code> and <code><a href="utility/program/quick_exit" title="cpp/utility/program/quick exit">std::quick_exit</a></code></span> <span><span class="t-mark-rev t-since-cxx11">(since C++11)</span></span></span>.</span> </li> <li id="cite_note-2"> <span class="reference-text"><span class="t-rev-inl t-since-cxx20"><span>Support for always lock-free integral atomic types and presence of type aliases <code><a href="atomic/atomic" title="cpp/atomic/atomic">std::atomic_signed_lock_free</a></code> and <code><a href="atomic/atomic" title="cpp/atomic/atomic">std::atomic_unsigned_lock_free</a></code> are implementation-defined in a freestanding implementation.</span> <span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span></span> </li> </ol> <h3 id="Notes"> Notes</h3> <p>It's important to note that some compiler vendors may not fully support freestanding implementation. For example, GCC libstdc++ has had implementation and build issues before version 13, while LLVM libcxx and MSVC STL do not support freestanding.</p>
<p>In C++23, many features will be made freestanding with partial headers. However, it's still up for discussion in WG21 whether headers like &lt;array&gt; will be made freestanding in the future standard (C++26, maybe). Regardless, containers like vector, list, deque, and map will never be freestanding due to their dependencies on exceptions and heap.</p>
<p>GCC 13 provides more headers, such as optional, span, array, and bitset, for freestanding. However, it's important to note that these headers may not be portable or provide the same experience as a hosted implementation. It's better to avoid using them in a freestanding environment, even if the toolchain provides them.</p>
<h3 id="References"> References</h3>  <ul>
<li> C++23 standard (ISO/IEC 14882:2023): </li>
<ul>
<li> 4.1 Implementation compliance [intro.compliance] (p: 10) </li>
<li> 6.9.2 Multi-threaded executions and data races [intro.multithread] (p: 84) </li>
<li> 6.9.3.1 main function [basic.start.main] (p: 89) </li>
<li> 16.4.2.5 Freestanding implementations [compliance] (p: 483) </li>
</ul>
<li> C++20 standard (ISO/IEC 14882:2020): </li>
<ul>
<li> 4.1 Implementation compliance [intro.compliance] (p: 7) </li>
<li> 6.9.2 Multi-threaded executions and data races [intro.multithread] (p: 77) </li>
<li> 6.9.3.1 main function [basic.start.main] (p: 82) </li>
<li> 16.5.1.3 Freestanding implementations [compliance] (p: 470) </li>
</ul>
<li> C++17 standard (ISO/IEC 14882:2017): </li>
<ul>
<li> 4.1 Implementation compliance [intro.compliance] (p: 5) </li>
<li> 4.7 Multi-threaded executions and data races [intro.multithread] (p: 15) </li>
<li> 6.6.1 main function [basic.start.main] (p: 66) </li>
<li> 20.5.1.3 Freestanding implementations [compliance] (p: 458) </li>
</ul>
<li> C++14 standard (ISO/IEC 14882:2014): </li>
<ul>
<li> 1.4 Implementation compliance [intro.compliance] (p: 5) </li>
<li> 1.10 Multi-threaded executions and data races [intro.multithread] (p: 11) </li>
<li> 3.6.1 Main function [basic.start.main] (p: 62) </li>
<li> 17.6.1.3 Freestanding implementations [compliance] (p: 441) </li>
</ul>
<li> C++11 standard (ISO/IEC 14882:2011): </li>
<ul>
<li> 1.4 Implementation compliance [intro.compliance] (p: 5) </li>
<li> 1.10 Multi-threaded executions and data races [intro.multithread] (p: 11) </li>
<li> 3.6.1 Main function [basic.start.main] (p: 58) </li>
<li> 17.6.1.3 Freestanding implementations [compliance] (p: 408) </li>
</ul>
<li> C++03 standard (ISO/IEC 14882:2003): </li>
<ul>
<li> 1.4 Implementation compliance [intro.compliance] (p: 3) </li>
<li> 3.6.1 Main function [basic.start.main] (p: 43) </li>
<li> 17.4.1.3 Freestanding implementations [lib.compliance] (p: 326) </li>
</ul>
</ul>                                        <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th> DR </th> <th> Applied to </th> <th> Behavior as published </th> <th> Correct behavior </th>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/1938.html">CWG 1938</a> </td> <td> C++98 </td> <td> an implementation did not need<br>to document whether it is hosted </td> <td> made the implementation kind implementation-<br>defined (thus requires a documentation) </td>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue3653">LWG 3653</a> </td> <td> C++20 </td> <td> &lt;coroutine&gt; is freestanding,<br> but uses std::hash which is not </td> <td> Fixed in C++23 with &lt;functional&gt;<br>being partial freestanding </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/language/conformance" title="c/language/conformance">C documentation</a></span> for <span class=""><span>Conformance</span></span> </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    Â© cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/freestanding" class="_attribution-link">https://en.cppreference.com/w/cpp/freestanding</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
