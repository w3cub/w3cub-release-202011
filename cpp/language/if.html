
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>If Statement - C++ - W3cubDocs</title>
  
  <meta name="description" content=" Conditionally executes another statement. ">
  <meta name="keywords" content="if, statement, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/language/if.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cppref">
				
				
<h1 id="firstHeading" class="firstHeading">if statement</h1>            <p>Conditionally executes another statement.</p>
<p>Used where code needs to be executed based on a run-time<span class="t-rev-inl t-since-cxx17"><span>or compile-time</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span> condition<span class="t-rev-inl t-since-cxx23"><span>, or whether the if statement is evaluated in a manifestly constant-evaluated context</span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span>.</p>
<h3 id="Syntax"> Syntax</h3> <table class="t-sdsc-begin">  <tr class="t-sdsc"> <td> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>constexpr</code><span class="t-mark">(optional)</span> <code>(</code> <span class="t-spar">init-statement</span> ﻿<span class="t-mark">(optional)</span> <span class="t-spar">condition</span> <code>)</code> <span class="t-spar">statement-true</span> </td> <td> (1) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>constexpr</code><span class="t-mark">(optional)</span> <code>(</code> <span class="t-spar">init-statement</span> ﻿<span class="t-mark">(optional)</span> <span class="t-spar">condition</span> <code>)</code> <span class="t-spar">statement-true</span> <code>else</code> <span class="t-spar">statement-false</span> </td> <td> (2) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>!</code><span class="t-mark">(optional)</span> <code>consteval</code> <span class="t-spar">compound-statement</span> </td> <td> (3) </td> <td> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr>  <tr class="t-sdsc"> <td> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>!</code><span class="t-mark">(optional)</span> <code>consteval</code> <span class="t-spar">compound-statement</span> <code>else</code> <span class="t-spar">statement</span> </td> <td> (4) </td> <td> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr> 
</table> <div class="t-li1">
<span class="t-li">1)</span> <i>if statement</i> without an else branch</div> <div class="t-li1">
<span class="t-li">2)</span> <i>if statement</i> with an else branch</div> <div class="t-li1">
<span class="t-li">3)</span> <i>consteval if statement</i> without an else branch</div> <div class="t-li1">
<span class="t-li">4)</span> <i>consteval if statement</i> with an else branch</div> <table class="t-par-begin"> <tr class="t-par"> <td> <span class="t-spar">attr</span> </td> <td> - </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> any number of <a href="attributes" title="cpp/language/attributes">attributes</a> </td>
</tr> <tr class="t-par"> <td> <code>constexpr</code> </td> <td> - </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> if present, the statement becomes a <i>constexpr if statement</i> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">init-statement</span> </td> <td> - </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> either <ul>
<li> an <a href="statements" title="cpp/language/statements">expression statement</a> (which may be a <i>null statement</i> "<code>;</code>") </li>
<li> a <a href="declarations" title="cpp/language/declarations">simple declaration</a>, typically a declaration of a variable with initializer, but it may declare arbitrary many variables or be a <a href="structured_binding" title="cpp/language/structured binding">structured binding</a> declaration </li>
</ul> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td> <ul><li> an <a href="type_alias" title="cpp/language/type alias">alias declaration</a> </li></ul> </td> <td><span class="t-mark-rev t-since-cxx23">(since C++23)</span></td>
</tr> </table> Note that any <span class="t-spar">init-statement</span> must end with a semicolon <code>;</code>, which is why it is often described informally as an expression or a declaration followed by a semicolon.  </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">condition</span> </td> <td> - </td> <td> one of <ul>
<li> <a href="expressions" title="cpp/language/expressions">expression</a> which is <a href="implicit_conversion#Contextual_conversions" title="cpp/language/implicit conversion">contextually convertible</a> to <code>bool</code> </li>
<li> <a href="declarations" title="cpp/language/declarations">declaration</a> of a single non-array variable with a brace-or-equals <a href="initialization" title="cpp/language/initialization">initializer</a>. </li>
</ul> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">statement-true</span> </td> <td> - </td> <td> any <a href="statements" title="cpp/language/statements">statement</a> (often a compound statement), which is executed if <span class="t-spar">condition</span> evaluates to <code>true</code> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">statement-false</span> </td> <td> - </td> <td> any <a href="statements" title="cpp/language/statements">statement</a> (often a compound statement), which is executed if <span class="t-spar">condition</span> evaluates to <code>false</code> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">compound-statement</span> </td> <td> - </td> <td> any <a href="statements#Compound_statements" title="cpp/language/statements">compound statement</a>, which is executed if the if-statement <ul>
<li> is evaluated in a <a href="constant_expression#Manifestly_constant-evaluated_expressions" title="cpp/language/constant expression">manifestly constant-evaluated context</a>, if <code>!</code> is not preceding <code>consteval</code> </li>
<li> is not evaluated in a manifestly constant-evaluated context, if <code>!</code> is preceding <code>consteval</code> </li>
</ul> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">statement</span> </td> <td> - </td> <td> any <a href="statements" title="cpp/language/statements">statement</a> (must be a compound statement, see <a href="if#Consteval_if" title="cpp/language/if">below</a>), which is executed if the if-statement <ul>
<li> is not evaluated in a <a href="constant_expression#Manifestly_constant-evaluated_expressions" title="cpp/language/constant expression">manifestly constant-evaluated context</a>, if <code>!</code> is not preceding <code>consteval</code> </li>
<li> is evaluated in a manifestly constant-evaluated context, if <code>!</code> is preceding <code>consteval</code> </li>
</ul> </td>
</tr>
</table> <h3 id="Explanation"> Explanation</h3> <p>If the <span class="t-spar">condition</span> yields <code>true</code> after conversion to <code>bool</code>, <span class="t-spar">statement-true</span> is executed.</p>
<p>If the else part of the if statement is present and <span class="t-spar">condition</span> yields <code>false</code> after conversion to <code>bool</code>, <span class="t-spar">statement-false</span> is executed.</p>
<p>In the second form of if statement (the one including else), if <span class="t-spar">statement-true</span> is also an if statement then that inner if statement must contain an else part as well (in other words, in nested if-statements, the else is associated with the closest if that doesn't have an else).</p>
<div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;iostream&gt;
 
int main()
{
    // simple if-statement with an else clause
    int i = 2;
    if (i &gt; 2)
        std::cout &lt;&lt; i &lt;&lt; " is greater than 2\n";
    else
        std::cout &lt;&lt; i &lt;&lt; " is not greater than 2\n";
 
    // nested if-statement
    int j = 1;
    if (i &gt; 1)
        if (j &gt; 2)
            std::cout &lt;&lt; i &lt;&lt; " &gt; 1 and " &lt;&lt; j &lt;&lt; " &gt; 2\n";
        else // this else is part of if (j &gt; 2), not of if (i &gt; 1)
            std::cout &lt;&lt; i &lt;&lt; " &gt; 1 and " &lt;&lt; j &lt;&lt; " &lt;= 2\n";
 
    // declarations can be used as conditions with dynamic_cast
    struct Base
    {
        virtual ~Base() {}
    };
 
    struct Derived : Base
    {
        void df() { std::cout &lt;&lt; "df()\n"; }
    };
 
    Base* bp1 = new Base;
    Base* bp2 = new Derived;
 
    if (Derived* p = dynamic_cast&lt;Derived*&gt;(bp1)) // cast fails, returns nullptr
        p-&gt;df(); // not executed
 
    if (auto p = dynamic_cast&lt;Derived*&gt;(bp2)) // cast succeeds
        p-&gt;df(); // executed
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">2 is not greater than 2
2 &gt; 1 and 1 &lt;= 2
df()</pre></div> </div> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <h4 id="If_statements_with_initializer"> If statements with initializer</h4> <p>If <span class="t-spar">init-statement</span> is used, the if statement is equivalent to.</p>
<table class="t-sdsc-begin">  <tr class="t-sdsc"> <td class="t-sdsc-nopad"> <code>{</code><br> <dl>
<dd>
<span class="t-spar">init_statement</span> <br> </dd>
<dd>
<span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>constexpr</code><span class="t-mark">(optional)</span> <code>(</code> <span class="t-spar">condition</span> <code>)</code> <br> <span class="t-spar">statement-true</span> <br>  </dd>
</dl> <p><code>}</code></p>
</td> <td class="t-sdsc-nopad"> </td> <td class="t-sdsc-nopad"> </td>
</tr> 
</table> <p>or.</p>
<table class="t-sdsc-begin">  <tr class="t-sdsc"> <td class="t-sdsc-nopad"> <code>{</code><br> <dl>
<dd>
<span class="t-spar">init_statement</span><br> </dd>
<dd>
<span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>constexpr</code><span class="t-mark">(optional)</span> <code>(</code> <span class="t-spar">condition</span> <code>)</code> <br> <span class="t-spar">statement-true</span><br>  </dd>
<dd>
<code>else</code> <span class="t-spar">statement-false</span><br>  </dd>
</dl> <p><code>}</code></p>
</td> <td class="t-sdsc-nopad"> </td> <td class="t-sdsc-nopad"> </td>
</tr> 
</table> <p>except that names declared by the <span class="t-spar">init-statement</span> (if <span class="t-spar">init-statement</span> is a declaration) and names declared by <span class="t-spar">condition</span> (if condition is a declaration) are in the same scope, which is also the scope of both <span class="t-spar">statement</span>s.</p>
<div class="cpp source-cpp"><pre data-language="cpp">std::map&lt;int, std::string&gt; m;
std::mutex mx;
extern bool shared_flag; // guarded by mx
 
int demo()
{
    if (auto it = m.find(10); it != m.end())
        return it-&gt;second.size();
 
    if (char buf[10]; std::fgets(buf, 10, stdin))
        m[0] += buf;
 
    if (std::lock_guard lock(mx); shared_flag)
    {
        unsafe_ping();
        shared_flag = false;
    }
 
    if (int s; int count = ReadBytesWithSignal(&amp;s))
    {
        publish(count);
        raise(s);
    }
 
    if (const auto keywords = {"if", "for", "while"};
        std::ranges::any_of(keywords, [&amp;tok](const char* kw) { return tok == kw; }))
    {
        std::cerr &lt;&lt; "Token must not be a keyword\n";
    }
}</pre></div> </td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <h4 id="Constexpr_if"> Constexpr if</h4> <p>The statement that begins with <code>if constexpr</code> is known as the <i>constexpr if statement</i>.</p>
<p>In a constexpr if statement, the value of <span class="t-spar">condition</span> must be <span class="t-rev-inl t-until-cxx23"><span>a <a href="constant_expression#Converted_constant_expression" title="cpp/language/constant expression">contextually converted constant expression of type <code>bool</code></a></span> <span><span class="t-mark-rev t-until-cxx23">(until C++23)</span></span></span><span class="t-rev-inl t-since-cxx23"><span>an expression <a href="implicit_conversion#Contextual_conversions" title="cpp/language/implicit conversion">contextually converted to <code>bool</code></a>, where the conversion is a <a href="constant_expression" title="cpp/language/constant expression">constant expression</a></span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span>. If the value is <code>true</code>, then <span class="t-spar">statement-false</span> is discarded (if present), otherwise, <span class="t-spar">statement-true</span> is discarded.</p>
<p>The return statements in a discarded statement do not participate in function return type deduction:</p>
<div class="cpp source-cpp"><pre data-language="cpp">template&lt;typename T&gt;
auto get_value(T t)
{
    if constexpr (std::is_pointer_v&lt;T&gt;)
        return *t; // deduces return type to int for T = int*
    else
        return t;  // deduces return type to int for T = int
}</pre></div> <p>The discarded statement can <a href="definition#One_Definition_Rule" title="cpp/language/definition">odr-use</a> a variable that is not defined:</p>
<div class="cpp source-cpp"><pre data-language="cpp">extern int x; // no definition of x required
 
int f()
{
    if constexpr (true)
        return 0;
    else if (x)
        return x;
    else
        return -x;
}</pre></div> <p>Outside a template, a discarded statement is fully checked. <code>if constexpr</code> is not a substitute for the <a href="../preprocessor/conditional" title="cpp/preprocessor/conditional"><code> #if</code></a> preprocessing directive:</p>
<div class="cpp source-cpp"><pre data-language="cpp">void f()
{
    if constexpr(false)
    {
        int i = 0;
        int *p = i; // Error even though in discarded statement
    }
}</pre></div> <p>If a constexpr if statement appears inside a <a href="templates#Templated_entity" title="cpp/language/templates">templated entity</a>, and if <span class="t-spar">condition</span> is not <a href="dependent_name#Value-dependent_expressions" title="cpp/language/dependent name">value-dependent</a> after instantiation, the discarded statement is not instantiated when the enclosing template is instantiated.</p>
<div class="cpp source-cpp"><pre data-language="cpp">template&lt;typename T, typename ... Rest&gt;
void g(T&amp;&amp; p, Rest&amp;&amp; ...rs)
{
    // ... handle p
    if constexpr (sizeof...(rs) &gt; 0)
        g(rs...); // never instantiated with an empty argument list.
}</pre></div> <p>Note: an example where the condition remains value-dependent after instantiation is a nested template, e.g.</p>
<div class="cpp source-cpp"><pre data-language="cpp">template&lt;class T&gt;
void g()
{
    auto lm = [](auto p)
    {
        if constexpr (sizeof(T) == 1 &amp;&amp; sizeof p == 1)
        {
            // this condition remains value-dependent after instantiation of g&lt;T&gt;
        }
    };
}</pre></div>  <p>Note: the discarded statement cannot be ill-formed for every possible specialization:</p>
<div class="cpp source-cpp"><pre data-language="cpp">template&lt;typename T&gt;
void f()
{
    if constexpr (std::is_arithmetic_v&lt;T&gt;)
        // ...
    else {
        using invalid_array = int[-1]; // ill-formed: invalid for every T
        static_assert(false, "Must be arithmetic"); // ill-formed before CWG2518
    }
}</pre></div> <p>The common workaround before the implementation of <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/2518.html">CWG2518</a> for such a catch-all statement is a type-dependent expression that is always <code>false</code>:</p>
<div class="cpp source-cpp"><pre data-language="cpp">template&lt;typename&gt;
inline constexpr bool dependent_false_v = false;
 
template&lt;typename T&gt;
void f()
{
    if constexpr (std::is_arithmetic_v&lt;T&gt;)
        // ...
    else {
        // workaround before CWG2518
        static_assert(dependent_false_v&lt;T&gt;, "Must be arithmetic");
    }
}</pre></div> <p>Labels (<a href="goto" title="cpp/language/goto">goto targets</a>, <code>case</code> labels, and <code>default:</code>) appearing in a substatement of a constexpr if can only be referenced (by <a href="switch" title="cpp/language/switch"><code>switch</code></a> or <a href="goto" title="cpp/language/goto"><code>goto</code></a>) in the same substatement.</p>
<p>Note: a <a href="typedef" title="cpp/language/typedef">typedef declaration</a> <span class="t-rev-inl t-since-cxx23"><span>or <a href="type_alias" title="cpp/language/type alias">alias declaration</a></span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span> can be used as the init-statement of a constexpr if statement to reduce the scope of the type alias.</p>
</td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td> <h4 id="Consteval_if"> Consteval if</h4> <p>The statement that begins with <code>if consteval</code> is known as the <i>consteval if statement</i>. In a consteval if statement,</p>
<table class="t-sdsc-begin">  <tr class="t-sdsc"> <td> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>!</code><span class="t-mark">(optional)</span> <code>consteval</code> <span class="t-spar">compound-statement</span> </td> <td> (3) </td> <td> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr>  <tr class="t-sdsc"> <td> <span class="t-spar">attr</span> ﻿<span class="t-mark">(optional)</span> <code>if</code> <code>!</code><span class="t-mark">(optional)</span> <code>consteval</code> <span class="t-spar">compound-statement</span> <code>else</code> <span class="t-spar">statement</span> </td> <td> (4) </td> <td> <span class="t-mark-rev t-since-cxx23">(since C++23)</span> </td>
</tr> 
</table> <p>both <span class="t-spar">compound-statement</span> and <span class="t-spar">statement</span> (if any) must be compound statements.</p>
<p>If <span class="t-spar">statement</span> is not a compound statement, it will still be treated as a part of the consteval if statement (and thus results in a compilation error):</p>
<div class="cpp source-cpp"><pre data-language="cpp">constexpr void f(bool b)
{
    if (true)
        if consteval {}
        else ; // error: not a compound-statement
               // else not associated with outer if
}</pre></div>  <p>If a consteval if statement is evaluated in a <a href="constant_expression#Manifestly_constant-evaluated_expressions" title="cpp/language/constant expression">manifestly constant-evaluated context</a>, <span class="t-spar">compound-statement</span> is executed. Otherwise, <span class="t-spar">statement</span> is executed if it is present.</p>
<p>A <code>case</code> or <code>default</code> label appearing within a consteval if statement shall be associated with a <a href="switch" title="cpp/language/switch"><code>switch</code></a> statement within the same if statement. A <a href="goto" title="cpp/language/goto">label</a> declared in a substatement of a consteval if statement shall only be referred to by a statement in the same substatement.</p>
<p>If the statement begins with <code>if !consteval</code>, the <span class="t-spar">compound-statement</span> and <span class="t-spar">statement</span> (if any) must both be compound statements. Such statements are not considered consteval if statements, but are equivalent to consteval if statements:</p>
<ul>
<li> <code>if !consteval {/*stmt*/}</code> is equivalent to <code>if consteval {} else {/*stmt*/}</code>. </li>
<li> <code>if !consteval {/*stmt-1*/} else {/*stmt-2*/}</code> is equivalent to <code>if consteval {/*stmt-2*/} else {/*stmt-1*/}</code>. </li>
</ul> <p><span class="t-spar">compound-statement</span> in a consteval if statement (or <span class="t-spar">statement</span> in the negative form) is in an <a href="consteval" title="cpp/language/consteval">immediate function context</a>, in which a call to an immediate function needs not to be a constant expression.</p>
<div class="cpp source-cpp"><pre data-language="cpp">#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstring&gt;
#include &lt;iostream&gt;
 
constexpr bool is_constant_evaluated() noexcept
{
    if consteval { return true; } else { return false; }
}
 
constexpr bool is_runtime_evaluated() noexcept
{
    if not consteval { return true; } else { return false; }
}
 
consteval std::uint64_t ipow_ct(std::uint64_t base, std::uint8_t exp)
{
    if (!base) return base;
    std::uint64_t res{1};
    while (exp)
    {
        if (exp &amp; 1) res *= base;
        exp /= 2;
        base *= base;
    }
    return res;
}
 
constexpr std::uint64_t ipow(std::uint64_t base, std::uint8_t exp)
{
    if consteval // use a compile-time friendly algorithm
    {
        return ipow_ct(base, exp);
    }
    else // use runtime evaluation
    {
        return std::pow(base, exp);
    }
}
 
int main(int, const char* argv[])
{
    static_assert(ipow(0,10) == 0 &amp;&amp; ipow(2,10) == 1024);
    std::cout &lt;&lt; ipow(std::strlen(argv[0]), 3) &lt;&lt; '\n';
}</pre></div>  </td> <td><span class="t-mark-rev t-since-cxx23">(since C++23)</span></td>
</tr> </table> <h3 id="Notes"> Notes</h3> <p>If <span class="t-spar">statement-true</span> or <span class="t-spar">statement-false</span> is not a compound statement, it is treated as if it were:</p>
<div class="cpp source-cpp"><pre data-language="cpp">if (x)
    int i;
// i is no longer in scope</pre></div> <p>is the same as.</p>
<div class="cpp source-cpp"><pre data-language="cpp">if (x)
{
    int i;
}
// i is no longer in scope</pre></div> <p>The scope of the name introduced by <span class="t-spar">condition</span>, if it is a declaration, is the combined scope of both statements' bodies:</p>
<div class="cpp source-cpp"><pre data-language="cpp">if (int x = f())
{
    int x; // error: redeclaration of x
}
else
{
    int x; // error: redeclaration of x
}</pre></div> <p>If <span class="t-spar">statement-true</span> is entered by <a href="goto" title="cpp/language/goto"><code>goto</code></a> or <code>longjmp</code>, <span class="t-spar">condition</span> is not evaluated and <span class="t-spar">statement-false</span> is not executed.</p>
<table class="t-rev-begin"> <tr class="t-rev t-since-cxx17 t-until-cxx23">
<td> <p>Built-in conversions are not allowed in the <span class="t-spar">condition</span> of a constexpr if statement, except for non-<a href="list_initialization#Narrowing_conversions" title="cpp/language/list initialization">narrowing</a> <a href="implicit_conversion#Integral_conversions" title="cpp/language/implicit conversion">integral conversions</a> to <code>bool</code>.</p>
</td> <td>
<span class="t-mark-rev t-since-cxx17">(since C++17)</span><br><span class="t-mark-rev t-until-cxx23">(until C++23)</span>
</td>
</tr> </table> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <p><a href="switch" title="cpp/language/switch"><code>switch</code></a> and <a href="goto" title="cpp/language/goto"><code>goto</code></a> are not allowed to jump into a branch of constexpr if statement<span class="t-rev-inl t-since-cxx23"><span>or a consteval if statement</span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span>.</p>
</td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>Feature-test macro</th> <th>Value</th> <th><span title="Standard in which the feature is introduced">Std</span></th> <th>Comment </th>
</tr> <tr> <td><a href="../feature_test#Language_features" title="cpp/feature test"><code>__cpp_if_constexpr</code></a></td> <td><span class="nu0">201606L</span></td> <td><span class="t-mark">(C++17)</span></td> <td>
<span class="kw4">constexpr</span> <code>if</code> </td>
</tr> <tr> <td><a href="../feature_test#Language_features" title="cpp/feature test"><code>__cpp_if_consteval</code></a></td> <td><span class="nu0">202106L</span></td> <td><span class="t-mark">(C++23)</span></td> <td>consteval <code>if</code> </td>
</tr>
</table> <h3 id="Keywords"> Keywords</h3> <p><a href="../keyword/if" title="cpp/keyword/if"><code>if</code></a>, <a href="../keyword/else" title="cpp/keyword/else"><code>else</code></a>, <a href="../keyword/constexpr" title="cpp/keyword/constexpr"><code>constexpr</code></a>, <a href="../keyword/consteval" title="cpp/keyword/consteval"><code>consteval</code></a>.</p>
<h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th> DR </th> <th> Applied to </th> <th> Behavior as published </th> <th> Correct behavior </th>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/631.html">CWG 631</a> </td> <td> C++98 </td> <td> the control flow was unspecified if the<br>first substatement is reached via a label </td> <td> the condition is not evaluated and the second<br>substatement is not executed (same as in C) </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../types/is_constant_evaluated" title="cpp/types/is constant evaluated"> <span class="t-lines"><span>is_constant_evaluated</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> detects whether the call occurs within a constant-evaluated context <br> <span class="t-mark">(function)</span>  </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/language/if" title="c/language/if">C documentation</a></span> for <span class=""><span><code>if</code> statement</span></span> </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    © cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/language/if" class="_attribution-link">https://en.cppreference.com/w/cpp/language/if</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
