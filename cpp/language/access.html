
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Access Specifiers - C++ - W3cubDocs</title>
  
  <meta name="description" content=" In a member-specification of a class&#47;struct or union, define the accessibility of subsequent members. ">
  <meta name="keywords" content="access, specifiers, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/language/access.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/cpp.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _c">
				
				
<h1 id="firstHeading" class="firstHeading">access specifiers</h1>            <p>In a <span class="t-spar">member-specification</span> of a <a href="class" title="cpp/language/class">class/struct</a> or <a href="union" title="cpp/language/union">union</a>, define the accessibility of subsequent members.</p>
<p>In a <span class="t-spar">base-specifier</span> of a <a href="derived_class" title="cpp/language/derived class">derived class</a> declaration, define the accessibility of inherited members of the subsequent base class.</p>
<h3 id="Syntax">Syntax</h3> <table class="t-sdsc-begin">  <tr class="t-sdsc"> <td> <code>public</code> <code>:</code> <span class="t-spar">member-declarations</span> </td> <td> (1) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>protected</code> <code>:</code> <span class="t-spar">member-declarations</span> </td> <td> (2) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>private</code> <code>:</code> <span class="t-spar">member-declarations</span> </td> <td> (3) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>public</code> <span class="t-spar">base_class</span> </td> <td> (4) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>protected</code> <span class="t-spar">base_class</span> </td> <td> (5) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>private</code> <span class="t-spar">base_class</span> </td> <td> (6) </td> <td class="t-sdsc-nopad"> </td>
</tr> 
</table> <div class="t-li1">
<span class="t-li">1)</span> The members declared after the specifier have public member access</div> <div class="t-li1">
<span class="t-li">2)</span> The members declared after the specifier have protected member access</div> <div class="t-li1">
<span class="t-li">3)</span> The members declared after the specifier have private member access</div> <div class="t-li1">
<span class="t-li">4)</span> <a href="derived_class#Public_inheritance" title="cpp/language/derived class">Public inheritance</a>: the public and protected members of the <a href="derived_class" title="cpp/language/derived class">base class</a> listed after the specifier keep their member access in the derived class</div> <div class="t-li1">
<span class="t-li">5)</span> <a href="derived_class#Protected_inheritance" title="cpp/language/derived class">Protected inheritance</a>: the public and protected members of the <a href="derived_class" title="cpp/language/derived class">base class</a> listed after the specifier are protected members of the derived class</div> <div class="t-li1">
<span class="t-li">6)</span> <a href="derived_class#Private_inheritance" title="cpp/language/derived class">Private inheritance</a>: the public and protected members of the <a href="derived_class" title="cpp/language/derived class">base class</a> listed after the specifier are private members of the derived class</div> <h3 id="Explanation">Explanation</h3> <p>The name of every <a href="class" title="cpp/language/class">class</a> member (static, non-static, function, type, etc) has an associated "member access". When a name of the member is used anywhere a program, its access is checked, and if it does not satisfy the access rules, the program does not compile:</p>
<div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;iostream&gt;
class Example {
 public: // all declarations after this point are public
    void add(int x) { // member "add" has public access
        n += x; // OK: private Example::n can be accessed from Example::add
    }
 private: // all declarations after this point are private
    int n = 0; // member "n" has private access
};
int main()
{
    Example e;
    e.add(1); // OK: public Example::add can be accessed from main
//  e.n = 7;  // Error: private Example::n cannot be accessed from main
}</pre></div> </div> <p>Access specifiers give the author of the class the ability to decide which class members are accessible to the users of the class (that is, the <i>interface</i>) and which members are for internal use of the class (the <i>implementation</i>).</p>
<h3 id="In_detail">In detail</h3> <p>All members of a class (bodies of <a href="member_functions" title="cpp/language/member functions">member functions</a>, initializers of member objects, and the entire <a href="nested_classes" title="cpp/language/nested types">nested class definitions</a>) have access to all names the class can access. A local class within a member function has access to all names the member function can access.</p>
<p>A class defined with the keyword <code>class</code> has private access for its members and its base classes by default. A class defined with the keyword <code>struct</code> has public access for its members and its base classes by default. A <a href="union" title="cpp/language/union">union</a> has public access for its members by default.</p>
<p>To grant access to additional functions or classes to protected or private members, a <a href="friend" title="cpp/language/friend">friendship declaration</a> may be used.</p>
<p>Accessibility applies to all names with no regard to their origin, so a name introduced by a <a href="typedef" title="cpp/language/typedef">typedef</a> or <a href="using_declaration" title="cpp/language/using declaration">using declarations</a> is checked, not the name it refers to.</p>
<div class="cpp source-cpp"><pre data-language="cpp">class A : X {
  class B { }; // B is private in A
public:
  typedef B BB; // BB is public
};
void f() {
  A::B y; // error, A::B is private
  A::BB x; // OK, A::BB is public
}</pre></div> <p>Member access does not affect visibility: names of private and privately-inherited members are visible and considered by overload resolution, implicit conversions to inaccessible base classes are still considered, etc. Member access check is the last step after any given language construct is interpreted. The intent of this rule is that replacing any <code>private</code> with <code>public</code> never alters the behavior of the program.</p>
<p>Access checking for the names used in <a href="default_arguments" title="cpp/language/default arguments">default function arguments</a> as well as in the default <a href="template_parameters#Default_template_arguments" title="cpp/language/template parameters">template parameters</a> is performed at the point of declaration, not at the point of use.</p>
<p>Access rules for the names of <a href="virtual" title="cpp/language/virtual">virtual functions</a> are checked at the call point using the type of the expression used to denote the object for which the member function is called. The access of the final overrider is ignored.</p>
<div class="cpp source-cpp"><pre data-language="cpp">struct B { virtual int f(); }; // f is public in B
class D : public B { private: int f(); }; // f is private in D
void f() {
 D d;
 B&amp; b = d;
 b.f(); // OK: B::f() is public, D::f() is invoked even though it's private
 d.f(); // error: D::f() is private
}</pre></div> <p>A name that is private according to unqualified <a href="lookup" title="cpp/language/lookup">name lookup</a>, may be accessible through qualified name lookup:</p>
<div class="cpp source-cpp"><pre data-language="cpp">class A { };
class B : private A { };
class C : public B {
   A* p; // error: unqualified name lookup finds A as the private base of B
   ::A* q; // OK, qualified name lookup finds the namespace-level declaration
};</pre></div> <p>A name that is accessible through multiple paths in the inheritance graph has the access of the path with the most access:</p>
<div class="cpp source-cpp"><pre data-language="cpp">class W { public: void f(); };
class A : private virtual W { };
class B : public virtual W { };
class C : public A, public B {
void f() { W::f(); } // OK, W is accessible to C through B
};</pre></div> <p>Any number of access specifiers may appear within a class, in any order. Member access specifiers may affect class layout: the addresses of non-static <a href="data_members#Layout" title="cpp/language/data members">data members</a> are only guaranteed to increase in order of declaration for the members with the same access. For <a href="../named_req/standardlayouttype" title="cpp/named req/StandardLayoutType">StandardLayoutType</a>, all non-static data members must have the same access.</p>
<p>When a member is redeclared within the same class, it must do so under the same member access:</p>
<div class="cpp source-cpp"><pre data-language="cpp">struct S {
  class A; // S::A is public
private:
  class A {}; // error: cannot change access
};</pre></div> <h3 id="Public_member_access">Public member access</h3> <p>Public members form a part of the public interface of the class (other parts of the public interface are the non-member functions found by <a href="adl" title="cpp/language/adl">ADL</a>).</p>
<p>A public member of a class is accessible everywhere.</p>
<div class="cpp source-cpp"><pre data-language="cpp">class S {
 public: // n, f, E, A, B, C, U are public members
    int n;
    static void f() {}
    enum E {A, B, C};
    struct U {};
};
int main()
{
    S::f(); // S::f is accessible in main
    S s;
    s.n = S::B; // S::n and S::B are accesisble in main
    S::U x; // S::U is accessible in main
}</pre></div> <h3 id="Protected_member_access">Protected member access</h3> <p>Protected members form the interface for the derived classes (which is distinct from the public interface of the class).</p>
<p>A protected member of a class <code>Base</code> can only be accessed.</p>
<div class="t-li1">
<span class="t-li">1)</span> by the members and friends of <code>Base</code> </div> <div class="t-li1">
<span class="t-li">2)</span> by the members <span class="t-rev-inl t-until-cxx17"><span>and friends</span> <span><span class="t-mark-rev t-until-cxx17">(until C++17)</span></span></span> of any class derived from <code>Base</code>, but only when operating on an object of a type that is derived from <code>Base</code> (including <code>this</code>)</div> <div class="cpp source-cpp"><pre data-language="cpp">struct Base {
 protected:
    int i;
 private:
    void g(Base&amp; b, struct Derived&amp; d);
};
 
struct Derived : Base {
    void f(Base&amp; b, Derived&amp; d) // member function of a derived class
    {
        ++d.i; // okay: the type of d is Derived
        ++i; // okay: the type of the implied '*this' is Derived
//      ++b.i; // error: can't access a protected member through Base
//                 (Otherwise it would be possible to change other derived classes, 
//                  like a hypothetical Derived2, base implementation)
    }
};
 
void Base::g(Base&amp; b, Derived&amp; d) // member function of Base
{
    ++i; // okay
    ++b.i; // okay
    ++d.i; // okay
}
 
void x(Base&amp; b, Derived&amp; d) // non-member non-friend
{
//    ++b.i; // error: no access from non-member
//    ++d.i; // error: no access from non-member
}</pre></div> <p>When a pointer to a protected member is formed, it must use a derived class in its declaration:</p>
<div class="cpp source-cpp"><pre data-language="cpp">struct Base {
 protected:
    int i;
};
 
struct Derived : Base {
    void f()
    {
//      int Base::* ptr = &amp;Base::i;    // error: must name using Derived
        int Base::* ptr = &amp;Derived::i; // okay
    }
};</pre></div> <h3 id="Private_member_access">Private member access</h3> <p>Private members form the implementation of a class, as well as the private interface for the other members of the class.</p>
<p>A private member of a class can only be accessed by the members and friends of that class, regardless of whether the members are on the same or different instances:</p>
<div class="cpp source-cpp"><pre data-language="cpp">class S {
 private:
    int n; // S::n is private
 public:
    S() : n(10) {} // this-&gt;n is accessible in S::S
    S(const S&amp; other) : n(other.n) {} // other.n is accessible in S::S
};</pre></div> <p>The <a href="explicit_cast" title="cpp/language/explicit cast">explicit cast</a> (C-style and function-style) allows casting from a derived lvalue to reference to its private base, or from a pointer to derived to a pointer to its private base.</p>
<h3 id="Inheritance">Inheritance</h3> <p>See <a href="derived_class" title="cpp/language/derived class">derived classes</a> for the meaning of public, protected, and private inheritance.</p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="http://en.cppreference.com/w/cpp/language/access" class="_attribution-link">http://en.cppreference.com/w/cpp/language/access</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
