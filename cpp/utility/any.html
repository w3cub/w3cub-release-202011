
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Std&#58;&#58;any - C++ - W3cubDocs</title>
  
  <meta name="description" content=" The class any describes a type-safe container for single values of any copy constructible type. ">
  <meta name="keywords" content="std, any, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/utility/any.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cppref">
				
				
<h1 id="firstHeading" class="firstHeading">std::any</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/any" title="cpp/header/any">&lt;any&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">class any;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td> </tr>  </table> <p>The class <code>any</code> describes a type-safe container for single values of any <a href="../types/is_copy_constructible" title="cpp/types/is copy constructible">copy constructible</a> type.</p>
<div class="t-li1">
<span class="t-li">1)</span> An object of class <code>any</code> stores an instance of any type that satisfies the constructor requirements or is empty, and this is referred to as the <i>state</i> of the class <code>any</code> object. The stored instance is called the contained object. Two states are equivalent if they are either both empty or if both are not empty and if the contained objects are equivalent.</div> <div class="t-li1">
<span class="t-li">2)</span> The non-member <code>any_cast</code> functions provide type-safe access to the contained object.</div> <p>Implementations are encouraged to avoid dynamic allocations for small objects, but such an optimization may only be applied to types for which <code><a href="../types/is_move_constructible" title="cpp/types/is move constructible">std::is_nothrow_move_constructible</a></code> returns <code>true</code>.</p>
<h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="any/any" title="cpp/utility/any/any"> <span class="t-lines"><span>(constructor)</span></span></a></div> </td> <td> constructs an <code>any</code> object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/operator=" title="cpp/utility/any/operator="> <span class="t-lines"><span>operator=</span></span></a></div> </td> <td> assigns an <code>any</code> object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/~any" title="cpp/utility/any/~any"> <span class="t-lines"><span>(destructor)</span></span></a></div> </td> <td> destroys an <code>any</code> object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">  Modifiers </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/emplace" title="cpp/utility/any/emplace"> <span class="t-lines"><span>emplace</span></span></a></div> </td> <td> change the contained object, constructing the new object directly <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/reset" title="cpp/utility/any/reset"> <span class="t-lines"><span>reset</span></span></a></div> </td> <td> destroys contained object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/swap" title="cpp/utility/any/swap"> <span class="t-lines"><span>swap</span></span></a></div> </td> <td> swaps two <code>any</code> objects <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Observers">  Observers </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/has_value" title="cpp/utility/any/has value"> <span class="t-lines"><span>has_value</span></span></a></div> </td> <td> checks if object holds a value <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/type" title="cpp/utility/any/type"> <span class="t-lines"><span>type</span></span></a></div> </td> <td> returns the <code>typeid</code> of the contained value <br> <span class="t-mark">(public member function)</span>  </td>
</tr> </table> <h3 id="Non-member_functions"> Non-member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="any/swap2" title="cpp/utility/any/swap2"> <span class="t-lines"><span>std::swap<span class="t-dsc-small">(std::any)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> specializes the <code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code> algorithm <br> <span class="t-mark">(function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/any_cast" title="cpp/utility/any/any cast"> <span class="t-lines"><span>any_cast</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> type-safe access to the contained object <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/make_any" title="cpp/utility/any/make any"> <span class="t-lines"><span>make_any</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> creates an <code>any</code> object <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table> <h3 id="Helper_classes"> Helper classes</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="any/bad_any_cast" title="cpp/utility/any/bad any cast"> <span class="t-lines"><span>bad_any_cast</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> exception thrown by the value-returning forms of <code>any_cast</code> on a type mismatch <br> <span class="t-mark">(class)</span>  </td>
</tr> </table> <h3 id="Notes"> Notes</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="feature_test" title="cpp/utility/feature test">Feature-test</a> macro</th> <th>Value</th> <th><span title="Standard in which the feature is introduced">Std</span></th> <th>Comment </th>
</tr> <tr> <td><a href="../feature_test#Library_features" title="cpp/feature test"><code>__cpp_lib_any</code></a></td> <td><span class="nu0">201606L</span></td> <td><span class="t-mark">(C++17)</span></td> <td>
<a href="#top"><code>std::any</code></a> </td>
</tr>
</table> <h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;any&gt;
#include &lt;iostream&gt;
 
int main()
{
    std::cout &lt;&lt; std::boolalpha;
 
    // any type
    std::any a = 1;
    std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;int&gt;(a) &lt;&lt; '\n';
    a = 3.14;
    std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;double&gt;(a) &lt;&lt; '\n';
    a = true;
    std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;bool&gt;(a) &lt;&lt; '\n';
 
    // bad cast
    try
    {
        a = 1;
        std::cout &lt;&lt; std::any_cast&lt;float&gt;(a) &lt;&lt; '\n';
    }
    catch (const std::bad_any_cast&amp; e)
    {
        std::cout &lt;&lt; e.what() &lt;&lt; '\n';
    }
 
    // has value
    a = 2;
    if (a.has_value())
        std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;int&gt;(a) &lt;&lt; '\n';
 
    // reset
    a.reset();
    if (!a.has_value())
        std::cout &lt;&lt; "no value\n";
 
    // pointer to contained data
    a = 3;
    int* i = std::any_cast&lt;int&gt;(&amp;a);
    std::cout &lt;&lt; *i &lt;&lt; '\n';
}</pre></div> <p>Possible output:</p>
<div class="text source-text"><pre data-language="c">int: 1
double: 3.14
bool: true
bad any_cast
int: 2
no value
3</pre></div> </div> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="functional/function" title="cpp/utility/functional/function"> <span class="t-lines"><span>function</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> wraps callable object of any copy constructible type with specified function call signature <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="functional/move_only_function" title="cpp/utility/functional/move only function"> <span class="t-lines"><span>move_only_function</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">(C++23)</span></span></span></div> </td> <td> wraps callable object of any type with specified function call signature <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="variant" title="cpp/utility/variant"> <span class="t-lines"><span>variant</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> a type-safe discriminated union <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="optional" title="cpp/utility/optional"> <span class="t-lines"><span>optional</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> a wrapper that may or may not hold an object <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    Â© cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/utility/any" class="_attribution-link">https://en.cppreference.com/w/cpp/utility/any</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
