
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Std&#58;&#58;owner_less - C++ - W3cubDocs</title>
  
  <meta name="description" content="This function object provides owner-based (as opposed to value-based) mixed-type ordering of both std&#58;&#58;weak_ptr and std&#58;&#58;shared_ptr &hellip;">
  <meta name="keywords" content="std, owner, less, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/memory/owner_less.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/cpp.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _c">
				
				
<h1 id="firstHeading" class="firstHeading">std::owner_less</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/memory" title="cpp/header/memory">&lt;memory&gt;</a></code> </th> <th> </th> <th> </th> </tr>  <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(1)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx11 t-until-cxx17"> <td> <pre data-language="cpp">template&lt; class T &gt;
struct owner_less; /* undefined */</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> <br><span class="t-mark-rev t-until-cxx17">(until C++17)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">template&lt; class T = void &gt;
struct owner_less; /* undefined */</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td> </tr>  <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">template&lt; class T &gt;
struct owner_less&lt;std::shared_ptr&lt;T&gt;&gt;;</pre>
</td> <td> (2) </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">template&lt; class T &gt;
struct owner_less&lt;std::weak_ptr&lt;T&gt;&gt;;</pre>
</td> <td> (3) </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">template&lt;&gt;
struct owner_less&lt;void&gt;;</pre>
</td> <td> (4) </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td> </tr>  </table> <p>This function object provides owner-based (as opposed to value-based) mixed-type ordering of both <code><a href="weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code> and <code><a href="shared_ptr" title="cpp/memory/shared ptr">std::shared_ptr</a></code>. The order is such that two smart pointers compare equivalent only if they are both empty or if they share ownership, even if the values of the raw pointers obtained by <code>get()</code> are different (e.g. because they point at different subobjects within the same object).</p>
<p>This class template is the preferred comparison predicate when building associative containers with <code><a href="shared_ptr" title="cpp/memory/shared ptr">std::shared_ptr</a></code> or <code><a href="weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code> as keys, that is,</p>
<p><code><a href="../container/map"><span class="kw1277">std::<span class="me2">map</span></span></a><span class="sy1">&lt;</span><a href="shared_ptr"><span class="kw729">std::<span class="me2">shared_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span>, U, std<span class="sy4">::</span><span class="me2">owner_less</span><span class="sy1">&lt;</span><a href="shared_ptr"><span class="kw729">std::<span class="me2">shared_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;&gt;&gt;</span></code></p>
<p>or.</p>
<p><code><a href="../container/map"><span class="kw1277">std::<span class="me2">map</span></span></a><span class="sy1">&lt;</span><a href="weak_ptr"><span class="kw736">std::<span class="me2">weak_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span>, U, std<span class="sy4">::</span><span class="me2">owner_less</span><span class="sy1">&lt;</span><a href="weak_ptr"><span class="kw736">std::<span class="me2">weak_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;&gt;&gt;</span></code>.</p>
<p>The default <code>operator&lt;</code> is not defined for weak pointers, and may wrongly consider two shared pointers for the same object non-equivalent (see <a href="shared_ptr/owner_before" title="cpp/memory/shared ptr/owner before"><code>shared_ptr::owner_before</code></a>).</p>
<h3 id="Specializations">Specializations</h3> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <p>The standard library provides a specialization of <code>std::owner_less</code> when <code>T</code> is not specified. In this case, the parameter types are deduced from the arguments (each of which must still be either a <code><a href="shared_ptr" title="cpp/memory/shared ptr">std::shared_ptr</a></code> or a <code><a href="weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code>).</p>
<table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="owner_less_void" title="cpp/memory/owner less void"> <span class="t-lines"><span>owner_less<span class="t-dsc-small">&lt;void&gt;</span></span></span></a></div> </td> <td> function object providing mixed-type owner-based ordering of shared and weak pointers, regardless of the type of the pointee <br> <span class="t-mark">(class template specialization)</span> </td>
</tr> </table> </td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx20">
<td> <h3 id="Member_types"> Member types</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member type </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code>result_type</code><span class="t-mark">(deprecated in c++17)</span> </td> <td> 2-3) <code>bool</code> </td>
</tr> <tr class="t-dsc"> <td> <code>first_argument_type</code><span class="t-mark">(deprecated in c++17)</span> </td> <td> 2) <code><a href="shared_ptr"><span class="kw729">std::<span class="me2">shared_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span></code><br>3) <code><a href="weak_ptr"><span class="kw736">std::<span class="me2">weak_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span></code> </td>
</tr> <tr class="t-dsc"> <td> <code>second_argument_type</code><span class="t-mark">(deprecated in c++17)</span> </td> <td> 2) <code><a href="shared_ptr"><span class="kw729">std::<span class="me2">shared_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span></code><br>3) <code><a href="weak_ptr"><span class="kw736">std::<span class="me2">weak_ptr</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span></code> </td>
</tr> </table> </td> <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td>
</tr> </table> <h3 id="Member_functions">Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>operator()</span></span></strong></div> </td> <td> compares its arguments using owner-based semantics <br> <span class="t-mark">(function)</span> </td>
</tr> </table> <div class="t-member"> <h2 id="std::owner_less::operator.28.29">  std::owner_less::operator() </h2> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">bool operator()( const std::shared_ptr&lt;T&gt;&amp; lhs, 
                 const std::shared_ptr&lt;T&gt;&amp; rhs ) const;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> <br><span class="t-mark">(member only of <code>owner_less&lt;shared_ptr&lt;T&gt;&gt;</code> template specialization)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">bool operator()( const std::shared_ptr&lt;T&gt;&amp; lhs, 
                 const std::weak_ptr&lt;T&gt;&amp; rhs ) const;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">bool operator()( const std::weak_ptr&lt;T&gt;&amp; lhs, 
                 const std::shared_ptr&lt;T&gt;&amp; rhs ) const;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">bool operator()( const std::weak_ptr&lt;T&gt;&amp; lhs, 
                 const std::weak_ptr&lt;T&gt;&amp; rhs ) const;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> <br><span class="t-mark">(member only of <code>owner_less&lt;weak_ptr&lt;T&gt;&gt;</code> template specialization)</span> </td> </tr>  </table> <p>Compares <code>lhs</code> and <code>rhs</code> using owner-based semantics. Effectively calls <code>lhs.owner_before(rhs)</code>.</p>
<p>The ordering is strict weak ordering relation.</p>
<p><code>lhs</code> and <code>rhs</code> are equivalent only if they are both empty or share ownership.</p>
<h3 id="Parameters"> Parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> lhs, rhs </td> <td> - </td> <td> shared-ownership pointers to compare </td>
</tr>
</table> <h3 id="Return_value"> Return value</h3> <p><code>true</code> if <code>lhs</code> is <i>less than</i> <code>rhs</code> as determined by the owner-based ordering.</p>
<h3 id="Exceptions">  Exceptions </h3> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx17">
<td> (none)</td> <td><span class="t-mark-rev t-until-cxx17">(until C++17)</span></td>
</tr> <tr class="t-rev t-since-cxx17">
<td> <a href="../language/noexcept_spec" title="cpp/language/noexcept spec"><code>noexcept</code></a> specification: <div class="t-noexcept-box"><span class="t-cc"><code>noexcept</code></span></div> </td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> </div> <h3 id="See_also">See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="shared_ptr/owner_before" title="cpp/memory/shared ptr/owner before"> <span class="t-lines"><span>owner_before</span></span></a></div> </td> <td> provides owner-based ordering of shared pointers <br> <span class="t-mark">(public member function of <code>std::shared_ptr&lt;T&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="weak_ptr/owner_before" title="cpp/memory/weak ptr/owner before"> <span class="t-lines"><span>owner_before</span></span></a></div> </td> <td> provides owner-based ordering of weak pointers <br> <span class="t-mark">(public member function of <code>std::weak_ptr&lt;T&gt;</code>)</span> </td>
</tr> </table>          <div class="_attribution">
  <p class="_attribution-p">
    Â© cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="http://en.cppreference.com/w/cpp/memory/owner_less" class="_attribution-link">http://en.cppreference.com/w/cpp/memory/owner_less</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
