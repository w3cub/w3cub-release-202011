
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Std&#58;&#58;weak_ptr&#58;&#58;owner_before - C++ - W3cubDocs</title>
  
  <meta name="description" content="Checks whether this weak_ptr precedes other in implementation defined owner-based (as opposed to value-based) order. The order is such that two &hellip;">
  <meta name="keywords" content="std, weak, ptr, t, owner, before, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/memory/weak_ptr/owner_before.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cppref">
				
				
<h1 id="firstHeading" class="firstHeading">std::weak_ptr&lt;T&gt;::owner_before</h1>             <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">template&lt; class Y &gt; 
bool owner_before( const weak_ptr&lt;Y&gt;&amp; other ) const noexcept;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">template&lt; class Y &gt;
bool owner_before( const std::shared_ptr&lt;Y&gt;&amp; other ) const noexcept;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr>  </table> <p>Checks whether this <code>weak_ptr</code> precedes <code>other</code> in implementation defined owner-based (as opposed to value-based) order. The order is such that two smart pointers compare equivalent only if they are both empty or if they both own the same object, even if the values of the pointers obtained by <code>get()</code> are different (e.g. because they point at different subobjects within the same object).</p>
<p>This ordering is used to make shared and weak pointers usable as keys in associative containers, typically through <code><a href="../owner_less" title="cpp/memory/owner less">std::owner_less</a></code>.</p>
<h3 id="Parameters"> Parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> other </td> <td> - </td> <td> the <code><a href="../shared_ptr" title="cpp/memory/shared ptr">std::shared_ptr</a></code> or <code><a href="../weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code> to be compared </td>
</tr>
</table> <h3 id="Return_value"> Return value</h3> <p><code>true</code> if <code>*this</code> precedes <code>other</code>, <code>false</code> otherwise. Common implementations compare the addresses of the control blocks.</p>
<h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;iostream&gt;
#include &lt;memory&gt;
 
struct Foo
{
    int n1;
    int n2; 
    Foo(int a, int b) : n1(a), n2(b) {}
};
 
int main()
{   
    auto p1 = std::make_shared&lt;Foo&gt;(1, 2);
    std::shared_ptr&lt;int&gt; p2(p1, &amp;p1-&gt;n1);
    std::shared_ptr&lt;int&gt; p3(p1, &amp;p1-&gt;n2);
 
    std::cout &lt;&lt; std::boolalpha
              &lt;&lt; "p2 &lt; p3 " &lt;&lt; (p2 &lt; p3) &lt;&lt; '\n'
              &lt;&lt; "p3 &lt; p2 " &lt;&lt; (p3 &lt; p2) &lt;&lt; '\n'
              &lt;&lt; "p2.owner_before(p3) " &lt;&lt; p2.owner_before(p3) &lt;&lt; '\n'
              &lt;&lt; "p3.owner_before(p2) " &lt;&lt; p3.owner_before(p2) &lt;&lt; '\n';
 
    std::weak_ptr&lt;int&gt; w2(p2);
    std::weak_ptr&lt;int&gt; w3(p3);
    std::cout 
//            &lt;&lt; "w2 &lt; w3 " &lt;&lt; (w2 &lt; w3) &lt;&lt; '\n' // won't compile 
//            &lt;&lt; "w3 &lt; w2 " &lt;&lt; (w3 &lt; w2) &lt;&lt; '\n' // won't compile
              &lt;&lt; "w2.owner_before(w3) " &lt;&lt; w2.owner_before(w3) &lt;&lt; '\n'
              &lt;&lt; "w3.owner_before(w2) " &lt;&lt; w3.owner_before(w2) &lt;&lt; '\n';
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">p2 &lt; p3 true
p3 &lt; p2 false
p2.owner_before(p3) false
p3.owner_before(p2) false
w2.owner_before(w3) false
w3.owner_before(w2) false</pre></div> </div> <h3 id="Defect_reports">  Defect reports </h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th> DR </th> <th> Applied to </th> <th> Behavior as published </th> <th> Correct behavior </th>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue2873">LWG 2873</a> </td> <td> C++11 </td> <td> <code>owner_before</code> might not be declared noexcept </td> <td> declared noexcept </td>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue2942">LWG 2942</a> </td> <td> C++11 </td> <td> <code>weak_ptr::owner_before</code> is missed in LWG 2873's resolution </td> <td> made noexcept </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../owner_less" title="cpp/memory/owner less"> <span class="t-lines"><span>owner_less</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> provides mixed-type owner-based ordering of shared and weak pointers <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    Â© cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/memory/weak_ptr/owner_before" class="_attribution-link">https://en.cppreference.com/w/cpp/memory/weak_ptr/owner_before</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
