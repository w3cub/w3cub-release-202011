
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>#include Directive - C++ - W3cubDocs</title>
  
  <meta name="description" content=" Includes other source file into current source file at the line immediately after the directive. ">
  <meta name="keywords" content="source, file, inclusion, #include, directive, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/preprocessor/include.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cppref">
				
				
<h1 id="firstHeading" class="firstHeading">Source file inclusion</h1>            <p>Includes other source file into current source file at the line immediately after the directive.</p>
<h3 id="Syntax"> Syntax</h3> <table class="t-sdsc-begin">  <tr class="t-sdsc"> <td> <code>#include &lt;</code> <span class="t-spar">h-char-sequence</span> <code>&gt;</code> <span class="t-spar">new-line</span> </td> <td> (1) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>#include "</code> <span class="t-spar">q-char-sequence</span> <code>"</code> <span class="t-spar">new-line</span> </td> <td> (2) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>#include</code> <span class="t-spar">pp-tokens</span> <span class="t-spar">new-line</span> </td> <td> (3) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>__has_include</code> <code>(</code> <code>"</code> <span class="t-spar">q-char-sequence</span> <code>"</code> <code>)</code><br><code>__has_include</code> <code>(</code> <code>&lt;</code> <span class="t-spar">h-char-sequence</span> <code>&gt;</code> <code>)</code> </td> <td> (4) </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td>
</tr>  <tr class="t-sdsc"> <td> <code>__has_include</code> <code>(</code> <span class="t-spar">string-literal</span> <code>)</code><br><code>__has_include</code> <code>(</code> <code>&lt;</code> <span class="t-spar">h-pp-tokens</span> <code>&gt;</code> <code>)</code> </td> <td> (5) </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td>
</tr> 
</table> <div class="t-li1">
<span class="t-li">1)</span> Searches for a header identified uniquely by <span class="t-spar">h-char-sequence</span> and replaces the directive by the entire contents of the header.</div> <div class="t-li1">
<span class="t-li">2)</span> Searches for a source file identified by <span class="t-spar">q-char-sequence</span> and replaces the directive by the entire contents of the source file. It may fallback to <span class="t-v">(1)</span> and treat <span class="t-spar">q-char-sequence</span> as a header identifier.</div> <div class="t-li1">
<span class="t-li">3)</span> If neither <span class="t-v">(1)</span> nor <span class="t-v">(2)</span> is matched, <span class="t-spar">pp-tokens</span> will undergo macro replacement. The directive after replacement will be tried to match with <span class="t-v">(1)</span> or <span class="t-v">(2)</span> again.</div> <div class="t-li1">
<span class="t-li">4)</span> Checks whether a header or source file is available for inclusion.</div> <div class="t-li1">
<span class="t-li">5)</span> If <span class="t-v">(4)</span> is not matched, <span class="t-spar">h-pp-tokens</span> will undergo macro replacement. The directive after replacement will be tried to match with <span class="t-v">(4)</span> again.</div> <table class="t-par-begin"> <tr class="t-par"> <td> <span class="t-spar">new-line</span> </td> <td> - </td> <td> The new-line character </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">h-char-sequence</span> </td> <td> - </td> <td> A sequence of one or more <span class="t-spar">h-char</span>s, where the appearance of any of the following is conditionally-supported with implementation-defined semantics: <ul>
<li> the character <code>'</code> </li>
<li> the character <code>"</code> </li>
<li> the character <code>\</code> </li>
<li> the character sequence <code>//</code> </li>
<li> the character sequence <code>/*</code> </li>
</ul> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">h-char</span> </td> <td> - </td> <td> Any member of the <span class="t-rev-inl t-until-cxx23"><span><a href="../language/translation_phases#Phase_5" title="cpp/language/translation phases">source character set</a></span> <span><span class="t-mark-rev t-until-cxx23">(until C++23)</span></span></span><span class="t-rev-inl t-since-cxx23"><span><a href="../language/charset#Translation_character_set" title="cpp/language/charset">translation character set</a></span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span> except new-line and <code>&gt;</code> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">q-char-sequence</span> </td> <td> - </td> <td> A sequence of one or more <span class="t-spar">q-char</span>s, where the appearance of any of the following is conditionally-supported with implementation-defined semantics: <ul>
<li> the character <code>'</code> </li>
<li> the character <code>\</code> </li>
<li> the character sequence <code>//</code> </li>
<li> the character sequence <code>/*</code> </li>
</ul> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">q-char</span> </td> <td> - </td> <td> Any member of the <span class="t-rev-inl t-until-cxx23"><span><a href="../language/translation_phases#Phase_5" title="cpp/language/translation phases">source character set</a></span> <span><span class="t-mark-rev t-until-cxx23">(until C++23)</span></span></span><span class="t-rev-inl t-since-cxx23"><span><a href="../language/charset#Translation_character_set" title="cpp/language/charset">translation character set</a></span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span> except new-line and <code>"</code> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">pp-tokens</span> </td> <td> - </td> <td> A sequence of one or more <a href="../language/translation_phases#Phase_3" title="cpp/language/translation phases">preprocessing tokens</a> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">string-literal</span> </td> <td> - </td> <td> A <a href="../language/string_literal" title="cpp/language/string literal">string literal</a> </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">h-pp-tokens</span> </td> <td> - </td> <td> A sequence of one or more <a href="../language/translation_phases#Phase_3" title="cpp/language/translation phases">preprocessing tokens</a> except <code>&gt;</code> </td>
</tr>
</table> <h3 id="Explanation"> Explanation</h3> <div class="t-li1">
<span class="t-li">1)</span> Searches a sequence of implementation-defined places for a header identified uniquely by <span class="t-spar">h-char-sequence</span>, and causes the replacement of that directive by the entire contents of the header. How the places are specified or the header identified is implementation-defined.</div> <div class="t-li1">
<span class="t-li">2)</span> Causes the replacement of that directive by the entire contents of the source file identified by <span class="t-spar">q-char-sequence</span>. The named source file is searched for in an implementation-defined manner. If this search is not supported, or if the search fails, the directive is reprocessed as if it reads syntax <span class="t-v">(1)</span> with the identical contained sequence (including &gt; characters, if any) from the original directive.</div> <div class="t-li1">
<span class="t-li">3)</span> The preprocessing tokens after <code>include</code> in the directive are processed just as in normal text (i.e., each identifier currently defined as a macro name is replaced by its replacement list of preprocessing tokens). If the directive resulting after all replacements does not match one of the two previous forms, the behavior is undefined. The method by which a sequence of preprocessing tokens between a &lt; and a &gt; preprocessing token pair or a pair of " characters is combined into a single header name preprocessing token is implementation-defined.</div> <div class="t-li1">
<span class="t-li">4)</span> The header or source file identified by <span class="t-spar">h-char-sequence</span> or <span class="t-spar">q-char-sequence</span> is searched for as if that preprocessing token sequence were the <span class="t-spar">pp-tokens</span> in syntax <span class="t-v">(3)</span>, except that no further macro expansion is performed. If such a directive would not satisfy the syntactic requirements of an <code>#include</code> directive, the program is ill-formed. The <code>__has_include</code> expression evaluates to <code>1</code> if the search for the source file succeeds, and to <code>​0​</code> if the search fails.</div> <div class="t-li1">
<span class="t-li">5)</span> This form is considered only if syntax (4) does not match, in which case the preprocessing tokens are processed just as in normal text.</div> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx20">
<td> <p>If the header identified by the <span class="t-spar">header-name</span> (i.e., <code>&lt;</code> <span class="t-spar">h-char-sequence</span> <code>&gt;</code> or <code>"</code> <span class="t-spar">q-char-sequence</span> <code>"</code>) denotes an importable header, it is implementation-defined whether the <code>#include</code> preprocessing directive is instead replaced by an <a href="../language/modules#Importing_modules_and_headers" title="cpp/language/modules">import directive</a> of the form.</p>
<p><code>import</code> <span class="t-spar">header-name</span> <code>;</code> <span class="t-spar">new-line</span>.</p>
</td> <td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td>
</tr> </table> <p><code>__has_include</code> can be expanded in the expression of <a href="conditional" title="cpp/preprocessor/conditional"><code> #if</code></a> and <a href="conditional" title="cpp/preprocessor/conditional"><code> #elif</code></a>. It is treated as a defined macro by <a href="conditional" title="cpp/preprocessor/conditional"><code> #ifdef</code></a>, <a href="conditional" title="cpp/preprocessor/conditional"><code> #ifndef</code></a><span class="t-rev-inl t-since-cxx23"><span>, <a href="conditional" title="cpp/preprocessor/conditional"><code> #elifdef</code></a>, <a href="conditional" title="cpp/preprocessor/conditional"><code> #elifndef</code></a></span> <span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span> and <a href="conditional" title="cpp/preprocessor/conditional"><code>defined</code></a> but cannot be used anywhere else.</p>
<h3 id="Notes"> Notes</h3> <p>Typical implementations search only standard include directories for syntax <span class="t-v">(1)</span>. The standard C++ library and the standard C library are implicitly included in these standard include directories. The standard include directories usually can be controlled by the user through compiler options.</p>
<p>The intent of syntax <span class="t-v">(2)</span> is to search for the files that are not controlled by the implementation. Typical implementations first search the directory where the current file resides then falls back to <span class="t-v">(1)</span>.</p>
<p>When a file is included, it is processed by <a href="../language/translation_phases" title="cpp/language/translation phases">translation phases</a> 1-4, which may include, recursively, expansion of the nested <code>#include</code> directives, up to an implementation-defined nesting limit. To avoid repeated inclusion of the same file and endless recursion when a file includes itself, perhaps transitively, <i>header guards</i> are commonly used: the entire header is wrapped in.</p>
<div class="cpp source-cpp"><pre data-language="cpp">#ifndef FOO_H_INCLUDED /* any name uniquely mapped to file name */
#define FOO_H_INCLUDED
// contents of the file are here
#endif</pre></div> <p>Many compilers also implement the non-standard <a href="impl" title="cpp/preprocessor/impl"><code>pragma</code></a> <code>#pragma once</code> with similar effects: it disables processing of a file if the same file (where file identity is determined in OS-specific way) has already been included.</p>
<p>A sequence of characters that resembles an escape sequence in <span class="t-spar">q-char-sequence</span> or <span class="t-spar">h-char-sequence</span> might result in an error, be interpreted as the character corresponding to the escape sequence, or have a completely different meaning, depending on the implementation.</p>
<p>A <code>__has_include</code> result of <code>1</code> only means that a header or source file with the specified name exists. It does not mean that the header or source file, when included, would not cause an error or would contain anything useful. For example, on a C++ implementation that supports both C++14 and C++17 modes (and provides <code>__has_include</code> in its C++14 mode as a conforming extension), <code>__has_include(&lt;optional&gt;)</code> may be <code>1</code> in C++14 mode, but actually <code>#include &lt;optional&gt;</code> may cause an error.</p>
<h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#if __has_include(&lt;optional&gt;)
#  include &lt;optional&gt;
#  define has_optional 1
   template&lt;class T&gt; using optional_t = std::optional&lt;T&gt;;
#elif __has_include(&lt;experimental/optional&gt;)
#  include &lt;experimental/optional&gt;
#  define has_optional -1
   template&lt;class T&gt; using optional_t = std::experimental::optional&lt;T&gt;;
#else
#  define has_optional 0
#  include &lt;utility&gt;
 
template&lt;class V&gt;
class optional_t
{
    V v_{}; bool has_{false};
public:
    optional_t() = default;
    optional_t(V&amp;&amp; v) : v_(v), has_{true} {}
    V value_or(V&amp;&amp; alt) const&amp; { return has_ ? v_ : alt; }
    /*...*/
};
#endif
 
#include &lt;iostream&gt;
 
int main()
{
    if (has_optional &gt; 0)
        std::cout &lt;&lt; "&lt;optional&gt; is present\n";
    else if (has_optional &lt; 0)
        std::cout &lt;&lt; "&lt;experimental/optional&gt; is present\n";
    else
        std::cout &lt;&lt; "&lt;optional&gt; is not present\n";
 
    optional_t&lt;int&gt; op;
    std::cout &lt;&lt; "op = " &lt;&lt; op.value_or(-1) &lt;&lt; '\n';
    op = 42;
    std::cout &lt;&lt; "op = " &lt;&lt; op.value_or(-1) &lt;&lt; '\n';
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">&lt;optional&gt; is present
op = -1
op = 42</pre></div> </div> <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th> DR </th> <th> Applied to </th> <th> Behavior as published </th> <th> Correct behavior </th>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/CWG/issues/787.html">CWG 787</a> </td> <td> C++98 </td> <td> the behavior is undefined if an escape sequence is<br>resembled in <span class="t-spar">q-char-sequence</span> or <span class="t-spar">h-char-sequence</span> </td> <td> it is conditionally-supported </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td colspan="2"> <a href="../index" title="cpp/header">A list of C++ Standard Library header files</a> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/preprocessor/include" title="c/preprocessor/include">C documentation</a></span> for <span class=""><span>Source file inclusion</span></span> </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    © cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/preprocessor/include" class="_attribution-link">https://en.cppreference.com/w/cpp/preprocessor/include</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
