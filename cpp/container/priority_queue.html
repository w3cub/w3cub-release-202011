
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Std&#58;&#58;priority_queue - C++ - W3cubDocs</title>
  
  <meta name="description" content="A priority queue is a container adaptor that provides constant time lookup of the largest (by default) element, at the expense of logarithmic &hellip;">
  <meta name="keywords" content="std, priority, queue, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/container/priority_queue.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9c7b0d969c0ce639a6c01c2badcdd81667c7c66206aa3d0fccc5cb0585fb1b912dab72ea882101d18010680927514b4b77b107282db8f756fbf63301fe9c88b0.css">
  <script type="text/javascript" src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cppref">
				
				
<h1 id="firstHeading" class="firstHeading">std::priority_queue</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/queue" title="cpp/header/queue">&lt;queue&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">template&lt;
    class T,
    class Container = std::vector&lt;T&gt;,
    class Compare = std::less&lt;typename Container::value_type&gt;
&gt; class priority_queue;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr>  </table> <p>A <code>priority queue</code> is a container adaptor that provides constant time lookup of the largest (by default) element, at the expense of logarithmic insertion and extraction.</p>
<p>A user-provided <code>Compare</code> can be supplied to change the ordering, e.g. using <code><a href="http://en.cppreference.com/w/cpp/utility/functional/greater"><span class="kw1043">std::<span class="me2">greater</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span></code> would cause the smallest element to appear as the <code><a href="priority_queue/top" title="cpp/container/priority queue/top">top()</a></code>.</p>
<p>Working with a <code>priority_queue</code> is similar to managing a <a href="../algorithm/make_heap" title="cpp/algorithm/make heap">heap</a> in some random access container, with the benefit of not being able to accidentally invalidate the heap.</p>
<h3 id="Template_parameters"> Template parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> T </td> <td> - </td> <td> The type of the stored elements. The behavior is undefined if <code>T</code> is not the same type as <code>Container::value_type</code>. </td>
</tr> <tr class="t-par"> <td> Container </td> <td> - </td> <td> The type of the underlying container to use to store the elements. The container must satisfy the requirements of <a href="../named_req/sequencecontainer" title="cpp/named req/SequenceContainer">SequenceContainer</a>, and its iterators must satisfy the requirements of <a href="../named_req/randomaccessiterator" title="cpp/named req/RandomAccessIterator">LegacyRandomAccessIterator</a>. Additionally, it must provide the following functions with the usual semantics: <ul>
<li> <code>front()</code> </li>
<li> <code>push_back()</code> </li>
<li> <code>pop_back()</code>. </li>
</ul> <p>The standard containers <code><a href="vector" title="cpp/container/vector">std::vector</a></code> (including <a href="vector_bool" title="cpp/container/vector bool"><code>std::vector&lt;bool&gt;</code></a>) and <code><a href="deque" title="cpp/container/deque">std::deque</a></code> satisfy these requirements.</p>
</td>
</tr> <tr class="t-par"> <td> Compare </td> <td> - </td> <td> A <a href="../named_req/compare" title="cpp/named req/Compare">Compare</a> type providing a strict weak ordering. <p>Note that the <a href="../named_req/compare" title="cpp/named req/Compare">Compare</a> parameter is defined such that it returns <code>true</code> if its first argument comes <i>before</i> its second argument in a weak ordering. But because the priority queue outputs largest elements first, the elements that "come before" are actually output last. That is, the front of the queue contains the "last" element according to the weak ordering imposed by <a href="../named_req/compare" title="cpp/named req/Compare">Compare</a>.</p>
</td>
</tr>
</table> <h3 id="Member_types"> Member types</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member type </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code>container_type</code> </td> <td> <code>Container</code>  </td>
</tr> <tr class="t-dsc"> <td> <code>value_compare</code> </td> <td> <code>Compare</code> </td>
</tr> <tr class="t-dsc"> <td> <code>value_type</code> </td> <td> <code>Container::value_type</code> </td>
</tr> <tr class="t-dsc"> <td> <code>size_type</code> </td> <td> <code>Container::size_type</code> </td>
</tr> <tr class="t-dsc"> <td> <code>reference</code> </td> <td> <code>Container::reference</code> </td>
</tr> <tr class="t-dsc"> <td> <code>const_reference</code> </td> <td> <code>Container::const_reference</code> </td>
</tr> </table> <h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="priority_queue/priority_queue" title="cpp/container/priority queue/priority queue"> <span class="t-lines"><span>(constructor)</span></span></a></div> </td> <td> constructs the <code>priority_queue</code> <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/~priority_queue" title="cpp/container/priority queue/~priority queue"> <span class="t-lines"><span>(destructor)</span></span></a></div> </td> <td> destructs the <code>priority_queue</code> <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/operator=" title="cpp/container/priority queue/operator="> <span class="t-lines"><span>operator=</span></span></a></div> </td> <td> assigns values to the container adaptor <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Element_access">  Element access </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/top" title="cpp/container/priority queue/top"> <span class="t-lines"><span>top</span></span></a></div> </td> <td> accesses the top element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Capacity">  Capacity </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/empty" title="cpp/container/priority queue/empty"> <span class="t-lines"><span>empty</span></span></a></div> </td> <td> checks whether the underlying container is empty <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/size" title="cpp/container/priority queue/size"> <span class="t-lines"><span>size</span></span></a></div> </td> <td> returns the number of elements <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">  Modifiers </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/push" title="cpp/container/priority queue/push"> <span class="t-lines"><span>push</span></span></a></div> </td> <td> inserts element and sorts the underlying container <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/emplace" title="cpp/container/priority queue/emplace"> <span class="t-lines"><span>emplace</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> constructs element in-place and sorts the underlying container <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue/push_range&amp;action=edit&amp;redlink=1" class="new" title="cpp/container/priority queue/push range (page does not exist)"> <span class="t-lines"><span>push_range</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">(C++23)</span></span></span></div> </td> <td> inserts a range of elements and sorts the underlying container <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/pop" title="cpp/container/priority queue/pop"> <span class="t-lines"><span>pop</span></span></a></div> </td> <td> removes the top element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/swap" title="cpp/container/priority queue/swap"> <span class="t-lines"><span>swap</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> swaps the contents <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h3 id="Member_objects"> Member objects</h3> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span><span class="t-dsc-small">Container</span> c</span></span></div> </td> <td> the underlying container <br> <span class="t-mark">(protected member object)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span><span class="t-dsc-small">Compare</span> comp</span></span></div> </td> <td> the comparison function object <br> <span class="t-mark">(protected member object)</span> </td>
</tr> </table> <h3 id="Non-member_functions"> Non-member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="priority_queue/swap2" title="cpp/container/priority queue/swap2"> <span class="t-lines"><span>std::swap<span class="t-dsc-small">(std::priority_queue)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> specializes the <code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code> algorithm <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table> <h3 id="Helper_classes"> Helper classes</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="priority_queue/uses_allocator" title="cpp/container/priority queue/uses allocator"> <span class="t-lines"><span>std::uses_allocator<span class="t-dsc-small">&lt;std::priority_queue&gt;</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> specializes the <code><a href="../memory/uses_allocator" title="cpp/memory/uses allocator">std::uses_allocator</a></code> type trait <br> <span class="t-mark">(class template specialization)</span>  </td>
</tr> </table> <table class="t-rev-begin t-rev-begin-noborder"> <tr class="t-rev t-since-cxx17">
<td> <h3 id="Deduction_guides"> <a href="priority_queue/deduction_guides" title="cpp/container/priority queue/deduction guides">Deduction guides</a>
</h3> </td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> <h3 id="Notes"> Notes</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../utility/feature_test" title="cpp/utility/feature test">Feature-test</a> macro</th> <th>Value</th> <th><span title="Standard in which the feature is introduced">Std</span></th> <th>Comment </th>
</tr> <tr> <td><a href="../feature_test#Library_features" title="cpp/feature test"><code>__cpp_lib_containers_ranges</code></a></td> <td><span class="nu0">202202L</span></td> <td><span class="t-mark">(C++23)</span></td> <td>
<a href="../ranges/to#container_compatible_range" title="cpp/ranges/to">Ranges-aware</a> construction and insertion for containers </td>
</tr>
</table> <h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;concepts&gt;
#include &lt;functional&gt;
#include &lt;iostream&gt;
#include &lt;queue&gt;
#include &lt;ranges&gt;
#include &lt;string_view&gt;
#include &lt;vector&gt;
 
template&lt;typename T&gt;
void print(std::string_view name, T const&amp; q)
{
    std::cout &lt;&lt; name &lt;&lt; ": \t";
    for (auto const&amp; n : q)
        std::cout &lt;&lt; n &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
 
template&lt;typename Adaptor&gt;
requires (std::ranges::input_range&lt;typename Adaptor::container_type&gt;)
void print(std::string_view name, const Adaptor&amp; adaptor)
{
    struct Printer : Adaptor // to access protected Adaptor::Container c;
    {
        void print(std::string_view name) const { ::print(name, this-&gt;c); }
    };
 
    static_cast&lt;Printer const&amp;&gt;(adaptor).print(name);
}
 
int main()
{
    const auto data = {1, 8, 5, 6, 3, 4, 0, 9, 7, 2};
    print("data", data);
 
    std::priority_queue&lt;int&gt; q1; // Max priority queue
    for (int n : data)
        q1.push(n);
 
    print("q1", q1);
 
    // Min priority queue
    // std::greater&lt;int&gt; makes the max priority queue act as a min priority queue
    std::priority_queue&lt;int, std::vector&lt;int&gt;, std::greater&lt;int&gt;&gt;
        minq1(data.begin(), data.end());
 
    print("minq1", minq1);
 
    // Second way to define a min priority queue
    std::priority_queue minq2(data.begin(), data.end(), std::greater&lt;int&gt;());
 
    print("minq2", minq2);
 
    // Using a custom function object to compare elements.
    struct
    {
        bool operator()(const int l, const int r) const { return l &gt; r; }
    } customLess;
    std::priority_queue minq3(data.begin(), data.end(), customLess);
 
    print("minq3", minq3);
 
    // Using lambda to compare elements.
    auto cmp = [](int left, int right) { return (left ^ 1) &lt; (right ^ 1); };
    std::priority_queue&lt;int, std::vector&lt;int&gt;, decltype(cmp)&gt; q5(cmp);
 
    for (int n : data)
        q5.push(n);
 
    print("q5", q5);
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">data:   1 8 5 6 3 4 0 9 7 2
q1:     9 8 7 6 5 4 3 2 1 0
minq1:  0 1 2 3 4 5 6 7 8 9
minq2:  0 1 2 3 4 5 6 7 8 9
minq3:  0 1 2 3 4 5 6 7 8 9
q5:     8 9 6 7 4 5 2 3 0 1</pre></div> </div> <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th> DR </th> <th> Applied to </th> <th> Behavior as published </th> <th> Correct behavior </th>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue307">LWG 307</a> </td> <td> C++98 </td> <td> <code>Container</code> could not be <code>std::vector&lt;bool&gt;</code> </td> <td> allowed </td>
</tr> <tr> <td> <a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue2684">LWG 2684</a> </td> <td> C++98 </td> <td> <code>priority_queue</code> takes a comparator but lacked member typedef for it </td> <td> added </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="vector" title="cpp/container/vector"> <span class="t-lines"><span>vector</span></span></a></div> </td> <td> dynamic contiguous array <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="vector_bool" title="cpp/container/vector bool"> <span class="t-lines"><span>vector<span class="t-dsc-small">&lt;bool&gt;</span></span></span></a></div> </td> <td> space-efficient dynamic bitset <br> <span class="t-mark">(class template specialization)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="deque" title="cpp/container/deque"> <span class="t-lines"><span>deque</span></span></a></div> </td> <td> double-ended queue <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    © cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/container/priority_queue" class="_attribution-link">https://en.cppreference.com/w/cpp/container/priority_queue</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
