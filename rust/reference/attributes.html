
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>7. Attributes - Rust - W3cubDocs</title>
  
  <meta name="description" content=" Syntax InnerAttribute &#58; # ! [ Attr ] ">
  <meta name="keywords" content="attributes, rust">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rust/reference/attributes.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/rust.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rust/" class="_nav-link" title="" style="margin-left:0;">Rust</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rust">
				
				
<h1>Attributes</h1> <blockquote> <p><strong><sup>Syntax</sup></strong><br> <em>InnerAttribute</em> :<br> <code>#</code> <code>!</code> <code>[</code> <em>Attr</em> <code>]</code></p> <p><em>OuterAttribute</em> :<br> <code>#</code> <code>[</code> <em>Attr</em> <code>]</code></p> <p><em>Attr</em> :<br> <a href="paths#simple-paths"><em>SimplePath</em></a> <em>AttrInput</em><sup>?</sup></p> <p><em>AttrInput</em> :<br> <a href="macros"><em>DelimTokenTree</em></a><br> | <code>=</code> <a href="expressions/literal-expr"><em>LiteralExpression</em></a><sub><em>without suffix</em></sub></p> </blockquote> <p>An <em>attribute</em> is a general, free-form metadatum that is interpreted according to name, convention, language, and compiler version. Attributes are modeled on Attributes in <a href="https://www.ecma-international.org/publications/standards/Ecma-335.htm">ECMA-335</a>, with the syntax coming from <a href="https://www.ecma-international.org/publications/standards/Ecma-334.htm">ECMA-334</a> (C#).</p> <p><em>Inner attributes</em>, written with a bang (<code>!</code>) after the hash (<code>#</code>), apply to the item that the attribute is declared within. <em>Outer attributes</em>, written without the bang after the hash, apply to the thing that follows the attribute.</p> <p>The attribute consists of a path to the attribute, followed by an optional delimited token tree whose interpretation is defined by the attribute. Attributes other than macro attributes also allow the input to be an equals sign (<code>=</code>) followed by a literal expression. See the <a href="#meta-item-attribute-syntax">meta item syntax</a> below for more details.</p> <p>Attributes can be classified into the following kinds:</p> <ul> <li><a href="#built-in-attributes-index">Built-in attributes</a></li> <li><a href="procedural-macros#attribute-macros">Macro attributes</a></li> <li><a href="procedural-macros#derive-macro-helper-attributes">Derive macro helper attributes</a></li> <li><a href="#tool-attributes">Tool attributes</a></li> </ul> <p>Attributes may be applied to many things in the language:</p> <ul> <li>All <a href="items">item declarations</a> accept outer attributes while <a href="items/external-blocks">external blocks</a>, <a href="items/functions">functions</a>, <a href="items/implementations">implementations</a>, and <a href="items/modules">modules</a> accept inner attributes.</li> <li>Most <a href="statements">statements</a> accept outer attributes (see <a href="expressions#expression-attributes">Expression Attributes</a> for limitations on expression statements).</li> <li>
<a href="expressions/block-expr">Block expressions</a> accept outer and inner attributes, but only when they are the outer expression of an <a href="statements#expression-statements">expression statement</a> or the final expression of another block expression.</li> <li>
<a href="items/enumerations">Enum</a> variants and <a href="items/structs">struct</a> and <a href="items/unions">union</a> fields accept outer attributes.</li> <li>
<a href="expressions/match-expr">Match expression arms</a> accept outer attributes.</li> <li>
<a href="items/generics">Generic lifetime or type parameter</a> accept outer attributes.</li> <li>Expressions accept outer attributes in limited situations, see <a href="expressions#expression-attributes">Expression Attributes</a> for details.</li> <li>
<a href="items/functions">Function</a>, <a href="expressions/closure-expr">closure</a> and <a href="types/function-pointer">function pointer</a> parameters accept outer attributes. This includes attributes on variadic parameters denoted with <code>...</code> in function pointers and <a href="items/external-blocks#variadic-functions">external blocks</a>.</li> </ul> <p>Some examples of attributes:</p> <pre data-language="rust">
#![allow(unused)]
fn main() {
// General metadata applied to the enclosing module or crate.
#![crate_type = "lib"]

// A function marked as a unit test
#[test]
fn test_foo() {
    /* ... */
}

// A conditionally-compiled module
#[cfg(target_os = "linux")]
mod bar {
    /* ... */
}

// A lint attribute used to suppress a warning/error
#[allow(non_camel_case_types)]
type int8_t = i8;

// Inner attribute applies to the entire function.
fn some_unused_variables() {
  #![allow(unused_variables)]

  let x = ();
  let y = ();
  let z = ();
}
}
</pre> <h2>Meta Item Attribute Syntax</h2> <p>A "meta item" is the syntax used for the <em>Attr</em> rule by most <a href="#built-in-attributes-index">built-in attributes</a>. It has the following grammar:</p> <blockquote> <p><strong><sup>Syntax</sup></strong><br> <em>MetaItem</em> :<br> <a href="paths#simple-paths"><em>SimplePath</em></a><br> | <a href="paths#simple-paths"><em>SimplePath</em></a> <code>=</code> <a href="expressions/literal-expr"><em>LiteralExpression</em></a><sub><em>without suffix</em></sub><br> | <a href="paths#simple-paths"><em>SimplePath</em></a> <code>(</code> <em>MetaSeq</em><sup>?</sup> <code>)</code></p> <p><em>MetaSeq</em> :<br> <em>MetaItemInner</em> ( <code>,</code> MetaItemInner )<sup>*</sup> <code>,</code><sup>?</sup></p> <p><em>MetaItemInner</em> :<br> <em>MetaItem</em><br> | <a href="expressions/literal-expr"><em>LiteralExpression</em></a><sub><em>without suffix</em></sub></p> </blockquote> <p>Literal expressions in meta items must not include integer or float type suffixes.</p> <p>Various built-in attributes use different subsets of the meta item syntax to specify their inputs. The following grammar rules show some commonly used forms:</p> <blockquote> <p><strong><sup>Syntax</sup></strong><br> <em>MetaWord</em>:<br> <a href="identifiers">IDENTIFIER</a></p> <p><em>MetaNameValueStr</em>:<br> <a href="identifiers">IDENTIFIER</a> <code>=</code> (<a href="tokens#string-literals">STRING_LITERAL</a> | <a href="tokens#raw-string-literals">RAW_STRING_LITERAL</a>)</p> <p><em>MetaListPaths</em>:<br> <a href="identifiers">IDENTIFIER</a> <code>(</code> ( <a href="paths#simple-paths"><em>SimplePath</em></a> (<code>,</code> <a href="paths#simple-paths"><em>SimplePath</em></a>)* <code>,</code><sup>?</sup> )<sup>?</sup> <code>)</code></p> <p><em>MetaListIdents</em>:<br> <a href="identifiers">IDENTIFIER</a> <code>(</code> ( <a href="identifiers">IDENTIFIER</a> (<code>,</code> <a href="identifiers">IDENTIFIER</a>)* <code>,</code><sup>?</sup> )<sup>?</sup> <code>)</code></p> <p><em>MetaListNameValueStr</em>:<br> <a href="identifiers">IDENTIFIER</a> <code>(</code> ( <em>MetaNameValueStr</em> (<code>,</code> <em>MetaNameValueStr</em>)* <code>,</code><sup>?</sup> )<sup>?</sup> <code>)</code></p> </blockquote> <p>Some examples of meta items are:</p> <table>
<thead><tr>
<th>Style</th>
<th>Example</th>
</tr></thead>
<tbody> <tr>
<td><em>MetaWord</em></td>
<td><code>no_std</code></td>
</tr> <tr>
<td><em>MetaNameValueStr</em></td>
<td><code>doc = "example"</code></td>
</tr> <tr>
<td><em>MetaListPaths</em></td>
<td><code>allow(unused, clippy::inline_always)</code></td>
</tr> <tr>
<td><em>MetaListIdents</em></td>
<td><code>macro_use(foo, bar)</code></td>
</tr> <tr>
<td><em>MetaListNameValueStr</em></td>
<td><code>link(name = "CoreFoundation", kind = "framework")</code></td>
</tr> </tbody>
</table> <h2>Active and inert attributes</h2> <p>An attribute is either active or inert. During attribute processing, <em>active attributes</em> remove themselves from the thing they are on while <em>inert attributes</em> stay on.</p> <p>The <a href="conditional-compilation#the-cfg-attribute"><code>cfg</code></a> and <a href="conditional-compilation#the-cfg_attr-attribute"><code>cfg_attr</code></a> attributes are active. The <a href="attributes/testing#the-test-attribute"><code>test</code></a> attribute is inert when compiling for tests and active otherwise. <a href="procedural-macros#attribute-macros">Attribute macros</a> are active. All other attributes are inert.</p> <h2>Tool attributes</h2> <p>The compiler may allow attributes for external tools where each tool resides in its own namespace. The first segment of the attribute path is the name of the tool, with one or more additional segments whose interpretation is up to the tool.</p> <p>When a tool is not in use, the tool's attributes are accepted without a warning. When the tool is in use, the tool is responsible for processing and interpretation of its attributes.</p> <p>Tool attributes are not available if the <a href="items/modules#prelude-items"><code>no_implicit_prelude</code></a> attribute is used.</p> <pre data-language="rust">
#![allow(unused)]
fn main() {
// Tells the rustfmt tool to not format the following element.
#[rustfmt::skip]
struct S {
}

// Controls the "cyclomatic complexity" threshold for the clippy tool.
#[clippy::cyclomatic_complexity = "100"]
pub fn f() {}
}
</pre> <blockquote> <p>Note: <code>rustc</code> currently recognizes the tools "clippy" and "rustfmt".</p> </blockquote> <h2>Built-in attributes index</h2> <p>The following is an index of all built-in attributes.</p> <ul> <li>Conditional compilation <ul> <li>
<a href="conditional-compilation#the-cfg-attribute"><code>cfg</code></a> — Controls conditional compilation.</li> <li>
<a href="conditional-compilation#the-cfg_attr-attribute"><code>cfg_attr</code></a> — Conditionally includes attributes.</li> </ul> </li> <li>Testing <ul> <li>
<a href="attributes/testing#the-test-attribute"><code>test</code></a> — Marks a function as a test.</li> <li>
<a href="attributes/testing#the-ignore-attribute"><code>ignore</code></a> — Disables a test function.</li> <li>
<a href="attributes/testing#the-should_panic-attribute"><code>should_panic</code></a> — Indicates a test should generate a panic.</li> </ul> </li> <li>Derive <ul> <li>
<a href="attributes/derive"><code>derive</code></a> — Automatic trait implementations.</li> <li>
<a href="attributes/derive#the-automatically_derived-attribute"><code>automatically_derived</code></a> — Marker for implementations created by <code>derive</code>.</li> </ul> </li> <li>Macros <ul> <li>
<a href="macros-by-example#path-based-scope"><code>macro_export</code></a> — Exports a <code>macro_rules</code> macro for cross-crate usage.</li> <li>
<a href="macros-by-example#the-macro_use-attribute"><code>macro_use</code></a> — Expands macro visibility, or imports macros from other crates.</li> <li>
<a href="procedural-macros#function-like-procedural-macros"><code>proc_macro</code></a> — Defines a function-like macro.</li> <li>
<a href="procedural-macros#derive-macros"><code>proc_macro_derive</code></a> — Defines a derive macro.</li> <li>
<a href="procedural-macros#attribute-macros"><code>proc_macro_attribute</code></a> — Defines an attribute macro.</li> </ul> </li> <li>Diagnostics <ul> <li>
<a href="attributes/diagnostics#lint-check-attributes"><code>allow</code></a>, <a href="attributes/diagnostics#lint-check-attributes"><code>warn</code></a>, <a href="attributes/diagnostics#lint-check-attributes"><code>deny</code></a>, <a href="attributes/diagnostics#lint-check-attributes"><code>forbid</code></a> — Alters the default lint level.</li> <li>
<a href="attributes/diagnostics#the-deprecated-attribute"><code>deprecated</code></a> — Generates deprecation notices.</li> <li>
<a href="attributes/diagnostics#the-must_use-attribute"><code>must_use</code></a> — Generates a lint for unused values.</li> </ul> </li> <li>ABI, linking, symbols, and FFI <ul> <li>
<a href="items/external-blocks#the-link-attribute"><code>link</code></a> — Specifies a native library to link with an <code>extern</code> block.</li> <li>
<a href="items/external-blocks#the-link_name-attribute"><code>link_name</code></a> — Specifies the name of the symbol for functions or statics in an <code>extern</code> block.</li> <li>
<a href="items/extern-crates#the-no_link-attribute"><code>no_link</code></a> — Prevents linking an extern crate.</li> <li>
<a href="type-layout#representations"><code>repr</code></a> — Controls type layout.</li> <li>
<a href="linkage"><code>crate_type</code></a> — Specifies the type of crate (library, executable, etc.).</li> <li>
<a href="crates-and-source-files#the-no_main-attribute"><code>no_main</code></a> — Disables emitting the <code>main</code> symbol.</li> <li>
<a href="abi#the-export_name-attribute"><code>export_name</code></a> — Specifies the exported symbol name for a function or static.</li> <li>
<a href="abi#the-link_section-attribute"><code>link_section</code></a> — Specifies the section of an object file to use for a function or static.</li> <li>
<a href="abi#the-no_mangle-attribute"><code>no_mangle</code></a> — Disables symbol name encoding.</li> <li>
<a href="abi#the-used-attribute"><code>used</code></a> — Forces the compiler to keep a static item in the output object file.</li> <li>
<a href="crates-and-source-files#the-crate_name-attribute"><code>crate_name</code></a> — Specifies the crate name.</li> </ul> </li> <li>Code generation <ul> <li>
<a href="attributes/codegen#the-inline-attribute"><code>inline</code></a> — Hint to inline code.</li> <li>
<a href="attributes/codegen#the-cold-attribute"><code>cold</code></a> — Hint that a function is unlikely to be called.</li> <li>
<a href="attributes/codegen#the-no_builtins-attribute"><code>no_builtins</code></a> — Disables use of certain built-in functions.</li> <li>
<a href="attributes/codegen#the-target_feature-attribute"><code>target_feature</code></a> — Configure platform-specific code generation.</li> <li>
<a href="attributes/codegen#the-track_caller-attribute"><code>track_caller</code></a> - Pass the parent call location to <code>std::panic::Location::caller()</code>.</li> </ul> </li> <li>Documentation <ul> <li>
<code>doc</code> — Specifies documentation. See <a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html">The Rustdoc Book</a> for more information. <a href="comments#doc-comments">Doc comments</a> are transformed into <code>doc</code> attributes.</li> </ul> </li> <li>Preludes <ul> <li>
<a href="crates-and-source-files#preludes-and-no_std"><code>no_std</code></a> — Removes std from the prelude.</li> <li>
<a href="items/modules#prelude-items"><code>no_implicit_prelude</code></a> — Disables prelude lookups within a module.</li> </ul> </li> <li>Modules <ul> <li>
<a href="items/modules#the-path-attribute"><code>path</code></a> — Specifies the filename for a module.</li> </ul> </li> <li>Limits <ul> <li>
<a href="attributes/limits#the-recursion_limit-attribute"><code>recursion_limit</code></a> — Sets the maximum recursion limit for certain compile-time operations.</li> <li>
<a href="attributes/limits#the-type_length_limit-attribute"><code>type_length_limit</code></a> — Sets the maximum size of a polymorphic type.</li> </ul> </li> <li>Runtime <ul> <li>
<a href="runtime#the-panic_handler-attribute"><code>panic_handler</code></a> — Sets the function to handle panics.</li> <li>
<a href="runtime#the-global_allocator-attribute"><code>global_allocator</code></a> — Sets the global memory allocator.</li> <li>
<a href="runtime#the-windows_subsystem-attribute"><code>windows_subsystem</code></a> — Specifies the windows subsystem to link with.</li> </ul> </li> <li>Features <ul> <li>
<code>feature</code> — Used to enable unstable or experimental compiler features. See <a href="https://doc.rust-lang.org/unstable-book/index.html">The Unstable Book</a> for features implemented in <code>rustc</code>.</li> </ul> </li> <li>Type System <ul> <li>
<a href="attributes/type_system#the-non_exhaustive-attribute"><code>non_exhaustive</code></a> — Indicate that a type will have more fields/variants added in future.</li> </ul> </li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/attributes.html" class="_attribution-link">https://doc.rust-lang.org/reference/attributes.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
