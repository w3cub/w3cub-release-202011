
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>6.3. Use Declarations - Rust - W3cubDocs</title>
  
  <meta name="description" content=" Syntax&#58; UseDeclaration &#58; use UseTree ; ">
  <meta name="keywords" content="use, declarations, rust">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rust/reference/items/use-declarations.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/rust.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rust/" class="_nav-link" title="" style="margin-left:0;">Rust</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rust">
				
				
<h1>Use declarations</h1> <blockquote> <p><strong><sup>Syntax:</sup></strong><br> <em>UseDeclaration</em> :<br> <code>use</code> <em>UseTree</em> <code>;</code></p> <p><em>UseTree</em> :<br> (<a href="../paths#simple-paths"><em>SimplePath</em></a><sup>?</sup> <code>::</code>)<sup>?</sup> <code>*</code><br> | (<a href="../paths#simple-paths"><em>SimplePath</em></a><sup>?</sup> <code>::</code>)<sup>?</sup> <code>{</code> (<em>UseTree</em> ( <code>,</code> <em>UseTree</em> )<sup>*</sup> <code>,</code><sup>?</sup>)<sup>?</sup> <code>}</code><br> | <a href="../paths#simple-paths"><em>SimplePath</em></a> ( <code>as</code> ( <a href="../identifiers">IDENTIFIER</a> | <code>_</code> ) )<sup>?</sup></p> </blockquote> <p>A <em>use declaration</em> creates one or more local name bindings synonymous with some other <a href="../paths">path</a>. Usually a <code>use</code> declaration is used to shorten the path required to refer to a module item. These declarations may appear in <a href="modules">modules</a> and <a href="../expressions/block-expr">blocks</a>, usually at the top.</p> <p>Use declarations support a number of convenient shortcuts:</p> <ul> <li>Simultaneously binding a list of paths with a common prefix, using the glob-like brace syntax <code>use a::b::{c, d, e::f, g::h::i};</code>
</li> <li>Simultaneously binding a list of paths with a common prefix and their common parent module, using the <code>self</code> keyword, such as <code>use a::b::{self, c, d::e};</code>
</li> <li>Rebinding the target name as a new local name, using the syntax <code>use p::q::r as x;</code>. This can also be used with the last two features: <code>use a::b::{self as ab, c as abc}</code>.</li> <li>Binding all paths matching a given prefix, using the asterisk wildcard syntax <code>use a::b::*;</code>.</li> <li>Nesting groups of the previous features multiple times, such as <code>use a::b::{self as ab, c, d::{*, e::f}};</code>
</li> </ul> <p>An example of <code>use</code> declarations:</p> <pre data-language="rust">use std::option::Option::{Some, None};
use std::collections::hash_map::{self, HashMap};

fn foo&lt;T&gt;(_: T){}
fn bar(map1: HashMap&lt;String, usize&gt;, map2: hash_map::HashMap&lt;String, usize&gt;){}

fn main() {
    // Equivalent to 'foo(vec![std::option::Option::Some(1.0f64),
    // std::option::Option::None]);'
    foo(vec![Some(1.0f64), None]);

    // Both `hash_map` and `HashMap` are in scope.
    let map1 = HashMap::new();
    let map2 = hash_map::HashMap::new();
    bar(map1, map2);
}
</pre> <h2>
<code id="use-visibility">use</code> Visibility</h2> <p>Like items, <code>use</code> declarations are private to the containing module, by default. Also like items, a <code>use</code> declaration can be public, if qualified by the <code>pub</code> keyword. Such a <code>use</code> declaration serves to <em>re-export</em> a name. A public <code>use</code> declaration can therefore <em>redirect</em> some public name to a different target definition: even a definition with a private canonical path, inside a different module. If a sequence of such redirections form a cycle or cannot be resolved unambiguously, they represent a compile-time error.</p> <p>An example of re-exporting:</p> <pre data-language="rust">mod quux {
    pub use self::foo::{bar, baz};
    pub mod foo {
        pub fn bar() {}
        pub fn baz() {}
    }
}

fn main() {
    quux::bar();
    quux::baz();
}
</pre> <p>In this example, the module <code>quux</code> re-exports two public names defined in <code>foo</code>.</p> <h2>
<code id="use-paths">use</code> Paths</h2> <blockquote> <p><strong>Note</strong>: This section is incomplete.</p> </blockquote> <p>Some examples of what will and will not work for <code>use</code> items:</p>  <pre data-language="rust">#![allow(unused_imports)]
use std::path::{self, Path, PathBuf};  // good: std is a crate name
use crate::foo::baz::foobaz;    // good: foo is at the root of the crate

mod foo {

    pub mod example {
        pub mod iter {}
    }

    use crate::foo::example::iter; // good: foo is at crate root
//  use example::iter;      // bad in 2015 edition: relative paths are not allowed without `self`; good in 2018 edition
    use self::baz::foobaz;  // good: self refers to module 'foo'
    use crate::foo::bar::foobar;   // good: foo is at crate root

    pub mod bar {
        pub fn foobar() { }
    }

    pub mod baz {
        use super::bar::foobar; // good: super refers to module 'foo'
        pub fn foobaz() { }
    }
}

fn main() {}
</pre> <blockquote> <p><strong>Edition Differences</strong>: In the 2015 edition, <code>use</code> paths also allow accessing items in the crate root. Using the example above, the following <code>use</code> paths work in 2015 but not 2018:</p> <pre data-language="rust">mod foo {
    pub mod example { pub mod iter {} }
    pub mod baz { pub fn foobaz() {} }
}
use foo::example::iter;
use ::foo::baz::foobaz;
fn main() {}
</pre> <p>The 2015 edition does not allow use declarations to reference the <a href="extern-crates#extern-prelude">extern prelude</a>. Thus <a href="extern-crates"><code>extern crate</code></a> declarations are still required in 2015 to reference an external crate in a use declaration. Beginning with the 2018 edition, use declarations can specify an external crate dependency the same way <code>extern crate</code> can.</p> <p>In the 2018 edition, if an in-scope item has the same name as an external crate, then <code>use</code> of that crate name requires a leading <code>::</code> to unambiguously select the crate name. This is to retain compatibility with potential future changes. </p> <pre data-language="rust">// use std::fs; // Error, this is ambiguous.
use ::std::fs;  // Imports from the `std` crate, not the module below.
use self::std::fs as self_fs;  // Imports the module below.

mod std {
    pub mod fs {}
}
fn main() {}
</pre> </blockquote> <h2>Underscore Imports</h2> <p>Items can be imported without binding to a name by using an underscore with the form <code>use path as _</code>. This is particularly useful to import a trait so that its methods may be used without importing the trait's symbol, for example if the trait's symbol may conflict with another symbol. Another example is to link an external crate without importing its name.</p> <p>Asterisk glob imports will import items imported with <code>_</code> in their unnameable form.</p> <pre data-language="rust">mod foo {
    pub trait Zoo {
        fn zoo(&amp;self) {}
    }

    impl&lt;T&gt; Zoo for T {}
}

use self::foo::Zoo as _;
struct Zoo;  // Underscore import avoids name conflict with this item.

fn main() {
    let z = Zoo;
    z.zoo();
}
</pre> <p>The unique, unnameable symbols are created after macro expansion so that macros may safely emit multiple references to <code>_</code> imports. For example, the following should not produce an error:</p> <pre data-language="rust">
#![allow(unused)]
fn main() {
macro_rules! m {
    ($item: item) =&gt; { $item $item }
}

m!(use std as _;);
// This expands to:
// use std as _;
// use std as _;
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/items/use-declarations.html" class="_attribution-link">https://doc.rust-lang.org/reference/items/use-declarations.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
